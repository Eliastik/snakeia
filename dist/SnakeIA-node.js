!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SnakeIA=e():t.SnakeIA=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=13)}([function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,i){var n=i(5),s=i(6),r=i(7),o=i(8),a=i(9),l=i(10),c=i(11);c.alea=n,c.xor128=s,c.xorwow=r,c.xorshift7=o,c.xor4096=a,c.tychei=l,t.exports=c},function(module,exports,__webpack_require__){!function(a){var b=Math.sign,c=Math.min,d=Math.abs;void 0===a.Lowlight&&(a.Lowlight={}),"object"==typeof module.exports&&(module.exports=a.Lowlight);class e{constructor(){this.nodes=new Map}id(t){return t}node(t,e=!1){return e?this.nodes.get(this.id(arguments[0])):this.nodes.get(t)}data(t,e){return 2===arguments.length&&(t.graph.get(this)._data=e),t.graph.get(this)._data}adjacent(t,e){return t.graph.get(this).has(e)}neighbors(t){return Array.from(t.graph.get(this).keys())}connected(t,e){return t.graph.get(this)._connectivity===e.graph.get(this)._connectivity}connect(){let t=Array.from(this.nodes.values()),e=0;for(let e=0;e<t.length;e++)t[e].graph.get(this)._connectivity=void 0;for(let i=0;i<t.length;i++){if(void 0!==t[i].graph.get(this)._connectivity)continue;let n=[t[i]];for(e++;n.length;){let t=n.shift();t.graph.get(this)._connectivity=e,this.neighbors(t).map(t=>{void 0===t.graph.get(this)._connectivity&&0>n.indexOf(t)&&n.push(t)})}}}add(t){return 1<arguments.length?Array.from(arguments).map(t=>this.add(t)):(t.graph.set(this,new Map),this.nodes.set(t.id,t),t)}delete(t){return 1<arguments.length?Array.from(arguments).map(t=>this.delete(t)):(t.graph.delete(this),this.nodes.delete(t.id),t)}edge(t,e,i=1,n=1){if(!t.graph.has(this)||!e.graph.has(this))throw new Error("Nodes must be on the same graph");return null===i?t.graph.get(this).delete(e):t.graph.get(this).set(e,i),null===n?e.graph.get(this).delete(t):e.graph.get(this).set(t,n),this}cost(t,e){return this.adjacent(t,e)?t.graph.get(this).get(e):null}}e.fromArray=function(t,i={}){let n=e.fromArray.X(t,i.order),s=e.fromArray.Y(t,i.order),r=e.fromArray.at.bind(null,t,i.order),o=[],a=null;for(let t,l=1;l<Math.max(2,arguments.length);l++){t=new e,o.push(t),i=arguments[l]||{};let c=e.fromArray.id.bind(null,n,s,i.torus),h=i.cost||e.fromArray.cost,u=e.fromArray.edge.bind(null,t,h);for(let e=0;e<n;e++)for(let i,n=0;n<s;n++)i=t.add(a?a.get(c(e,n)):new f(c(e,n))),i.x=e,i.y=n,i.graph.get(t)._data=r(e,n),u(i,t.nodes.get(c(e-1,n))),u(i,t.nodes.get(c(e+1,n))),u(i,t.nodes.get(c(e,n-1))),u(i,t.nodes.get(c(e,n+1)));if(i.diagonals)for(let e=0;e<n;e++)for(let n=0;n<s;n++){let s=t.nodes.get(c(e,n)),r=t.adjacent(s,t.nodes.get(c(e-1,n))),o=t.adjacent(s,t.nodes.get(c(e+1,n))),a=t.adjacent(s,t.nodes.get(c(e,n-1))),l=t.adjacent(s,t.nodes.get(c(e,n+1)));"strict"===i.cutting?(r&&a&&u(s,t.nodes.get(c(e-1,n-1))),r&&l&&u(s,t.nodes.get(c(e-1,n+1))),o&&a&&u(s,t.nodes.get(c(e+1,n-1))),o&&l&&u(s,t.nodes.get(c(e+1,n+1)))):((r||a||i.cutting)&&u(s,t.nodes.get(c(e-1,n-1))),(r||l||i.cutting)&&u(s,t.nodes.get(c(e-1,n+1))),(o||a||i.cutting)&&u(s,t.nodes.get(c(e+1,n-1))),(o||l||i.cutting)&&u(s,t.nodes.get(c(e+1,n+1))))}Object.defineProperty(t,"id",{enumerable:!1,configurable:!1,writable:!0,value:t=>c(t.x,t.y)}),t.connect(),t.X=n,t.Y=s,t.TORUS=i.torus,a||(a=t.nodes)}return 1<o.length?o:o[0]},e.fromArray.X=function(t,e="yx"){return"xy"===e?t.length:"yx"===e?t[0].length:0},e.fromArray.Y=function(t,e="yx"){return"xy"===e?t[0].length:"yx"===e?t.length:0},e.fromArray.at=function(t,e="yx",i,n){return"xy"===e?t[i][n]:t[n][i]},e.fromArray.id=function(t=0,e=0,i=!1,n,s){return i?(s+e)%e*t+(n+t)%t:0<=n&&n<t&&0<=s&&s<e?s*t+n:null},e.fromArray.cost=function(){return 1},e.fromArray.edge=function(t,e,i,n){n&&t.edge(i,n,e(t.data(i),t.data(n)),e(t.data(n),t.data(i)))},e.fromArray.update=function(){console.warn("Graph.fromArray isn't implemented yet")};class f{constructor(t,e){for(let i in this.id=t,this.graph=new Map,e)"id"!=i&&"graph"!=i&&(this[i]=e[i])}}class g{constructor(t){this.nodes=[],this.score="function"==typeof t?t:t=>+t}get size(){return this.nodes.length}add(t){if(1<arguments.length){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return this.nodes.push(t),this.bubble(this.size-1)}set(t){let e=this.nodes.indexOf(t);return~e?this.score(t)<=this.score(this.nodes[e])?this.bubble(this.nodes.indexOf(t)):this.sink(this.nodes.indexOf(t)):this.add(t)}pop(){let t=this.nodes[0],e=this.nodes.pop();return 0<this.size&&(this.nodes[0]=e,this.sink(0)),t}top(){return this.nodes[0]}delete(t){if(1<arguments.length){for(let t=0;t<arguments.length;t++)this.delete(arguments[t]);return this}for(let e=0;e<this.size;e++){if(this.nodes[e]!=t)continue;let i=this.nodes.pop();return e==this.size-1?this:(this.nodes[e]=i,this.bubble(e).sink(e))}}bubble(t){let e=this.nodes[t],i=this.score(e);for(;0<t;){let n=Math.floor((t+1)/2)-1,s=this.nodes[n];if(i>=this.score(s))break;this.nodes[n]=e,this.nodes[t]=s,t=n}return this}sink(t){let e=this.nodes[t],i=this.score(e);for(;;){let n=2*(t+1),s=n-1,r=null;if(s<this.size&&this.score(this.nodes[s])<i&&(r=s),n<this.size&&this.score(this.nodes[n])<(r?this.score(this.nodes[r]):i)&&(r=n),null===r)break;this.nodes[t]=this.nodes[r],this.nodes[r]=e,t=r}return this}}let h={manhattan:function(t,e,i={}){let n=d(e.x-t.x),s=d(e.y-t.y);return(i.multiplier||1)*(n+s)},manhattanTorus:function(t,e,i={}){let n=c(d(e.x-t.x),e.x+(i.x||0)-t.x,t.x+(i.x||0)-e.x),s=c(d(e.y-t.y),e.y+(i.y||0)-t.y,t.y+(i.y||0)-e.y);return(i.multiplier||1)*(n+s)},diagonal:function(t,e,i={}){let n=d(e.x-t.x),s=d(e.y-t.y);return m*(n+s)+(dm-2*m)*c(n,s)},diagonalTorus:function(t,e,i={}){let n=c(d(e.x-t.x),e.x+(i.x||0)-t.x,t.x+(i.x||0)-e.x),s=c(d(e.y-t.y),e.y+(i.y||0)-t.y,t.y+(i.y||0)-e.y);return(i.multiplier||1)*(n+s)+((i.diagonalMultiplier||1.4)-2*(i.multiplier||1))*c(n,s)},euclidian:function(t,e,i={}){let n=d(e.x-t.x),s=d(e.y-t.y);return(i.multiplier||1)*Math.sqrt(n*n+s*s)},euclidianTorus:function(t,e,i={}){let n=c(d(e.x-t.x),e.x+(i.x||0)-t.x,t.x+(i.x||0)-e.x),s=c(d(e.y-t.y),e.y+(i.y||0)-t.y,t.y+(i.y||0)-e.y);return(i.multiplier||1)*(n+s)+((i.diagonalMultiplier||1.4)-2*(i.multiplier||1))*c(n,s)}};class i extends Error{constructor(t){super(t),this.name="WorkerError"}}class j{constructor(t,n={}){if(this.graphs=[],this.heuristic=n.heuristic||"manhattan",this.heuristicOptions=n.heuristicOptions||{},Array.isArray(t)&&(this.heuristic=n.heuristic in h?n.heuristic:n.diagonals?n.torus?"diagonalTorus":"diagonal":n.torus?"manhattanTorus":"manhattan",this.heuristicOptions.x=e.fromArray.X(t,n.order),this.heuristicOptions.y=e.fromArray.Y(t,n.order),this.graphs=e.fromArray.apply(this,arguments),!Array.isArray(this.graphs)&&(this.graphs=[this.graphs])),n.thread&&("undefined"==typeof WorkerGlobalScope||!(self instanceof WorkerGlobalScope))){this.worker=null;try{this.worker=new Worker(n.thread)}catch(t){throw"file:"===window.location.protocol&&console.warn("WebWorkers in local files may not be supported by your browser."),new i(n.thread+" couldn't be opened.")}"cost"in n&&(n.cost=n.cost.toString()),this.worker.postMessage(["constructor",t,n]),this.path=(t,e,i={})=>{this._worker_path_callback=i.callback,delete i.callback,this.worker.postMessage(["path",t,e,i])},this.worker.onmessage=t=>{let e=JSON.parse(t.data);switch(e[0]){case"path":this._worker_path_callback(e[1])}}}}path(t,e,i={}){if(i.jps)return this.jps(t,e,i);let n=new g(t=>t.estimated),s=new Map,r=this.graphs[i.layer||0];if(t=r.node(t,!0),e=r.node(e,!0),n.add({node:t,estimated:0}),s.set(t,{score:0,from:null}),!i.static||r.connected(t,e))for(;n.size;){let t=n.pop().node;if(t===e)break;r.neighbors(t).map(o=>{let a=(s.has(t)?s.get(t).score:0)+r.cost(t,o);a<(s.has(o)?s.get(o).score:1/0)&&(s.set(o,{score:a,from:t}),n.set({node:o,estimated:a+h[i.heuristic||this.heuristic](o,e,i.heuristicOptions||this.heuristicOptions)}))}),n.delete(t)}let o=[];if(s.has(e)){let t=e;for(o.push(e);null!==(t=s.get(t).from);)o.push(t);o=o.reverse()}return i.callback&&i.callback(o,s),o}}if(j.JPS=class{constructor(){}static access(t,e,i,n){return t.adjacent(e,n?t.node(i,!0):i)}static neighborhood(t,e,i,n){let s=[],r=i.get(n).from||null;if(null===r)return e.neighbors(n);{let i={x:b(n.x-r.x),y:b(n.y-r.y)};if(0!=i.x&&0!=i.y){let r=t(n,{x:n.x+i.x,y:n.y},!0),o=t(n,{x:n.x,y:n.y+i.y},!0);(r||o)&&(s.push(e.node({x:n.x+i.x,y:n.y+i.y},!0)),r&&(s.push(e.node({x:n.x+i.x,y:n.y},!0)),!t(n,{x:n.x,y:n.y-i.y},!0)&&s.push(e.node({x:n.x+i.x,y:n.y-i.y},!0))),o&&(s.push(e.node({x:n.x,y:n.y+i.y},!0)),!t(n,{x:n.x-i.x,y:n.y},!0)&&s.push(e.node({x:n.x-i.x,y:n.y+i.y},!0))))}else t(n,{x:n.x+i.x,y:n.y+i.y},!0)&&(s.push(e.node({x:n.x+i.x,y:n.y+i.y},!0)),0==i.x?0!=i.y&&(!t(n,{x:n.x-1,y:n.y},!0)&&s.push(e.node({x:n.x-1,y:n.y+i.y},!0)),!t(n,{x:n.x+1,y:n.y},!0)&&s.push(e.node({x:n.x+1,y:n.y+i.y},!0))):(!t(n,{x:n.x,y:n.y-1},!0)&&s.push(e.node({x:n.x+i.x,y:n.y-1},!0)),!t(n,{x:n.x,y:n.y+1},!0)&&s.push(e.node({x:n.x+i.x,y:n.y+1},!0))))}return s.filter(t=>t)}static jump(t,e,i,n,s,r){for(;;){if(!t(r,s))return null;if(s.x===n.x&&s.y===n.y)return s;let o={x:b(s.x-r.x),y:b(s.y-r.y)};if(0!=o.x&&0!=o.y){if(!t(s,{x:s.x-o.x,y:s.y},!0)&&t(s,{x:s.x-o.x,y:s.y+o.y},!0)||!t(s,{x:s.x,y:s.y-o.y},!0)&&t(s,{x:s.x+o.x,y:s.y-o.y},!0))return s;let r=j.JPS.jump.bind(this,t,e,i,n);if(null!==r(e.node({x:s.x+o.x,y:s.y},!0),s)||null!==r(e.node({x:s.x,y:s.y+o.y},!0),s))return s}else if(0!=o.x){if(!t(s,{x:s.x,y:s.y-1},!0)&&t(s,{x:s.x+o.x,y:s.y-1},!0)||!t(s,{x:s.x,y:s.y+1},!0)&&t(s,{x:s.x+o.x,y:s.y+1},!0))return s}else if(0!=o.y&&(!t(s,{x:s.x-1,y:s.y},!0)&&t(s,{x:s.x-1,y:s.y+o.y},!0)||!t(s,{x:s.x+1,y:s.y},!0)&&t(s,{x:s.x+1,y:s.y+o.y},!0)))return s;r=s,s=e.node({x:s.x+o.x,y:s.y+o.y},!0)}return null}},j.prototype.jps=function(t,e,i={}){if(this.graphs[i.layer||0].TORUS)return console.warn("Torus map aren't yet supported by JPS"),i.callback&&i.callback([],new Map),[];let n=new g(t=>t.estimated),s=new Map,r=this.graphs[i.layer||0],o=null;t=r.node(t,!0),e=r.node(e,!0),n.add({node:t,estimated:0}),s.set(t,{score:0,from:null});let a=j.JPS.access.bind(this,r),l=j.JPS.neighborhood.bind(this,a,r,s),c=j.JPS.jump.bind(this,a,r,s,e);if(!i.static||r.connected(t,e))for(;n.size;){let t=n.pop().node;if(t===e)break;l(t).map(a=>{if(null!==(o=c(a,t))){let a=(s.has(t)?s.get(t).score:0)+r.cost(t,o);a<(s.has(o)?s.get(o).score:1/0)&&(s.set(o,{score:a,from:t,jumped:!0}),n.set({node:o,estimated:a+h[i.heuristic||this.heuristic](o,e,i.heuristicOptions||this.heuristicOptions)}))}}),n.delete(t)}let u=[];if(s.has(e)){let i=e;for(;i.x!=t.x||i.y!=t.y;)for(let t=s.get(i).from;i.x!=t.x||i.y!=t.y;)u.push(i),i=r.node({x:i.x+b(t.x-i.x),y:i.y+b(t.y-i.y)},!0);u.push(i),u.reverse()}return i.callback&&i.callback(u,s),u},"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){let a;onmessage=function(b){let c=b.data;switch(c[0]){case"constructor":if("cost"in c[2]){let a=/^\((.*?)\)\s*=>\s*{/.test(c[2].cost),b=/^function /.test(c[2].cost);c[2].cost=eval(`(${a||b?"":"function "}${c[2].cost})`)}a=new j(c[1],c[2]);break;case"path":postMessage(JSON.stringify(["path",a.path(c[1],c[2],c[3])]))}}}a.Lowlight.Astar={Graph:e,Node:f,BinaryHeap:g,Heuristic:h,Configuration:j,WorkerError:i}}("undefined"==typeof window?this:window)},function(t,e,i){(function(t){var n;!function(t,s,r){function o(t){var e,i=this,n=(e=4022871197,function(t){t=String(t);for(var i=0;i<t.length;i++){var n=.02519603282416938*(e+=t.charCodeAt(i));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)});i.next=function(){var t=2091639*i.s0+2.3283064365386963e-10*i.c;return i.s0=i.s1,i.s1=i.s2,i.s2=t-(i.c=0|t)},i.c=1,i.s0=n(" "),i.s1=n(" "),i.s2=n(" "),i.s0-=n(t),i.s0<0&&(i.s0+=1),i.s1-=n(t),i.s1<0&&(i.s1+=1),i.s2-=n(t),i.s2<0&&(i.s2+=1),n=null}function a(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function l(t,e){var i=new o(t),n=e&&e.state,s=i.next;return s.int32=function(){return 4294967296*i.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,n&&("object"==typeof n&&a(n,i),s.state=function(){return a(i,{})}),s}s&&s.exports?s.exports=l:i(0)&&i(2)?void 0===(n=function(){return l}.call(e,i,e,s))||(s.exports=n):this.alea=l}(0,t,i(0))}).call(this,i(1)(t))},function(t,e,i){(function(t){var n;!function(t,s,r){function o(t){var e=this,i="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:i+=t;for(var n=0;n<i.length+64;n++)e.x^=0|i.charCodeAt(n),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function l(t,e){var i=new o(t),n=e&&e.state,s=function(){return(i.next()>>>0)/4294967296};return s.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=i.next,s.quick=s,n&&("object"==typeof n&&a(n,i),s.state=function(){return a(i,{})}),s}s&&s.exports?s.exports=l:i(0)&&i(2)?void 0===(n=function(){return l}.call(e,i,e,s))||(s.exports=n):this.xor128=l}(0,t,i(0))}).call(this,i(1)(t))},function(t,e,i){(function(t){var n;!function(t,s,r){function o(t){var e=this,i="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:i+=t;for(var n=0;n<i.length+64;n++)e.x^=0|i.charCodeAt(n),n==i.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function l(t,e){var i=new o(t),n=e&&e.state,s=function(){return(i.next()>>>0)/4294967296};return s.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=i.next,s.quick=s,n&&("object"==typeof n&&a(n,i),s.state=function(){return a(i,{})}),s}s&&s.exports?s.exports=l:i(0)&&i(2)?void 0===(n=function(){return l}.call(e,i,e,s))||(s.exports=n):this.xorwow=l}(0,t,i(0))}).call(this,i(1)(t))},function(t,e,i){(function(t){var n;!function(t,s,r){function o(t){var e=this;e.next=function(){var t,i,n=e.x,s=e.i;return t=n[s],i=(t^=t>>>7)^t<<24,i^=(t=n[s+1&7])^t>>>10,i^=(t=n[s+3&7])^t>>>3,i^=(t=n[s+4&7])^t<<7,t=n[s+7&7],i^=(t^=t<<13)^t<<9,n[s]=i,e.i=s+1&7,i},function(t,e){var i,n=[];if(e===(0|e))n[0]=e;else for(e=""+e,i=0;i<e.length;++i)n[7&i]=n[7&i]<<15^e.charCodeAt(i)+n[i+1&7]<<13;for(;n.length<8;)n.push(0);for(i=0;i<8&&0===n[i];++i);for(8==i?n[7]=-1:n[i],t.x=n,t.i=0,i=256;i>0;--i)t.next()}(e,t)}function a(t,e){return e.x=t.x.slice(),e.i=t.i,e}function l(t,e){null==t&&(t=+new Date);var i=new o(t),n=e&&e.state,s=function(){return(i.next()>>>0)/4294967296};return s.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=i.next,s.quick=s,n&&(n.x&&a(n,i),s.state=function(){return a(i,{})}),s}s&&s.exports?s.exports=l:i(0)&&i(2)?void 0===(n=function(){return l}.call(e,i,e,s))||(s.exports=n):this.xorshift7=l}(0,t,i(0))}).call(this,i(1)(t))},function(t,e,i){(function(t){var n;!function(t,s,r){function o(t){var e=this;e.next=function(){var t,i,n=e.w,s=e.X,r=e.i;return e.w=n=n+1640531527|0,i=s[r+34&127],t=s[r=r+1&127],i^=i<<13,t^=t<<17,i^=i>>>15,t^=t>>>12,i=s[r]=i^t,e.i=r,i+(n^n>>>16)|0},function(t,e){var i,n,s,r,o,a=[],l=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,l=Math.max(l,e.length)),s=0,r=-32;r<l;++r)e&&(n^=e.charCodeAt((r+32)%e.length)),0===r&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,r>=0&&(o=o+1640531527|0,s=0==(i=a[127&r]^=n+o)?s+1:0);for(s>=128&&(a[127&(e&&e.length||0)]=-1),s=127,r=512;r>0;--r)n=a[s+34&127],i=a[s=s+1&127],n^=n<<13,i^=i<<17,n^=n>>>15,i^=i>>>12,a[s]=n^i;t.w=o,t.X=a,t.i=s}(e,t)}function a(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function l(t,e){null==t&&(t=+new Date);var i=new o(t),n=e&&e.state,s=function(){return(i.next()>>>0)/4294967296};return s.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=i.next,s.quick=s,n&&(n.X&&a(n,i),s.state=function(){return a(i,{})}),s}s&&s.exports?s.exports=l:i(0)&&i(2)?void 0===(n=function(){return l}.call(e,i,e,s))||(s.exports=n):this.xor4096=l}(0,t,i(0))}).call(this,i(1)(t))},function(t,e,i){(function(t){var n;!function(t,s,r){function o(t){var e=this,i="";e.next=function(){var t=e.b,i=e.c,n=e.d,s=e.a;return t=t<<25^t>>>7^i,i=i-n|0,n=n<<24^n>>>8^s,s=s-t|0,e.b=t=t<<20^t>>>12^i,e.c=i=i-n|0,e.d=n<<16^i>>>16^s,e.a=s-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):i+=t;for(var n=0;n<i.length+20;n++)e.b^=0|i.charCodeAt(n),e.next()}function a(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function l(t,e){var i=new o(t),n=e&&e.state,s=function(){return(i.next()>>>0)/4294967296};return s.double=function(){do{var t=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=i.next,s.quick=s,n&&("object"==typeof n&&a(n,i),s.state=function(){return a(i,{})}),s}s&&s.exports?s.exports=l:i(0)&&i(2)?void 0===(n=function(){return l}.call(e,i,e,s))||(s.exports=n):this.tychei=l}(0,t,i(0))}).call(this,i(1)(t))},function(t,e,i){var n;!function(s,r,o){var a,l=o.pow(256,6),c=o.pow(2,52),h=2*c;function u(t,e,i){var n=[],u=f(function t(e,i){var n,s=[],r=typeof e;if(i&&"object"==r)for(n in e)try{s.push(t(e[n],i-1))}catch(t){}return s.length?s:"string"==r?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,p(r)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(256):(t=new Uint8Array(256),(s.crypto||s.msCrypto).getRandomValues(t)),p(t)}catch(t){var e=s.navigator,i=e&&e.plugins;return[+new Date,s,i,s.screen,p(r)]}}():t,3),n),y=new d(n),v=function(){for(var t=y.g(6),e=l,i=0;t<c;)t=256*(t+i),e*=256,i=y.g(1);for(;t>=h;)t/=2,e/=2,i>>>=1;return(t+i)/e};return v.int32=function(){return 0|y.g(4)},v.quick=function(){return y.g(4)/4294967296},v.double=v,f(p(y.S),r),(e.pass||i||function(t,e,i,n){return n&&(n.S&&g(n,y),t.state=function(){return g(y,{})}),i?(o.random=t,e):t})(v,u,"global"in e?e.global:this==o,e.state)}function d(t){var e,i=t.length,n=this,s=0,r=n.i=n.j=0,o=n.S=[];for(i||(t=[i++]);s<256;)o[s]=s++;for(s=0;s<256;s++)o[s]=o[r=255&r+t[s%i]+(e=o[s])],o[r]=e;(n.g=function(t){for(var e,i=0,s=n.i,r=n.j,o=n.S;t--;)e=o[s=255&s+1],i=256*i+o[255&(o[s]=o[r=255&r+e])+(o[r]=e)];return n.i=s,n.j=r,i})(256)}function g(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function f(t,e){for(var i,n=t+"",s=0;s<n.length;)e[255&s]=255&(i^=19*e[255&s])+n.charCodeAt(s++);return p(e)}function p(t){return String.fromCharCode.apply(0,t)}if(f(o.random(),r),t.exports){t.exports=u;try{a=i(12)}catch(t){}}else void 0===(n=function(){return u}.call(e,i,e,t))||(t.exports=n)}("undefined"!=typeof self?self:this,[],Math)},function(t,e){},function(t,e,i){"use strict";i.r(e),i.d(e,"GameConstants",(function(){return n})),i.d(e,"Event",(function(){return s})),i.d(e,"Reactor",(function(){return r})),i.d(e,"Grid",(function(){return at})),i.d(e,"Snake",(function(){return gt})),i.d(e,"GameGroup",(function(){return ft})),i.d(e,"GameUtils",(function(){return it})),i.d(e,"Position",(function(){return nt})),i.d(e,"GameEngine",(function(){return pt}));var n={CaseType:{EMPTY:0,SNAKE:1,FRUIT:2,WALL:3,SNAKE_DEAD:4,SURROUNDED:5,FRUIT_GOLD:6,CROSSED:7},PlayerType:{AI:"PLAYER_AI",HUMAN:"PLAYER_HUMAN",HYBRID_HUMAN_AI:"PLAYER_HYBRID_HUMAN_AI"},AiLevel:{RANDOM:"AI_LEVEL_RANDOM",LOW:"AI_LEVEL_LOW",DEFAULT:"AI_LEVEL_DEFAULT",HIGH:"AI_LEVEL_HIGH",ULTRA:"AI_LEVEL_ULTRA",CUSTOM:"AI_LEVEL_CUSTOM"},OutputType:{TEXT:"OUTPUT_TEXT",GRAPHICAL:"OUTPUT_GRAPHICAL"},Setting:{CANVAS_WIDTH:800,CANVAS_HEIGHT:600,FONT_FAMILY:"Delius",FONT_SIZE:32,HEADER_HEIGHT_DEFAULT:75,TARGET_FPS:60,TIME_MULTIPLIER:15,IMAGE_SNAKE_HUE:75,IMAGE_SNAKE_SATURATION:50,IMAGE_SNAKE_VALUE:77,CARS_TO_PRERENDER:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","×"],APP_VERSION:"2.1-dev",DATE_VERSION:"05/03/2020",PROB_GOLD_FRUIT_1_PLAYER:100,PROB_GOLD_FRUIT_MULTIPLE_PLAYERS:50},Direction:{UP:0,TOP:0,RIGHT:1,BOTTOM:2,DOWN:2,LEFT:3,ANGLE_1:4,ANGLE_2:5,ANGLE_3:6,ANGLE_4:7},Key:{UP:38,RIGHT:39,BOTTOM:40,LEFT:37,ENTER:13},Error:{ROOM_NOT_FOUND:"ROOM_NOT_FOUND",ROOM_ALREADY_JOINED:"ROOM_ALREADY_JOINED",INVALID_SETTINGS:"INVALID_SETTINGS",MAX_ROOM_LIMIT_REACHED:"MAX_ROOM_LIMIT_REACHED",AUTHENTICATION_REQUIRED:"AUTHENTICATION_REQUIRED",ALREADY_CREATED_ROOM:"ALREADY_CREATED_ROOM",BANNED:"BANNED",DISCONNECTED:"DISCONNECTED"},GameState:{STARTING:"STARTING",STARTED:"STARTED",SEARCHING_PLAYERS:"SEARCHING_PLAYERS",AUTHENTICATION_SUCCESS:"AUTHENTICATION_SUCCESS"}};class s{constructor(t){this.name=t,this.callbacks=[]}registerCallback(t){this.callbacks.push(t)}}class r{constructor(){this.events={}}registerEvent(t){this.events[t]=new s(t)}dispatchEvent(t,e){const i=this.events[t].callbacks;for(let t=0,n=i.length;t<n;t++)i[t](e)}addEventListener(t,e){this.events[t].registerCallback(e)}}function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?Object(arguments[e]):{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),n.forEach((function(e){a(t,e,i[e])}))}return t}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,i){return e&&h(t.prototype,e),i&&h(t,i),t}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?d(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function x(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function m(t,e){if(t){if("string"==typeof t)return v(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(t,e):void 0}}function T(t){return function(t){if(Array.isArray(t))return v(t)}(t)||x(t)||m(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t){if(Array.isArray(t))return t}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(t){return b(t)||x(t)||m(t)||k()}function E(t,e){return b(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw r}}return i}}(t,e)||m(t,e)||k()}var O={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var i;console&&console[t]&&(i=console)[t].apply(i,T(e))}},w=new(function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,t),this.init(e,i)}return u(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||O,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,i,n){return n&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(i).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,l({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),D=function(){function t(){c(this,t),this.observers={}}return u(t,[{key:"on",value:function(t,e){var i=this;return t.split(" ").forEach((function(t){i.observers[t]=i.observers[t]||[],i.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(this.observers[t]){var s=[].concat(this.observers[t]);s.forEach((function(t){t.apply(void 0,i)}))}if(this.observers["*"]){var r=[].concat(this.observers["*"]);r.forEach((function(e){e.apply(e,[t].concat(i))}))}}}]),t}();function S(){var t,e,i=new Promise((function(i,n){t=i,e=n}));return i.resolve=t,i.reject=e,i}function L(t){return null==t?"":""+t}function R(t,e,i){t.forEach((function(t){e[t]&&(i[t]=e[t])}))}function A(t,e,i){function n(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function s(){return!t||"string"==typeof t}for(var r="string"!=typeof e?[].concat(e):e.split(".");r.length>1;){if(s())return{};var o=n(r.shift());!t[o]&&i&&(t[o]=new i),t=t[o]}return s()?{}:{obj:t,k:n(r.shift())}}function I(t,e,i){var n=A(t,e,Object);n.obj[n.k]=i}function C(t,e){var i=A(t,e),n=i.obj,s=i.k;if(n)return n[s]}function N(t,e,i){var n=C(t,i);return void 0!==n?n:C(e,i)}function M(t,e,i){for(var n in e)n in t?"string"==typeof t[n]||t[n]instanceof String||"string"==typeof e[n]||e[n]instanceof String?i&&(t[n]=e[n]):M(t[n],e[n],i):t[n]=e[n];return t}function U(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function F(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return _[t]})):t}var G="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,H=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return c(this,e),i=g(this,f(e).call(this)),G&&D.call(d(i)),i.data=t||{},i.options=n,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i}return y(e,t),u(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,r=[t,e];return i&&"string"!=typeof i&&(r=r.concat(i)),i&&"string"==typeof i&&(r=r.concat(s?i.split(s):i)),t.indexOf(".")>-1&&(r=t.split(".")),C(this.data,r)}},{key:"addResource",value:function(t,e,i,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},r=this.options.keySeparator;void 0===r&&(r=".");var o=[t,e];i&&(o=o.concat(r?i.split(r):i)),t.indexOf(".")>-1&&(n=e,e=(o=t.split("."))[1]),this.addNamespaces(e),I(this.data,o,n),s.silent||this.emit("added",t,e,i,n)}},{key:"addResources",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var s in i)"string"!=typeof i[s]&&"[object Array]"!==Object.prototype.toString.apply(i[s])||this.addResource(t,e,s,i[s],{silent:!0});n.silent||this.emit("added",t,e,i)}},{key:"addResourceBundle",value:function(t,e,i,n,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[t,e];t.indexOf(".")>-1&&(n=i,i=e,e=(o=t.split("."))[1]),this.addNamespaces(e);var a=C(this.data,o)||{};n?M(a,i,s):a=l({},a,i),I(this.data,o,a),r.silent||this.emit("added",t,e,i)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?l({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(D),j={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,i,n,s){var r=this;return t.forEach((function(t){r.processors[t]&&(e=r.processors[t].process(e,i,n,s))})),e}},K={},B=function(t){function e(t){var i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(this,e),i=g(this,f(e).call(this)),G&&D.call(d(i)),R(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,d(i)),i.options=n,void 0===i.options.keySeparator&&(i.options.keySeparator="."),i.logger=w.create("translator"),i}return y(e,t),u(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},i=this.resolve(t,e);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(t,e){var i=e.nsSeparator||this.options.nsSeparator;void 0===i&&(i=":");var n=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,s=e.ns||this.options.defaultNS;if(i&&t.indexOf(i)>-1){var r=t.split(i);(i!==n||i===n&&this.options.ns.indexOf(r[0])>-1)&&(s=r.shift()),t=r.join(n)}return"string"==typeof s&&(s=[s]),{key:t,namespaces:s}}},{key:"translate",value:function(t,e){var i=this;if("object"!==o(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var n=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,s=this.extractFromKey(t[t.length-1],e),r=s.key,a=s.namespaces,c=a[a.length-1],h=e.lng||this.language,u=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(u){var d=e.nsSeparator||this.options.nsSeparator;return c+d+r}return r}var g=this.resolve(t,e),f=g&&g.res,p=g&&g.usedKey||r,y=g&&g.exactUsedKey||r,v=Object.prototype.toString.apply(f),x=["[object Number]","[object Function]","[object RegExp]"],m=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,b="string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f;if(T&&f&&b&&x.indexOf(v)<0&&("string"!=typeof m||"[object Array]"!==v)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,e):"key '".concat(r," (").concat(this.language,")' returned an object instead of string.");if(n){var k="[object Array]"===v,P=k?[]:{},E=k?y:p;for(var O in f)if(Object.prototype.hasOwnProperty.call(f,O)){var w="".concat(E).concat(n).concat(O);P[O]=this.translate(w,l({},e,{joinArrays:!1,ns:a})),P[O]===w&&(P[O]=f[O])}f=P}}else if(T&&"string"==typeof m&&"[object Array]"===v)(f=f.join(m))&&(f=this.extendTranslation(f,t,e));else{var D=!1,S=!1;if(!this.isValidLookup(f)&&void 0!==e.defaultValue){if(D=!0,void 0!==e.count){var L=this.pluralResolver.getSuffix(h,e.count);f=e["defaultValue".concat(L)]}f||(f=e.defaultValue)}this.isValidLookup(f)||(S=!0,f=r);var R=e.defaultValue&&e.defaultValue!==f&&this.options.updateMissing;if(S||D||R){this.logger.log(R?"updateKey":"missingKey",h,c,r,R?e.defaultValue:f);var A=[],I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&I&&I[0])for(var C=0;C<I.length;C++)A.push(I[C]);else"all"===this.options.saveMissingTo?A=this.languageUtils.toResolveHierarchy(e.lng||this.language):A.push(e.lng||this.language);var N=function(t,n){i.options.missingKeyHandler?i.options.missingKeyHandler(t,c,n,R?e.defaultValue:f,R,e):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(t,c,n,R?e.defaultValue:f,R,e),i.emit("missingKey",t,c,n,f)};if(this.options.saveMissing){var M=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&M?A.forEach((function(t){i.pluralResolver.getPluralFormsOfKey(t,r).forEach((function(e){return N([t],e)}))})):N(A,r)}}f=this.extendTranslation(f,t,e,g),S&&f===r&&this.options.appendNamespaceToMissingKey&&(f="".concat(c,":").concat(r)),S&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f}},{key:"extendTranslation",value:function(t,e,i,n){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,i,n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(l({},i,{interpolation:l({},this.options.interpolation,i.interpolation)}));var r=i.replace&&"string"!=typeof i.replace?i.replace:i;this.options.interpolation.defaultVariables&&(r=l({},this.options.interpolation.defaultVariables,r)),t=this.interpolator.interpolate(t,r,i.lng||this.language,i),!1!==i.nest&&(t=this.interpolator.nest(t,(function(){return s.translate.apply(s,arguments)}),i)),i.interpolation&&this.interpolator.reset()}var o=i.postProcess||this.options.postProcess,a="string"==typeof o?[o]:o;return null!=t&&a&&a.length&&!1!==i.applyPostProcessor&&(t=j.handle(a,t,e,this.options&&this.options.postProcessPassResolved?l({i18nResolved:n},i):i,this)),t}},{key:"resolve",value:function(t){var e,i,n,s,r,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!o.isValidLookup(e)){var l=o.extractFromKey(t,a),c=l.key;i=c;var h=l.namespaces;o.options.fallbackNS&&(h=h.concat(o.options.fallbackNS));var u=void 0!==a.count&&"string"!=typeof a.count,d=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,g=a.lngs?a.lngs:o.languageUtils.toResolveHierarchy(a.lng||o.language,a.fallbackLng);h.forEach((function(t){o.isValidLookup(e)||(r=t,!K["".concat(g[0],"-").concat(t)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(r)&&(K["".concat(g[0],"-").concat(t)]=!0,o.logger.warn('key "'.concat(i,'" for namespace "').concat(r,'" for languages "').concat(g.join(", "),"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach((function(i){if(!o.isValidLookup(e)){s=i;var r,l,h=c,g=[h];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(g,c,i,t,a);else u&&(r=o.pluralResolver.getSuffix(i,a.count)),u&&d&&g.push(h+r),d&&g.push(h+="".concat(o.options.contextSeparator).concat(a.context)),u&&g.push(h+=r);for(;l=g.pop();)o.isValidLookup(e)||(n=l,e=o.getResource(i,t,l,a))}})))}))}})),{res:e,usedKey:i,exactUsedKey:n,usedLng:s,usedNS:r}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,i,n):this.resourceStore.getResource(t,e,i,n)}}]),e}(D);function z(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Y=function(){function t(e){c(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=w.create("languageUtils")}return u(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],i=t.split("-");return this.options.lowerCaseLng?i=i.map((function(t){return t.toLowerCase()})):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=z(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=z(i[1].toLowerCase())),e.indexOf(i[2].toLowerCase())>-1&&(i[2]=z(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var i=t[e];return i||(i=t[this.getScriptPartFromCode(e)]),i||(i=t[this.formatLanguageCode(e)]),i||(i=t[this.getLanguagePartFromCode(e)]),i||(i=t.default),i||[]}},{key:"toResolveHierarchy",value:function(t,e){var i=this,n=this.getFallbackCodes(e||this.options.fallbackLng||[],t),s=[],r=function(t){t&&(i.isWhitelisted(t)?s.push(t):i.logger.warn("rejecting non-whitelisted language code: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(t))):"string"==typeof t&&r(this.formatLanguageCode(t)),n.forEach((function(t){s.indexOf(t)<0&&r(i.formatLanguageCode(t))})),s}}]),t}(),V=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],W={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||t>10)&&t%10==0?2:3)}};function q(){var t={};return V.forEach((function(e){e.lngs.forEach((function(i){t[i]={numbers:e.nr,plurals:W[e.fc]}}))})),t}var J=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,t),this.languageUtils=e,this.options=i,this.logger=w.create("pluralResolver"),this.rules=q()}return u(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var i=this,n=[],s=this.getRule(t);return s?(s.numbers.forEach((function(s){var r=i.getSuffix(t,s);n.push("".concat(e).concat(r))})),n):n}},{key:"getSuffix",value:function(t,e){var i=this,n=this.getRule(t);if(n){var s=n.noAbs?n.plurals(e):n.plurals(Math.abs(e)),r=n.numbers[s];this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]&&(2===r?r="plural":1===r&&(r=""));var o=function(){return i.options.prepend&&r.toString()?i.options.prepend+r.toString():r.toString()};return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?"_plural_".concat(r.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===n.numbers.length&&1===n.numbers[0]?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),X=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,t),this.logger=w.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return u(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:F,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?U(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?U(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?U(e.nestingPrefix):e.nestingPrefixEscaped||U("$t("),this.nestingSuffix=e.nestingSuffix?U(e.nestingSuffix):e.nestingSuffixEscaped||U(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(t,e,i,n){var s,r,o,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(t){return t.replace(/\$/g,"$$$$")}var h=function(t){if(t.indexOf(a.formatSeparator)<0){var s=N(e,l,t);return a.alwaysFormat?a.format(s,void 0,i):s}var r=t.split(a.formatSeparator),o=r.shift().trim(),c=r.join(a.formatSeparator).trim();return a.format(N(e,l,o),c,i,n)};this.resetRegExp();var u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler;for(o=0;s=this.regexpUnescape.exec(t);){if(void 0===(r=h(s[1].trim())))if("function"==typeof u){var d=u(t,s,n);r="string"==typeof d?d:""}else this.logger.warn("missed to pass in variable ".concat(s[1]," for interpolating ").concat(t)),r="";else"string"==typeof r||this.useRawValueToEscape||(r=L(r));if(t=t.replace(s[0],c(r)),this.regexpUnescape.lastIndex=0,++o>=this.maxReplaces)break}for(o=0;s=this.regexp.exec(t);){if(void 0===(r=h(s[1].trim())))if("function"==typeof u){var g=u(t,s,n);r="string"==typeof g?g:""}else this.logger.warn("missed to pass in variable ".concat(s[1]," for interpolating ").concat(t)),r="";else"string"==typeof r||this.useRawValueToEscape||(r=L(r));if(r=this.escapeValue?c(this.escape(r)):c(r),t=t.replace(s[0],r),this.regexp.lastIndex=0,++o>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,e){var i,n,s=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=l({},r);function a(t,e){var i=this.nestingOptionsSeparator;if(t.indexOf(i)<0)return t;var n=t.split(new RegExp("".concat(i,"[ ]*{"))),s="{".concat(n[1]);t=n[0],s=(s=this.interpolate(s,o)).replace(/'/g,'"');try{o=JSON.parse(s),e&&(o=l({},e,o))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(i).concat(s)}return delete o.defaultValue,t}for(o.applyPostProcessor=!1,delete o.defaultValue;i=this.nestingRegexp.exec(t);){var c=[],h=!1;if(i[0].includes(this.formatSeparator)&&!/{.*}/.test(i[1])){var u=i[1].split(this.formatSeparator).map((function(t){return t.trim()})),d=P(u);i[1]=d[0],c=d.slice(1),h=!0}if((n=e(a.call(this,i[1].trim(),o),o))&&i[0]===t&&"string"!=typeof n)return n;"string"!=typeof n&&(n=L(n)),n||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),n=""),h&&(n=c.reduce((function(t,e){return s.format(t,e,r.lng,r)}),n.trim())),t=t.replace(i[0],n),this.regexp.lastIndex=0}return t}}]),t}();var $=function(t){function e(t,i,n){var s,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c(this,e),s=g(this,f(e).call(this)),G&&D.call(d(s)),s.backend=t,s.store=i,s.services=n,s.languageUtils=n.languageUtils,s.options=r,s.logger=w.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(n,r.backend,r),s}return y(e,t),u(e,[{key:"queueLoad",value:function(t,e,i,n){var s=this,r=[],o=[],a=[],l=[];return t.forEach((function(t){var n=!0;e.forEach((function(e){var a="".concat(t,"|").concat(e);!i.reload&&s.store.hasResourceBundle(t,e)?s.state[a]=2:s.state[a]<0||(1===s.state[a]?o.indexOf(a)<0&&o.push(a):(s.state[a]=1,n=!1,o.indexOf(a)<0&&o.push(a),r.indexOf(a)<0&&r.push(a),l.indexOf(e)<0&&l.push(e)))})),n||a.push(t)})),(r.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:n}),{toLoad:r,pending:o,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(t,e,i){var n=E(t.split("|"),2),s=n[0],r=n[1];e&&this.emit("failedLoading",s,r,e),i&&this.store.addResourceBundle(s,r,i),this.state[t]=e?-1:2;var o={};this.queue.forEach((function(i){var n,a,l,c,h,u;n=i.loaded,a=r,c=A(n,[s],Object),h=c.obj,u=c.k,h[u]=h[u]||[],l&&(h[u]=h[u].concat(a)),l||h[u].push(a),function(t,e){for(var i=t.indexOf(e);-1!==i;)t.splice(i,1),i=t.indexOf(e)}(i.pending,t),e&&i.errors.push(e),0!==i.pending.length||i.done||(Object.keys(i.loaded).forEach((function(t){o[t]||(o[t]=[]),i.loaded[t].length&&i.loaded[t].forEach((function(e){o[t].indexOf(e)<0&&o[t].push(e)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,i){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,o=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[i](t,e,(function(a,l){a&&l&&s<5?setTimeout((function(){n.read.call(n,t,e,i,s+1,2*r,o)}),r):o(a,l)})):o(null,{})}},{key:"prepareLoading",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var r=this.queueLoad(t,e,n,s);if(!r.toLoad.length)return r.pending.length||s(),null;r.toLoad.forEach((function(t){i.loadOne(t)}))}},{key:"load",value:function(t,e,i){this.prepareLoading(t,e,{},i)}},{key:"reload",value:function(t,e,i){this.prepareLoading(t,e,{reload:!0},i)}},{key:"loadOne",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.split("|"),s=E(n,2),r=s[0],o=s[1];this.read(r,o,"read",void 0,void 0,(function(n,s){n&&e.logger.warn("".concat(i,"loading namespace ").concat(o," for language ").concat(r," failed"),n),!n&&s&&e.logger.log("".concat(i,"loaded namespace ").concat(o," for language ").concat(r),s),e.loaded(t,n,s)}))}},{key:"saveMissing",value:function(t,e,i,n,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(i,'" for namespace "').concat(e,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(t,e,i,n,null,l({},r,{isUpdate:s})),t&&t[0]&&this.store.addResource(t[0],e,i,n))}}]),e}(D);function Q(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===o(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===o(t[2])||"object"===o(t[3])){var i=t[3]||t[2];Object.keys(i).forEach((function(t){e[t]=i[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,i,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3}}}function Z(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function tt(){}var et=new(function(t){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(c(this,e),t=g(this,f(e).call(this)),G&&D.call(d(t)),t.options=Z(i),t.services={},t.logger=w,t.modules={external:[]},n&&!t.isInitialized&&!i.isClone){if(!t.options.initImmediate)return t.init(i,n),g(t,d(t));setTimeout((function(){t.init(i,n)}),0)}return t}return y(e,t),u(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;function n(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(i=e,e={}),this.options=l({},Q(),this.options,Z(e)),this.format=this.options.interpolation.format,i||(i=tt),!this.options.isClone){this.modules.logger?w.init(n(this.modules.logger),this.options):w.init(null,this.options);var s=new Y(this.options);this.store=new H(this.options.resources,this.options);var r=this.services;r.logger=w,r.resourceStore=this.store,r.languageUtils=s,r.pluralResolver=new J(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),r.interpolator=new X(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new $(n(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];t.emit.apply(t,[e].concat(n))})),this.modules.languageDetector&&(r.languageDetector=n(this.modules.languageDetector),r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=n(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new B(this.services,this.options),this.translator.on("*",(function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];t.emit.apply(t,[e].concat(n))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}this.modules.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var o=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];o.forEach((function(e){t[e]=function(){var i;return(i=t.store)[e].apply(i,arguments)}}));var a=S(),c=function(){t.changeLanguage(t.options.lng,(function(e,n){t.isInitialized=!0,t.logger.log("initialized",t.options),t.emit("initialized",t.options),a.resolve(n),i(e,n)}))};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),a}},{key:"loadResources",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt,n=i,s="string"==typeof t?t:this.language;if("function"==typeof t&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&"cimode"===s.toLowerCase())return n();var r=[],o=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){r.indexOf(t)<0&&r.push(t)}))};if(s)o(s);else{var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.forEach((function(t){return o(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return o(t)})),this.services.backendConnector.load(r,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(t,e,i){var n=S();return t||(t=this.languages),e||(e=this.options.ns),i||(i=tt),this.services.backendConnector.reload(t,e,(function(t){n.resolve(),i(t)})),n}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&j.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var i=this;this.isLanguageChangingTo=t;var n=S();this.emit("languageChanging",t);var s=function(t){t&&(i.language||(i.language=t,i.languages=i.services.languageUtils.toResolveHierarchy(t)),i.translator.language||i.translator.changeLanguage(t),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(t)),i.loadResources(t,(function(s){!function(t,s){s?(i.language=s,i.languages=i.services.languageUtils.toResolveHierarchy(s),i.translator.changeLanguage(s),i.isLanguageChangingTo=void 0,i.emit("languageChanged",s),i.logger.log("languageChanged",s)):i.isLanguageChangingTo=void 0,n.resolve((function(){return i.t.apply(i,arguments)})),e&&e(t,(function(){return i.t.apply(i,arguments)}))}(s,t)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),n}},{key:"getFixedT",value:function(t,e){var i=this,n=function t(e,n){var s;if("object"!==o(n)){for(var r=arguments.length,a=new Array(r>2?r-2:0),c=2;c<r;c++)a[c-2]=arguments[c];s=i.options.overloadTranslationOptionHandler([e,n].concat(a))}else s=l({},n);return s.lng=s.lng||t.lng,s.lngs=s.lngs||t.lngs,s.ns=s.ns||t.ns,i.t(e,s)};return"string"==typeof t?n.lng=t:n.lngs=t,n.ns=e,n}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],n=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var r=function(t,i){var n=e.services.backendConnector.state["".concat(t,"|").concat(i)];return-1===n||2===n};return!!this.hasResourceBundle(i,t)||(!this.services.backendConnector.backend||!(!r(i,t)||n&&!r(s,t)))}},{key:"loadNamespaces",value:function(t,e){var i=this,n=S();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){i.options.ns.indexOf(t)<0&&i.options.ns.push(t)})),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var i=S();"string"==typeof t&&(t=[t]);var n=this.options.preload||[],s=t.filter((function(t){return n.indexOf(t)<0}));return s.length?(this.options.preload=n.concat(s),this.loadResources((function(t){i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new e(t,i)}},{key:"cloneInstance",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tt,s=l({},this.options,i,{isClone:!0}),r=new e(s),o=["store","services","language"];return o.forEach((function(e){r[e]=t[e]})),r.services=l({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r.translator=new B(r.services,r.options),r.translator.on("*",(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];r.emit.apply(r,[t].concat(i))})),r.init(s,n),r.translator.options=r.options,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}}]),e}(D)),it={randRange:function(t,e,i){return Math.floor((i?i():Math.random())*(e-t+1))+t},addHue:function(t,e){const i=t+e;return i>360?i-360:i<0?360+i:i},hsvToRgb:function(t,e,i){let n,s,r,o,a,l,c,h;switch(o=Math.floor(6*t),a=6*t-o,l=i*(1-e),c=i*(1-a*e),h=i*(1-(1-a)*e),o%6){case 0:n=i,s=h,r=l;break;case 1:n=c,s=i,r=l;break;case 2:n=l,s=i,r=h;break;case 3:n=l,s=c,r=i;break;case 4:n=h,s=l,r=i;break;case 5:n=i,s=l,r=c}return[Math.round(255*n),Math.round(255*s),Math.round(255*r)]},hslToName:function(t,e,i){return e<=10&&i>=90?et.t("engine.colors.white"):e<=10&&i<=70||0==e?et.t("engine.colors.gray"):i<=15?et.t("engine.colors.black"):t>=0&&t<=6||t>=350?et.t("engine.colors.red"):t>=7&&t<=42?et.t("engine.colors.orange"):t>=43&&t<=70?et.t("engine.colors.yellow"):t>=71&&t<=156?et.t("engine.colors.green"):t>=157&&t<=221?et.t("engine.colors.blue"):t>=222&&t<=290?et.t("engine.colors.purple"):t>=291&&t<=349?et.t("engine.colors.pink"):"???"},shuffle:function(t,e){let i,n;for(let s=t.length-1;s>0;s--)i=Math.floor((e?e():Math.random())*(s+1)),n=t[s],t[s]=t[i],t[i]=n;return t},millisecondsFormat:function(t){return t/=1e3,("0"+Math.trunc(t/60)).slice(-2)+":"+("0"+Math.trunc(t%60)).slice(-2)},secondsFormat:function(t){return this.millisecondsFormat(1e3*t)}};class nt{constructor(t,e,i){this.x=t,this.y=e,this.direction=i}copy(){return new nt(this.x,this.y,this.direction)}convertToKeyDirection(){switch(this.direction){case n.Direction.UP:return n.Key.UP;case n.Direction.RIGHT:return n.Key.RIGHT;case n.Direction.LEFT:return n.Key.LEFT;case n.Direction.BOTTOM:return n.Key.BOTTOM;default:return this.direction}}convertToSimpleDirection(){switch(this.direction){case n.Key.UP:return n.Direction.UP;case n.Key.RIGHT:return n.Direction.RIGHT;case n.Key.LEFT:return n.Direction.LEFT;case n.Key.BOTTOM:return n.Direction.BOTTOM;default:return this.direction}}equals(t){return null!=t&&(this.x==t.x&&this.y==t.y)}}var st=i(3),rt=i.n(st),ot=i(4);class at{constructor(t,e,i,s,r,o,a,l,c){this.width=null==t?20:t,this.height=null==e?20:e,this.generateWalls=null!=i&&i,this.borderWalls=null!=s&&s,this.maze=null!=r&&r,this.mazeFirstPosition=new nt(1,1,n.Direction.RIGHT),this.mazeForceAuto=null!=a&&a,this.grid,this.initialGrid,this.fruitPos,this.fruitPosGold,this.seedGrid=l,this.seedGame=c,this.rngGrid=rt()(this.seedGrid),this.rngGame=rt()(this.seedGame),this.init(o)}init(t){if(null!=t||null!=this.initialGrid){let e;e=null!=this.initialGrid?this.initialGrid:t,this.height=e.length,this.width=e[0].length,this.initialGrid=new Array(this.height),this.grid=new Array(this.height);for(let t=0;t<this.height;t++)this.initialGrid[t]=e[t].slice(),this.grid[t]=e[t].slice()}else{this.grid=new Array(this.height);for(let t=0;t<this.height;t++){this.grid[t]=new Array(this.width);for(let e=0;e<this.width;e++)this.borderWalls&&(0==t||t==this.height-1||0==e||e==this.width-1)||this.generateWalls&&this.rngGrid()>.65||this.maze?this.grid[t][e]=n.CaseType.WALL:this.grid[t][e]=n.CaseType.EMPTY}this.maze?this.generateMaze():this.generateWalls&&this.fixWalls(this.borderWalls)}this.fruitPosGold=null}fixWalls(t){let e,i,s,r;t?(e=1,s=this.height-1,i=1,r=this.width-1):(e=0,s=this.height,i=0,r=this.width);for(let t=e;t<s;t++)for(let e=i;e<r;e++){const i=new nt(e,t),s=this.getNextPosition(i,n.Direction.UP),r=this.getNextPosition(s,n.Direction.LEFT),o=this.getNextPosition(s,n.Direction.RIGHT),a=this.getNextPosition(i,n.Direction.BOTTOM),l=this.getNextPosition(a,n.Direction.LEFT),c=this.getNextPosition(a,n.Direction.RIGHT);this.get(r)!=n.CaseType.WALL&&this.get(o)!=n.CaseType.WALL&&this.get(l)!=n.CaseType.WALL&&this.get(c)!=n.CaseType.WALL||this.set(n.CaseType.EMPTY,i)}}maze_recursion(t,e){const i=it.shuffle([n.Direction.UP,n.Direction.RIGHT,n.Direction.BOTTOM,n.Direction.LEFT],this.rngGrid);for(let s=0;s<i.length;s++)switch(i[s]){case n.Direction.UP:if(t-2<=0)continue;this.get(new nt(e,t-2))!=n.CaseType.EMPTY&&(this.set(n.CaseType.EMPTY,new nt(e,t-2)),this.set(n.CaseType.EMPTY,new nt(e,t-1)),this.maze_recursion(t-2,e));break;case n.Direction.RIGHT:if(e+2>=this.width-1)continue;this.get(new nt(e+2,t))!=n.CaseType.EMPTY&&(this.set(n.CaseType.EMPTY,new nt(e+2,t)),this.set(n.CaseType.EMPTY,new nt(e+1,t)),this.maze_recursion(t,e+2));break;case n.Direction.BOTTOM:if(t+2>=this.height-1)continue;this.get(new nt(e,t+2))!=n.CaseType.EMPTY&&(this.set(n.CaseType.EMPTY,new nt(e,t+2)),this.set(n.CaseType.EMPTY,new nt(e,t+1)),this.maze_recursion(t+2,e));break;case n.Direction.LEFT:if(e-2<=0)continue;this.get(new nt(e-2,t))!=n.CaseType.EMPTY&&(this.set(n.CaseType.EMPTY,new nt(e-2,t)),this.set(n.CaseType.EMPTY,new nt(e-1,t)),this.maze_recursion(t,e-2))}}generateMaze(){this.mazeFirstPosition=new nt(1,1,n.Direction.RIGHT),this.set(n.CaseType.EMPTY,this.mazeFirstPosition),this.maze_recursion(1,1)}set(t,e){this.grid[e.y][e.x]=t}get(t){return this.grid[t.y][t.x]}valToChar(t){switch(t){case n.CaseType.EMPTY:return"-";case n.CaseType.SNAKE:return"o";case n.CaseType.SNAKE_DEAD:return"O";case n.CaseType.FRUIT:return"x";case n.CaseType.WALL:return"#";case n.CaseType.SURROUNDED:return"/";case n.CaseType.FRUIT_GOLD:return"X"}}getImageCase(t){switch(this.get(t)){case n.CaseType.WALL:return"wall.png";case n.CaseType.FRUIT:return"fruit.png";case n.CaseType.FRUIT_GOLD:return"fruit_gold.png";case n.CaseType.EMPTY:case n.CaseType.SNAKE:case n.CaseType.SNAKE_DEAD:case n.CaseType.SURROUNDED:case n.CaseType.CROSSED:return""}return"unknown.png"}getGraph(t){const e=new Array(this.height);for(let i=0;i<this.height;i++){e[i]=new Array(this.width);for(let s=0;s<this.width;s++){const r=new nt(s,i);t&&this.get(r)==n.CaseType.SNAKE?e[i][s]=0:this.isDeadPosition(r)?e[i][s]=1:e[i][s]=0}}return e}getRandomPosition(){return new nt(it.randRange(0,this.width-1,this.rngGame),it.randRange(0,this.height-1,this.rngGame))}setFruit(t,e){const i=[1];if(e||null==this.fruitPos||this.get(this.fruitPos)!=n.CaseType.FRUIT||this.set(n.CaseType.EMPTY,this.fruitPos),!(this.getTotal(n.CaseType.EMPTY)>0))return!!(this.getTotal(n.CaseType.EMPTY)<=0&&this.fruitPosGold);{let t,s;do{t=this.getRandomPosition();const e=this.getNextPosition(t,n.Direction.TOP),i=this.getNextPosition(t,n.Direction.BOTTOM),r=this.getNextPosition(t,n.Direction.RIGHT),o=this.getNextPosition(t,n.Direction.LEFT);if(s=this.isDeadPosition(e,!0)+this.isDeadPosition(i,!0)+this.isDeadPosition(r,!0)+this.isDeadPosition(o,!0),s>=3&&this.get(t)==n.CaseType.EMPTY&&this.set(n.CaseType.SURROUNDED,t),this.getTotal(n.CaseType.EMPTY)<=0)return!!this.fruitPosGold}while(this.get(t)!=n.CaseType.EMPTY||this.isFruitSurrounded(t,!0)||this.maze&&!this.testFruitMaze(t,i)||s>=3);e?(this.fruitPosGold=t,this.set(n.CaseType.FRUIT_GOLD,t)):(this.fruitPos=t,this.set(n.CaseType.FRUIT,t))}return this.maze||null!=this.fruitPosGold||1!=it.randRange(1,t>1?n.Setting.PROB_GOLD_FRUIT_MULTIPLE_PLAYERS:n.Setting.PROB_GOLD_FRUIT_1_PLAYER,this.rngGame)||this.setFruit(t,!0),!0}testFruitMaze(t,e){const i=this.getGraph(!0);return new ot.Astar.Configuration(i,{order:"yx",torus:!1,diagonals:!1,cutting:!1,cost:(t,e)=>1==e?null:1}).path({x:this.mazeFirstPosition.x,y:this.mazeFirstPosition.y},{x:t.x,y:t.y}).length<Math.ceil(this.getTotal(n.CaseType.EMPTY)/(1*Math.ceil(e[0]/4)))?(e[0]++,!1):(e[0]++,!0)}isCaseSurrounded(t,e,i,s){if(null==t||null==t)return!1;const r=JSON.parse(JSON.stringify(this.grid)),o=[t];for(;o.length>0;){const t=o[0];o.shift();const a=[this.getNextPosition(t,n.Direction.UP),this.getNextPosition(t,n.Direction.BOTTOM),this.getNextPosition(t,n.Direction.LEFT),this.getNextPosition(t,n.Direction.RIGHT)];for(let t=0;t<a.length;t++)if(r[a[t].y][a[t].x]!=n.CaseType.CROSSED&&s.indexOf(this.get(a[t]))>-1){if(o.push(a[t]),i.indexOf(this.get(a[t]))>-1)return!1;e&&this.get(a[t])==n.CaseType.EMPTY?(this.set(n.CaseType.SURROUNDED,a[t]),r[a[t].y][a[t].x]=n.CaseType.SURROUNDED):r[a[t].y][a[t].x]=n.CaseType.CROSSED}}return(e&&(this.get(t)==n.CaseType.EMPTY||this.get(t)==n.CaseType.FRUIT)||this.get(t)==n.CaseType.FRUIT_GOLD)&&this.set(n.CaseType.SURROUNDED,t),!0}isFruitSurrounded(t,e){const i=this.isCaseSurrounded(t,!1,[n.CaseType.SNAKE],[n.CaseType.EMPTY,n.CaseType.SNAKE]);return i&&e&&this.isCaseSurrounded(t,!0,[n.CaseType.SNAKE],[n.CaseType.EMPTY,n.CaseType.SNAKE]),i}getOnLine(t,e){let i=0;for(let n=0;n<this.width;n++)this.get(new nt(n,e))==t&&i++;return i}getTotal(t){let e=0;for(let i=0;i<this.height;i++)e+=this.getOnLine(t,i);return e}getNextPosition(t,e){const i=new nt(t.x,t.y,e);switch(e){case n.Direction.LEFT:i.x--,i.direction=n.Direction.LEFT;break;case n.Direction.UP:i.y--,i.direction=n.Direction.UP;break;case n.Direction.RIGHT:i.x++,i.direction=n.Direction.RIGHT;break;case n.Direction.BOTTOM:i.y++,i.direction=n.Direction.BOTTOM;break;case n.Key.LEFT:i.x--,i.direction=n.Key.LEFT;break;case n.Key.UP:i.y--,i.direction=n.Key.UP;break;case n.Key.RIGHT:i.x++,i.direction=n.Direction.RIGHT;break;case n.Key.BOTTOM:i.y++,i.direction=n.Direction.BOTTOM}return i.x<0?i.x=this.width-1:i.x>=this.width&&(i.x=0),i.y<0?i.y=this.height-1:i.y>=this.height&&(i.y=0),i}getDirectionTo(t,e){return this.getNextPosition(t,n.Direction.UP).equals(e)?n.Direction.UP:this.getNextPosition(t,n.Direction.BOTTOM).equals(e)?n.Direction.BOTTOM:this.getNextPosition(t,n.Direction.RIGHT).equals(e)?n.Direction.RIGHT:this.getNextPosition(t,n.Direction.LEFT).equals(e)?n.Direction.LEFT:-1}isDeadPosition(t,e){return!e&&this.get(t)==n.CaseType.SNAKE||this.get(t)==n.CaseType.WALL||this.get(t)==n.CaseType.SNAKE_DEAD}toString(){let t="";for(let e=0;e<this.height;e++){for(let i=0;i<this.width;i++)t+=this.valToChar(this.get(new nt(i,e)))+" ";t+="\n"}return t}}class lt{constructor(){this.aiFruitGoal=n.CaseType.FRUIT,this._aiLevelText="custom"}ai(t){const e=t.getHeadPosition(),i=t.grid.fruitPos,s=t.grid.fruitPosGold;if(null!=i){const r=Math.abs(i.x-e.x)+Math.abs(i.y-e.y),o=null!=s?Math.abs(s.x-e.x)+Math.abs(s.y-e.y):-1;null!=s&&t.grid.get(s)==n.CaseType.FRUIT_GOLD&&this.aiFruitGoal==n.CaseType.FRUIT?this.aiFruitGoal=o<r?n.CaseType.FRUIT_GOLD:n.CaseType.FRUIT:null!=s&&t.grid.get(s)==n.CaseType.FRUIT_GOLD||(this.aiFruitGoal=n.CaseType.FRUIT)}return null}get aiLevelText(){return this._aiLevelText}}class ct extends lt{constructor(){super(),this._aiLevelText="random"}ai(t){super.ai(t);const e=t.getHeadPosition(),i=t.grid.isDeadPosition(t.getNextPosition(e,n.Key.UP)),s=t.grid.isDeadPosition(t.getNextPosition(e,n.Key.LEFT)),r=t.grid.isDeadPosition(t.getNextPosition(e,n.Key.BOTTOM)),o=t.grid.isDeadPosition(t.getNextPosition(e,n.Key.RIGHT));if(i&&s&&r&&o)return n.Key.UP;{let i=null;for(;null==i||t.grid.isDeadPosition(t.getNextPosition(e,i));){switch(it.randRange(1,4,t.grid?t.grid.rngGame:null)){case 1:i=n.Key.UP;break;case 2:i=n.Key.LEFT;break;case 3:i=n.Key.BOTTOM;break;case 4:i=n.Key.RIGHT}}return i}}}class ht extends lt{constructor(){super(),this._aiLevelText="low"}ai(t){if(super.ai(t),null!=t.grid.fruitPos){const e=t.getHeadPosition(),i=this.aiFruitGoal==n.CaseType.FRUIT_GOLD?t.grid.fruitPosGold:t.grid.fruitPos;let s=n.Key.RIGHT;i.x>e.x?s=i.x-e.x>t.grid.width/2?n.Key.LEFT:n.Key.RIGHT:i.x<e.x?s=e.x-i.x>t.grid.width/2?n.Key.RIGHT:n.Key.LEFT:i.y<e.y?s=e.y-i.y>t.grid.height/2?n.Key.BOTTOM:n.Key.UP:i.y>e.y&&(s=i.y-e.y>t.grid.height/2?n.Key.UP:n.Key.BOTTOM);let r=t.getNextPosition(e,s);if(t.grid.isDeadPosition(r)){const i=this.direction;let o=null;for(let e=1;e<t.queue.length;e++)if(t.get(e).direction!=i){o=t.get(e).direction;break}r=t.getNextPosition(e,o),t.grid.isDeadPosition(r)?t.grid.isDeadPosition(t.getNextPosition(e,n.Key.UP))?t.grid.isDeadPosition(t.getNextPosition(e,n.Key.RIGHT))?t.grid.isDeadPosition(t.getNextPosition(e,n.Key.BOTTOM))?t.grid.isDeadPosition(t.getNextPosition(e,n.Key.LEFT))||(s=n.Key.LEFT):s=n.Key.BOTTOM:s=n.Key.RIGHT:s=n.Key.UP:s=r.convertToKeyDirection()}return s}}}class ut extends lt{constructor(t){super(),this.enableTorus=t,this._aiLevelText="normal"}ai(t){super.ai(t);const e=t.getHeadPosition(),i=t.grid.fruitPos,s=t.grid.fruitPosGold;if(t.grid.fruitPos){const r=t.grid.getGraph(!1),o=new ot.Astar.Configuration(r,{order:"yx",torus:!!this.enableTorus,diagonals:!1,cutting:!1,static:!0,cost:(t,e)=>1==e?null:1});let a=o.path({x:e.x,y:e.y},{x:this.aiFruitGoal==n.CaseType.FRUIT_GOLD?s.x:i.x,y:this.aiFruitGoal==n.CaseType.FRUIT_GOLD?s.y:i.y});if(a.length<1&&(a=o.path({x:e.x,y:e.y},{x:this.aiFruitGoal!=n.CaseType.FRUIT_GOLD&&s?s.x:i.x,y:this.aiFruitGoal!=n.CaseType.FRUIT_GOLD&&s?s.y:i.y})),a.length>1){const i=new nt(a[1].x,a[1].y);return new nt(null,null,t.getDirectionTo(e,i)).convertToKeyDirection()}a=null}return null}}class dt extends ut{constructor(t){super(!0),this.aiLow=new ht(t),this._aiLevelText="high"}ai(t){const e=super.ai(t);return e||this.aiLow.ai(t)}}class gt{constructor(t,e,i,s,r,o,a,l){this.direction=null==t?n.Direction.RIGHT:t,this.initialDirection=null==t?n.Direction.RIGHT:t,this.initialLength=null==e?3:e,this.initTriedDirections=[],this.errorInit=!1,this.grid=i||new at,this.queue=[],this.lastKey=-1,this.lastTail,this.lastTailMoved,this.player=null==s?n.PlayerType.HUMAN:s,this.aiLevel=null==r?n.AiLevel.DEFAULT:r,this.autoRetry=null!=o&&o,this.score=0,this.gameOver=!1,this.scoreMax=!1,this.color,this.name=null==a?"Snake":a,this.snakeAI=new lt,this.customAI=l,this.init(),this.initAI()}init(){if(this.initialLength<=0)return this.errorInit=!0,!1;this.grid.maze&&this.initTriedDirections.length<=0&&(this.initialDirection=this.grid.mazeFirstPosition.direction,this.direction=this.initialDirection);let t=0,e=0;if(this.initialDirection==n.Direction.RIGHT&&-1==this.initTriedDirections.indexOf(n.Direction.RIGHT)||this.initialDirection==n.Direction.LEFT&&-1==this.initTriedDirections.indexOf(n.Direction.LEFT))for(let e=0;e<this.grid.height;e++){let i=0;for(let s=0;s<this.grid.width;s++)if(this.grid.get(new nt(s,e))==n.CaseType.EMPTY?i++:i=0,i>=this.initialLength){t++;break}}else if(this.initialDirection==n.Direction.UP&&-1==this.initTriedDirections.indexOf(n.Direction.UP)||this.initialDirection==n.Direction.BOTTOM&&-1==this.initTriedDirections.indexOf(n.Direction.BOTTOM))for(let t=0;t<this.grid.width;t++){let i=0;for(let s=0;s<this.grid.height;s++)if(this.grid.get(new nt(t,s))==n.CaseType.EMPTY?i++:i=0,i>=this.initialLength){e++;break}}if(this.initTriedDirections.push(this.initialDirection),t<=0&&(this.initialDirection==n.Direction.RIGHT||this.initialDirection==n.Direction.LEFT)||e<=0&&(this.initialDirection==n.Direction.UP||this.initialDirection==n.Direction.BOTTOM))return-1==this.initTriedDirections.indexOf(n.Direction.RIGHT)?(this.initialDirection=n.Direction.RIGHT,this.direction=n.Direction.RIGHT,this.init()):-1==this.initTriedDirections.indexOf(n.Direction.LEFT)?(this.initialDirection=n.Direction.LEFT,this.direction=n.Direction.LEFT,this.init()):-1==this.initTriedDirections.indexOf(n.Direction.UP)?(this.initialDirection=n.Direction.UP,this.direction=n.Direction.UP,this.init()):-1==this.initTriedDirections.indexOf(n.Direction.BOTTOM)?(this.initialDirection=n.Direction.BOTTOM,this.direction=n.Direction.BOTTOM,this.init()):(this.errorInit=!0,!1);let i,s,r=!0,o=[];for(;r;){r=!1,i=this.grid.maze?this.grid.mazeFirstPosition:this.grid.getRandomPosition(),s=new nt(i.x,i.y,this.initialDirection),o=[];for(let t=this.initialLength-1;t>=0;t--)t<this.initialLength-1&&(this.initialDirection==n.Direction.RIGHT?s=this.grid.getNextPosition(new nt(s.x,s.y,this.initialDirection),n.Direction.RIGHT):this.initialDirection==n.Direction.LEFT?s=this.grid.getNextPosition(new nt(s.x,s.y,this.initialDirection),n.Direction.LEFT):this.initialDirection==n.Direction.BOTTOM?s=this.grid.getNextPosition(new nt(s.x,s.y,this.initialDirection),n.Direction.BOTTOM):this.initialDirection==n.Direction.UP&&(s=this.grid.getNextPosition(new nt(s.x,s.y,this.initialDirection),n.Direction.UP))),this.grid.get(s)!=n.CaseType.EMPTY?r=!0:o.push(new nt(s.x,s.y,s.direction));if(this.grid.maze&&r)return this.init()}for(let t=0;t<o.length;t++)this.insert(o[t]);return this.grid.maze&&this.player==n.PlayerType.HYBRID_HUMAN_AI&&(this.player=n.PlayerType.HUMAN),this.player==n.PlayerType.HYBRID_HUMAN_AI&&(this.aiLevel=n.AiLevel.HIGH),this.lastTail=this.get(this.queue.length-1),!0}initAI(){if(this.customAI)this.snakeAI=this.customAI,this.aiLevel=n.AiLevel.CUSTOM;else switch(this.aiLevel){case n.AiLevel.RANDOM:this.snakeAI=new ct;break;case n.AiLevel.LOW:this.snakeAI=new ht;break;case n.AiLevel.DEFAULT:this.snakeAI=new ut;break;case n.AiLevel.HIGH:case n.AiLevel.ULTRA:this.snakeAI=new dt;break;default:this.snakeAI=new ut}}reset(){this.direction=this.initialDirection,this.initTriedDirections=[],this.queue=[],this.score=0,this.gameOver=!1,this.scoreMax=!1,this.lastTailMoved=!0,this.lastKey=-1,this.aiFruitGoal=n.CaseType.FRUIT,this.init()}insert(t){this.queue.unshift(t),this.grid.set(n.CaseType.SNAKE,t)}remove(){const t=this.queue.pop();this.grid.set(n.CaseType.EMPTY,t),this.lastTail=t}length(){return this.queue.length}get(t){return null!=this.queue[t]?this.queue[t].copy():null}set(t,e){t>=0&&t<this.length()&&(this.queue[t]=e)}getHeadPosition(){return this.get(0)}getTailPosition(){return this.get(this.length()-1)}hasMaxScore(){return this.grid.getTotal(n.CaseType.EMPTY)<=0&&!this.grid.fruitPosGold&&!this.grid.fruitPos}setGameOver(){this.gameOver=!0;for(let t=0;t<this.length();t++)this.grid.set(n.CaseType.SNAKE_DEAD,this.get(t))}kill(){this.autoRetry=!1,this.grid=null,this.queue=null}moveTo(t){t==n.Key.LEFT&&this.direction!=n.Direction.RIGHT&&this.direction!=n.Direction.LEFT&&(this.direction=n.Direction.LEFT),t==n.Key.UP&&this.direction!=n.Direction.BOTTOM&&this.direction!=n.Direction.UP&&(this.direction=n.Direction.UP),t==n.Key.RIGHT&&this.direction!=n.Direction.LEFT&&this.direction!=n.Direction.RIGHT&&(this.direction=n.Direction.RIGHT),t==n.Key.BOTTOM&&this.direction!=n.Direction.UP&&this.direction!=n.Direction.BOTTOM&&(this.direction=n.Direction.BOTTOM)}getNextPosition(t,e){return this.grid.getNextPosition(t,e)}getDirectionTo(t,e){return this.grid.getDirectionTo(t,e)}getGraphicDirectionFor(t,e,i){if(null==e||null==i)return t.direction;const s=this.getDirectionTo(t,i),r=this.getDirectionTo(t,e);return s==n.Direction.LEFT&&r==n.Direction.BOTTOM||s==n.Direction.BOTTOM&&r==n.Direction.LEFT?n.Direction.ANGLE_1:s==n.Direction.RIGHT&&r==n.Direction.BOTTOM||s==n.Direction.BOTTOM&&r==n.Direction.RIGHT?n.Direction.ANGLE_2:s==n.Direction.UP&&r==n.Direction.RIGHT||s==n.Direction.RIGHT&&r==n.Direction.UP?n.Direction.ANGLE_3:s==n.Direction.UP&&r==n.Direction.LEFT||s==n.Direction.LEFT&&r==n.Direction.UP?n.Direction.ANGLE_4:t.direction}getGraphicDirection(t){return this.getGraphicDirectionFor(this.get(t),this.get(t-1),this.get(t+1))}copy(){const t=new gt(direction,3,new at(this.grid.width,this.grid.height,!1,!1),this.player,this.aiLevel,!1);for(let e=0;e<t.grid.height;e++)for(let i=0;i<t.grid.width;i++)t.grid.set(this.grid.get(new nt(i,e)),new nt(i,e));t.queue=[];for(let e=0;e<this.queue.length;e++)t.queue.push(elem.copy());return t}ai(){return this.snakeAI&&this.snakeAI.ai?this.snakeAI.ai(this):null}getAILevelText(){return this.snakeAI?this.snakeAI.aiLevelText:"???"}}class ft{constructor(t){this.games=null==t?[]:t,this.reactor=new r,this.reactor.registerEvent("onStart"),this.reactor.registerEvent("onPause"),this.reactor.registerEvent("onContinue"),this.reactor.registerEvent("onStop"),this.reactor.registerEvent("onReset"),this.reactor.registerEvent("onExit"),this.reactor.registerEvent("onScoreIncreased"),this.init()}init(){for(let t=0;t<this.games.length;t++)0==t&&(this.games[t].enableKeyMenu=!0),this.games[t].onPause((t=>{this.pauseAll(t)}).bind(null,t)),this.games[t].onContinue((t=>{this.startAll(t)}).bind(null,t)),this.games[t].onExit((t=>{this.checkExit(t)}).bind(null,t)),this.games[t].onStop((t=>{this.checkStop(t)}).bind(null,t)),this.games[t].onReset((t=>{this.resetAll(t)}).bind(null,t)),this.games[t].onScoreIncreased((t=>{this.checkOnScoreIncreased(t)}).bind(null,t))}start(){this.startAll(null)}startAll(t){for(let e=0;e<this.games.length;e++)!this.games[e].paused||this.games[e].starting||null!=t&&e==t||this.games[e].start();this.reactor.dispatchEvent("onStart")}onStart(t){this.reactor.addEventListener("onStart",t)}pauseAll(t){for(let e=0;e<this.games.length;e++)this.games[e].paused||null!=t&&e==t||this.games[e].pause();this.reactor.dispatchEvent("onPause")}onPause(t){this.reactor.addEventListener("onPause",t)}resetAll(t){for(let e=0;e<this.games.length;e++)this.games[e].isReseted||null!=t&&e==t||this.games[e].reset();this.reactor.dispatchEvent("onReset")}onReset(t){this.reactor.addEventListener("onReset",t)}checkExit(t){let e=!0;for(let t=0;t<this.games.length;t++)this.games[t].exited||(e=!1);e?this.reactor.dispatchEvent("onExit"):this.startAll(t)}onExit(t){this.reactor.addEventListener("onExit",t)}checkStop(){let t=!0;for(let e=0;e<this.games.length;e++)this.games[e].gameOver||(t=!1);t&&this.reactor.dispatchEvent("onStop")}onStop(t){this.reactor.addEventListener("onStop",t)}stopAll(t){for(let e=0;e<this.games.length;e++)t?this.games[e].finish(!0):this.games[e].stop()}killAll(){for(let t=0;t<this.games.length;t++)this.games[t].kill()}checkOnScoreIncreased(){this.reactor.dispatchEvent("onScoreIncreased")}onScoreIncreased(t){this.reactor.addEventListener("onScoreIncreased",t)}setDisplayFPS(t){for(let e=0;e<this.games.length;e++)this.games[e].setDisplayFPS(t)}setNotification(t){for(let e=0;e<this.games.length;e++)this.games[e].setNotification(t.copy())}closeNotification(){for(let t=0;t<this.games.length;t++)this.games[t].setNotification(null)}errorOccurred(){for(let t=0;t<this.games.length;t++)if(this.games[t].errorOccurred)return!0;return!1}closeRanking(){for(let t=0;t<this.games.length;t++)this.games[t].closeRanking();return!1}getWinners(){const t=[],e=[];let i=-1;for(let t=0;t<this.games.length;t++)for(let e=0;e<this.games[t].snakes.length;e++)this.games[t].snakes[e].score>i&&(i=this.games[t].snakes[e].score);if(i>=0){let n=0;for(let s=0;s<this.games.length;s++)for(let r=0;r<this.games[s].snakes.length;r++)this.games[s].snakes[r].score>=i&&(t.push(this.games[s].snakes[r]),e.push(n)),n++}return{winners:t,score:i,index:e}}}class pt{constructor(t,e,i,n,s,o){this.grid=t,this.snakes=e,this.speed=null==i?8:i,this.initialSpeed=null==i?8:i,this.initialSpeedUntouched=null==i?8:i,this.enablePause=null==n||n,this.enableRetry=null==s||s,this.progressiveSpeed=null!=o&&o,this.countBeforePlay=3,this.lastKey=-1,this.numFruit=1,this.ticks=0,this.firstStart=!0,this.starting=!1,this.paused=!0,this.exited=!1,this.killed=!1,this.isReseted=!0,this.gameOver=!1,this.gameFinished=!1,this.gameMazeWin=!1,this.scoreMax=!1,this.errorOccurred=!1,this.clientSidePredictionsMode=!1,this.intervalPlay,this.reactor=new r,this.reactor.registerEvent("onStart"),this.reactor.registerEvent("onPause"),this.reactor.registerEvent("onContinue"),this.reactor.registerEvent("onReset"),this.reactor.registerEvent("onStop"),this.reactor.registerEvent("onExit"),this.reactor.registerEvent("onKill"),this.reactor.registerEvent("onScoreIncreased"),this.reactor.registerEvent("onUpdate"),this.reactor.registerEvent("onUpdateCounter")}init(){if(!this.clientSidePredictionsMode){null==this.snakes?(this.errorOccurred=!0,this.snakes=[]):Array.isArray(this.snakes)?(Array.isArray(this.snakes)&&this.snakes.length<=0||this.grid.maze&&this.snakes.length>1)&&(this.errorOccurred=!0):this.snakes=[this.snakes];let t=it.randRange(0,360,this.grid?this.grid.rngGame:null);for(let e=0;e<this.snakes.length;e++)this.snakes[e]instanceof gt==0?this.errorOccurred=!0:(t=it.addHue(t,Math.round(360/this.snakes.length)),this.snakes[e].color=t);this.grid instanceof at==0?this.errorOccurred=!0:this.errorOccurred||this.grid.setFruit(this.snakes.length)}}reset(){if(this.paused=!0,this.isReseted=!0,this.exited=!1,this.clearIntervalPlay(),this.grid.seedGrid&&this.grid.seedGrid++,this.grid.seedGame&&this.grid.seedGame++,this.grid.rngGrid&&(this.grid.rngGrid=rt()(this.grid.seedGrid)),this.grid.rngGame&&(this.grid.rngGame=rt()(this.grid.seedGame)),this.grid.init(),null!=this.snakes)for(let t=0;t<this.snakes.length;t++)this.snakes[t].reset();this.numFruit=1,this.ticks=0,this.lastKey=-1,this.scoreMax=!1,this.errorOccurred=!1,this.gameOver=!1,this.gameFinished=!1,this.gameMazeWin=!1,this.starting=!1,this.initialSpeed=this.initialSpeedUntouched,this.speed=this.initialSpeedUntouched,this.grid.setFruit(this.snakes.length),this.reactor.dispatchEvent("onReset"),this.start()}start(){if(this.reactor.dispatchEvent("onUpdateCounter"),!this.errorOccurred){if(null!=this.snakes)for(let t=0;t<this.snakes.length;t++)this.snakes[t].errorInit&&(this.errorOccurred=!0,this.stop());!this.paused||this.gameOver||this.killed||this.scoreMax||this.starting||(this.starting=!0,this.firstStart||this.reactor.dispatchEvent("onContinue"),this.countBeforePlay=3,this.clearIntervalPlay(),this.reactor.dispatchEvent("onUpdateCounter"),this.intervalPlay=setInterval(()=>{this.countBeforePlay--,this.reactor.dispatchEvent("onUpdateCounter"),this.countBeforePlay<0&&this.forceStart()},1e3))}}forceStart(){this.clearIntervalPlay(),this.countBeforePlay=-1,this.paused=!1,this.isReseted=!1,this.firstStart=!1,this.starting=!1,this.reactor.dispatchEvent("onStart"),this.tick()}clearIntervalPlay(){clearInterval(this.intervalPlay)}continue(){this.clientSidePredictionsMode||(this.start(),this.reactor.dispatchEvent("onContinue"))}stop(t){this.gameOver||this.clientSidePredictionsMode||(this.paused=!0,this.gameOver=!0,t&&(this.gameFinished=!0),this.clearIntervalPlay(),this.reactor.dispatchEvent("onStop"))}pause(){this.paused||this.clientSidePredictionsMode||(this.paused=!0,this.clearIntervalPlay(),this.reactor.dispatchEvent("onPause"))}kill(){if(!this.killed){if(this.paused=!0,this.gameOver=!0,this.killed=!0,null!=this.snakes)for(let t=0;t<this.snakes.length;t++)this.snakes[t].kill(),this.snakes[t]=null;this.clearIntervalPlay(),this.grid=null,this.snakes=null,this.reactor.dispatchEvent("onKill")}}exit(){this.exited||(this.stop(),this.exited=!0,this.reactor.dispatchEvent("onExit"))}getNBPlayer(t){let e=0;if(null!=this.snakes)for(let i=0;i<this.snakes.length;i++)this.snakes[i].player==t&&e++;return e}getPlayer(t,e){let i=0;if(null!=this.snakes)for(let n=0;n<this.snakes.length;n++)if(this.snakes[n].player==e&&i++,i==t)return this.snakes[n];return null}tick(){setTimeout(()=>{if(!this.paused&&!this.killed){0==this.lastTime&&(this.lastTime=time),this.ticks++;let t,e=!1;if(this.grid&&(!this.grid.maze||this.grid.mazeForceAuto||this.grid.maze&&this.getNBPlayer(n.PlayerType.HUMAN)<=0&&this.getNBPlayer(n.PlayerType.HYBRID_HUMAN_AI)<=0||this.grid.maze&&(this.getNBPlayer(n.PlayerType.HUMAN)>0||this.getNBPlayer(n.PlayerType.HYBRID_HUMAN_AI)>0)&&-1!=(this.getPlayer(1,n.PlayerType.HYBRID_HUMAN_AI)||this.getPlayer(1,n.PlayerType.HUMAN)).lastKey)){for(let i=0;i<this.snakes.length;i++){const s=this.snakes[i].direction;let r=!1,o=!1;if(e=!1,this.snakes[i].lastTailMoved=!1,!this.snakes[i].gameOver&&!this.snakes[i].scoreMax){this.snakes[i].player==n.PlayerType.HUMAN||this.snakes[i].player==n.PlayerType.HYBRID_HUMAN_AI?(this.snakes[i].moveTo(this.snakes[i].lastKey),this.snakes[i].lastKey=-1):this.snakes[i].player==n.PlayerType.AI&&(!this.clientSidePredictionsMode||this.clientSidePredictionsMode&&this.snakes[i].aiLevel!=n.AiLevel.RANDOM)&&this.snakes[i].moveTo(this.snakes[i].ai());let e=this.snakes[i].getHeadPosition();this.snakes[i].player==n.PlayerType.HYBRID_HUMAN_AI&&this.grid.isDeadPosition(this.snakes[i].getNextPosition(e,this.snakes[i].direction))&&(this.snakes[i].direction=s,this.snakes[i].moveTo(this.snakes[i].ai()),this.snakes[i].lastKey=-1),e=this.snakes[i].getNextPosition(e,this.snakes[i].direction),this.grid.isDeadPosition(e)?this.snakes[i].setGameOver():this.grid.get(e)==n.CaseType.FRUIT||this.grid.get(e)==n.CaseType.FRUIT_GOLD?(this.grid.get(e)==n.CaseType.FRUIT?(this.snakes[i].score++,this.grid.set(n.CaseType.EMPTY,this.grid.fruitPos),this.grid.fruitPos=null):this.grid.get(e)==n.CaseType.FRUIT_GOLD&&(this.snakes[i].score+=3,this.grid.set(n.CaseType.EMPTY,this.grid.fruitPosGold),this.grid.fruitPosGold=null,o=!0),t=!0,this.snakes[i].insert(e),this.grid.maze?(this.gameMazeWin=!0,this.gameFinished=!0,this.stop()):this.snakes[i].hasMaxScore()&&this.snakes.length<=1?(this.scoreMax=!0,this.snakes[i].scoreMax=!0,this.stop()):(this.numFruit++,o||(r=!0)),this.snakes.length<=1&&this.progressiveSpeed&&this.snakes[i].score>0&&this.initialSpeed>1&&(this.initialSpeed=Math.ceil(-this.initialSpeedUntouched/100*this.snakes[i].score+this.initialSpeedUntouched),this.initialSpeed=this.initialSpeed<1?1:this.initialSpeed)):(this.snakes[i].insert(e),this.grid.maze||(this.snakes[i].remove(),this.snakes[i].lastTailMoved=!0))}this.scoreMax||!r||this.clientSidePredictionsMode||(e=!this.grid.setFruit(this.snakes.length))}this.scoreMax||e||!this.grid.isFruitSurrounded(this.grid.fruitPos,!0)||this.clientSidePredictionsMode||(e=!this.grid.setFruit(this.snakes.length)),!this.scoreMax&&null!=this.grid.fruitPosGold&&this.grid.isFruitSurrounded(this.grid.fruitPosGold,!0)&&(this.grid.set(n.CaseType.EMPTY,this.grid.fruitPosGold),this.grid.fruitPosGold=null);let i=0;for(let t=0;t<this.snakes.length;t++)(this.snakes[t].gameOver||this.snakes[t].scoreMax)&&i++;(i>=this.snakes.length||e)&&(this.stop(),this.snakes.length>1&&(this.gameFinished=!0)),this.reactor.dispatchEvent("onUpdate"),t&&this.reactor.dispatchEvent("onScoreIncreased")}this.tick()}},this.initialSpeed*n.Setting.TIME_MULTIPLIER)}onReset(t){this.reactor.addEventListener("onReset",t)}onStart(t){this.reactor.addEventListener("onStart",t)}onContinue(t){this.reactor.addEventListener("onContinue",t)}onStop(t){this.reactor.addEventListener("onStop",t)}onPause(t){this.reactor.addEventListener("onPause",t)}onExit(t){this.reactor.addEventListener("onExit",t)}onKill(t){this.reactor.addEventListener("onKill",t)}onScoreIncreased(t){this.reactor.addEventListener("onScoreIncreased",t)}onUpdate(t){this.reactor.addEventListener("onUpdate",t)}onUpdateCounter(t){this.reactor.addEventListener("onUpdateCounter",t)}}}])}));