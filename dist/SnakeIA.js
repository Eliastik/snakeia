(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["SnakeIA"] = factory();
	else
		root["SnakeIA"] = factory();
})(typeof self !== "undefined" ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/locales/engine.js":
/*!**********************************!*\
  !*** ./assets/locales/engine.js ***!
  \**********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */
 // French

i18next__WEBPACK_IMPORTED_MODULE_0__["default"].addResourceBundle("fr", "translation", {
  "engine": {
    "score": "Score",
    "num": "n°",
    "initFailed": "Échec de l'initialisation du jeu : le Snake est plus grand que la grille",
    "continue": "Reprendre",
    "reset": "Recommencer la partie",
    "retryInit": "Réessayer",
    "exit": "Quitter",
    "yes": "Oui",
    "no": "Non",
    "ok": "OK",
    "about": "À propos…",
    "infosGame": "Infos partie",
    "player": "Joueur :",
    "playerHuman": "Vous",
    "playerAI": "IA",
    "aiLevel": "Niveau de l'IA :",
    "aiLevelList": {
      "random": "Au hasard",
      "low": "Faible",
      "normal": "Normal",
      "high": "Élevé",
      "ultra": "Ultra",
      "custom": "Personnalisé",
      "mock": "Mock"
    },
    "sizeGrid": "Taille de la grille :",
    "currentSpeed": "Vitesse actuelle :",
    "progressiveSpeed": "Vitesse progressive",
    "loading": "Chargement des ressources…",
    "exited": "Cette partie a été définitivement quittée. En attente de la fin des autres parties…",
    "error": "Une erreur est survenue !",
    "errorLoading": "Une erreur est survenue lors du chargement des ressources. Vérifiez votre connexion Internet.",
    "exitConfirm": "Êtes-vous sûr de vouloir quitter la partie ?",
    "resetConfirm": "Êtes-vous sûr de vouloir recommencer la partie ?",
    "scoreMax": "Score maximal atteint !",
    "gameOver": "Game Over !",
    "gameFinished": "Partie terminée !",
    "pause": "Pause",
    "playerMin": "J",
    "aiMin": "IA",
    "aboutScreen": {
      "title": "SnakeIA par Eliastik",
      "versionAndDate": "Version {{version}} ({{date, DD/MM/YYYY}})"
    },
    "debug": {
      "fps": "IPS :",
      "frames": "Images :",
      "ticks": "Tours :",
      "speed": "Vit. :",
      "paused": "En pause"
    },
    "colors": {
      "white": "Blanc",
      "gray": "Gris",
      "black": "Noir",
      "red": "Rouge",
      "brown": "Marron",
      "orange": "Orange",
      "yellow": "Jaune",
      "green": "Vert",
      "blue": "Bleu",
      "purple": "Mauve",
      "pink": "Rose"
    },
    "colorPlayer": "Vous êtes le Snake\nen {{color}}",
    "arrowPlayer": "Vous êtes le Snake\nindiqué par la\nflèche",
    "ready": "Partez !",
    "assistAI": "Assistant IA",
    "exitFullScreen": "Quitter plein-écran",
    "enterFullScreen": "Mode plein-écran",
    "mazeMode": "Mode labyrinthe ! Trouvez le chemin vers la pomme pour réussir la partie.\nLe Snake n'avance pas automatiquement.",
    "mazeWin": "Bien joué !",
    "mazeModeMin": "Mode labyrinthe",
    "onlineMode": "Jeu en ligne",
    "ranking": "Classement",
    "infosGameAdvanced": "Avancé…",
    "seedGrid": "Valeur aléatoire grille :",
    "seedGame": "Valeur aléatoire jeu :",
    "ping": "Ping :",
    "aiStuck": "Toutes les IAs sont bloquées. La partie se terminera si les IAs restent bloquées.",
    "servers": {
      "errorConnection": "Une erreur est survenue lors de la connexion au serveur.",
      "waitingPlayers": "En attente de joueurs…",
      "gameStart": "Début de la partie\ndans",
      "nextGameStart": "Prochaine partie\ndans",
      "spectatorMode": "Mode spectateur",
      "startGame": "Commencer la partie"
    },
    "loadingWorker": "Chargement…",
    "errorJSGameToolsConsole": "Une erreur fatale est survenue au niveau du moteur JSGameTools.",
    "errorJSGameTools": ":'(\nUne erreur fatale est survenue au niveau du moteur JSGameTools."
  }
}, true, false); // English

i18next__WEBPACK_IMPORTED_MODULE_0__["default"].addResourceBundle("en", "translation", {
  "engine": {
    "score": "Score",
    "num": "n°",
    "initFailed": "Game init failed: the Snake is bigger than the grid",
    "continue": "Continue",
    "reset": "Reset the game",
    "retryInit": "Retry",
    "exit": "Exit",
    "yes": "Yes",
    "no": "No",
    "ok": "OK",
    "about": "About…",
    "infosGame": "Game infos",
    "player": "Player:",
    "playerHuman": "You",
    "playerAI": "AI",
    "aiLevel": "AI level:",
    "aiLevelList": {
      "random": "Random",
      "low": "Low",
      "normal": "Normal",
      "high": "High",
      "ultra": "Ultra",
      "custom": "Custom",
      "mock": "Mock"
    },
    "sizeGrid": "Grid size:",
    "currentSpeed": "Current speed:",
    "progressiveSpeed": "Progressive speed",
    "loading": "Loading resources…",
    "exited": "This game has been definitively exited. Waiting for the end of the other games…",
    "error": "An error has occurred!",
    "errorLoading": "An error occurred while loading resources. Check your Internet connection.",
    "exitConfirm": "Are you sure that you want to exit the game?",
    "resetConfirm": "Are you sure that you want to reset the game?",
    "scoreMax": "Maximum score reached!",
    "gameFinished": "Game finished!",
    "gameOver": "Game Over!",
    "pause": "Pause",
    "playerMin": "P",
    "aiMin": "AI",
    "aboutScreen": {
      "title": "SnakeIA by Eliastik",
      "versionAndDate": "Version {{version}} ({{date, MM/DD/YYYY}})"
    },
    "debug": {
      "fps": "FPS:",
      "frames": "Frames:",
      "ticks": "Ticks:",
      "speed": "Speed:",
      "paused": "Paused"
    },
    "colors": {
      "white": "White",
      "gray": "Gray",
      "black": "Black",
      "red": "Red",
      "brown": "Brown",
      "orange": "Orange",
      "yellow": "Yellow",
      "green": "Green",
      "blue": "Blue",
      "purple": "Purple",
      "pink": "Pink"
    },
    "colorPlayer": "You are the Snake\nin {{color}}",
    "arrowPlayer": "You are the Snake\npointed by the\narrow",
    "ready": "Go!",
    "assistAI": "AI assistant",
    "exitFullScreen": "Exit fullscreen",
    "enterFullScreen": "Fullscreen mode",
    "mazeMode": "Maze mode! Find the path to the apple to finish this game.\nThe Snake doesn't move automatically.",
    "mazeWin": "Good game!",
    "mazeModeMin": "Maze mode",
    "onlineMode": "Online game",
    "ranking": "Ranking",
    "infosGameAdvanced": "Advanced…",
    "seedGrid": "Grid random value:",
    "seedGame": "Game random value:",
    "ping": "Ping:",
    "aiStuck": "All the AIs are stuck. The game will end if the AIs remain stuck.",
    "servers": {
      "errorConnection": "An error has occurred when connecting to the server.",
      "waitingPlayers": "Waiting for players…",
      "gameStart": "Start of the game\nin",
      "nextGameStart": "Next game\nin",
      "spectatorMode": "Spectator mode",
      "startGame": "Start the game"
    },
    "loadingWorker": "Loading…",
    "errorJSGameToolsConsole": "A fatal error has occurred at the JSGameTools engine level.",
    "errorJSGameTools": ":'(\nA fatal error has occurred at the JSGameTools engine level."
  }
}, true, false);

/***/ }),

/***/ "./assets/locales/init.js":
/*!********************************!*\
  !*** ./assets/locales/init.js ***!
  \********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/* harmony import */ var i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! i18next-browser-languagedetector */ "./node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js");
/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */


i18next__WEBPACK_IMPORTED_MODULE_0__["default"].use(i18next_browser_languagedetector__WEBPACK_IMPORTED_MODULE_1__["default"]).init({
  fallbackLng: ['en', 'fr'],
  load: 'languageOnly',
  detection: {
    order: ['localStorage', 'querystring', 'navigator', 'htmlTag'],
    lookupQuerystring: 'lng',
    lookupLocalStorage: 'i18nextLng',
    caches: ['localStorage']
  }
});

/***/ }),

/***/ "./assets/locales/menu.js":
/*!********************************!*\
  !*** ./assets/locales/menu.js ***!
  \********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */
 // French

i18next__WEBPACK_IMPORTED_MODULE_0__["default"].addResourceBundle("fr", "translation", {
  "debugModeEnabled": "Mode de debug activé",
  "lang": {
    "fr": "Français",
    "en": "English"
  },
  "update": {
    "updateAvailable": "Une mise à jour du jeu est disponible",
    "version": "Version",
    "of": "du",
    "current": "Vous disposez actuellement de la version",
    "versionDate": "{{date, DD/MM/YYYY}}",
    "download": "Télécharger la mise à jour",
    "getURL": "Obtenir l'adresse URL du téléchargement",
    "getChanges": "Obtenir la liste des changements",
    "URLToDownload": "Adresse URL menant au téléchargement :",
    "noChanges": "Aucun changement renseigné.",
    "changes": "Changements de la nouvelle version :"
  },
  "menu": {
    "selectGame": "Sélectionnez un mode de jeu :",
    "soloAi": "IA solo",
    "soloPlayer": "Joueur solo",
    "playerVsAi": "Joueur VS IA",
    "aiVsAi": "IA VS IA",
    "battleRoyale": "Battle Royale",
    "onlineBattleRoyale": "Battle Royale en ligne",
    "levelsSoloPlayer": "Niveaux (joueur solo)",
    "levelsSoloAI": "Niveaux (IA solo)",
    "version": "Version",
    "versionDate": "{{date, DD/MM/YYYY}}",
    "by": "Par",
    "infos": "Plus d'infos",
    "readme": "Fichier Lisez-moi",
    "source": "Télécharger la source",
    "language": "Langue :",
    "othersSettings": "Paramètres",
    "enableAnimations": "Activer les animations",
    "showDebugInfo": "Activer le mode de débogage",
    "renderBlur": "Activer le rendu de flou",
    "enableMultithreading": "Activer le multi-threading",
    "onlineEnableClientSidePredictions": "Activer les prédictions côté client pour le jeu en ligne",
    "settingNotAvailable": "Ce paramètre est actuellement indisponible.",
    "multithreadingInfos": "Si activé, le moteur de jeu et le moteur graphique seront exécutés de manière indépendante ce qui améliorera les performances du jeu.",
    "onlineEnableClientSidePredictionsInfos": "Si activé, les performances du mode de jeu en ligne seront plus stables. Fonctionnalité expérimentale.",
    "textOutput": "Activer le rendu en mode texte",
    "graphicSkin": "Skin graphique :",
    "flat": "Flat (par défaut)",
    "tropical": "Tropical",
    "pixel": "Pixel",
    "maxFPS": "FPS maximum :"
  },
  "settings": {
    "title": "Paramètres de la partie :",
    "possibleFailInitGame": "Il est possible que l'initialisation de la partie échoue avec vos paramètres car il n'y aura pas assez d'espace pour placer tous les Snake. Dans ce cas, un message « Une erreur est survenue » peut s'afficher. Essayez avec d'autres paramètres.",
    "gridSize": "Taille de la grille :",
    "placeholderHeight": "Hauteur",
    "placeholderWidth": "Largeur",
    "invalidSize": "Cette valeur doit être comprise entre {{min}} et {{max}}",
    "options": "Autres options :",
    "borderWalls": "Entourer la grille de murs",
    "generateWalls": "Générer des murs à des positions aléatoires",
    "mazeGrid": "Générer un labyrinthe",
    "sameGrid": "Partie sur la même grille",
    "speed": "Vitesse du jeu :",
    "speedSelect": {
      "1": "1 – La plus rapide",
      "3": "3 – Rapide",
      "5": "5 – Moyenne",
      "8": "8 – Normale",
      "10": "10 – Assez lente",
      "15": "15 – Lente",
      "20": "20 – Très lente",
      "25": "25 – Extrêmement lente",
      "custom": "Vitesse personnalisée…"
    },
    "invalidSpeed": "Cette valeur doit être comprise entre {{min}} et {{max}}",
    "progressiveSpeed": "Augmenter la vitesse progressivement",
    "customSpeed": "Vitesse personnalisée :",
    "placeholderCustomSpeed": "Entrez la vitesse…",
    "customSpeedHelp": "Plus le nombre est élevé, plus la vitesse du jeu est lente, et inversement",
    "playerSettings": "Options du joueur :",
    "aiAssistant": "Activer l'assistant IA",
    "aiAssistantInfos": "En activant cette option, une IA tentera de corriger votre trajectoire si vous êtes sur le point de vous écraser sur un obstacle. Réduit la difficulté du jeu.",
    "aiLevel": "Niveau de l'IA :",
    "aiLevelSelect": {
      "random": "Au hasard",
      "low": "Faible",
      "normal": "Normal",
      "high": "Élevé",
      "ultra": "Ultra"
    },
    "invalidaiLevel": "Cette valeur est invalide",
    "autoRetry": "Faire que l'IA recommence auto sa partie après un Game Over",
    "numberIA": "Nombre d'IA :",
    "placeholderNumberIA": "Entrez le nombre…",
    "invalidIANumber": "Cette valeur doit être comprise entre 2 et 100",
    "battleAgainstAIs": "Jouer contre les IA",
    "validate": "Valider",
    "reset": "Réinitialiser",
    "backToMenu": "Retour au menu",
    "privateGame": "Garder la partie privée",
    "enableAI": "Activer les IA",
    "seedGrid": "Valeur aléatoire grille :",
    "seedGame": "Valeur aléatoire jeu :",
    "advancedSettings": "Paramètres avancés…",
    "invalidValue": "Cette valeur est invalide."
  },
  "game": {
    "backToMenu": "Retour au menu",
    "currentMode": "Mode de jeu actuel :",
    "confirmQuit": "Êtes-vous sûr de vouloir retourner au menu ?",
    "equalityPlayerVSAI": "Vous avez fini ex-aequo avec l'IA !",
    "winPlayerVSAI": "Bravo, vous avez gagné !",
    "losePlayerVSAI": "Dommage, l'IA vous a battu avec un score supérieur !",
    "oneWinnerAIVSAI": "L'IA n°{{numWinner}} a gagné !",
    "equalityAIVSAI": "Les deux IA ont fini ex-aequo !",
    "oneWinnerBattleRoyale": "L'IA n°{{numWinner}} a gagné avec un score de {{score}} !",
    "winnersBattleRoyale": "Les IA",
    "winnerAIBattleRoyale": "L'IA",
    "winnersNumBattleRoyale": "n°{{numWinner}}",
    "andWinnersBattleRoyale": "et",
    "andPlayerWinnersBattleRoyale": "ainsi que vous",
    "winScoreBattleRoyale": "ont gagné avec un score de {{score}} !",
    "winPlayerScoreBattleRoyale": "avez gagné avec un score de {{score}} !",
    "playerWinnerBattleRoyale": "Vous avez gagné avec un score de {{score}} !"
  },
  "levels": {
    "default": "Niveaux par défaut",
    "downloaded": "Niveaux téléchargés",
    "titlePlayer": "Niveaux (joueur solo)",
    "titleAI": "Niveaux (IA solo)",
    "emptyList": "Aucun niveau trouvé…",
    "download": "Télécharger des niveaux",
    "downloadLink": "Les niveaux seront téléchargés depuis {{url}}",
    "editDownloadURL": "Modifier l'URL de téléchargement",
    "editDownloadURLPrompt": "Entrez l'URL de téléchargement des niveaux.\n* Variables disponibles :\n{player} - type de joueur (humain, IA)\n{appVersion} - version de l'application.\n\nLa modification de ce paramètre peut faire planter le jeu ou vous exposer à des problèmes de sécurité. Ne la modifiez que si vous savez ce que vous faites. Ce paramètre n'est pas persistant et sera effacé si vous rechargez l'application.",
    "downloading": "Téléchargement en cours, veuillez patienter… Si le bouton reste grisé après plus de 10 secondes, cliquez sur le bouton ci-dessous pour le débloquer et réessayer le téléchargement :",
    "buttonDeblock": "Débloquer le téléchargement",
    "disabledLevel": "Niveau bloqué. Terminez les niveaux précédents pour le débloquer.",
    "notCompatible": "Ce niveau n'est pas compatible avec cette version du jeu. Mettez-le à jour.",
    "goalAchieved": "Objectif atteint ! Vous pouvez passer au prochain niveau.",
    "goalNotAchieved": "Objectif raté ! Essayez à nouveau.",
    "level": "Niveau",
    "reachScore": "Atteignez au moins le score de {{value}} pour passer ce niveau !",
    "reachScoreTime": "Atteignez le score de {{value}} en moins de {{count}} seconde !",
    "reachScoreTime_plural": "Atteignez le score de {{value}} en moins de {{count}} secondes !",
    "reachMaxScore": "Atteignez le score maximal pour cette grille pour passer ce niveau !",
    "multiBestScore": "Terminez cette partie en obtenant un meilleur score que l'adversaire pour passer ce niveau !",
    "multiBestScore_plural": "Terminez cette partie en obtenant un meilleur score que les adversaires pour passer ce niveau !",
    "multiReachScoreFirst": "Atteignez le score de {{value}} avant l'adversaire pour passer ce niveau !",
    "multiReachScoreFirst_plural": "Atteignez le score de {{value}} avant les adversaires pour passer ce niveau !",
    "mazeMode": "Mode labyrinthe ! Trouvez le chemin vers la pomme pour passer ce niveau.\nLe Snake n'avance pas automatiquement.",
    "bestScore": "Meilleur score : {{count}}",
    "bestTime": "Meilleur temps : {{count}} seconde",
    "bestTime_plural": "Meilleur temps : {{count}} secondes",
    "bestScoreShort": "× {{count}}",
    "bestTimeShort": "{{count}} seconde",
    "bestTimeShort_plural": "{{count}} secondes",
    "timerRemaining": "Il reste {{count}} seconde",
    "timerRemaining_plural": "Il reste {{count}} secondes",
    "localstorageDisabled": "Les cookies sont désactivés sur votre navigateur. Vous perdrez votre progression au prochain rechargement de la page. Activez-les puis rechargez la page pour éviter cela.",
    "difficulty": "Difficulté :",
    "levelBonusShop": "Boutique des bonus",
    "displayBonusShop": "Afficher la boutique…",
    "bonusNotApplicable": "Ce bonus n'est pas applicable.",
    "notEnoughFruits": "Vous n'avez pas assez de crédit pour acheter ce bonus.",
    "bonusAlreadyEquipped": "Vous êtes déjà équipé d'un bonus. Utilisez-le en jouant à un niveau ou vendez-le.",
    "bonusEquipped": "Bonus équipé :",
    "none": "aucun",
    "sellBonus": "Vendre le bonus",
    "bonus": {
      "passLevel": "Passer un niveau",
      "passLevelInfo": "Ce bonus vous permet de passer un niveau. Achetez-le, puis sélectionnez un niveau : celui-ci sera automatiquement passé, comme si vous l'aviez réussi.",
      "aiAssistant": "Mode assistant IA",
      "aiAssistantInfo": "Ce bonus permet d'activer le mode assistant IA. Achetez-le, puis sélectionnez un niveau : le mode assistant IA sera activé. Ne fonctionne pas pour certains niveaux, comme les labyrinthes.",
      "unlockAllLevels": "Débloquer tous les niveaux",
      "unlockAllLevelsInfo": "Ce bonus vous permet de débloquer tous les niveaux, qu'ils soient présents ou futurs.",
      "increaseGoldFruits": "Augmenter la fréquence d'apparition des pommes dorées",
      "increaseGoldFruitsInfo": "Ce bonus vous permet d'augmenter la fréquence d'apparition des pommes dorées : la chance d'apparition passe de 1 chance sur 100 à 1 chance sur 3.",
      "destroyAis": "Détruire les IAs adverses",
      "destroyAisInfo": "Ce bonus vous permet de détruire les IAs adverses, ce qui rend les niveaux contenant des IAs plus faciles.",
      "unknown": "Bonus inconnu",
      "unknownInfo": "Ce bonus est inconnu. Peut-être a-t-il été acheté sur une version plus récente du jeu. Voulez-vous le vendre quand même, sachant que son prix est inconnu ? Autrement dit, vous ne serez pas remboursé.",
      "noTimeLimit": "Pas de limite de temps",
      "noTimeLimitInfo": "Désactive la limite de temps pour les niveaux qui en ont une."
    }
  },
  "servers": {
    "serverList": "Liste des serveurs",
    "selectInfo": "Sélectionnez un serveur :",
    "noServerFound": "Aucun serveur trouvé…",
    "loadingList": "Chargement de la liste des serveurs… Veuillez patienter.",
    "noRoomound": "Aucune salle trouvée…",
    "infos": "{{width}}×{{height}} – Vitesse : {{speed}}",
    "infosBorderWalls": "Grille entourée de murs",
    "infosGenerateWalls": "Murs générés aléatoirement",
    "infosPlayers": "{{count}} joueur/{{max}}",
    "infosPlayers_plural": "{{count}} joueurs/{{max}}",
    "infosSpectators": "{{count}} spectateur",
    "infosSpectators_plural": "{{count}} spectateurs",
    "backToList": "Retour à la liste des serveurs",
    "roomsListTitle": "Liste des salles",
    "roomsListInfos": "Sélectionnez une salle :",
    "loadingRooms": "Chargement de la liste des salles… Veuillez patienter.",
    "createRoom": "Créer une salle",
    "connectionError": "Une erreur est survenue lors de la connexion au serveur. Veuillez réessayer.",
    "errorLoadingRooms": "Une erreur est survenue lors du chargement de la liste des salles. Veuillez réessayer.",
    "creatingRoom": "Création de la salle… Veuillez patienter.",
    "room": "Salle n°{{number}}",
    "errorRoomCreation": "Une erreur est survenue lors de la création de la salle. Veuillez réessayer.",
    "joinPrivateRoom": "Rejoindre une salle privée",
    "enterCode": "Entrez le code de la salle :",
    "customServer": "Serveur personnalisé…",
    "enterCustomServer": "Entrez l'adresse du serveur :",
    "connectingToServer": "Connexion au serveur… Veuillez patienter.",
    "cancel": "Annuler",
    "refreshRooms": "Actualiser la liste",
    "joinRoom": "Connexion à la salle… Veuillez patienter.",
    "errorRoomJoin": "Une erreur est survenue lors de la connexion à la salle. Veuillez réessayer.",
    "errorReason": "Raison de l'erreur :",
    "errorReason_unknown": "Inconnue",
    "errorRoomJoinReason_roomNotFound": "La salle n'a pas été trouvée.",
    "errorRoomJoinReason_roomAlreadyJoined": "Vous avez déjà rejoint cette salle.",
    "errorRoomCreationReason_maxRoomLimitReached": "Le nombre maximal de salles que le serveur peut gérer a été atteint.",
    "errorRoomCreationReason_invalidSettings": "Paramètres invalides.",
    "errorRoomCreationReason_alreadyCreatedRoom": "Vous avez déjà créé une salle ou vous avez déjà rejoint une salle.",
    "errorServerVersion": "La version de ce serveur ({{server_version}}) est différente de votre version du jeu ({{client_version}}). Vous risquez de rencontrer des problèmes.",
    "addressLabel": "Adresse du serveur :",
    "roomCode": "Code de la salle :",
    "untitled": "Sans titre",
    "searchingPlayers": "(recherche de joueurs)",
    "started": "(partie démarrée)",
    "starting": "(démarrage en cours)",
    "authenticationServer": "Authentification au serveur",
    "linkAuthenticationServer": "Si le formulaire ne s'affiche pas, cliquez ici",
    "disconnectedError": "Vous avez été déconnecté du serveur. Veuillez réessayer."
  }
}, true, false); // English

i18next__WEBPACK_IMPORTED_MODULE_0__["default"].addResourceBundle("en", "translation", {
  "debugModeEnabled": "Debug mode enabled",
  "lang": {
    "fr": "Français",
    "en": "English"
  },
  "update": {
    "updateAvailable": "An update of the game is available",
    "version": "Version",
    "of": "of",
    "current": "You currently have the version",
    "versionDate": "{{date, MM/DD/YYYY}}",
    "download": "Download the update",
    "getURL": "Get the URL to the download",
    "getChanges": "Get the list of changes",
    "URLToDownload": "Download URL:",
    "noChanges": "No change provided.",
    "changes": "Changes in the new version:"
  },
  "menu": {
    "selectGame": "Select a game mode:",
    "soloAi": "Single AI",
    "soloPlayer": "Single player",
    "playerVsAi": "Player VS AI",
    "aiVsAi": "AI VS AI",
    "battleRoyale": "Battle Royale",
    "onlineBattleRoyale": "Online Battle Royale",
    "levelsSoloPlayer": "Levels (single player)",
    "levelsSoloAI": "Levels (single AI)",
    "version": "Version",
    "versionDate": "{{date, MM/DD/YYYY}}",
    "by": "By",
    "infos": "More informations",
    "readme": "Readme file",
    "source": "Download the source",
    "language": "Language:",
    "othersSettings": "Settings",
    "enableAnimations": "Enable the animations",
    "showDebugInfo": "Enable the debug mode",
    "renderBlur": "Enable the blur rendering",
    "enableMultithreading": "Enable the multithreading",
    "onlineEnableClientSidePredictions": "Enable the client-side predictions for online game",
    "settingNotAvailable": "This setting is currently unavailable.",
    "multithreadingInfos": "If enabled, the game engine and the graphics engine will run independently which will improve game performance.",
    "onlineEnableClientSidePredictionsInfos": "If enabled, the performance of the online game mode will be more stable. Experimental functionality.",
    "textOutput": "Enable the text mode rendering",
    "graphicSkin": "Graphic skin:",
    "flat": "Flat (by default)",
    "tropical": "Tropical",
    "pixel": "Pixel",
    "maxFPS": "Maximum FPS:"
  },
  "settings": {
    "title": "Game settings:",
    "possibleFailInitGame": "It's possible that the initialization of the game fails with your settings because there will not be enough space to place all the Snake. In this case, a message \"An error has occurred\" may be displayed. Try with other settings.",
    "gridSize": "Grid size:",
    "placeholderHeight": "Height",
    "placeholderWidth": "Width",
    "invalidSize": "This value must be between {{min}} and {{max}}",
    "options": "Others options:",
    "borderWalls": "Surround the grid with walls",
    "generateWalls": "Generate walls at random positions",
    "mazeGrid": "Generate a maze",
    "sameGrid": "Game on the same grid",
    "speed": "Speed:",
    "speedSelect": {
      "1": "1 – Fastest",
      "3": "3 – Fast",
      "5": "5 – Medium",
      "8": "8 – Normal",
      "10": "10 – Quite slow",
      "15": "15 – Slow",
      "20": "20 – Very slow",
      "25": "25 – Extremely slow",
      "custom": "Custom speed…"
    },
    "invalidSpeed": "This value must be between {{min}} and {{max}}",
    "progressiveSpeed": "Increase the speed progressively",
    "customSpeed": "Custom speed:",
    "placeholderCustomSpeed": "Enter the speed…",
    "customSpeedHelp": "The higher the number, the slower the game speed, and vice versa",
    "playerSettings": "Player options:",
    "aiAssistant": "Enable the AI assistant",
    "aiAssistantInfos": "By enabling this option, an AI ​​will try to correct your trajectory if you are about to crash into an obstacle. Reduces the difficulty of the game.",
    "aiLevel": "AI level:",
    "aiLevelSelect": {
      "random": "Random",
      "low": "Low",
      "normal": "Normal",
      "high": "High",
      "ultra": "Ultra"
    },
    "invalidaiLevel": "This value is invalid",
    "autoRetry": "Make the AI restarts its game after a Game Over",
    "numberIA": "Number of AI:",
    "placeholderNumberIA": "Enter the number…",
    "invalidIANumber": "This value must be between 2 and 100",
    "battleAgainstAIs": "Play against AIs",
    "validate": "Validate",
    "reset": "Reset",
    "backToMenu": "Back to the menu",
    "privateGame": "Keep the game private",
    "enableAI": "Enable the AIs",
    "seedGrid": "Grid random value:",
    "seedGame": "Game random value:",
    "advancedSettings": "Advanced settings…",
    "invalidValue": "This value is invalid."
  },
  "game": {
    "backToMenu": "Back to the menu",
    "currentMode": "Current game mode:",
    "confirmQuit": "Are you sure that you want to go back to the menu?",
    "equalityPlayerVSAI": "You finished tied with AI!",
    "winPlayerVSAI": "Congratulations, you won!",
    "losePlayerVSAI": "Too bad, the AI ​​beat you with a higher score!",
    "oneWinnerAIVSAI": "The AI n°{{numWinner}} won!",
    "equalityAIVSAI": "The two AIs finished tied!",
    "oneWinnerBattleRoyale": "The AI n°{{numWinner}} won with a score of {{score}}!",
    "winnersBattleRoyale": "The AIs",
    "winnerAIBattleRoyale": "The AI",
    "winnersNumBattleRoyale": "n°{{numWinner}}",
    "andWinnersBattleRoyale": "and",
    "andPlayerWinnersBattleRoyale": "as well as you",
    "winScoreBattleRoyale": "won with a score of {{score}}!",
    "winPlayerScoreBattleRoyale": "won with a score of {{score}}!",
    "playerWinnerBattleRoyale": "You won with a score of {{score}}!"
  },
  "levels": {
    "default": "Default levels",
    "downloaded": "Downloaded levels",
    "titlePlayer": "Levels (single player)",
    "titleAI": "Levels (single AI)",
    "emptyList": "No level found…",
    "download": "Download levels",
    "downloadLink": "The levels will be downloaded from {{url}}",
    "editDownloadURL": "Edit the download URL",
    "editDownloadURLPrompt": "Enter the download URL of the levels.\n* Available variables:\n{player} - player type (human, AI)\n{appVersion} - version of the application.\n\nChanging this setting may cause the game to crash or expose you to security issues. Only change it if you know what you are doing. This setting is not persistent and will be erased if you reload the application.",
    "downloading": "Downloading, please wait… If the button remains gray after more than 10 seconds, click on the button below to unblock and try again:",
    "buttonDeblock": "Unlock the download",
    "disabledLevel": "Level locked. Complete the previous levels to unlock it.",
    "notCompatible": "This level is not compatible with this version of the game. Update it.",
    "goalAchieved": "Goal achieved! You can move to the next level.",
    "goalNotAchieved": "Goal missed! Try again.",
    "level": "Level",
    "reachScore": "Reach at least the score of {{value}} to pass this level!",
    "reachScoreTime": "Reach the score of {{value}} in less than {{count}} second!",
    "reachScoreTime_plural": "Reach the score of {{value}} in less than {{count}} seconds!",
    "reachMaxScore": "Reach the maximum score for this grid to pass this level!",
    "multiBestScore": "Finish this game by getting a better score than the opponent to pass this level!",
    "multiBestScore_plural": "Finish this game by getting a better score than the opponents to pass this level!",
    "multiReachScoreFirst": "Reach the score of {{value}} before the opponent to pass this level!",
    "multiReachScoreFirst_plural": "Reach the score of {{value}} before the opponents to pass this level!",
    "mazeMode": "Maze mode! Find the path to the apple to pass this level.\nThe Snake doesn't move automatically.",
    "bestScore": "Best score: {{count}}",
    "bestTime": "Best time: {{count}} second",
    "bestTime_plural": "Best time: {{count}} seconds",
    "timerRemaining": "{{count}} second left",
    "timerRemaining_plural": "{{count}} seconds left",
    "bestScoreShort": "× {{count}}",
    "bestTimeShort": "{{count}} second",
    "bestTimeShort_plural": "{{count}} seconds",
    "localstorageDisabled": "Cookies are disabled on your browser. You will lose your progress the next time you reload the page. Activate them and reload the page to avoid this.",
    "difficulty": "Difficulty :",
    "levelBonusShop": "Bonus shop",
    "displayBonusShop": "Display the shop…",
    "bonusNotApplicable": "This bonus is not applicable.",
    "notEnoughFruits": "You don't have enough credit to buy this bonus.",
    "bonusAlreadyEquipped": "You are already equipped with a bonus. Use it while playing a level or sell it.",
    "bonusEquipped": "Equipped bonus:",
    "none": "none",
    "sellBonus": "Sell the bonus",
    "bonus": {
      "passLevel": "Pass a level",
      "passLevelInfo": "This bonus allows you to pass a level. Buy it, then select a level: it will be automatically passed, as if you had succeeded it.",
      "aiAssistant": "Assistant AI mode",
      "aiAssistantInfo": "This bonus enables the AI ​​assistant mode to be activated. Buy it, then select a level: AI assistant mode will be activated. Does not work for some levels, like mazes.",
      "unlockAllLevels": "Unlock all levels",
      "unlockAllLevelsInfo": "This bonus allows you to unlock all levels, whether present or future.",
      "increaseGoldFruits": "Increase the frequency of appearance of golden apples",
      "increaseGoldFruitsInfo": "This bonus allows you to increase the frequency of appearance of golden apples: the chance of appearing is reduced from 1 in 100 to 1 in 3.",
      "destroyAis": "Destroy opponent AIs",
      "destroyAisInfo": "This bonus allows you to destroy enemy AIs, which makes levels with AIs easier.",
      "unknown": "Unknown bonus",
      "unknownInfo": "This bonus is unknown. Perhaps it was purchased on a newer version of the game. Do you want to sell it anyway, knowing that its price is unknown? In other words, you will not be refunded.",
      "noTimeLimit": "No time limit",
      "noTimeLimitInfo": "Disables the time limit for levels that have one."
    }
  },
  "servers": {
    "serverList": "Servers list",
    "selectInfo": "Select a server:",
    "noServerFound": "No server found…",
    "loadingList": "Loading servers list… Please wait.",
    "noRoomound": "No room found…",
    "infos": "{{width}}×{{height}} – Speed: {{speed}}",
    "infosBorderWalls": "Grid bordered by walls",
    "infosGenerateWalls": "Random walls",
    "infosPlayers": "{{count}} player/{{max}}",
    "infosPlayers_plural": "{{count}} players/{{max}}",
    "infosSpectators": "{{count}} spectator",
    "infosSpectators_plural": "{{count}} spectators",
    "backToList": "Back to the servers list",
    "roomsListTitle": "Rooms list",
    "roomsListInfos": "Select a room:",
    "loadingRooms": "Loading the rooms list… Please wait.",
    "createRoom": "Create a room",
    "connectionError": "An error has occurred when connecting to the server. Please retry.",
    "errorLoadingRooms": "An error has occurred when loading the rooms list. Please retry.",
    "creatingRoom": "Creating the room… Please wait.",
    "room": "Room n°{{number}}",
    "errorRoomCreation": "An error has occurred when creating the room. Please retry.",
    "joinPrivateRoom": "Join a private room",
    "enterCode": "Enter the code of the room:",
    "customServer": "Custom server…",
    "enterCustomServer": "Enter the address of the server:",
    "connectingToServer": "Connecting to the server… Please wait.",
    "cancel": "Cancel",
    "refreshRooms": "Refresh the list",
    "joinRoom": "Joining the room… Please wait.",
    "errorRoomJoin": "An error has occurred when joining the room. Please retry.",
    "errorReason": "Error reason:",
    "errorReason_unknown": "Unknown",
    "errorRoomJoinReason_roomNotFound": "The room was not found.",
    "errorRoomJoinReason_roomAlreadyJoined": "You already joined this room.",
    "errorRoomCreationReason_maxRoomLimitReached": "The maximum number of rooms the server can manage has been reached.",
    "errorRoomCreationReason_invalidSettings": "Invalid settings.",
    "errorRoomCreationReason_alreadyCreatedRoom": "You have already created a room or you have already joined a room.",
    "errorServerVersion": "This server version ({{server_version}}) is different from your version of the game ({{client_version}}). You may encounter issues.",
    "addressLabel": "Server address:",
    "roomCode": "Room code:",
    "untitled": "Untitled",
    "searchingPlayers": "(searching players)",
    "started": "(game started)",
    "starting": "(game starting)",
    "authenticationServer": "Server authentication",
    "linkAuthenticationServer": "If the form does not appear, click here",
    "disconnectedError": "You have been disconnected from the server. Please retry."
  }
}, true, false);

/***/ }),

/***/ "./libs/lowlight.astar.min.js":
/*!************************************!*\
  !*** ./libs/lowlight.astar.min.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
Copyright 2017, Lecoq Simon (lowlight.fr)

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/
(function(a){var b=Math.sign,c=Math.min,d=Math.abs;"undefined"==typeof a.Lowlight&&(a.Lowlight={}), true&&"object"==typeof module.exports&&(module.exports=a.Lowlight);class e{constructor(){this.nodes=new Map}id(a){return a}node(a,b=!1){return b?this.nodes.get(this.id(arguments[0])):this.nodes.get(a)}data(a,b){return 2===arguments.length&&(a.graph.get(this)._data=b),a.graph.get(this)._data}adjacent(c,a){return c.graph.get(this).has(a)}neighbors(a){return Array.from(a.graph.get(this).keys())}connected(c,a){return c.graph.get(this)._connectivity===a.graph.get(this)._connectivity}connect(){let a=Array.from(this.nodes.values()),b=0;for(let b=0;b<a.length;b++)a[b].graph.get(this)._connectivity=void 0;for(let c=0;c<a.length;c++){if(void 0!==a[c].graph.get(this)._connectivity)continue;let d=[a[c]];for(b++;d.length;){let a=d.shift();a.graph.get(this)._connectivity=b,this.neighbors(a).map((a)=>{void 0===a.graph.get(this)._connectivity&&0>d.indexOf(a)&&d.push(a)})}}}add(a){return 1<arguments.length?Array.from(arguments).map((a)=>this.add(a)):(a.graph.set(this,new Map),this.nodes.set(a.id,a),a)}delete(a){return 1<arguments.length?Array.from(arguments).map((a)=>this.delete(a)):(a.graph.delete(this),this.nodes.delete(a.id),a)}edge(c,a,b=1,d=1){if(!c.graph.has(this)||!a.graph.has(this))throw new Error("Nodes must be on the same graph");return null===b?c.graph.get(this).delete(a):c.graph.get(this).set(a,b),null===d?a.graph.get(this).delete(c):a.graph.get(this).set(c,d),this}cost(c,a){return this.adjacent(c,a)?c.graph.get(this).get(a):null}}e.fromArray=function(a,b={}){let c=e.fromArray.X(a,b.order),d=e.fromArray.Y(a,b.order),g=e.fromArray.at.bind(null,a,b.order),h=[],j=null;for(let k,l=1;l<Math.max(2,arguments.length);l++){k=new e,h.push(k),b=arguments[l]||{};let a=e.fromArray.id.bind(null,c,d,b.torus),i=b.cost||e.fromArray.cost,n=e.fromArray.edge.bind(null,k,i);for(let b=0;b<c;b++)for(let c,e=0;e<d;e++)c=k.add(j?j.get(a(b,e)):new f(a(b,e))),c.x=b,c.y=e,c.graph.get(k)._data=g(b,e),n(c,k.nodes.get(a(b-1,e))),n(c,k.nodes.get(a(b+1,e))),n(c,k.nodes.get(a(b,e-1))),n(c,k.nodes.get(a(b,e+1)));if(b.diagonals)for(let e=0;e<c;e++)for(let c=0;c<d;c++){let d=k.nodes.get(a(e,c)),f=k.adjacent(d,k.nodes.get(a(e-1,c))),g=k.adjacent(d,k.nodes.get(a(e+1,c))),h=k.adjacent(d,k.nodes.get(a(e,c-1))),i=k.adjacent(d,k.nodes.get(a(e,c+1)));"strict"===b.cutting?(f&&h&&n(d,k.nodes.get(a(e-1,c-1))),f&&i&&n(d,k.nodes.get(a(e-1,c+1))),g&&h&&n(d,k.nodes.get(a(e+1,c-1))),g&&i&&n(d,k.nodes.get(a(e+1,c+1)))):((f||h||b.cutting)&&n(d,k.nodes.get(a(e-1,c-1))),(f||i||b.cutting)&&n(d,k.nodes.get(a(e-1,c+1))),(g||h||b.cutting)&&n(d,k.nodes.get(a(e+1,c-1))),(g||i||b.cutting)&&n(d,k.nodes.get(a(e+1,c+1))))}Object.defineProperty(k,"id",{enumerable:!1,configurable:!1,writable:!0,value(b){return a(b.x,b.y)}}),k.connect(),k.X=c,k.Y=d,k.TORUS=b.torus,j||(j=k.nodes)}return 1<h.length?h:h[0]},e.fromArray.X=function(a,b="yx"){return"xy"===b?a.length:"yx"===b?a[0].length:0},e.fromArray.Y=function(a,b="yx"){return"xy"===b?a[0].length:"yx"===b?a.length:0},e.fromArray.at=function(a,b="yx",c,d){return"xy"===b?a[c][d]:a[d][c]},e.fromArray.id=function(a=0,b=0,c=!1,d,e){return c?(e+b)%b*a+(d+a)%a:0<=d&&d<a&&0<=e&&e<b?e*a+d:null},e.fromArray.cost=function(){return 1},e.fromArray.edge=function(c,d,e,a){a&&c.edge(e,a,d(c.data(e),c.data(a)),d(c.data(a),c.data(e)))},e.fromArray.update=function(){console.warn("Graph.fromArray isn't implemented yet")};class f{constructor(a,b){for(let c in this.id=a,this.graph=new Map,b)"id"!=c&&"graph"!=c&&(this[c]=b[c])}}class g{constructor(a){this.nodes=[],this.score="function"==typeof a?a:(b)=>+b}get size(){return this.nodes.length}add(a){if(1<arguments.length){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}return this.nodes.push(a),this.bubble(this.size-1)}set(a){let b=this.nodes.indexOf(a);return~b?this.score(a)<=this.score(this.nodes[b])?this.bubble(this.nodes.indexOf(a)):this.sink(this.nodes.indexOf(a)):this.add(a)}pop(){let a=this.nodes[0],b=this.nodes.pop();return 0<this.size&&(this.nodes[0]=b,this.sink(0)),a}top(){return this.nodes[0]}delete(a){if(1<arguments.length){for(let a=0;a<arguments.length;a++)this.delete(arguments[a]);return this}for(let b=0;b<this.size;b++){if(this.nodes[b]!=a)continue;let c=this.nodes.pop();return b==this.size-1?this:(this.nodes[b]=c,this.bubble(b).sink(b))}}bubble(a){let b=this.nodes[a],c=this.score(b);for(;0<a;){let d=Math.floor((a+1)/2)-1,e=this.nodes[d];if(c>=this.score(e))break;this.nodes[d]=b,this.nodes[a]=e,a=d}return this}sink(a){let b=this.nodes[a],c=this.score(b);for(;;){let d=2*(a+1),e=d-1,f=null;if(e<this.size&&this.score(this.nodes[e])<c&&(f=e),d<this.size&&this.score(this.nodes[d])<(f?this.score(this.nodes[f]):c)&&(f=d),null===f)break;this.nodes[a]=this.nodes[f],this.nodes[f]=b,a=f}return this}}let h={manhattan:function(c,a,b={}){let e=d(a.x-c.x),f=d(a.y-c.y);return(b.multiplier||1)*(e+f)},manhattanTorus:function(e,a,b={}){let f=c(d(a.x-e.x),a.x+(b.x||0)-e.x,e.x+(b.x||0)-a.x),g=c(d(a.y-e.y),a.y+(b.y||0)-e.y,e.y+(b.y||0)-a.y);return(b.multiplier||1)*(f+g)},diagonal:function(e,a,b={}){let f=d(a.x-e.x),g=d(a.y-e.y);return m*(f+g)+(dm-2*m)*c(f,g)},diagonalTorus:function(e,a,b={}){let f=c(d(a.x-e.x),a.x+(b.x||0)-e.x,e.x+(b.x||0)-a.x),g=c(d(a.y-e.y),a.y+(b.y||0)-e.y,e.y+(b.y||0)-a.y);return(b.multiplier||1)*(f+g)+((b.diagonalMultiplier||1.4)-2*(b.multiplier||1))*c(f,g)},euclidian:function(c,a,b={}){let e=d(a.x-c.x),f=d(a.y-c.y);return(b.multiplier||1)*Math.sqrt(e*e+f*f)},euclidianTorus:function(e,a,b={}){let f=c(d(a.x-e.x),a.x+(b.x||0)-e.x,e.x+(b.x||0)-a.x),g=c(d(a.y-e.y),a.y+(b.y||0)-e.y,e.y+(b.y||0)-a.y);return(b.multiplier||1)*(f+g)+((b.diagonalMultiplier||1.4)-2*(b.multiplier||1))*c(f,g)}};class i extends Error{constructor(a){super(a),this.name="WorkerError"}}class j{constructor(a,b={}){if(this.graphs=[],this.heuristic=b.heuristic||"manhattan",this.heuristicOptions=b.heuristicOptions||{},Array.isArray(a)&&(this.heuristic=b.heuristic in h?b.heuristic:b.diagonals?b.torus?"diagonalTorus":"diagonal":b.torus?"manhattanTorus":"manhattan",this.heuristicOptions.x=e.fromArray.X(a,b.order),this.heuristicOptions.y=e.fromArray.Y(a,b.order),this.graphs=e.fromArray.apply(this,arguments),!Array.isArray(this.graphs)&&(this.graphs=[this.graphs])),b.thread&&("undefined"==typeof WorkerGlobalScope||!(self instanceof WorkerGlobalScope))){this.worker=null;try{this.worker=new Worker(b.thread)}catch(a){throw"file:"===window.location.protocol&&console.warn("WebWorkers in local files may not be supported by your browser."),new i(`${b.thread} couldn't be opened.`)}"cost"in b&&(b.cost=b.cost.toString()),this.worker.postMessage(["constructor",a,b]),this.path=(a,b,c={})=>{this._worker_path_callback=c.callback,delete c.callback,this.worker.postMessage(["path",a,b,c])},this.worker.onmessage=(a)=>{let b=JSON.parse(a.data);switch(b[0]){case"path":this._worker_path_callback(b[1]);}}}}path(a,b,c={}){if(c.jps)return this.jps(a,b,c);let d=new g((a)=>a.estimated),e=new Map,f=this.graphs[c.layer||0];if(a=f.node(a,!0),b=f.node(b,!0),d.add({node:a,estimated:0}),e.set(a,{score:0,from:null}),!c.static||f.connected(a,b))for(;d.size;){let a=d.pop().node;if(a===b)break;f.neighbors(a).map((g)=>{let i=(e.has(a)?e.get(a).score:0)+f.cost(a,g);i<(e.has(g)?e.get(g).score:Infinity)&&(e.set(g,{score:i,from:a}),d.set({node:g,estimated:i+h[c.heuristic||this.heuristic](g,b,c.heuristicOptions||this.heuristicOptions)}))}),d.delete(a)}let i=[];if(e.has(b)){let a=b;for(i.push(b);null!==(a=e.get(a).from);)i.push(a);i=i.reverse()}return c.callback&&c.callback(i,e),i}}if(j.JPS=class{constructor(){}static access(c,d,a,b){return c.adjacent(d,b?c.node(a,!0):a)}static neighborhood(a,c,d,e){let f=[],g=d.get(e).from||null;if(null!==g){let h={x:b(e.x-g.x),y:b(e.y-g.y)};if(0!=h.x&&0!=h.y){let b=a(e,{x:e.x+h.x,y:e.y},!0),d=a(e,{x:e.x,y:e.y+h.y},!0);(b||d)&&(f.push(c.node({x:e.x+h.x,y:e.y+h.y},!0)),b&&(f.push(c.node({x:e.x+h.x,y:e.y},!0)),!a(e,{x:e.x,y:e.y-h.y},!0)&&f.push(c.node({x:e.x+h.x,y:e.y-h.y},!0))),d&&(f.push(c.node({x:e.x,y:e.y+h.y},!0)),!a(e,{x:e.x-h.x,y:e.y},!0)&&f.push(c.node({x:e.x-h.x,y:e.y+h.y},!0))))}else a(e,{x:e.x+h.x,y:e.y+h.y},!0)&&(f.push(c.node({x:e.x+h.x,y:e.y+h.y},!0)),0==h.x?0!=h.y&&(!a(e,{x:e.x-1,y:e.y},!0)&&f.push(c.node({x:e.x-1,y:e.y+h.y},!0)),!a(e,{x:e.x+1,y:e.y},!0)&&f.push(c.node({x:e.x+1,y:e.y+h.y},!0))):(!a(e,{x:e.x,y:e.y-1},!0)&&f.push(c.node({x:e.x+h.x,y:e.y-1},!0)),!a(e,{x:e.x,y:e.y+1},!0)&&f.push(c.node({x:e.x+h.x,y:e.y+1},!0))))}else return c.neighbors(e);return f.filter((a)=>a)}static jump(a,c,e,f,g,h){for(;;){if(!a(h,g))return null;if(g.x===f.x&&g.y===f.y)return g;let i={x:b(g.x-h.x),y:b(g.y-h.y)};if(0!=i.x&&0!=i.y){if(!a(g,{x:g.x-i.x,y:g.y},!0)&&a(g,{x:g.x-i.x,y:g.y+i.y},!0)||!a(g,{x:g.x,y:g.y-i.y},!0)&&a(g,{x:g.x+i.x,y:g.y-i.y},!0))return g;let b=j.JPS.jump.bind(this,a,c,e,f);if(null!==b(c.node({x:g.x+i.x,y:g.y},!0),g)||null!==b(c.node({x:g.x,y:g.y+i.y},!0),g))return g}else if(0!=i.x){if(!a(g,{x:g.x,y:g.y-1},!0)&&a(g,{x:g.x+i.x,y:g.y-1},!0)||!a(g,{x:g.x,y:g.y+1},!0)&&a(g,{x:g.x+i.x,y:g.y+1},!0))return g;}else if(0!=i.y&&(!a(g,{x:g.x-1,y:g.y},!0)&&a(g,{x:g.x-1,y:g.y+i.y},!0)||!a(g,{x:g.x+1,y:g.y},!0)&&a(g,{x:g.x+1,y:g.y+i.y},!0)))return g;h=g,g=c.node({x:g.x+i.x,y:g.y+i.y},!0)}return null}},j.prototype.jps=function(a,c,d={}){if(this.graphs[d.layer||0].TORUS)return console.warn("Torus map aren't yet supported by JPS"),d.callback&&d.callback([],new Map),[];let e=new g((a)=>a.estimated),f=new Map,i=this.graphs[d.layer||0],k=null;a=i.node(a,!0),c=i.node(c,!0),e.add({node:a,estimated:0}),f.set(a,{score:0,from:null});let l=j.JPS.access.bind(this,i),n=j.JPS.neighborhood.bind(this,l,i,f),o=j.JPS.jump.bind(this,l,i,f,c);if(!d.static||i.connected(a,c))for(;e.size;){let a=e.pop().node;if(a===c)break;n(a).map((b)=>{if(null!==(k=o(b,a))){let b=(f.has(a)?f.get(a).score:0)+i.cost(a,k);b<(f.has(k)?f.get(k).score:Infinity)&&(f.set(k,{score:b,from:a,jumped:!0}),e.set({node:k,estimated:b+h[d.heuristic||this.heuristic](k,c,d.heuristicOptions||this.heuristicOptions)}))}}),e.delete(a)}let p=[];if(f.has(c)){let d=c;for(;d.x!=a.x||d.y!=a.y;)for(let a=f.get(d).from;d.x!=a.x||d.y!=a.y;)p.push(d),d=i.node({x:d.x+b(a.x-d.x),y:d.y+b(a.y-d.y)},!0);p.push(d),p.reverse()}return d.callback&&d.callback(p,f),p},"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){let a;onmessage=function(b){let c=b.data;switch(c[0]){case"constructor":if("cost"in c[2]){let a=/^\((.*?)\)\s*=>\s*{/.test(c[2].cost),b=/^function /.test(c[2].cost);c[2].cost=eval(`(${a||b?"":"function "}${c[2].cost})`)}a=new j(c[1],c[2]);break;case"path":postMessage(JSON.stringify(["path",a.path(c[1],c[2],c[3])]));}}}a.Lowlight.Astar={Graph:e,Node:f,BinaryHeap:g,Heuristic:h,Configuration:j,WorkerError:i}})("undefined"==typeof window?this:window);

/***/ }),

/***/ "./main.js":
/*!*****************!*\
  !*** ./main.js ***!
  \*****************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/* harmony import */ var _src_Shim__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./src/Shim */ "./src/Shim.js");
/* harmony import */ var _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/engine/Constants */ "./src/engine/Constants.js");
/* harmony import */ var _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/engine/Snake */ "./src/engine/Snake.js");
/* harmony import */ var _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./src/engine/Grid */ "./src/engine/Grid.js");
/* harmony import */ var _src_engine_GameGroup__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src/engine/GameGroup */ "./src/engine/GameGroup.js");
/* harmony import */ var _src_engine_OnlineClient__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./src/engine/OnlineClient */ "./src/engine/OnlineClient.js");
/* harmony import */ var _src_ui_GameUI_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./src/ui/GameUI.js */ "./src/ui/GameUI.js");
/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! seedrandom */ "./node_modules/seedrandom/index.js");
/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(seedrandom__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _src_StorageFactory__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./src/StorageFactory */ "./src/StorageFactory.js");
/* harmony import */ var _src_Timers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./src/Timers */ "./src/Timers.js");
/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */










 // Modes :

window.SOLO_AI = "SOLO_AI";
window.SOLO_PLAYER = "SOLO_PLAYER";
window.PLAYER_VS_AI = "PLAYER_VS_AI";
window.AI_VS_AI = "AI_VS_AI";
window.BATTLE_ROYALE = "BATTLE_ROYALE";
window.BATTLE_ROYALE_ONLINE = "BATTLE_ROYALE_ONLINE"; // URIs :

window.UPDATER_URI = "https://www.eliastiksofts.com/snakeia/update/";
window.SERVERS_LIST_URI = "https://www.eliastiksofts.com/snakeia/serversList/"; // Levels types :

window.LEVEL_REACH_SCORE = "LEVEL_REACH_SCORE";
window.LEVEL_REACH_MAX_SCORE = "LEVEL_REACH_MAX_SCORE";
window.LEVEL_MULTI_BEST_SCORE = "LEVEL_MULTI_BEST_SCORE";
window.LEVEL_MULTI_REACH_SCORE_FIRST = "LEVEL_MULTI_REACH_SCORE_FIRST";
window.LEVEL_REACH_SCORE_ON_TIME = "LEVEL_REACH_SCORE_ON_TIME";
window.LEVEL_MAZE_WIN = "LEVEL_MAZE_WIN";
window.DEFAULT_LEVEL = "DEFAULT_LEVEL";
window.DOWNLOADED_LEVEL = "DOWNLOADED_LEVEL"; // Default levels :
// Level model : { settings: [heightGrid, widthGrid, borderWalls, generateWalls, sameGrid, speed, progressiveSpeed, aiLevel, numberIA, generateMaze, customGrid, mazeForceAuto, seedGrid, seedGame], type: levelType(see below), typeValue: levelTypeValue(score, time, ...), version: (version min to play the level) }

window.DEFAULT_LEVELS_SOLO_PLAYER = {
  1: {
    settings: [20, 20, false, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 20,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  2: {
    settings: [20, 20, true, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 20,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  3: {
    settings: [20, 20, true, true, true, 15, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 15,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  4: {
    settings: [20, 20, false, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE_ON_TIME,
    typeValue: [20, 60],
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  5: {
    settings: [10, 10, true, false, true, 15, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 20,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  6: {
    settings: [15, 15, true, true, true, 15, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 20,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  7: {
    settings: [15, 15, false, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE_ON_TIME,
    typeValue: [20, 45],
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  8: {
    settings: [20, 20, false, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 35,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  9: {
    settings: [15, 15, false, false, false, null, false, null, 1],
    type: LEVEL_MULTI_BEST_SCORE,
    typeValue: null,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  10: {
    settings: [10, 10, false, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE_ON_TIME,
    typeValue: [10, 15],
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  11: {
    settings: [20, 20, false, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 50,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  12: {
    settings: [20, 20, true, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 50,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  13: {
    settings: [20, 20, true, true, true, 15, false, null, 0],
    type: LEVEL_REACH_SCORE_ON_TIME,
    typeValue: [15, 60],
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  14: {
    settings: [20, 20, true, false, true, 5, true, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 30,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  15: {
    settings: [15, 15, false, false, true, null, false, null, 1],
    type: LEVEL_REACH_SCORE_ON_TIME,
    typeValue: [15, 60],
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  16: {
    settings: [20, 20, false, false, true, null, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 75,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  17: {
    settings: [15, 15, true, false, true, 15, false, null, 2],
    type: LEVEL_MULTI_BEST_SCORE,
    typeValue: null,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  18: {
    settings: [5, 5, true, false, true, 25, false, null, 0],
    type: LEVEL_REACH_MAX_SCORE,
    typeValue: null,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  19: {
    settings: [5, 5, false, true, true, 10, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 10,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  },
  20: {
    settings: [20, 20, false, true, true, 15, false, null, 0],
    type: LEVEL_REACH_SCORE,
    typeValue: 50,
    version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
  }
};
window.SOLO_PLAYER_SAVE = "snakeia_solo_player_";
window.DEFAULT_LEVELS_SOLO_AI = DEFAULT_LEVELS_SOLO_PLAYER;
window.SOLO_AI_SAVE = "snakeia_solo_ai_"; // Downloadable levels :

window.DOWNLOAD_DEFAULT_URI = "https://www.eliastiksofts.com/snakeia/downloadLevels/?player={player}&ver={appVersion}";
window.SOLO_PLAYER_DOWNLOAD_LEVELS_TO = "snakeia_solo_player_downloadedLevels";
window.SOLO_AI_DOWNLOAD_LEVELS_TO = "snakeia_solo_ai_downloadedLevels";
var onlineClient = new _src_engine_OnlineClient__WEBPACK_IMPORTED_MODULE_6__["default"]();
var storageGlobal = new _src_StorageFactory__WEBPACK_IMPORTED_MODULE_9__["default"]();
var selectedMode = SOLO_AI;
var customSettings = {};
var workersAvailable = false;
document.getElementById("versionTxt").innerHTML = _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION;
document.getElementById("appVersion").innerHTML = _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION;
document.getElementById("dateTxt").innerHTML = DATE_VERSION;
document.getElementById("appUpdateDate").innerHTML = DATE_VERSION; // Libs

String.prototype.strcmp = function (str) {
  return this == str ? 0 : this > str ? 1 : -1;
};

if (!storageGlobal.isSupported) {
  document.getElementById("localstorageDisabled").style.display = "block";
} // Settings handling


Object(_src_Shim__WEBPACK_IMPORTED_MODULE_1__["WorkersAvailable"])(function (result) {
  workersAvailable = result;
  showSettings();
});

function restoreSettings() {
  customSettings = {
    enableAnimations: true,
    onlineEnableClientSidePredictions: false,
    renderBlur: false,
    enableMultithreading: true,
    showDebugInfo: false,
    textOutput: false,
    graphicSkin: "flat",
    maxFPS: -1,
    unlockAllLevels: false
  };
}

function saveSettings() {
  storageGlobal.setItem("snakeia_settings", JSON.stringify(customSettings));
  showSettings();
}

function getSettings() {
  return storageGlobal.getItem("snakeia_settings") && JSON.parse(storageGlobal.getItem("snakeia_settings")) || customSettings;
}

function showSettings() {
  var settings = getSettings();
  document.getElementById("enableAnimations").checked = false;
  document.getElementById("renderBlur").checked = false;
  document.getElementById("enableMultithreading").checked = false;
  document.getElementById("onlineEnableClientSidePredictions").checked = false;
  document.getElementById("showDebugInfo").checked = false;
  document.getElementById("textOutput").checked = false;
  if (settings.enableAnimations) document.getElementById("enableAnimations").checked = true;
  if (settings.renderBlur) document.getElementById("renderBlur").checked = true;
  if (settings.enableMultithreading && workersAvailable) document.getElementById("enableMultithreading").checked = true;
  if (settings.onlineEnableClientSidePredictions) document.getElementById("onlineEnableClientSidePredictions").checked = true;
  if (settings.showDebugInfo) document.getElementById("showDebugInfo").checked = true;
  if (settings.textOutput) document.getElementById("textOutput").checked = true;
  document.getElementById("graphicSkin").value = settings.graphicSkin;

  if (!workersAvailable) {
    document.getElementById("enableMultithreading").disabled = true;
    document.getElementById("multithreadingNotAvailable").style.display = "inline-block";
  } else {
    document.getElementById("enableMultithreading").disabled = false;
    document.getElementById("multithreadingNotAvailable").style.display = "none";
  }

  if (settings.maxFPS && !isNaN(settings.maxFPS)) {
    document.getElementById("maxFPS").value = settings.maxFPS;
  } else {
    document.getElementById("maxFPS").value = -1;
  }
}

restoreSettings();
customSettings = getSettings();
showSettings();

document.getElementById("enableAnimations").onchange = function () {
  customSettings.enableAnimations = this.checked;
  saveSettings();
};

document.getElementById("renderBlur").onchange = function () {
  customSettings.renderBlur = this.checked;
  saveSettings();
};

document.getElementById("enableMultithreading").onchange = function () {
  customSettings.enableMultithreading = this.checked;
  saveSettings();
};

document.getElementById("onlineEnableClientSidePredictions").onchange = function () {
  customSettings.onlineEnableClientSidePredictions = this.checked;
  saveSettings();
};

document.getElementById("showDebugInfo").onchange = function () {
  customSettings.showDebugInfo = this.checked;
  saveSettings();
};

document.getElementById("textOutput").onclick = function () {
  customSettings.textOutput = this.checked;
  saveSettings();
};

document.getElementById("graphicSkin").onchange = function () {
  customSettings.graphicSkin = this.value;
  saveSettings();
};

document.getElementById("maxFPS").oninput = function () {
  customSettings.maxFPS = this.value;
  saveSettings();
};

document.getElementById("resetParameters").onclick = function () {
  restoreSettings();
  saveSettings();
}; // Updater


function checkUpdate() {
  var script = document.createElement("script");
  script.src = UPDATER_URI;
  document.getElementsByTagName('head')[0].appendChild(script);
}

window.updateCallback = function (data) {
  if (typeof data !== "undefined" && data !== null && typeof data.version !== "undefined" && data.version !== null) {
    var newVersionTest = _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION.strcmp(data.version);

    if (newVersionTest < 0) {
      document.getElementById("updateAvailable").style.display = "block";
      document.getElementById("appUpdateVersion").textContent = data.version;
      var appUpdateDate = DATE_VERSION;

      if (typeof data.date !== "undefined" && data.date !== null) {
        appUpdateDate = data.date;
      }

      document.getElementById("appUpdateDate").textContent = appUpdateDate;
      var downloadURL = "http://eliastiksofts.com/snakeia/downloads/";

      if (typeof data.url !== "undefined" && data.url !== null) {
        downloadURL = data.url;
      }

      document.getElementById("appDownloadLink").onclick = function () {
        window.open(downloadURL, '_blank');
      };

      document.getElementById("appDownloadURLGet").onclick = function () {
        prompt(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("update.URLToDownload"), downloadURL);
      };

      var changes = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("update.noChanges");

      if (typeof data.changes !== "undefined" && data.changes !== null) {
        changes = data.changes;
      }

      document.getElementById("appUpdateChanges").onclick = function () {
        alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("update.changes") + "\n" + changes);
      };

      translateContent();
    }
  }
}; // Load server list


function loadServerList() {
  var script = document.createElement("script");
  script.src = SERVERS_LIST_URI;
  document.getElementsByTagName('head')[0].appendChild(script);
  document.getElementById("loadingServersList").style.display = "inline-block";
  document.getElementById("serverListGroup").innerHTML = "";
}

window.listServersCallback = function (data) {
  document.getElementById("serverListGroup").innerHTML = "";

  if (data != null && data.length > 0) {
    for (var i = 0; i < data.length; i++) {
      if (data[i]["url"] != null) {
        var url = data[i]["url"];
        var port = data[i]["port"];
        var name = data[i]["name"];
        var linkServer = document.createElement("a");
        linkServer.classList.add("list-group-item");
        linkServer.classList.add("list-group-item-action");

        if (name != null) {
          linkServer.textContent = name;
        } else {
          linkServer.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.untitled");
        }

        linkServer.onclick = function (u, p) {
          connectToServer(u, p);
        }.bind(null, url, port);

        var serverAddress = document.createElement("div");
        serverAddress.classList.add("small");
        serverAddress.classList.add("text-muted");

        if (port != null && port.trim() != "") {
          serverAddress.textContent = url + ":" + port;
        } else {
          serverAddress.textContent = url;
        }

        linkServer.appendChild(serverAddress);
        document.getElementById("serverListGroup").appendChild(linkServer);
      }
    }
  } else {
    var noServerFound = document.createElement("strong");
    noServerFound.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.noServerFound");
    document.getElementById("serverListGroup").appendChild(noServerFound);
  }

  document.getElementById("loadingServersList").style.display = "none";
};

document.getElementById("linkCustomServer").onclick = function () {
  var url = prompt(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.enterCustomServer"), "http://");

  if (url != null && url.trim() != "") {
    connectToServer(url);
  }
};

function connectToServer(url, port) {
  document.getElementById("menu").style.display = "none";
  document.getElementById("levelContainer").style.display = "none";
  document.getElementById("gameContainer").style.display = "none";
  document.getElementById("serverListContainer").style.display = "none";
  document.getElementById("roomsOnlineListContainer").style.display = "none";
  document.getElementById("roomsOnlineCreation").style.display = "none";
  document.getElementById("errorRoomCreation").style.display = "none";
  document.getElementById("settings").style.display = "none";
  document.getElementById("connectingToServer").style.display = "block";
  document.getElementById("roomsOnlineJoin").style.display = "none";
  document.getElementById("authenticationServer").style.display = "none";
  onlineClient.connect(url, port, function (success, data, id) {
    document.getElementById("connectingToServer").style.display = "none";

    if (!success) {
      if (data == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.AUTHENTICATION_REQUIRED || data == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.BANNED) {
        document.getElementById("authenticationServerContainer").innerHTML = "";
        var authent_frame = document.createElement("iframe");
        authent_frame.id = "authent_frame";
        authent_frame.src = onlineClient.getURL() + "/authentication?lang=" + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].language.substr(0, 2) + (id ? "&id=" + id : "");
        authent_frame.classList.add("frame-responsive");
        document.getElementById("authenticationServerContainer").appendChild(authent_frame);
        document.getElementById("linkAuthenticationServer").href = onlineClient.getURL() + "/authentication?lang=" + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].language.substr(0, 2) + (id ? "&id=" + id : "");
        displayAuthentication();
      } else if (data == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.DISCONNECTED) {
        alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.disconnectedError"));
        displayServerList();
      } else {
        alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.connectionError"));
        displayServerList();
      }
    } else {
      displayRoomsList();
    }
  });
}

document.getElementById("cancelConnectingToServer").onclick = function () {
  document.getElementById("connectingToServer").style.display = "none";
  onlineClient.disconnect();
  displayServerList();
};

document.getElementById("cancelAuthenticationToServer").onclick = function () {
  document.getElementById("authenticationServerContainer").innerHTML = "";
  document.getElementById("connectingToServer").style.display = "none";
  onlineClient.disconnect();
  displayServerList();
};

function displayRooms() {
  document.getElementById("loadingRoomsOnlineList").style.display = "inline-block";
  document.getElementById("roomsOnlineListGroup").innerHTML = "";
  document.getElementById("refreshRooms").disabled = "disabled";
  document.getElementById("errorRoomJoin").style.display = "none";
  document.getElementById("errorServerVersion").style.display = "none";
  onlineClient.displayRooms(function (success, data) {
    // Request rooms data
    document.getElementById("roomsOnlineListGroup").innerHTML = "";
    document.getElementById("errorRoomsList").style.display = "none";
    document.getElementById("refreshRooms").disabled = "";

    if (!success) {
      if (data == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.AUTHENTICATION_REQUIRED) {
        connectToServer(onlineClient.url, onlineClient.port);
      } else {
        document.getElementById("errorRoomsList").style.display = "block";
      }
    } else if (data.rooms != null && Object.keys(data.rooms).length > 0) {
      var _loop = function _loop(i) {
        var room = data.rooms[Object.keys(data.rooms)[i]];
        var code = room["code"];
        var linkRoom = document.createElement("a");
        linkRoom.classList.add("list-group-item");
        linkRoom.classList.add("list-group-item-action");
        linkRoom.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.room", {
          number: i + 1
        }) + (room.state != null ? " " + (room.state == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].GameState.SEARCHING_PLAYERS ? i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.searchingPlayers") : room.state == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].GameState.STARTING ? i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.starting") : room.state == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].GameState.STARTED ? i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.started") : "") : "");

        linkRoom.onclick = function () {
          joinRoom(code);
        };

        var gameInfos = document.createElement("div");
        gameInfos.classList.add("small");
        gameInfos.classList.add("text-muted");
        gameInfos.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.infos", {
          width: room.width,
          height: room.height,
          speed: room.speed
        });
        var gameInfosSecond = document.createElement("div");
        gameInfosSecond.classList.add("small");
        gameInfosSecond.classList.add("text-muted");
        gameInfosSecond.textContent = room.borderWalls ? i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.infosBorderWalls") : "";
        var gameInfosThird = document.createElement("div");
        gameInfosThird.classList.add("small");
        gameInfosThird.classList.add("text-muted");
        gameInfosThird.textContent = room.generateWalls ? i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.infosGenerateWalls") : "";
        var gameInfosPlayers = document.createElement("div");
        gameInfosPlayers.classList.add("small");
        gameInfosPlayers.classList.add("text-muted");
        gameInfosPlayers.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.infosPlayers", {
          count: room.players,
          max: room.maxPlayers
        });
        linkRoom.appendChild(gameInfos);
        linkRoom.appendChild(gameInfosSecond);
        linkRoom.appendChild(gameInfosThird);
        linkRoom.appendChild(gameInfosPlayers);

        if (room.spectators > 0) {
          var gameInfosSpectators = document.createElement("div");
          gameInfosSpectators.classList.add("small");
          gameInfosSpectators.classList.add("text-muted");
          gameInfosSpectators.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.infosSpectators", {
            count: room.spectators
          });
          linkRoom.appendChild(gameInfosSpectators);
        }

        document.getElementById("roomsOnlineListGroup").appendChild(linkRoom);
      };

      for (var i = 0; i < Object.keys(data.rooms).length; i++) {
        _loop(i);
      }
    } else {
      var noRoomFound = document.createElement("strong");
      noRoomFound.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.noRoomound");
      document.getElementById("roomsOnlineListGroup").appendChild(noRoomFound);
    }

    if (data && data.version) {
      onlineClient.engineServerVersion = data.version;
      onlineClient.serverVersion = data.serverVersion;

      if (data.version != _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION) {
        document.getElementById("errorServerVersion").style.display = "block";
        document.getElementById("errorServerVersionText").textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorServerVersion", {
          server_version: data.version,
          client_version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION
        });
      }
    }

    document.getElementById("loadingRoomsOnlineList").style.display = "none";
    document.getElementById("serverAddress").textContent = onlineClient.url + (onlineClient.port != null && onlineClient.port.trim() != "" ? ":" + onlineClient.port : "");
  });
}

document.getElementById("refreshRooms").onclick = function () {
  displayRooms();
};

function joinRoom(code) {
  document.getElementById("menu").style.display = "none";
  document.getElementById("levelContainer").style.display = "none";
  document.getElementById("gameContainer").style.display = "none";
  document.getElementById("serverListContainer").style.display = "none";
  document.getElementById("roomsOnlineListContainer").style.display = "none";
  document.getElementById("roomsOnlineCreation").style.display = "none";
  document.getElementById("errorRoomCreation").style.display = "none";
  document.getElementById("settings").style.display = "none";
  document.getElementById("connectingToServer").style.display = "none";
  document.getElementById("roomsOnlineJoin").style.display = "block";
  document.getElementById("authenticationServer").style.display = "none";
  document.getElementById("errorRoomJoin").style.display = "none";
  onlineClient.joinRoom(code, function (data) {
    document.getElementById("roomsOnlineJoin").style.display = "none";

    if (data.success) {
      var ui = new _src_ui_GameUI_js__WEBPACK_IMPORTED_MODULE_7__["default"](null, document.getElementById("gameContainer"), null, null, customSettings.showDebugInfo ? true : false, null, customSettings);
      var game = onlineClient.getGame(ui, customSettings);
      game.init();
      document.getElementById("gameContainer").style.display = "block";
      document.getElementById("titleGame").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.currentMode") + " " + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.onlineBattleRoyale");
      document.getElementById("gameOrder").textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.roomCode") + " " + code;
      document.getElementById("gameStatus").textContent = "";
      document.getElementById("gameStatusError").textContent = "";

      if (ui.canvas != undefined) {
        ui.canvas.scrollIntoView();
      }

      game.onExit(function () {
        onlineClient.stopGame();
        displayRoomsList();
      });
      game.onKill(function () {
        onlineClient.stopGame();
        displayRoomsList();
      });

      document.getElementById("backToMenuGame").onclick = function () {
        if (confirm(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.confirmQuit"))) {
          onlineClient.stopGame();
          displayRoomsList();
        }
      };
    } else {
      var errorCode = data.errorCode;
      var errorCode_text = "";

      switch (errorCode) {
        case _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.ROOM_NOT_FOUND:
          errorCode_text = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorRoomJoinReason_roomNotFound");
          break;

        case _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.ROOM_ALREADY_JOINED:
          errorCode_text = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorRoomJoinReason_roomAlreadyJoined");
          break;

        case _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.ALREADY_CREATED_ROOM:
          errorCode_text = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorRoomCreationReason_alreadyCreatedRoom");
          break;

        default:
          errorCode_text = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorReason_unknown");
          break;
      }

      document.getElementById("errorRoomJoinReason").textContent = errorCode_text;
      document.getElementById("errorRoomJoin").style.display = "block";
      document.getElementById("roomsOnlineJoin").style.display = "none";
      document.getElementById("roomsOnlineListContainer").style.display = "block";
    }
  });
}

document.getElementById("joinPrivateRoom").onclick = function () {
  var code = prompt(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.enterCode"));

  if (code != null) {
    joinRoom(code);
  }
}; // Simple modes


function selectMode(mode) {
  selectedMode = mode;

  if (selectedMode == SOLO_PLAYER) {
    document.getElementById("iaSettings").style.display = "none";
  } else {
    document.getElementById("iaSettings").style.display = "block";
  }

  if (selectedMode == SOLO_AI) {
    document.getElementById("autoRetrySettings").style.display = "block";
  } else {
    document.getElementById("autoRetrySettings").style.display = "none";
  }

  if (selectedMode == BATTLE_ROYALE) {
    document.getElementById("numberIASettings").style.display = "block";
  } else {
    document.getElementById("numberIASettings").style.display = "none";
  }

  if (selectedMode == PLAYER_VS_AI || selectedMode == AI_VS_AI || selectedMode == BATTLE_ROYALE) {
    document.getElementById("sameGridDiv").style.display = "block";
  } else {
    document.getElementById("sameGridDiv").style.display = "none";
  }

  if (selectedMode == SOLO_AI || selectedMode == SOLO_PLAYER) {
    document.getElementById("mazeGridDiv").style.display = "block";
  } else {
    document.getElementById("mazeGridDiv").style.display = "none";
  }

  if (selectedMode == BATTLE_ROYALE_ONLINE) {
    document.getElementById("sameGridDiv").style.display = "none";
    document.getElementById("mazeGridDiv").style.display = "none";
    document.getElementById("autoRetrySettings").style.display = "none";
    document.getElementById("progressiveSpeedDiv").style.display = "none";
    document.getElementById("privateGameDiv").style.display = "block";
    document.getElementById("iaSettings").style.display = "none";
    document.getElementById("seedSettings").style.display = "none";

    if (onlineClient.serverSettings && onlineClient.serverSettings.enableAI) {
      document.getElementById("enableAIDiv").style.display = "block";
    } else {
      document.getElementById("enableAIDiv").style.display = "none";
    }
  } else {
    document.getElementById("progressiveSpeedDiv").style.display = "block";
    document.getElementById("seedSettings").style.display = "block";
    document.getElementById("privateGameDiv").style.display = "none";
    document.getElementById("enableAIDiv").style.display = "none";
  }

  displaySettings();
}

document.getElementById("soloAi").onclick = function () {
  selectMode(SOLO_AI);
};

document.getElementById("soloPlayer").onclick = function () {
  selectMode(SOLO_PLAYER);
};

document.getElementById("playerVsAi").onclick = function () {
  selectMode(PLAYER_VS_AI);
};

document.getElementById("aiVsAi").onclick = function () {
  selectMode(AI_VS_AI);
};

document.getElementById("battleRoyale").onclick = function () {
  selectMode(BATTLE_ROYALE);
};

document.getElementById("createRoom").onclick = function () {
  selectMode(BATTLE_ROYALE_ONLINE);
};

function displayMenu() {
  document.getElementById("settings").style.display = "none";
  document.getElementById("levelContainer").style.display = "none";
  document.getElementById("gameContainer").style.display = "none";
  document.getElementById("serverListContainer").style.display = "none";
  document.getElementById("roomsOnlineListContainer").style.display = "none";
  document.getElementById("roomsOnlineCreation").style.display = "none";
  document.getElementById("errorRoomCreation").style.display = "none";
  document.getElementById("menu").style.display = "block";
  document.getElementById("connectingToServer").style.display = "none";
  document.getElementById("roomsOnlineJoin").style.display = "none";
  document.getElementById("authenticationServer").style.display = "none";
  document.getElementById("parameters").style.display = "none";
}

function displaySettings() {
  displayMenu();
  document.getElementById("settings").style.display = "block";
  document.getElementById("menu").style.display = "none";
  resetForm(false, true);

  if (selectedMode == BATTLE_ROYALE_ONLINE) {
    document.getElementById("backToMenu").onclick = function () {
      displayRoomsList();
    };
  } else {
    document.getElementById("backToMenu").onclick = function () {
      displayMenu();
    };
  }
}

function displayOthersSettings() {
  displayMenu();
  document.getElementById("menu").style.display = "none";
  document.getElementById("parameters").style.display = "block";
}

document.getElementById("backToMenu").onclick = function () {
  displayMenu();
};

document.getElementById("backToMenuLevelList").onclick = function () {
  displayMenu();
};

document.getElementById("backToMenuParameters").onclick = function () {
  displayMenu();
};

document.getElementById("othersSettings").onclick = function () {
  displayOthersSettings();
};

document.getElementById("backToMenuServerList").onclick = function () {
  onlineClient.disconnect();
  displayMenu();
};

document.getElementById("collapseSeedSettingsBtn").onclick = function (e) {
  var collapse = document.getElementById("collapseSeedSettings");

  if (collapse && collapse.classList.contains("show")) {
    collapse.classList.remove("show");
  } else if (collapse) {
    collapse.classList.add("show");
  }

  e.preventDefault();
  e.stopPropagation();
};

document.getElementById("collapseLevelBonusShopLink").onclick = function (e) {
  var collapse = document.getElementById("collapseLevelBonusShop");

  if (collapse && collapse.classList.contains("show")) {
    collapse.classList.remove("show");
  } else if (collapse) {
    collapse.classList.add("show");
  }

  e.preventDefault();
  e.stopPropagation();
};

function displayServerList() {
  selectMode(BATTLE_ROYALE_ONLINE);
  displayMenu();
  document.getElementById("menu").style.display = "none";
  document.getElementById("serverListContainer").style.display = "block";
  loadServerList();
}

document.getElementById("onlineBattleRoyale").onclick = function () {
  displayServerList();
};

document.getElementById("backToServersRoomsList").onclick = function () {
  onlineClient.disconnect();
  displayServerList();
};

function displayRoomsList() {
  displayMenu();
  document.getElementById("menu").style.display = "none";
  document.getElementById("roomsOnlineListContainer").style.display = "block";
  displayRooms();
}

function displayAuthentication() {
  displayMenu();
  document.getElementById("menu").style.display = "none";
  document.getElementById("authenticationServer").style.display = "block";
}

function displayLevelList(player) {
  displayMenu();
  document.getElementById("menu").style.display = "none";
  document.getElementById("levelContainer").style.display = "block";
  document.getElementById("levelDownloading").innerHTML = "";
  document.getElementById("btnDeblockDiv").innerHTML = "";
  document.getElementById("bonusList").innerHTML = "";

  if (player == PLAYER_HUMAN) {
    document.getElementById("titleLevelList").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.titlePlayer");
    document.getElementById("levelListDefault").innerHTML = getListLevel(PLAYER_HUMAN, DEFAULT_LEVEL);
    document.getElementById("levelListDownloadAI").style.display = "none";
    document.getElementById("levelListDownloadPlayer").style.display = "block";
    document.getElementById("levelListDownloadPlayer").innerHTML = getListLevel(PLAYER_HUMAN, DOWNLOADED_LEVEL);
    document.getElementById("fruitNumberCount").innerHTML = getNumberFruits(PLAYER_HUMAN);
    document.getElementById("bonusList").appendChild(getListBonus(PLAYER_HUMAN));
  } else if (player == PLAYER_AI) {
    document.getElementById("titleLevelList").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.titleAI");
    document.getElementById("levelListDefault").innerHTML = getListLevel(PLAYER_AI, DEFAULT_LEVEL);
    document.getElementById("levelListDownloadAI").style.display = "block";
    document.getElementById("levelListDownloadPlayer").style.display = "none";
    document.getElementById("levelListDownloadAI").innerHTML = getListLevel(PLAYER_AI, DOWNLOADED_LEVEL);
    document.getElementById("fruitNumberCount").innerHTML = getNumberFruits(PLAYER_AI);
    document.getElementById("bonusList").appendChild(getListBonus(PLAYER_AI));
  }
}

document.getElementById("levelsSoloPlayer").onclick = function () {
  displayLevelList(PLAYER_HUMAN);
};

document.getElementById("levelsSoloAI").onclick = function () {
  displayLevelList(PLAYER_AI);
};

function checkSameGrid() {
  if (document.getElementById("sameGrid").checked && (selectedMode == PLAYER_VS_AI || selectedMode == AI_VS_AI || selectedMode == BATTLE_ROYALE)) {
    document.getElementById("progressiveSpeed").checked = false;
    document.getElementById("progressiveSpeed").disabled = true;
    document.getElementById("autoRetry").checked = false;
    document.getElementById("autoRetry").disabled = true;
  } else {
    document.getElementById("progressiveSpeed").disabled = false;
    document.getElementById("autoRetry").disabled = false;
  }
}

function checkGameSpeed() {
  if (document.getElementById("gameSpeed").value == "custom") {
    document.getElementById("customSpeedSettings").style.display = "block";
  } else {
    document.getElementById("customSpeedSettings").style.display = "none";
  }
}

document.getElementById("gameSpeed").onchange = function () {
  checkGameSpeed();
};

function checkPlayer() {
  if (selectedMode == SOLO_PLAYER || selectedMode == PLAYER_VS_AI || selectedMode == BATTLE_ROYALE && document.getElementById("battleAgainstAIs").checked) {
    document.getElementById("playerSettings").style.display = "block";
  } else {
    document.getElementById("playerSettings").style.display = "none";
  }
}

function checkMazeGrid() {
  if (document.getElementById("mazeGrid").checked && (selectedMode == SOLO_AI || selectedMode == SOLO_PLAYER)) {
    document.getElementById("borderWalls").checked = false;
    document.getElementById("borderWalls").disabled = true;
    document.getElementById("generateWalls").checked = false;
    document.getElementById("generateWalls").disabled = true;
    document.getElementById("aiAssistant").checked = false;
    document.getElementById("aiAssistant").disabled = true;
  } else {
    document.getElementById("borderWalls").disabled = false;
    document.getElementById("generateWalls").disabled = false;
    document.getElementById("aiAssistant").disabled = false;
  }
}

function checkEnableAI() {
  if (selectedMode == BATTLE_ROYALE_ONLINE && document.getElementById("enableAI").checked && onlineClient.serverSettings && onlineClient.serverSettings.enableAI || selectedMode != BATTLE_ROYALE_ONLINE && selectedMode != SOLO_PLAYER) {
    document.getElementById("iaSettings").style.display = "block";
  } else {
    document.getElementById("iaSettings").style.display = "none";
  }
}

function gameCanFailToInit(heightGrid, widthGrid, borderWalls, generateWalls, numberPlayers) {
  heightGrid = parseInt(heightGrid);
  widthGrid = parseInt(widthGrid);
  var numberEmptyCases = heightGrid * widthGrid;

  if (borderWalls) {
    numberEmptyCases -= (widthGrid + heightGrid) * 2 - 4;
  }

  if (generateWalls) {
    if (borderWalls) {
      numberEmptyCases -= heightGrid * widthGrid * 0.1;
    } else {
      numberEmptyCases -= heightGrid * widthGrid * 0.1675;
    }
  }

  var neededCases = numberPlayers * 5;

  if (numberEmptyCases >= neededCases) {
    return false;
  } else {
    return true;
  }
}

function checkFailSettings() {
  document.getElementById("possibleFailInitGame").style.display = "none";

  if (validateSettings(true)) {
    var heightGrid = document.getElementById("heightGrid").value;
    var widthGrid = document.getElementById("widthGrid").value;
    var borderWalls = document.getElementById("borderWalls").checked;
    var generateWalls = document.getElementById("generateWalls").checked;
    var sameGrid = document.getElementById("sameGrid").checked;
    var numberIA = document.getElementById("numberIA").value;
    var battleAgainstAIs = document.getElementById("battleAgainstAIs").checked;
    var numberPlayers = 1;

    if (selectedMode == PLAYER_VS_AI || selectedMode == AI_VS_AI) {
      if (sameGrid) {
        numberPlayers = 2;
      }
    } else if (selectedMode == BATTLE_ROYALE) {
      if (sameGrid) {
        if (battleAgainstAIs) {
          numberPlayers = parseInt(numberIA) + 1;
        } else {
          numberPlayers = numberIA;
        }
      }
    }

    if (gameCanFailToInit(heightGrid, widthGrid, borderWalls, generateWalls, numberPlayers)) {
      document.getElementById("possibleFailInitGame").style.display = "block";
    }
  }
}

document.getElementById("heightGrid").onchange = function () {
  checkFailSettings();
};

document.getElementById("widthGrid").onchange = function () {
  checkFailSettings();
};

document.getElementById("borderWalls").onchange = function () {
  checkFailSettings();
};

document.getElementById("generateWalls").onchange = function () {
  checkFailSettings();
};

document.getElementById("sameGrid").onchange = function () {
  checkSameGrid();
  checkGameSpeed();
  checkFailSettings();
};

document.getElementById("numberIA").onchange = function () {
  checkFailSettings();
};

document.getElementById("battleAgainstAIs").onchange = function () {
  checkPlayer();
  checkFailSettings();
};

document.getElementById("mazeGrid").onchange = function () {
  checkMazeGrid();
};

document.getElementById("enableAI").onchange = function () {
  checkEnableAI();
};

document.getElementById("resetSeeds").onclick = function (e) {
  resetForm(false, true);
  e.preventDefault();
  e.stopPropagation();
};

function resetForm(resetValues, resetSeeds) {
  document.getElementById("invalidHeight").style.display = "none";
  document.getElementById("invalidWidth").style.display = "none";
  document.getElementById("heightGrid").classList.remove("is-invalid");
  document.getElementById("widthGrid").classList.remove("is-invalid");
  document.getElementById("gameSpeed").classList.remove("is-invalid");
  document.getElementById("invalidSpeed").style.display = "none";
  document.getElementById("customSpeed").classList.remove("is-invalid");
  document.getElementById("invalidCustomSpeed").style.display = "none";
  document.getElementById("aiLevel").classList.remove("is-invalid");
  document.getElementById("invalidaiLevel").style.display = "none";
  document.getElementById("numberIA").classList.remove("is-invalid");
  document.getElementById("invalidIANumber").style.display = "none";
  document.getElementById("seedGrid").classList.remove("is-invalid");
  document.getElementById("invalidSeedGrid").style.display = "none";
  document.getElementById("seedGame").classList.remove("is-invalid");
  document.getElementById("invalidSeedGame").style.display = "none";
  document.getElementById("resultLevels").innerHTML = "";
  document.getElementById("gameStatus").innerHTML = "";
  document.getElementById("gameOrder").innerHTML = "";
  document.getElementById("gameStatusError").innerHTML = "";

  if (resetSeeds) {
    document.getElementById("seedGrid").value = new seedrandom__WEBPACK_IMPORTED_MODULE_8___default.a(Date.now()).int32();
    document.getElementById("seedGame").value = new seedrandom__WEBPACK_IMPORTED_MODULE_8___default.a(Date.now() + 1).int32();
  }

  if (resetValues) {
    document.getElementById("heightGrid").value = 20;
    document.getElementById("widthGrid").value = 20;
    document.getElementById("borderWalls").checked = false;
    document.getElementById("generateWalls").checked = false;
    document.getElementById("mazeGrid").checked = false;
    document.getElementById("sameGrid").checked = true;
    document.getElementById("gameSpeed").value = 8;
    document.getElementById("progressiveSpeed").checked = false;
    document.getElementById("customSpeed").value = 8;
    document.getElementById("customSpeedSettings").style.display = "none";
    document.getElementById("aiLevel").value = "normal";
    document.getElementById("autoRetry").checked = false;
    document.getElementById("numberIA").value = 20;
    document.getElementById("battleAgainstAIs").checked = false;
    document.getElementById("aiAssistant").checked = false;
    document.getElementById("privateGame").checked = false;
    document.getElementById("enableAI").checked = false;
  }

  checkSameGrid();
  checkGameSpeed();
  checkPlayer();
  checkFailSettings();
  checkMazeGrid();
  checkEnableAI();
}

document.getElementById("resetSettings").onclick = function () {
  resetForm(true, true);
};

function validateSettings(returnValidation) {
  if (!returnValidation) {
    resetForm(false, false);
  }

  var heightGrid = document.getElementById("heightGrid").value;
  var widthGrid = document.getElementById("widthGrid").value;
  var borderWalls = document.getElementById("borderWalls").checked;
  var generateWalls = document.getElementById("generateWalls").checked;
  var mazeGrid = document.getElementById("mazeGrid").checked;
  var sameGrid = document.getElementById("sameGrid").checked;
  var speed = document.getElementById("gameSpeed").value;
  var progressiveSpeed = document.getElementById("progressiveSpeed").checked;
  var customSpeed = document.getElementById("customSpeed").value;
  var aiLevel = document.getElementById("aiLevel").value;
  var autoRetry = document.getElementById("autoRetry").checked;
  var numberIA = document.getElementById("numberIA").value;
  var battleAgainstAIs = document.getElementById("battleAgainstAIs").checked;
  var seedGrid = document.getElementById("seedGrid").value;
  var seedGame = document.getElementById("seedGame").value;
  var playerHumanType;
  var minGridSize = 5;
  var maxGridSize = 100;
  var minSpeed = 1;
  var maxSpeed = 100;
  var enableAI = true;

  if (selectedMode == BATTLE_ROYALE_ONLINE && onlineClient.serverSettings) {
    var serverSettings = onlineClient.serverSettings;
    minGridSize = serverSettings.minGridSize != undefined ? serverSettings.minGridSize : minGridSize;
    maxGridSize = serverSettings.maxGridSize != undefined ? serverSettings.maxGridSize : maxGridSize;
    minSpeed = serverSettings.minSpeed != undefined ? serverSettings.minSpeed : minSpeed;
    maxSpeed = serverSettings.maxSpeed != undefined ? serverSettings.maxSpeed : maxSpeed;
    enableAI = serverSettings.enableAI;
  }

  document.getElementById("invalidHeight").textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.invalidSize", {
    min: minGridSize,
    max: maxGridSize
  });
  document.getElementById("invalidWidth").textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.invalidSize", {
    min: minGridSize,
    max: maxGridSize
  });
  document.getElementById("invalidSpeed").textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.invalidSpeed", {
    min: minSpeed,
    max: maxSpeed
  });
  document.getElementById("invalidCustomSpeed").textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.invalidSpeed", {
    min: minSpeed,
    max: maxSpeed
  });

  if (document.getElementById("aiAssistant").checked) {
    playerHumanType = PLAYER_HYBRID_HUMAN_AI;
  } else {
    playerHumanType = PLAYER_HUMAN;
  }

  var formValidated = true;

  if (heightGrid.trim() == "" || isNaN(heightGrid) || heightGrid < minGridSize || heightGrid > maxGridSize) {
    formValidated = false;

    if (!returnValidation) {
      document.getElementById("heightGrid").classList.add("is-invalid");
      document.getElementById("invalidHeight").style.display = "block";
    }
  } else {
    heightGrid = parseInt(heightGrid);
  }

  if (widthGrid.trim() == "" || isNaN(widthGrid) || widthGrid < minGridSize || widthGrid > maxGridSize) {
    formValidated = false;

    if (!returnValidation) {
      document.getElementById("widthGrid").classList.add("is-invalid");
      document.getElementById("invalidWidth").style.display = "block";
    }
  } else {
    widthGrid = parseInt(widthGrid);
  }

  if (speed != "custom" && (speed.trim() == "" || isNaN(speed) || speed < minSpeed || speed > maxSpeed)) {
    formValidated = false;

    if (!returnValidation) {
      document.getElementById("gameSpeed").classList.add("is-invalid");
      document.getElementById("invalidSpeed").style.display = "block";
    }
  } else if (speed != "custom") {
    speed = parseInt(speed);
  }

  if (speed == "custom" && (customSpeed.trim() == "" || isNaN(customSpeed) || customSpeed < minSpeed || customSpeed > maxSpeed)) {
    formValidated = false;

    if (!returnValidation) {
      document.getElementById("customSpeed").classList.add("is-invalid");
      document.getElementById("invalidCustomSpeed").style.display = "block";
    }
  } else if (speed == "custom") {
    speed = parseInt(customSpeed);
  }

  if (selectedMode != SOLO_PLAYER && selectedMode != BATTLE_ROYALE_ONLINE && aiLevel != "low" && aiLevel != "normal" && aiLevel != "high" && aiLevel != "random") {
    formValidated = false;

    if (!returnValidation) {
      document.getElementById("aiLevel").classList.add("is-invalid");
      document.getElementById("invalidaiLevel").style.display = "block";
    }
  } else if (selectedMode != SOLO_PLAYER && selectedMode != BATTLE_ROYALE_ONLINE || selectedMode == BATTLE_ROYALE_ONLINE && document.getElementById("enableAI").checked) {
    switch (aiLevel) {
      case "random":
        aiLevel = AI_LEVEL_RANDOM;
        break;

      case "low":
        aiLevel = AI_LEVEL_LOW;
        break;

      case "normal":
        aiLevel = AI_LEVEL_DEFAULT;
        break;

      case "high":
        aiLevel = AI_LEVEL_HIGH;
        break;

      case "ultra":
        aiLevel = AI_LEVEL_ULTRA;
        break;

      default:
        aiLevel = AI_LEVEL_DEFAULT;
        break;
    }
  }

  if (selectedMode == BATTLE_ROYALE && (numberIA.trim() == "" || isNaN(numberIA) || numberIA < 2 || numberIA > 100)) {
    formValidated = false;

    if (!returnValidation) {
      document.getElementById("numberIA").classList.add("is-invalid");
      document.getElementById("invalidIANumber").style.display = "block";
    }
  } else if (selectedMode == BATTLE_ROYALE) {
    numberIA = parseInt(numberIA);
  }

  if (selectedMode != BATTLE_ROYALE_ONLINE && (seedGrid.trim() == "" || isNaN(seedGrid))) {
    formValidated = false;

    if (!returnValidation) {
      document.getElementById("seedGrid").classList.add("is-invalid");
      document.getElementById("invalidSeedGrid").style.display = "block";
    }
  }

  if (selectedMode != BATTLE_ROYALE_ONLINE && (seedGame.trim() == "" || isNaN(seedGame))) {
    formValidated = false;

    if (!returnValidation) {
      document.getElementById("seedGame").classList.add("is-invalid");
      document.getElementById("invalidSeedGame").style.display = "block";
    }
  }

  if (selectedMode != SOLO_AI) {
    autoRetry = false;
  }

  if (returnValidation) {
    return formValidated;
  }

  if (formValidated) {
    document.getElementById("roomsOnlineCreation").style.display = "block";
    document.getElementById("settings").style.display = "none";
    document.getElementById("errorRoomCreation").style.display = "none";

    if (selectedMode == BATTLE_ROYALE_ONLINE) {
      onlineClient.createRoom({
        speed: speed,
        heightGrid: heightGrid,
        widthGrid: widthGrid,
        borderWalls: borderWalls,
        generateWalls: generateWalls,
        customSpeed: customSpeed,
        "private": document.getElementById("privateGame").checked,
        enableAI: enableAI ? document.getElementById("enableAI").checked : false,
        levelAI: aiLevel
      }, function (data) {
        var errorCode = data.errorCode;

        if (data.connection_error) {
          if (errorCode == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.AUTHENTICATION_REQUIRED) {
            connectToServer(onlineClient.url, onlineClient.port);
          } else if (data == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.DISCONNECTED) {
            alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.disconnectedError"));
            displayServerList();
          } else {
            alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.connectionError"));
            displayServerList();
          }
        } else {
          if (data.success) {
            joinRoom(data.code);
          } else {
            if (errorCode == _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.AUTHENTICATION_REQUIRED) {
              connectToServer(onlineClient.url, onlineClient.port);
            } else {
              var errorCode_text = "";

              switch (errorCode) {
                case _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.INVALID_SETTINGS:
                  errorCode_text = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorRoomCreationReason_invalidSettings");
                  break;

                case _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.MAX_ROOM_LIMIT_REACHED:
                  errorCode_text = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorRoomCreationReason_maxRoomLimitReached");
                  break;

                case _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Error.ALREADY_CREATED_ROOM:
                  errorCode_text = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorRoomCreationReason_alreadyCreatedRoom");
                  break;

                default:
                  errorCode_text = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("servers.errorReason_unknown");
                  break;
              }

              document.getElementById("errorRoomCreation").style.display = "block";
              document.getElementById("errorRoomCreationReason").textContent = errorCode_text;
              displayRoomsList();
            }
          }
        }
      });
    } else {
      document.getElementById("settings").style.display = "none";
      document.getElementById("menu").style.display = "none";
      document.getElementById("levelContainer").style.display = "none";
      document.getElementById("serverListContainer").style.display = "none";
      document.getElementById("roomsOnlineListContainer").style.display = "none";
      document.getElementById("roomsOnlineCreation").style.display = "none";
      document.getElementById("errorRoomCreation").style.display = "none";
      document.getElementById("gameContainer").style.display = "block";
      document.getElementById("connectingToServer").style.display = "none";
      document.getElementById("roomsOnlineJoin").style.display = "none";
      document.getElementById("authenticationServer").style.display = "none";
      var titleGame = "";

      switch (selectedMode) {
        case SOLO_AI:
          titleGame = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.soloAi");
          break;

        case SOLO_PLAYER:
          titleGame = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.soloPlayer");
          break;

        case PLAYER_VS_AI:
          titleGame = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.playerVsAi");
          break;

        case AI_VS_AI:
          titleGame = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.aiVsAi");
          break;

        case BATTLE_ROYALE:
          titleGame = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.battleRoyale");
          break;
      }

      document.getElementById("titleGame").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.currentMode") + " " + titleGame;
      var games = [];

      if (selectedMode == SOLO_AI) {
        var grid = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, mazeGrid, null, false, seedGrid, seedGame);
        var snake = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, grid, PLAYER_AI, aiLevel, autoRetry);
        games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](grid, snake, speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings));
      } else if (selectedMode == SOLO_PLAYER) {
        var _grid = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, mazeGrid, null, false, seedGrid, seedGame);

        var _snake = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid, playerHumanType);

        games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid, _snake, speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings));
      } else if (selectedMode == PLAYER_VS_AI) {
        var _grid2 = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, false, null, false, seedGrid, seedGame);

        var _snake2 = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid2, playerHumanType);

        if (sameGrid) {
          var snake2 = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid2, PLAYER_AI, aiLevel, autoRetry);
          games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid2, [_snake2, snake2], speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings));
        } else {
          var grid2 = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, false, null, false, parseInt(seedGrid) + 1, parseInt(seedGame) + 1);

          var _snake3 = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, grid2, PLAYER_AI, aiLevel, autoRetry);

          games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid2, _snake2, speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings));
          games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](grid2, _snake3, speed, document.getElementById("gameContainer"), false, false, progressiveSpeed, null, null, null, null, customSettings));
        }
      } else if (selectedMode == AI_VS_AI) {
        var _grid3 = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, false, null, false, seedGrid, seedGame);

        var _snake4 = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid3, PLAYER_AI, aiLevel, autoRetry);

        if (sameGrid) {
          var _snake5 = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid3, PLAYER_AI, aiLevel, autoRetry);

          games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid3, [_snake4, _snake5], speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings));
        } else {
          var _grid4 = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, false, null, false, parseInt(seedGrid) + 1, parseInt(seedGame) + 1);

          var _snake6 = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid4, PLAYER_AI, aiLevel, autoRetry);

          games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid3, _snake4, speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings));
          games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid4, _snake6, speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings));
        }
      } else if (selectedMode == BATTLE_ROYALE) {
        if (sameGrid) {
          var _grid5 = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, false, null, false, seedGrid, seedGame);

          var snakes = [];

          if (battleAgainstAIs) {
            snakes.push(new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid5, playerHumanType, aiLevel, autoRetry));
          }

          for (var i = 0; i < numberIA; i++) {
            snakes.push(new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid5, PLAYER_AI, aiLevel, autoRetry));
          }

          games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid5, snakes, speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings));
        } else {
          if (battleAgainstAIs) {
            var _grid6 = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, false, null, false, seedGrid, seedGame);

            var _snake7 = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid6, playerHumanType, aiLevel, autoRetry);

            games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid6, _snake7, speed, document.getElementById("gameContainer"), true, false, progressiveSpeed, 350, 250, null, null, customSettings));
          }

          for (var _i = 0; _i < numberIA; _i++) {
            seedGrid++;
            seedGame++;

            var _grid7 = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, false, null, false, seedGrid, seedGame);

            var _snake8 = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid7, PLAYER_AI, aiLevel, autoRetry);

            games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid7, _snake8, speed, document.getElementById("gameContainer"), true, false, progressiveSpeed, 350, 250, null, null, customSettings));
          }
        }
      }

      var group = new _src_engine_GameGroup__WEBPACK_IMPORTED_MODULE_5__["default"](games);
      group.setDisplayFPS(customSettings.showDebugInfo ? true : false);
      group.start();

      if (group.games[0].canvas != undefined) {
        group.games[0].canvas.scrollIntoView();
      }

      if (mazeGrid && (selectedMode == SOLO_AI || selectedMode == SOLO_PLAYER)) {
        group.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.mazeMode"), null, _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.INFO_NOTIF_COLOR, 5, null, null, null, true));
      }

      document.getElementById("backToMenuGame").onclick = function () {
        if (confirm(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.confirmQuit"))) {
          group.killAll();
          displayMenu();
        }
      };

      group.onStop(function () {
        if (selectedMode == PLAYER_VS_AI || selectedMode == AI_VS_AI || selectedMode == BATTLE_ROYALE && !group.errorOccurred()) {
          var resultMessage = "";
          var winners = group.getWinners();

          if (selectedMode == PLAYER_VS_AI) {
            if (winners.index.length == 2) {
              resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.equalityPlayerVSAI");
            } else if (winners.index[0] == 0) {
              resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.winPlayerVSAI");
            } else if (winners.index[0] == 1) {
              resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.losePlayerVSAI");
            }
          } else if (selectedMode == AI_VS_AI) {
            if (winners.index.length == 1) {
              resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.oneWinnerAIVSAI", {
                numWinner: winners.index[0] + 1
              });
            } else if (winners.index.length == 2) {
              resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.equalityAIVSAI");
            }
          } else if (selectedMode == BATTLE_ROYALE) {
            if (winners.index.length == 1) {
              if (battleAgainstAIs && winners.index[0] == 0) {
                resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.playerWinnerBattleRoyale", {
                  score: winners.score
                });
              } else {
                resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.oneWinnerBattleRoyale", {
                  numWinner: battleAgainstAIs ? winners.index[0] : winners.index[0] + 1,
                  score: winners.score
                });
              }
            } else if (battleAgainstAIs && winners.index.length == 2 && winners.index[0] == 0) {
              resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.winnerAIBattleRoyale") + " " + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.winnersNumBattleRoyale", {
                numWinner: winners.index[1]
              }) + " " + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.andPlayerWinnersBattleRoyale") + " " + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.winPlayerScoreBattleRoyale", {
                score: winners.score
              });
            } else if (winners.index.length > 1) {
              var playerWinnerBattleRoyale = false;
              resultMessage = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.winnersBattleRoyale") + " ";

              for (var _i2 = 0; _i2 < winners.index.length; _i2++) {
                if (battleAgainstAIs && winners.index[_i2] == 0) {
                  playerWinnerBattleRoyale = true;
                } else {
                  resultMessage = resultMessage + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.winnersNumBattleRoyale", {
                    numWinner: battleAgainstAIs ? winners.index[_i2] : winners.index[_i2] + 1
                  });

                  if (_i2 + 1 < winners.index.length - 1) {
                    resultMessage = resultMessage + ", ";
                  } else if (_i2 + 1 == winners.index.length - 1) {
                    resultMessage = resultMessage + " " + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.andWinnersBattleRoyale") + " ";
                  }
                }
              }

              if (battleAgainstAIs && playerWinnerBattleRoyale) {
                resultMessage = resultMessage + " " + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.andPlayerWinnersBattleRoyale") + " " + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.winPlayerScoreBattleRoyale", {
                  score: winners.score
                });
              } else {
                resultMessage = resultMessage + " " + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.winScoreBattleRoyale", {
                  score: winners.score
                });
              }
            }
          }

          if (resultMessage.trim() != "") {
            document.getElementById("gameOrder").innerHTML = resultMessage;
            group.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](resultMessage, null, _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.INFO_NOTIF_COLOR, 15, null, null, null, true));
          }
        }
      });
      group.onExit(function () {
        if (selectedMode == SOLO_AI || selectedMode == SOLO_PLAYER || selectedMode == AI_VS_AI || selectedMode == PLAYER_VS_AI && sameGrid || selectedMode == BATTLE_ROYALE && sameGrid) {
          group.killAll();
          displayMenu();
        }
      });
      group.onReset(function () {
        document.getElementById("resultLevels").innerHTML = "";
        document.getElementById("gameStatus").innerHTML = "";
        document.getElementById("gameOrder").innerHTML = "";
        document.getElementById("gameStatusError").innerHTML = "";
        group.closeNotification();
      });
    }
  }
}

document.getElementById("validateSettings").onclick = function () {
  validateSettings();
}; // Levels


var levelsBonusData = {
  "BONUS_AI_ASSISTANT": {
    "text": "levels.bonus.aiAssistant",
    "information": "levels.bonus.aiAssistantInfo",
    "price": 25,
    "applicableTo": [_src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HUMAN]
  },
  "BONUS_INCREASE_GOLD_FRUIT_PROB": {
    "text": "levels.bonus.increaseGoldFruits",
    "information": "levels.bonus.increaseGoldFruitsInfo",
    "price": 50,
    "applicableTo": [_src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.AI, _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HUMAN]
  },
  "BONUS_NO_TIME_LIMIT": {
    "text": "levels.bonus.noTimeLimit",
    "information": "levels.bonus.noTimeLimitInfo",
    "price": 75,
    "applicableTo": [_src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.AI, _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HUMAN]
  },
  "BONUS_DESTROY_AIS": {
    "text": "levels.bonus.destroyAis",
    "information": "levels.bonus.destroyAisInfo",
    "price": 75,
    "applicableTo": [_src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.AI, _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HUMAN]
  },
  "BONUS_PASS_LEVEL": {
    "text": "levels.bonus.passLevel",
    "information": "levels.bonus.passLevelInfo",
    "price": 100,
    "applicableTo": [_src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.AI, _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HUMAN]
  },
  "BONUS_UNLOCK_ALL_LEVELS": {
    "text": "levels.bonus.unlockAllLevels",
    "information": "levels.bonus.unlockAllLevelsInfo",
    "price": 1000,
    "applicableTo": [_src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.AI, _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HUMAN]
  }
};

function getTitleSave(player, type) {
  if (type == DEFAULT_LEVEL) {
    if (player == PLAYER_HUMAN) {
      return SOLO_PLAYER_SAVE + "defautLevelsSave";
    } else if (player == PLAYER_AI) {
      return SOLO_AI_SAVE + "defautLevelsSave";
    }
  } else if (type == DOWNLOADED_LEVEL) {
    if (player == PLAYER_HUMAN) {
      return SOLO_PLAYER_SAVE + "downloadedLevelsSave";
    } else if (player == PLAYER_AI) {
      return SOLO_AI_SAVE + "downloadedLevelsSave";
    }
  }

  return null;
}

function getSave(player, type) {
  if (storageGlobal.getItem(getTitleSave(player, type)) == null) {
    initSaveLevel(player, type, false);
  }

  try {
    var res = JSON.parse(storageGlobal.getItem(getTitleSave(player, type)));
    return res;
  } catch (e) {
    initSaveLevel(player, type, true);
    return getSave(player, type);
  }
}

function getLevelSave(level, player, type) {
  return getSave(player, type)[level];
}

function setLevelSave(value, level, player, type, score) {
  var save = getTitleSave(player, type);
  var item = getSave(player, type);
  var levels = getLevels(player, type);

  if (item != null) {
    if (Array.isArray(value) && value.length >= 2 && Array.isArray(item[level]) && item[level].length >= 2 && item[level][0] == true) {
      if (levels[level]["type"] != LEVEL_REACH_SCORE_ON_TIME && levels[level]["type"] != LEVEL_MULTI_REACH_SCORE_FIRST && levels[level]["type"] != LEVEL_MAZE_WIN) {
        if (value[1] < item[level][1]) {
          value[1] = item[level][1];
        }
      } else {
        if (value[1] > item[level][1]) {
          value[1] = item[level][1];
        }
      }
    }

    item[level] = value;
    storageGlobal.setItem(save, JSON.stringify(item));
    return true;
  }

  return false;
}

function setAddFruitLevelSave(player, score) {
  var save = getTitleSave(player, DEFAULT_LEVEL);
  var item = getSave(player, DEFAULT_LEVEL);

  if (item != null) {
    if (!item["numFruits"] || isNaN(item["numFruits"])) {
      item["numFruits"] = 0;
    }

    item["numFruits"] += score;
    storageGlobal.setItem(save, JSON.stringify(item));
    return true;
  }

  return false;
}

function initSaveLevel(player, type, force) {
  if (typeof Storage !== "undefined") {
    var save = getTitleSave(player, type);
    var item = storageGlobal.getItem(save);

    if (item == null || force) {
      storageGlobal.setItem(save, JSON.stringify({
        version: _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION,
        numFruits: 0,
        currentBonus: null,
        unlockAllLevels: false
      }));
      setLevelSave([false, 0], 1, player, type);
    }

    return false;
  } else {
    return false;
  }
}

function getLevels(player, type) {
  if (type == DEFAULT_LEVEL) {
    if (player == PLAYER_HUMAN) {
      return DEFAULT_LEVELS_SOLO_PLAYER;
    } else if (player == PLAYER_AI) {
      return DEFAULT_LEVELS_SOLO_AI;
    }
  } else if (type == DOWNLOADED_LEVEL) {
    if (player == PLAYER_HUMAN) {
      try {
        return JSON.parse(storageGlobal.getItem(SOLO_PLAYER_DOWNLOAD_LEVELS_TO));
      } catch (e) {
        return null;
      }
    } else if (player == PLAYER_AI) {
      try {
        return JSON.parse(storageGlobal.getItem(SOLO_AI_DOWNLOAD_LEVELS_TO));
      } catch (e) {
        return null;
      }
    }
  }

  return null;
}

function canPlay(level, player, type) {
  if (customSettings.unlockAllLevels) return true;
  if (getSave(player, DEFAULT_LEVEL).unlockAllLevels) return true;
  var res = true;
  var levels = getLevels(player, type);

  if (levels == null) {
    return false;
  }

  for (var i = 1; i < level; i++) {
    var save = getLevelSave(i, player, type);

    if (save == null || !save[0] && levelCompatible(levels[i]["type"], levels[i]["version"])) {
      res = false;
    }
  }

  return res;
}

function levelCompatible(levelType, version) {
  if (levelType != LEVEL_REACH_SCORE && levelType != LEVEL_REACH_MAX_SCORE && levelType != LEVEL_MULTI_BEST_SCORE && levelType != LEVEL_REACH_SCORE_ON_TIME && levelType != LEVEL_MULTI_REACH_SCORE_FIRST && levelType != LEVEL_MAZE_WIN || _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION.strcmp(version) < 0) {
    return false;
  }

  return true;
}

function printResultLevel(level, player, levelType, type, shortVersion) {
  var val = "";
  var resultLevel = getLevelSave(level, player, type);

  if (resultLevel == null) {
    return "";
  }

  resultLevel = resultLevel[1];

  if (resultLevel <= 0) {
    return "";
  }

  if (shortVersion) {
    if (levelType == LEVEL_REACH_SCORE || levelType == LEVEL_REACH_MAX_SCORE || levelType == LEVEL_MULTI_BEST_SCORE) {
      val = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bestScoreShort", {
        count: resultLevel
      });
    } else if (levelType == LEVEL_REACH_SCORE_ON_TIME || levelType == LEVEL_MULTI_REACH_SCORE_FIRST || levelType == LEVEL_MAZE_WIN) {
      val = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bestTimeShort", {
        count: Math.round(resultLevel)
      });
    }
  } else {
    if (levelType == LEVEL_REACH_SCORE || levelType == LEVEL_REACH_MAX_SCORE || levelType == LEVEL_MULTI_BEST_SCORE) {
      val = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bestScore", {
        count: resultLevel
      });
    } else if (levelType == LEVEL_REACH_SCORE_ON_TIME || levelType == LEVEL_MULTI_REACH_SCORE_FIRST || levelType == LEVEL_MAZE_WIN) {
      val = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bestTime", {
        count: Math.round(resultLevel)
      });
    }
  }

  return val;
}

window.playLevel = function (level, player, type) {
  var levelSave = getLevelSave(level, player, type);
  var bonus = getSave(player, DEFAULT_LEVEL)["currentBonus"];
  var levels = getLevels(player, type);

  if (levels == null) {
    return false;
  }

  if (levels[level] != null) {
    var initGoal = function initGoal() {
      var lastScorePlayer = 0;

      if (levelType == LEVEL_REACH_SCORE) {
        playerGame.onScoreIncreased(function () {
          setAddFruitLevelSave(player, playerGame.snakes[0].score - lastScorePlayer);
          lastScorePlayer = playerGame.snakes[0].score;

          if (playerGame.snakes[0].score >= levelTypeValue) {
            setLevelSave([true, playerGame.snakes[0].score], level, player, type);
            playerGame.setBestScore(printResultLevel(level, player, levelType, type, true));

            if (!notificationEndDisplayed) {
              playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalAchieved")));
              notificationEndDisplayed = true;
            }
          }
        });
        playerGame.onStop(function () {
          lastScorePlayer = 0;

          if (playerGame.snakes[0].score < levelTypeValue) {
            if (!notificationEndDisplayed) {
              playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalNotAchieved"), null, notifErrorColor, null, null, null, null, true));
              notificationEndDisplayed = true;
            }
          }
        });
        playerGame.onReset(function () {
          lastScorePlayer = 0;
        });
      } else if (levelType == LEVEL_REACH_SCORE_ON_TIME) {
        if (levelTypeValue[1] >= 0) {
          levelTimer = new _src_Timers__WEBPACK_IMPORTED_MODULE_10__["Timer"](function () {
            playerGame.setTimeToDisplay(0);
            document.getElementById("gameStatus").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.timerRemaining", {
              count: 0
            });

            if (!notificationEndDisplayed) {
              playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalNotAchieved"), null, notifErrorColor, null, null, null, null, true));
              notificationEndDisplayed = true;
            }

            group.stopAll(true);
          }, levelTypeValue[1] * 1000 - 1, new _src_Timers__WEBPACK_IMPORTED_MODULE_10__["TimerInterval"](function () {
            document.getElementById("gameStatus").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.timerRemaining", {
              count: Math.round(levelTimer.getTime() / 1000)
            });
            playerGame.setTimeToDisplay(Math.round(levelTimer.getTime() / 1000));
          }));
        }

        playerGame.onStart(function () {
          levelTimer.resume();
        });
        playerGame.onPause(function () {
          levelTimer.pause();
        });
        playerGame.onReset(function () {
          levelTimer.reset();
        });
        playerGame.onStop(function () {
          levelTimer.pause();
        });
        playerGame.onScoreIncreased(function () {
          if (playerGame.snakes[0].score >= levelTypeValue[0]) {
            var stop = levelTypeValue[1] * 1000 - levelTimer.getTime();
            levelTimer.reset();
            group.stopAll(true);
            setLevelSave([true, stop / 1000], level, player, type);
            setAddFruitLevelSave(player, playerGame.snakes[0].score);
            playerGame.setBestScore(printResultLevel(level, player, levelType, type, true));

            if (!notificationEndDisplayed) {
              playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalAchieved"), null, null, null, null, null, null, true));
              notificationEndDisplayed = true;
            }
          }
        });
      } else if (levelType == LEVEL_REACH_MAX_SCORE) {
        playerGame.onStop(function () {
          if (playerGame.scoreMax) {
            setLevelSave([true, playerGame.snakes[0].score], level, player, type);
            setAddFruitLevelSave(player, playerGame.snakes[0].score);
            playerGame.setBestScore(printResultLevel(level, player, levelType, type, true));

            if (!notificationEndDisplayed) {
              playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalAchieved"), null, null, null, null, null, null, true));
              notificationEndDisplayed = true;
            }
          } else {
            if (!notificationEndDisplayed) {
              playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalNotAchieved"), null, notifErrorColor, null, null, null, null, true));
              notificationEndDisplayed = true;
            }
          }
        });
      } else if (levelType == LEVEL_MULTI_BEST_SCORE) {
        group.onStop(function () {
          var winners = group.getWinners();
          var won = false;

          for (var _i4 = 0; _i4 < winners.winners.length; _i4++) {
            if (winners.winners[_i4] == playerGame.snakes[0]) {
              won = true;
              setLevelSave([true, playerGame.snakes[0].score], level, player, type);
              setAddFruitLevelSave(player, playerGame.snakes[0].score);
              playerGame.setBestScore(printResultLevel(level, player, levelType, type, true));

              if (!notificationEndDisplayed) {
                playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalAchieved"), null, null, null, null, null, null, true));
                notificationEndDisplayed = true;
              }
            }
          }

          if (!won && !notificationEndDisplayed) {
            playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalNotAchieved"), null, notifErrorColor, null, null, null, null, true));
            notificationEndDisplayed = true;
          }
        });
      } else if (levelType == LEVEL_MULTI_REACH_SCORE_FIRST) {
        var time = 0;
        var timerInterval = new _src_Timers__WEBPACK_IMPORTED_MODULE_10__["TimerInterval"](function () {
          time++;
        });
        playerGame.onStart(function () {
          timerInterval.start();
        });
        playerGame.onPause(function () {
          timerInterval.stop();
        });
        playerGame.onReset(function () {
          time = 0;
          timerInterval.stop();
        });
        playerGame.onStop(function () {
          timerInterval.stop();
        });
        group.onScoreIncreased(function () {
          for (var _i5 = 0; _i5 < group.games.length; _i5++) {
            for (var j = 0; j < group.games[_i5].snakes.length; j++) {
              if (group.games[_i5].snakes[j].score >= levelTypeValue) {
                if (group.games[_i5].snakes[j] == playerGame.snakes[0]) {
                  group.stopAll(true);
                  setLevelSave([true, time], level, player, type);
                  setAddFruitLevelSave(player, playerGame.snakes[0].score);
                  playerGame.setBestScore(printResultLevel(level, player, levelType, type, true));

                  if (!notificationEndDisplayed) {
                    playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalAchieved"), null, null, null, null, null, null, true));
                    notificationEndDisplayed = true;
                  }
                } else {
                  group.stopAll(true);

                  if (!notificationEndDisplayed) {
                    playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalNotAchieved"), null, notifErrorColor, null, null, null, null, true));
                    notificationEndDisplayed = true;
                  }
                }
              }
            }
          }
        });
      } else if (levelType == LEVEL_MAZE_WIN) {
        var _time = 0;

        var _timerInterval = new _src_Timers__WEBPACK_IMPORTED_MODULE_10__["TimerInterval"](function () {
          _time++;
        });

        playerGame.onStart(function () {
          _timerInterval.start();
        });
        playerGame.onPause(function () {
          _timerInterval.stop();
        });
        playerGame.onReset(function () {
          _time = 0;

          _timerInterval.stop();
        });
        playerGame.onStop(function () {
          _timerInterval.stop();
        });
        playerGame.onScoreIncreased(function () {
          if (playerGame.snakes[0].score >= 1) {
            setLevelSave([true, _time], level, player, type);
            setAddFruitLevelSave(player, Math.round(playerGame.grid.width * playerGame.grid.height / 50));
            playerGame.setBestScore(printResultLevel(level, player, levelType, type, true));

            if (!notificationEndDisplayed) {
              playerGame.setNotification(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.goalAchieved"), null, null, null, null, null, null, true));
              notificationEndDisplayed = true;
            }
          }
        });
      }
    };

    var displayInfosGoal = function displayInfosGoal() {
      playerGame.setBestScore(printResultLevel(level, player, levelType, type, true));

      if (levelType == LEVEL_REACH_SCORE) {
        textToDisplayGoal = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.reachScore", {
          value: levelTypeValue
        });
      } else if (levelType == LEVEL_REACH_SCORE_ON_TIME) {
        textToDisplayGoal = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.reachScoreTime", {
          value: levelTypeValue[0],
          count: levelTypeValue[1]
        });
        if (levelTypeValue[1] >= 0) document.getElementById("gameStatus").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.timerRemaining", {
          count: levelTypeValue[1]
        });
        playerGame.setTimeToDisplay(levelTypeValue[1]);
      } else if (levelType == LEVEL_REACH_MAX_SCORE) {
        textToDisplayGoal = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.reachMaxScore");
      } else if (levelType == LEVEL_MULTI_BEST_SCORE) {
        textToDisplayGoal = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.multiBestScore", {
          count: numberIA
        });
      } else if (levelType == LEVEL_MULTI_REACH_SCORE_FIRST) {
        textToDisplayGoal = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.multiReachScoreFirst", {
          value: levelTypeValue,
          count: numberIA
        });
      } else if (levelType == LEVEL_MAZE_WIN) {
        textToDisplayGoal = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.mazeMode", {
          value: levelTypeValue,
          count: numberIA
        });
      }

      document.getElementById("gameOrder").innerHTML = textToDisplayGoal.replace("\n", "<br />");
    };

    var levelSelected = levels[level];
    var levelSettings = levelSelected["settings"];
    var levelType = levelSelected["type"];
    var levelTypeValue = levelSelected["typeValue"];
    var levelVersion = levelSelected["version"];

    if (!levelCompatible(levelType, levelVersion)) {
      alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.notCompatible"));
      return false;
    }

    if (!canPlay(level, player, type)) {
      alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.disabledLevel"));
      return false;
    }

    if (bonus == "BONUS_PASS_LEVEL" && (!levelSave || levelSave[0] != true)) {
      setLevelSave([true, Array.isArray(levelTypeValue) && levelTypeValue.length >= 2 ? levelTypeValue[1] : levelTypeValue], level, player, type);
      buyBonus(null, player);
      displayLevelList(player);
      return true;
    }

    if (bonus == "BONUS_NO_TIME_LIMIT" && levelType == LEVEL_REACH_SCORE_ON_TIME) {
      levelTypeValue = [levelTypeValue[0], -1];
      buyBonus(null, player);
    }

    var heightGrid = levelSettings[0];
    var widthGrid = levelSettings[1];
    var borderWalls = levelSettings[2];
    var generateWalls = levelSettings[3];
    var sameGrid = levelSettings[4];
    var speed = levelSettings[5];
    var progressiveSpeed = levelSettings[6];
    var aiLevel = levelSettings[7];
    var numberIA = levelSettings[8];
    var generateMaze = levelSettings[9];
    var customGrid = levelSettings[10];
    var mazeForceAuto = levelSettings[11];
    var seedGrid = levelSettings[12];
    var seedGame = levelSettings[13];
    var destroyAis = false;
    var games = [];
    var grid = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, generateMaze, customGrid, mazeForceAuto, seedGrid, seedGame, !generateMaze && bonus == "BONUS_INCREASE_GOLD_FRUIT_PROB");
    var playerSnake;
    var playerGame;

    if (!generateMaze && bonus == "BONUS_INCREASE_GOLD_FRUIT_PROB") {
      buyBonus(null, player);
    }

    if (player == PLAYER_AI) {
      playerSnake = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, grid, player, AI_LEVEL_HIGH);
    } else if (player == PLAYER_HUMAN) {
      if (bonus == "BONUS_AI_ASSISTANT" && !generateMaze) {
        playerSnake = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, grid, _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HYBRID_HUMAN_AI);
        buyBonus(null, player);
      } else {
        playerSnake = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, grid, player);
      }
    }

    if (sameGrid) {
      var snakes = [playerSnake];

      for (var i = 0; i < numberIA; i++) {
        snakes.push(new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, grid, PLAYER_AI, aiLevel));
        destroyAis = bonus == "BONUS_DESTROY_AIS";
      }

      playerGame = new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](grid, snakes, speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, null, null, null, null, customSettings);
      games.push(playerGame);
    } else {
      var width, height;

      if (numberIA + 1 <= 2) {
        width = null;
        height = null;
      } else {
        width = 350;
        height = 250;
      }

      playerGame = new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](grid, playerSnake, speed, document.getElementById("gameContainer"), true, true, progressiveSpeed, width, height, null, null, customSettings);
      games.push(playerGame);

      for (var _i3 = 0; _i3 < numberIA; _i3++) {
        var _grid8 = new _src_engine_Grid__WEBPACK_IMPORTED_MODULE_4__["default"](widthGrid, heightGrid, generateWalls, borderWalls, generateMaze, customGrid, mazeForceAuto, seedGrid, seedGame);

        var snake = new _src_engine_Snake__WEBPACK_IMPORTED_MODULE_3__["default"](RIGHT, 3, _grid8, PLAYER_AI, aiLevel, false);
        destroyAis = bonus == "BONUS_DESTROY_AIS";
        games.push(new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["Game"](_grid8, snake, speed, document.getElementById("gameContainer"), false, false, progressiveSpeed, width, height, null, null, customSettings));
      }
    }

    document.getElementById("settings").style.display = "none";
    document.getElementById("menu").style.display = "none";
    document.getElementById("levelContainer").style.display = "none";
    document.getElementById("serverListContainer").style.display = "none";
    document.getElementById("roomsOnlineListContainer").style.display = "none";
    document.getElementById("roomsOnlineCreation").style.display = "none";
    document.getElementById("errorRoomCreation").style.display = "none";
    document.getElementById("gameContainer").style.display = "block";
    document.getElementById("connectingToServer").style.display = "none";
    document.getElementById("roomsOnlineJoin").style.display = "none";
    document.getElementById("authenticationServer").style.display = "none";
    document.getElementById("resultLevels").innerHTML = "";
    document.getElementById("gameStatus").innerHTML = "";
    document.getElementById("gameOrder").innerHTML = "";
    document.getElementById("gameStatusError").innerHTML = "";
    document.getElementById("titleGame").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.level") + " " + level;
    var group = new _src_engine_GameGroup__WEBPACK_IMPORTED_MODULE_5__["default"](games);
    group.setDisplayFPS(customSettings.showDebugInfo ? true : false);
    group.start();
    group.closeRanking();
    document.getElementById("gameOrder").scrollIntoView();
    var levelTimer = new _src_Timers__WEBPACK_IMPORTED_MODULE_10__["Timer"](null, 0);
    var notificationEndDisplayed = false;
    var notificationStartDisplayed = false;
    var notifErrorColor = _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.ERROR_NOTIF_COLOR;
    var notifInfosColor = _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.INFO_NOTIF_COLOR;
    var notifInfo;
    var textToDisplayGoal;

    document.getElementById("backToMenuGame").onclick = function () {
      if (confirm(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("game.confirmQuit"))) {
        levelTimer.pause();
        group.killAll();
        displayLevelList(player);
      }
    };

    initGoal();
    displayInfosGoal();
    group.onExit(function () {
      levelTimer.pause();
      group.killAll();
      displayLevelList(player);
    });
    group.onReset(function () {
      document.getElementById("resultLevels").innerHTML = "";
      document.getElementById("gameStatus").innerHTML = "";
      document.getElementById("gameOrder").innerHTML = "";
      document.getElementById("gameStatusError").innerHTML = "";
      notificationEndDisplayed = false;
      notificationStartDisplayed = false;
      displayInfosGoal();
    });
    playerGame.onStart(function () {
      if (!notificationEndDisplayed && !notificationStartDisplayed) {
        notifInfo = new _src_Shim__WEBPACK_IMPORTED_MODULE_1__["NotificationMessage"](textToDisplayGoal, null, notifInfosColor, 10);
        playerGame.setNotification(notifInfo);
        notificationStartDisplayed = true;
      }

      if (destroyAis) {
        group.destroySnakes([0], [_src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.AI]);
        buyBonus(null, player);
      }
    });
  } else {
    return false;
  }
};

window.editDownloadURL = function () {
  var value = window.prompt(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.editDownloadURLPrompt"), DOWNLOAD_DEFAULT_URI);

  if (value != null) {
    DOWNLOAD_DEFAULT_URI = value;
  }
};

window.downloadLevels = function (player, button) {
  var url = DOWNLOAD_DEFAULT_URI;
  url = url.replace("{player}", player);
  url = url.replace("{appVersion}", _src_engine_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Setting.APP_VERSION);
  var script = document.createElement("script");
  script.src = url;
  var canceled = false;

  window["callbackDownloadLevels"] = function (player, data) {
    if (!canceled) {
      if (player == PLAYER_HUMAN) {
        storageGlobal.setItem(SOLO_PLAYER_DOWNLOAD_LEVELS_TO, JSON.stringify(data));
      } else if (player == PLAYER_AI) {
        storageGlobal.setItem(SOLO_AI_DOWNLOAD_LEVELS_TO, JSON.stringify(data));
      }

      displayLevelList(player);
    }

    document.getElementById("levelDownloading").innerHTML = "";
    document.getElementById("btnDeblockDiv").innerHTML = "";
  };

  button.disabled = true;
  var buttonDeblock = document.createElement("button");
  buttonDeblock.classList = "btn btn-lg btn-warning";
  buttonDeblock.innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.buttonDeblock");
  document.getElementById("levelDownloading").innerHTML = "<strong>" + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.downloading") + "</strong>";
  document.getElementById("btnDeblockDiv").innerHTML = "";
  document.getElementsByTagName('head')[0].appendChild(script);

  buttonDeblock.onclick = function () {
    canceled = true;
    deblockButton(button, script, "callbackDownloadLevels");
  };

  document.getElementById("btnDeblockDiv").appendChild(buttonDeblock);
};

function deblockButton(button, script) {
  button.disabled = false;
  script.src = null;
  document.getElementById("levelDownloading").innerHTML = "";
  document.getElementById("btnDeblockDiv").innerHTML = "";
  document.getElementsByTagName('head')[0].removeChild(script);
}

function getNumberFruits(player) {
  var item = getSave(player, DEFAULT_LEVEL);

  if (item != null) {
    if (!item["numFruits"] || isNaN(item["numFruits"])) {
      item["numFruits"] = 0;
    }

    return item["numFruits"];
  }

  return false;
}

function getListLevel(player, type) {
  var levels = getLevels(player, type);
  var res = "";

  if (type == DOWNLOADED_LEVEL) {
    res += '<div class="row mb-3"><div class="col text-center"><button class="btn btn-lg btn-warning" onclick="downloadLevels(' + player + ', this);"><span class="fui-plus-circle"></span>&nbsp; ' + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.download") + '</button><br /><a href="#null" onclick="editDownloadURL();" class="small"><span class="fui-new"></span>&nbsp; ' + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.editDownloadURL") + '</a></div></div>';
  }

  if (levels == null) {
    return res + "<strong>" + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.emptyList") + "</strong>";
  }

  var index = 1;
  var empty = true;

  for (var key in levels) {
    var button = void 0;

    if (levels.hasOwnProperty(key)) {
      if (!canPlay(key, player, type)) {
        button = '<button class="btn btn-lg btn-primary btn-block-85" disabled aria-label="' + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.disabledLevel") + '" data-balloon-length="fit" data-balloon-pos="up">' + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.level") + ' ' + index + '</button>';
      } else if (!levelCompatible(levels[key]["type"], levels[key]["version"])) {
        button = '<button class="btn btn-lg btn-primary btn-block-85" disabled aria-label="' + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.notCompatible") + '" data-balloon-length="fit" data-balloon-pos="up">' + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.level") + ' ' + index + '</button>';
      } else {
        var resultLevel = printResultLevel(key, player, levels[key]["type"], type);
        button = '<button class="btn btn-lg btn-primary btn-block-85" onclick="playLevel(' + key + ', ' + player + ', ' + type + ');" ' + (resultLevel.trim() != "" ? 'aria-label="' + printResultLevel(key, player, levels[key]["type"], type) + '" data-balloon-length="fit" data-balloon-pos="up"' : '') + '>' + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.level") + ' ' + index + '</button>';
      }

      if (index == 1) {
        res += '<div class="row mb-2">';
      }

      if (index % 2 == 0) {
        res += '<div class="col pl-0 justify-content-center">' + button + '</div></div><div class="row mb-2">';
      } else {
        res += '<div class="col pr-0 justify-content-center">' + button + '</div>';
      }

      empty = false;
    }

    index++;
  }

  if (empty) {
    return res + "<strong>" + i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.emptyList") + "</strong>";
  }

  if (index % 2 == 0) {
    res += '<div class="col pr-0 justify-content-center"></div>';
  }

  return res + "</div>";
}

function getListBonus(player) {
  var item = getSave(player, DEFAULT_LEVEL);
  var div = document.createElement("div");
  var p = document.createElement("p");
  p.classList.add("mb-1");
  var pStrong = document.createElement("strong");
  pStrong.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bonusEquipped") + " ";
  var bonus = document.createElement("span");
  bonus.textContent = item["currentBonus"] ? levelsBonusData[item["currentBonus"]] ? i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t(levelsBonusData[item["currentBonus"]].text) : i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bonus.unknown") : i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.none");
  p.appendChild(pStrong);
  p.appendChild(bonus);

  if (item["currentBonus"]) {
    var sellBonusLink = document.createElement("a");
    sellBonusLink.addEventListener("click", function () {
      return sellBonus(player);
    });
    sellBonusLink.setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.sellBonus"));
    sellBonusLink.setAttribute("data-balloon-length", "medium");
    sellBonusLink.classList.add("text-danger", "ml-2");
    sellBonusLink.style.cursor = "pointer";
    var sellBonusSpan = document.createElement("span");
    sellBonusSpan.classList.add("fui-cross");
    sellBonusLink.appendChild(sellBonusSpan);
    p.appendChild(sellBonusLink);
  }

  div.appendChild(p);

  var _loop2 = function _loop2(key) {
    var subDiv = document.createElement("div");
    subDiv.classList.add("m-2");
    var divBtnGroup = document.createElement("div");
    divBtnGroup.classList.add("btn-group", "flex-wrap");
    var button = document.createElement("button");
    button.classList.add("btn", "btn-primary");
    button.textContent = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t(levelsBonusData[key].text);
    button.style.width = "250px";
    button.setAttribute("data-balloon-length", "large");

    if (levelsBonusData[key].applicableTo.indexOf(player) < 0 || item["unlockAllLevels"] && (key == "BONUS_UNLOCK_ALL_LEVELS" || key == "BONUS_PASS_LEVEL")) {
      button.disabled = true;
      button.classList.add("disabled");
      button.setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bonusNotApplicable"));
    } else if (levelsBonusData[key].price > getNumberFruits(player)) {
      button.disabled = true;
      button.classList.add("disabled");
      button.setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.notEnoughFruits"));
    } else if (item["currentBonus"] != null) {
      button.disabled = true;
      button.classList.add("disabled");
      button.setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bonusAlreadyEquipped"));
    } else {
      button.addEventListener("click", function () {
        return buyBonus(key, player);
      });
    }

    var buttonInfo = document.createElement("div");
    buttonInfo.classList.add("btn", "btn-info");
    buttonInfo.setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t(levelsBonusData[key].information));
    buttonInfo.setAttribute("data-balloon-length", "large");
    var iconInfo = document.createElement("span");
    iconInfo.classList.add("fui-question-circle");
    buttonInfo.appendChild(iconInfo);
    var buttonPrice = document.createElement("div");
    buttonPrice.style.width = "125px";
    var image = document.createElement("img");
    image.classList.add("align-text-bottom");
    image.src = "assets/images/skin/flat/fruit.png";
    image.width = 24;
    image.height = 24;
    var span2 = document.createElement("span");
    span2.textContent = " × " + levelsBonusData[key].price;
    buttonPrice.appendChild(image);
    buttonPrice.appendChild(span2);
    divBtnGroup.appendChild(button);
    divBtnGroup.appendChild(buttonInfo);
    divBtnGroup.appendChild(buttonPrice);
    subDiv.appendChild(divBtnGroup);
    div.appendChild(subDiv);
  };

  for (var key in levelsBonusData) {
    _loop2(key);
  }

  return div;
}

function buyBonus(bonus, player) {
  var save = getTitleSave(player, DEFAULT_LEVEL);
  var item = getSave(player, DEFAULT_LEVEL);

  if (bonus == null) {
    item["currentBonus"] = null;
    storageGlobal.setItem(save, JSON.stringify(item));
  } else if (levelsBonusData[bonus].applicableTo.indexOf(player) < 0 || item["unlockAllLevels"] && (bonus == "BONUS_UNLOCK_ALL_LEVELS" || bonus == "BONUS_PASS_LEVEL")) {
    alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bonusNotApplicable"));
  } else if (levelsBonusData[bonus].price > getNumberFruits(player)) {
    alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.notEnoughFruits"));
  } else if (item["currentBonus"] != null) {
    alert(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bonusAlreadyEquipped"));
  } else {
    item["numFruits"] -= levelsBonusData[bonus].price;

    if (bonus == "BONUS_UNLOCK_ALL_LEVELS") {
      item["unlockAllLevels"] = true;
    } else {
      item["currentBonus"] = bonus;
    }

    storageGlobal.setItem(save, JSON.stringify(item));
    displayLevelList(player);
    return true;
  }

  return false;
}

function sellBonus(player) {
  var save = getTitleSave(player, DEFAULT_LEVEL);
  var item = getSave(player, DEFAULT_LEVEL);

  if (item["currentBonus"] != null) {
    if (levelsBonusData[item["currentBonus"]] || confirm(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("levels.bonus.unknownInfo"))) {
      if (levelsBonusData[item["currentBonus"]]) {
        item["numFruits"] += levelsBonusData[item["currentBonus"]].price;
      }

      item["currentBonus"] = null;
      storageGlobal.setItem(save, JSON.stringify(item));
      displayLevelList(player);
      return true;
    }
  }

  return false;
} // Localization


function listTranslations(languages) {
  if (languages != null) {
    document.getElementById("languageSelect").disabled = true;
    document.getElementById("languageSelect").innerHTML = "";

    for (var i = 0; i < languages.length; i++) {
      document.getElementById("languageSelect").innerHTML = document.getElementById("languageSelect").innerHTML + '<option data-i18n="lang.' + languages[i] + '" value="' + languages[i] + '"></option>';
    }

    document.getElementById("languageSelect").value = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].language.substr(0, 2);
    document.getElementById("languageSelect").disabled = false;
  }
}

function translateContent() {
  listTranslations(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].languages);
  var i18nList = document.querySelectorAll("[data-i18n]");

  for (var i = 0, l = i18nList.length; i < l; i++) {
    i18nList[i].innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t(i18nList[i].dataset.i18n);
  }

  document.getElementById("dateTxt").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.versionDate", {
    date: new Intl.DateTimeFormat(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].language.substr(0, 2)).format(new Date(DATE_VERSION))
  });
  document.getElementById("heightGrid").placeholder = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.placeholderHeight");
  document.getElementById("widthGrid").placeholder = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.placeholderWidth");
  document.getElementById("customSpeed").placeholder = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.placeholderCustomSpeed");
  document.getElementById("numberIA").placeholder = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.placeholderNumberIA");
  document.getElementById("appDownloadURLGet").setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("update.getURL"));
  document.getElementById("appUpdateChanges").setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("update.getChanges"));
  document.getElementById("appUpdateDateLocalized").innerHTML = i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("update.versionDate", {
    date: new Intl.DateTimeFormat(i18next__WEBPACK_IMPORTED_MODULE_0__["default"].language.substr(0, 2)).format(new Date(document.getElementById("appUpdateDate").innerHTML))
  });
  document.getElementById("aiAssistantInfos").setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("settings.aiAssistantInfos"));
  document.getElementById("multithreadingInfos").setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.multithreadingInfos"));
  document.getElementById("onlineEnableClientSidePredictionsInfos").setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.onlineEnableClientSidePredictionsInfos"));
  document.querySelectorAll(".settingNotAvailable").forEach(function (e) {
    e.setAttribute("aria-label", i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("menu.settingNotAvailable"));
  });
}

document.getElementById("languageSelect").onchange = function () {
  i18next__WEBPACK_IMPORTED_MODULE_0__["default"].changeLanguage(document.getElementById("languageSelect").value, function (err, t) {
    translateContent();
  });
};

window.addEventListener("load", function () {
  setTimeout(function () {
    translateContent();
    checkUpdate();
  }, 250);
}); // Installable app

if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/assertThisInitialized.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

module.exports = _assertThisInitialized;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

module.exports = _classCallCheck;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/createClass.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

module.exports = _createClass;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

module.exports = _defineProperty;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _assertThisInitialized; });
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return self;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _classCallCheck; });
function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/createClass.js":
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/createClass.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _createClass; });
function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/defineProperty.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _defineProperty; });
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _getPrototypeOf; });
function _getPrototypeOf(o) {
  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/inherits.js":
/*!*************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/inherits.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _inherits; });
/* harmony import */ var _babel_runtime_helpers_esm_setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/setPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object(_babel_runtime_helpers_esm_setPrototypeOf__WEBPACK_IMPORTED_MODULE_0__["default"])(subClass, superClass);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/objectSpread.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/objectSpread.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _objectSpread; });
/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? Object(arguments[i]) : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["default"])(target, key, source[key]);
    });
  }

  return target;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _possibleConstructorReturn; });
/* harmony import */ var _babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/typeof */ "./node_modules/@babel/runtime/helpers/esm/typeof.js");
/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");


function _possibleConstructorReturn(self, call) {
  if (call && (Object(_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["default"])(call) === "object" || typeof call === "function")) {
    return call;
  }

  return Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1__["default"])(self);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _setPrototypeOf; });
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/typeof.js":
/*!***********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/typeof.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return _typeof; });
function _typeof(obj) {
  "@babel/helpers - typeof";

  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    _typeof = function _typeof(obj) {
      return typeof obj;
    };
  } else {
    _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/get.js":
/*!****************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/get.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var superPropBase = __webpack_require__(/*! ./superPropBase */ "./node_modules/@babel/runtime/helpers/superPropBase.js");

function _get(target, property, receiver) {
  if (typeof Reflect !== "undefined" && Reflect.get) {
    module.exports = _get = Reflect.get;
  } else {
    module.exports = _get = function _get(target, property, receiver) {
      var base = superPropBase(target, property);
      if (!base) return;
      var desc = Object.getOwnPropertyDescriptor(base, property);

      if (desc.get) {
        return desc.get.call(receiver);
      }

      return desc.value;
    };
  }

  return _get(target, property, receiver || target);
}

module.exports = _get;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/getPrototypeOf.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _getPrototypeOf(o) {
  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {
    return o.__proto__ || Object.getPrototypeOf(o);
  };
  return _getPrototypeOf(o);
}

module.exports = _getPrototypeOf;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/inherits.js":
/*!*********************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/inherits.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var setPrototypeOf = __webpack_require__(/*! ./setPrototypeOf */ "./node_modules/@babel/runtime/helpers/setPrototypeOf.js");

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function");
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      writable: true,
      configurable: true
    }
  });
  if (superClass) setPrototypeOf(subClass, superClass);
}

module.exports = _inherits;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ "./node_modules/@babel/runtime/helpers/typeof.js");

var assertThisInitialized = __webpack_require__(/*! ./assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");

function _possibleConstructorReturn(self, call) {
  if (call && (_typeof(call) === "object" || typeof call === "function")) {
    return call;
  }

  return assertThisInitialized(self);
}

module.exports = _possibleConstructorReturn;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/set.js":
/*!****************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/set.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var superPropBase = __webpack_require__(/*! ./superPropBase */ "./node_modules/@babel/runtime/helpers/superPropBase.js");

var defineProperty = __webpack_require__(/*! ./defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");

function set(target, property, value, receiver) {
  if (typeof Reflect !== "undefined" && Reflect.set) {
    set = Reflect.set;
  } else {
    set = function set(target, property, value, receiver) {
      var base = superPropBase(target, property);
      var desc;

      if (base) {
        desc = Object.getOwnPropertyDescriptor(base, property);

        if (desc.set) {
          desc.set.call(receiver, value);
          return true;
        } else if (!desc.writable) {
          return false;
        }
      }

      desc = Object.getOwnPropertyDescriptor(receiver, property);

      if (desc) {
        if (!desc.writable) {
          return false;
        }

        desc.value = value;
        Object.defineProperty(receiver, property, desc);
      } else {
        defineProperty(receiver, property, value);
      }

      return true;
    };
  }

  return set(target, property, value, receiver);
}

function _set(target, property, value, receiver, isStrict) {
  var s = set(target, property, value, receiver || target);

  if (!s && isStrict) {
    throw new Error('failed to set property');
  }

  return value;
}

module.exports = _set;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/setPrototypeOf.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/setPrototypeOf.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _setPrototypeOf(o, p) {
  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

module.exports = _setPrototypeOf;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/superPropBase.js":
/*!**************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/superPropBase.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var getPrototypeOf = __webpack_require__(/*! ./getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");

function _superPropBase(object, property) {
  while (!Object.prototype.hasOwnProperty.call(object, property)) {
    object = getPrototypeOf(object);
    if (object === null) break;
  }

  return object;
}

module.exports = _superPropBase;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _typeof(obj) {
  "@babel/helpers - typeof";

  if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
    module.exports = _typeof = function _typeof(obj) {
      return typeof obj;
    };
  } else {
    module.exports = _typeof = function _typeof(obj) {
      return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
  }

  return _typeof(obj);
}

module.exports = _typeof;

/***/ }),

/***/ "./node_modules/after/index.js":
/*!*************************************!*\
  !*** ./node_modules/after/index.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = after

function after(count, callback, err_cb) {
    var bail = false
    err_cb = err_cb || noop
    proxy.count = count

    return (count === 0) ? callback() : proxy

    function proxy(err, result) {
        if (proxy.count <= 0) {
            throw new Error('after called too many times')
        }
        --proxy.count

        // after first error, rest are passed to err_cb
        if (err) {
            bail = true
            callback(err)
            // future error callbacks will go to error handler
            callback = err_cb
        } else if (proxy.count === 0 && !bail) {
            callback(null, result)
        }
    }
}

function noop() {}


/***/ }),

/***/ "./node_modules/arraybuffer.slice/index.js":
/*!*************************************************!*\
  !*** ./node_modules/arraybuffer.slice/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * An abstraction for slicing an arraybuffer even when
 * ArrayBuffer.prototype.slice is not supported
 *
 * @api public
 */

module.exports = function(arraybuffer, start, end) {
  var bytes = arraybuffer.byteLength;
  start = start || 0;
  end = end || bytes;

  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }

  if (start < 0) { start += bytes; }
  if (end < 0) { end += bytes; }
  if (end > bytes) { end = bytes; }

  if (start >= bytes || start >= end || bytes === 0) {
    return new ArrayBuffer(0);
  }

  var abv = new Uint8Array(arraybuffer);
  var result = new Uint8Array(end - start);
  for (var i = start, ii = 0; i < end; i++, ii++) {
    result[ii] = abv[i];
  }
  return result.buffer;
};


/***/ }),

/***/ "./node_modules/backo2/index.js":
/*!**************************************!*\
  !*** ./node_modules/backo2/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * Expose `Backoff`.
 */

module.exports = Backoff;

/**
 * Initialize backoff timer with `opts`.
 *
 * - `min` initial timeout in milliseconds [100]
 * - `max` max timeout [10000]
 * - `jitter` [0]
 * - `factor` [2]
 *
 * @param {Object} opts
 * @api public
 */

function Backoff(opts) {
  opts = opts || {};
  this.ms = opts.min || 100;
  this.max = opts.max || 10000;
  this.factor = opts.factor || 2;
  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;
  this.attempts = 0;
}

/**
 * Return the backoff duration.
 *
 * @return {Number}
 * @api public
 */

Backoff.prototype.duration = function(){
  var ms = this.ms * Math.pow(this.factor, this.attempts++);
  if (this.jitter) {
    var rand =  Math.random();
    var deviation = Math.floor(rand * this.jitter * ms);
    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;
  }
  return Math.min(ms, this.max) | 0;
};

/**
 * Reset the number of attempts.
 *
 * @api public
 */

Backoff.prototype.reset = function(){
  this.attempts = 0;
};

/**
 * Set the minimum duration
 *
 * @api public
 */

Backoff.prototype.setMin = function(min){
  this.ms = min;
};

/**
 * Set the maximum duration
 *
 * @api public
 */

Backoff.prototype.setMax = function(max){
  this.max = max;
};

/**
 * Set the jitter
 *
 * @api public
 */

Backoff.prototype.setJitter = function(jitter){
  this.jitter = jitter;
};



/***/ }),

/***/ "./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":
/*!*******************************************************************!*\
  !*** ./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */
(function(chars){
  "use strict";

  exports.encode = function(arraybuffer) {
    var bytes = new Uint8Array(arraybuffer),
    i, len = bytes.length, base64 = "";

    for (i = 0; i < len; i+=3) {
      base64 += chars[bytes[i] >> 2];
      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];
      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];
      base64 += chars[bytes[i + 2] & 63];
    }

    if ((len % 3) === 2) {
      base64 = base64.substring(0, base64.length - 1) + "=";
    } else if (len % 3 === 1) {
      base64 = base64.substring(0, base64.length - 2) + "==";
    }

    return base64;
  };

  exports.decode =  function(base64) {
    var bufferLength = base64.length * 0.75,
    len = base64.length, i, p = 0,
    encoded1, encoded2, encoded3, encoded4;

    if (base64[base64.length - 1] === "=") {
      bufferLength--;
      if (base64[base64.length - 2] === "=") {
        bufferLength--;
      }
    }

    var arraybuffer = new ArrayBuffer(bufferLength),
    bytes = new Uint8Array(arraybuffer);

    for (i = 0; i < len; i+=4) {
      encoded1 = chars.indexOf(base64[i]);
      encoded2 = chars.indexOf(base64[i+1]);
      encoded3 = chars.indexOf(base64[i+2]);
      encoded4 = chars.indexOf(base64[i+3]);

      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);
      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);
      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);
    }

    return arraybuffer;
  };
})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");


/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(
      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)
    ))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/blob/index.js":
/*!************************************!*\
  !*** ./node_modules/blob/index.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Create a blob builder even when vendor prefixes exist
 */

var BlobBuilder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :
  typeof WebKitBlobBuilder !== 'undefined' ? WebKitBlobBuilder :
  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :
  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : 
  false;

/**
 * Check if Blob constructor is supported
 */

var blobSupported = (function() {
  try {
    var a = new Blob(['hi']);
    return a.size === 2;
  } catch(e) {
    return false;
  }
})();

/**
 * Check if Blob constructor supports ArrayBufferViews
 * Fails in Safari 6, so we need to map to ArrayBuffers there.
 */

var blobSupportsArrayBufferView = blobSupported && (function() {
  try {
    var b = new Blob([new Uint8Array([1,2])]);
    return b.size === 2;
  } catch(e) {
    return false;
  }
})();

/**
 * Check if BlobBuilder is supported
 */

var blobBuilderSupported = BlobBuilder
  && BlobBuilder.prototype.append
  && BlobBuilder.prototype.getBlob;

/**
 * Helper function that maps ArrayBufferViews to ArrayBuffers
 * Used by BlobBuilder constructor and old browsers that didn't
 * support it in the Blob constructor.
 */

function mapArrayBufferViews(ary) {
  return ary.map(function(chunk) {
    if (chunk.buffer instanceof ArrayBuffer) {
      var buf = chunk.buffer;

      // if this is a subarray, make a copy so we only
      // include the subarray region from the underlying buffer
      if (chunk.byteLength !== buf.byteLength) {
        var copy = new Uint8Array(chunk.byteLength);
        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));
        buf = copy.buffer;
      }

      return buf;
    }

    return chunk;
  });
}

function BlobBuilderConstructor(ary, options) {
  options = options || {};

  var bb = new BlobBuilder();
  mapArrayBufferViews(ary).forEach(function(part) {
    bb.append(part);
  });

  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();
};

function BlobConstructor(ary, options) {
  return new Blob(mapArrayBufferViews(ary), options || {});
};

if (typeof Blob !== 'undefined') {
  BlobBuilderConstructor.prototype = Blob.prototype;
  BlobConstructor.prototype = Blob.prototype;
}

module.exports = (function() {
  if (blobSupported) {
    return blobSupportsArrayBufferView ? Blob : BlobConstructor;
  } else if (blobBuilderSupported) {
    return BlobBuilderConstructor;
  } else {
    return undefined;
  }
})();


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



var base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
var ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
var isArray = __webpack_require__(/*! isarray */ "./node_modules/isarray/index.js")

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

/*
 * Export kMaxLength after typed array support is determined.
 */
exports.kMaxLength = kMaxLength()

function typedArraySupport () {
  try {
    var arr = new Uint8Array(1)
    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}
    return arr.foo() === 42 && // typed array instances can be augmented
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

function createBuffer (that, length) {
  if (kMaxLength() < length) {
    throw new RangeError('Invalid typed array length')
  }
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = new Uint8Array(length)
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    if (that === null) {
      that = new Buffer(length)
    }
    that.length = length
  }

  return that
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {
    return new Buffer(arg, encodingOrOffset, length)
  }

  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new Error(
        'If encoding is specified then the first argument must be a string'
      )
    }
    return allocUnsafe(this, arg)
  }
  return from(this, arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

// TODO: Legacy, not needed anymore. Remove in next major version.
Buffer._augment = function (arr) {
  arr.__proto__ = Buffer.prototype
  return arr
}

function from (that, value, encodingOrOffset, length) {
  if (typeof value === 'number') {
    throw new TypeError('"value" argument must not be a number')
  }

  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {
    return fromArrayBuffer(that, value, encodingOrOffset, length)
  }

  if (typeof value === 'string') {
    return fromString(that, value, encodingOrOffset)
  }

  return fromObject(that, value)
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(null, value, encodingOrOffset, length)
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
  if (typeof Symbol !== 'undefined' && Symbol.species &&
      Buffer[Symbol.species] === Buffer) {
    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97
    Object.defineProperty(Buffer, Symbol.species, {
      value: null,
      configurable: true
    })
  }
}

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be a number')
  } else if (size < 0) {
    throw new RangeError('"size" argument must not be negative')
  }
}

function alloc (that, size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(that, size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpretted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(that, size).fill(fill, encoding)
      : createBuffer(that, size).fill(fill)
  }
  return createBuffer(that, size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(null, size, fill, encoding)
}

function allocUnsafe (that, size) {
  assertSize(size)
  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < size; ++i) {
      that[i] = 0
    }
  }
  return that
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(null, size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(null, size)
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('"encoding" must be a valid string encoding')
  }

  var length = byteLength(string, encoding) | 0
  that = createBuffer(that, length)

  var actual = that.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    that = that.slice(0, actual)
  }

  return that
}

function fromArrayLike (that, array) {
  var length = array.length < 0 ? 0 : checked(array.length) | 0
  that = createBuffer(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array, byteOffset, length) {
  array.byteLength // this throws if `array` is not a valid ArrayBuffer

  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('\'offset\' is out of bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('\'length\' is out of bounds')
  }

  if (byteOffset === undefined && length === undefined) {
    array = new Uint8Array(array)
  } else if (length === undefined) {
    array = new Uint8Array(array, byteOffset)
  } else {
    array = new Uint8Array(array, byteOffset, length)
  }

  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = array
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromArrayLike(that, array)
  }
  return that
}

function fromObject (that, obj) {
  if (Buffer.isBuffer(obj)) {
    var len = checked(obj.length) | 0
    that = createBuffer(that, len)

    if (that.length === 0) {
      return that
    }

    obj.copy(that, 0, 0, len)
    return that
  }

  if (obj) {
    if ((typeof ArrayBuffer !== 'undefined' &&
        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {
      if (typeof obj.length !== 'number' || isnan(obj.length)) {
        return createBuffer(that, 0)
      }
      return fromArrayLike(that, obj)
    }

    if (obj.type === 'Buffer' && isArray(obj.data)) {
      return fromArrayLike(that, obj.data)
    }
  }

  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')
}

function checked (length) {
  // Note: cannot use `length < kMaxLength()` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  for (var i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  var buffer = Buffer.allocUnsafe(length)
  var pos = 0
  for (i = 0; i < list.length; ++i) {
    var buf = list[i]
    if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    }
    buf.copy(buffer, pos)
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&
      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    string = '' + string
  }

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
      case undefined:
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  var loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect
// Buffer instances.
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  var i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  var len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (var i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  var len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (var i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  var len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (var i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (!Buffer.isBuffer(target)) {
    throw new TypeError('Argument must be a Buffer')
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  var x = thisEnd - thisStart
  var y = end - start
  var len = Math.min(x, y)

  var thisCopy = this.slice(thisStart, thisEnd)
  var targetCopy = target.slice(start, end)

  for (var i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset  // Coerce to Number.
  if (isNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (Buffer.TYPED_ARRAY_SUPPORT &&
        typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  var indexSize = 1
  var arrLength = arr.length
  var valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  var i
  if (dir) {
    var foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      var found = true
      for (var j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; ++i) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function latin1Write (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'latin1':
      case 'binary':
        return latin1Write(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; ++i) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = this.subarray(start, end)
    newBuf.__proto__ = Buffer.prototype
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; ++i) {
      newBuf[i] = this[i + start]
    }
  }

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    var maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; --i) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; ++i) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, start + len),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (val.length === 1) {
      var code = val.charCodeAt(0)
      if (code < 256) {
        val = code
      }
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
  } else if (typeof val === 'number') {
    val = val & 255
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  var i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    var bytes = Buffer.isBuffer(val)
      ? val
      : utf8ToBytes(new Buffer(val, encoding).toString())
    var len = bytes.length
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// HELPER FUNCTIONS
// ================

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

function isnan (val) {
  return val !== val // eslint-disable-line no-self-compare
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/component-bind/index.js":
/*!**********************************************!*\
  !*** ./node_modules/component-bind/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Slice reference.
 */

var slice = [].slice;

/**
 * Bind `obj` to `fn`.
 *
 * @param {Object} obj
 * @param {Function|String} fn or string
 * @return {Function}
 * @api public
 */

module.exports = function(obj, fn){
  if ('string' == typeof fn) fn = obj[fn];
  if ('function' != typeof fn) throw new Error('bind() requires a function');
  var args = slice.call(arguments, 2);
  return function(){
    return fn.apply(obj, args.concat(slice.call(arguments)));
  }
};


/***/ }),

/***/ "./node_modules/component-emitter/index.js":
/*!*************************************************!*\
  !*** ./node_modules/component-emitter/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Expose `Emitter`.
 */

if (true) {
  module.exports = Emitter;
}

/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
};

/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }
  return obj;
}

/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.on =
Emitter.prototype.addEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};
  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])
    .push(fn);
  return this;
};

/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.once = function(event, fn){
  function on() {
    this.off(event, on);
    fn.apply(this, arguments);
  }

  on.fn = fn;
  this.on(event, on);
  return this;
};

/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */

Emitter.prototype.off =
Emitter.prototype.removeListener =
Emitter.prototype.removeAllListeners =
Emitter.prototype.removeEventListener = function(event, fn){
  this._callbacks = this._callbacks || {};

  // all
  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  }

  // specific event
  var callbacks = this._callbacks['$' + event];
  if (!callbacks) return this;

  // remove all handlers
  if (1 == arguments.length) {
    delete this._callbacks['$' + event];
    return this;
  }

  // remove specific handler
  var cb;
  for (var i = 0; i < callbacks.length; i++) {
    cb = callbacks[i];
    if (cb === fn || cb.fn === fn) {
      callbacks.splice(i, 1);
      break;
    }
  }

  // Remove event specific arrays for event types that no
  // one is subscribed for to avoid memory leak.
  if (callbacks.length === 0) {
    delete this._callbacks['$' + event];
  }

  return this;
};

/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */

Emitter.prototype.emit = function(event){
  this._callbacks = this._callbacks || {};

  var args = new Array(arguments.length - 1)
    , callbacks = this._callbacks['$' + event];

  for (var i = 1; i < arguments.length; i++) {
    args[i - 1] = arguments[i];
  }

  if (callbacks) {
    callbacks = callbacks.slice(0);
    for (var i = 0, len = callbacks.length; i < len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};

/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */

Emitter.prototype.listeners = function(event){
  this._callbacks = this._callbacks || {};
  return this._callbacks['$' + event] || [];
};

/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */

Emitter.prototype.hasListeners = function(event){
  return !! this.listeners(event).length;
};


/***/ }),

/***/ "./node_modules/component-inherit/index.js":
/*!*************************************************!*\
  !*** ./node_modules/component-inherit/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {


module.exports = function(a, b){
  var fn = function(){};
  fn.prototype = b.prototype;
  a.prototype = new fn;
  a.prototype.constructor = a;
};

/***/ }),

/***/ "./node_modules/engine.io-client/lib/globalThis.browser.js":
/*!*****************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/globalThis.browser.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = (function () {
  if (typeof self !== 'undefined') {
    return self;
  } else if (typeof window !== 'undefined') {
    return window;
  } else {
    return Function('return this')(); // eslint-disable-line no-new-func
  }
})();


/***/ }),

/***/ "./node_modules/engine.io-client/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/engine.io-client/lib/index.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


module.exports = __webpack_require__(/*! ./socket */ "./node_modules/engine.io-client/lib/socket.js");

/**
 * Exports parser
 *
 * @api public
 *
 */
module.exports.parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/browser.js");


/***/ }),

/***/ "./node_modules/engine.io-client/lib/socket.js":
/*!*****************************************************!*\
  !*** ./node_modules/engine.io-client/lib/socket.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Module dependencies.
 */

var transports = __webpack_require__(/*! ./transports/index */ "./node_modules/engine.io-client/lib/transports/index.js");
var Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
var debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")('engine.io-client:socket');
var index = __webpack_require__(/*! indexof */ "./node_modules/indexof/index.js");
var parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/browser.js");
var parseuri = __webpack_require__(/*! parseuri */ "./node_modules/parseuri/index.js");
var parseqs = __webpack_require__(/*! parseqs */ "./node_modules/parseqs/index.js");

/**
 * Module exports.
 */

module.exports = Socket;

/**
 * Socket constructor.
 *
 * @param {String|Object} uri or options
 * @param {Object} options
 * @api public
 */

function Socket (uri, opts) {
  if (!(this instanceof Socket)) return new Socket(uri, opts);

  opts = opts || {};

  if (uri && 'object' === typeof uri) {
    opts = uri;
    uri = null;
  }

  if (uri) {
    uri = parseuri(uri);
    opts.hostname = uri.host;
    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';
    opts.port = uri.port;
    if (uri.query) opts.query = uri.query;
  } else if (opts.host) {
    opts.hostname = parseuri(opts.host).host;
  }

  this.secure = null != opts.secure ? opts.secure
    : (typeof location !== 'undefined' && 'https:' === location.protocol);

  if (opts.hostname && !opts.port) {
    // if no port is specified manually, use the protocol default
    opts.port = this.secure ? '443' : '80';
  }

  this.agent = opts.agent || false;
  this.hostname = opts.hostname ||
    (typeof location !== 'undefined' ? location.hostname : 'localhost');
  this.port = opts.port || (typeof location !== 'undefined' && location.port
      ? location.port
      : (this.secure ? 443 : 80));
  this.query = opts.query || {};
  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);
  this.upgrade = false !== opts.upgrade;
  this.path = (opts.path || '/engine.io').replace(/\/$/, '') + '/';
  this.forceJSONP = !!opts.forceJSONP;
  this.jsonp = false !== opts.jsonp;
  this.forceBase64 = !!opts.forceBase64;
  this.enablesXDR = !!opts.enablesXDR;
  this.withCredentials = false !== opts.withCredentials;
  this.timestampParam = opts.timestampParam || 't';
  this.timestampRequests = opts.timestampRequests;
  this.transports = opts.transports || ['polling', 'websocket'];
  this.transportOptions = opts.transportOptions || {};
  this.readyState = '';
  this.writeBuffer = [];
  this.prevBufferLen = 0;
  this.policyPort = opts.policyPort || 843;
  this.rememberUpgrade = opts.rememberUpgrade || false;
  this.binaryType = null;
  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;
  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;

  if (true === this.perMessageDeflate) this.perMessageDeflate = {};
  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {
    this.perMessageDeflate.threshold = 1024;
  }

  // SSL options for Node.js client
  this.pfx = opts.pfx || null;
  this.key = opts.key || null;
  this.passphrase = opts.passphrase || null;
  this.cert = opts.cert || null;
  this.ca = opts.ca || null;
  this.ciphers = opts.ciphers || null;
  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;
  this.forceNode = !!opts.forceNode;

  // detect ReactNative environment
  this.isReactNative = (typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative');

  // other options for Node.js or ReactNative client
  if (typeof self === 'undefined' || this.isReactNative) {
    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {
      this.extraHeaders = opts.extraHeaders;
    }

    if (opts.localAddress) {
      this.localAddress = opts.localAddress;
    }
  }

  // set on handshake
  this.id = null;
  this.upgrades = null;
  this.pingInterval = null;
  this.pingTimeout = null;

  // set on heartbeat
  this.pingIntervalTimer = null;
  this.pingTimeoutTimer = null;

  this.open();
}

Socket.priorWebsocketSuccess = false;

/**
 * Mix in `Emitter`.
 */

Emitter(Socket.prototype);

/**
 * Protocol version.
 *
 * @api public
 */

Socket.protocol = parser.protocol; // this is an int

/**
 * Expose deps for legacy compatibility
 * and standalone browser access.
 */

Socket.Socket = Socket;
Socket.Transport = __webpack_require__(/*! ./transport */ "./node_modules/engine.io-client/lib/transport.js");
Socket.transports = __webpack_require__(/*! ./transports/index */ "./node_modules/engine.io-client/lib/transports/index.js");
Socket.parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/browser.js");

/**
 * Creates transport of the given type.
 *
 * @param {String} transport name
 * @return {Transport}
 * @api private
 */

Socket.prototype.createTransport = function (name) {
  debug('creating transport "%s"', name);
  var query = clone(this.query);

  // append engine.io protocol identifier
  query.EIO = parser.protocol;

  // transport name
  query.transport = name;

  // per-transport options
  var options = this.transportOptions[name] || {};

  // session id if we already have one
  if (this.id) query.sid = this.id;

  var transport = new transports[name]({
    query: query,
    socket: this,
    agent: options.agent || this.agent,
    hostname: options.hostname || this.hostname,
    port: options.port || this.port,
    secure: options.secure || this.secure,
    path: options.path || this.path,
    forceJSONP: options.forceJSONP || this.forceJSONP,
    jsonp: options.jsonp || this.jsonp,
    forceBase64: options.forceBase64 || this.forceBase64,
    enablesXDR: options.enablesXDR || this.enablesXDR,
    withCredentials: options.withCredentials || this.withCredentials,
    timestampRequests: options.timestampRequests || this.timestampRequests,
    timestampParam: options.timestampParam || this.timestampParam,
    policyPort: options.policyPort || this.policyPort,
    pfx: options.pfx || this.pfx,
    key: options.key || this.key,
    passphrase: options.passphrase || this.passphrase,
    cert: options.cert || this.cert,
    ca: options.ca || this.ca,
    ciphers: options.ciphers || this.ciphers,
    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,
    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,
    extraHeaders: options.extraHeaders || this.extraHeaders,
    forceNode: options.forceNode || this.forceNode,
    localAddress: options.localAddress || this.localAddress,
    requestTimeout: options.requestTimeout || this.requestTimeout,
    protocols: options.protocols || void (0),
    isReactNative: this.isReactNative
  });

  return transport;
};

function clone (obj) {
  var o = {};
  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      o[i] = obj[i];
    }
  }
  return o;
}

/**
 * Initializes transport to use and starts probe.
 *
 * @api private
 */
Socket.prototype.open = function () {
  var transport;
  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {
    transport = 'websocket';
  } else if (0 === this.transports.length) {
    // Emit error on next tick so it can be listened to
    var self = this;
    setTimeout(function () {
      self.emit('error', 'No transports available');
    }, 0);
    return;
  } else {
    transport = this.transports[0];
  }
  this.readyState = 'opening';

  // Retry with the next transport if the transport is disabled (jsonp: false)
  try {
    transport = this.createTransport(transport);
  } catch (e) {
    this.transports.shift();
    this.open();
    return;
  }

  transport.open();
  this.setTransport(transport);
};

/**
 * Sets the current transport. Disables the existing one (if any).
 *
 * @api private
 */

Socket.prototype.setTransport = function (transport) {
  debug('setting transport %s', transport.name);
  var self = this;

  if (this.transport) {
    debug('clearing existing transport %s', this.transport.name);
    this.transport.removeAllListeners();
  }

  // set up transport
  this.transport = transport;

  // set up transport listeners
  transport
  .on('drain', function () {
    self.onDrain();
  })
  .on('packet', function (packet) {
    self.onPacket(packet);
  })
  .on('error', function (e) {
    self.onError(e);
  })
  .on('close', function () {
    self.onClose('transport close');
  });
};

/**
 * Probes a transport.
 *
 * @param {String} transport name
 * @api private
 */

Socket.prototype.probe = function (name) {
  debug('probing transport "%s"', name);
  var transport = this.createTransport(name, { probe: 1 });
  var failed = false;
  var self = this;

  Socket.priorWebsocketSuccess = false;

  function onTransportOpen () {
    if (self.onlyBinaryUpgrades) {
      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;
      failed = failed || upgradeLosesBinary;
    }
    if (failed) return;

    debug('probe transport "%s" opened', name);
    transport.send([{ type: 'ping', data: 'probe' }]);
    transport.once('packet', function (msg) {
      if (failed) return;
      if ('pong' === msg.type && 'probe' === msg.data) {
        debug('probe transport "%s" pong', name);
        self.upgrading = true;
        self.emit('upgrading', transport);
        if (!transport) return;
        Socket.priorWebsocketSuccess = 'websocket' === transport.name;

        debug('pausing current transport "%s"', self.transport.name);
        self.transport.pause(function () {
          if (failed) return;
          if ('closed' === self.readyState) return;
          debug('changing transport and sending upgrade packet');

          cleanup();

          self.setTransport(transport);
          transport.send([{ type: 'upgrade' }]);
          self.emit('upgrade', transport);
          transport = null;
          self.upgrading = false;
          self.flush();
        });
      } else {
        debug('probe transport "%s" failed', name);
        var err = new Error('probe error');
        err.transport = transport.name;
        self.emit('upgradeError', err);
      }
    });
  }

  function freezeTransport () {
    if (failed) return;

    // Any callback called by transport should be ignored since now
    failed = true;

    cleanup();

    transport.close();
    transport = null;
  }

  // Handle any error that happens while probing
  function onerror (err) {
    var error = new Error('probe error: ' + err);
    error.transport = transport.name;

    freezeTransport();

    debug('probe transport "%s" failed because of error: %s', name, err);

    self.emit('upgradeError', error);
  }

  function onTransportClose () {
    onerror('transport closed');
  }

  // When the socket is closed while we're probing
  function onclose () {
    onerror('socket closed');
  }

  // When the socket is upgraded while we're probing
  function onupgrade (to) {
    if (transport && to.name !== transport.name) {
      debug('"%s" works - aborting "%s"', to.name, transport.name);
      freezeTransport();
    }
  }

  // Remove all listeners on the transport and on self
  function cleanup () {
    transport.removeListener('open', onTransportOpen);
    transport.removeListener('error', onerror);
    transport.removeListener('close', onTransportClose);
    self.removeListener('close', onclose);
    self.removeListener('upgrading', onupgrade);
  }

  transport.once('open', onTransportOpen);
  transport.once('error', onerror);
  transport.once('close', onTransportClose);

  this.once('close', onclose);
  this.once('upgrading', onupgrade);

  transport.open();
};

/**
 * Called when connection is deemed open.
 *
 * @api public
 */

Socket.prototype.onOpen = function () {
  debug('socket open');
  this.readyState = 'open';
  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;
  this.emit('open');
  this.flush();

  // we check for `readyState` in case an `open`
  // listener already closed the socket
  if ('open' === this.readyState && this.upgrade && this.transport.pause) {
    debug('starting upgrade probes');
    for (var i = 0, l = this.upgrades.length; i < l; i++) {
      this.probe(this.upgrades[i]);
    }
  }
};

/**
 * Handles a packet.
 *
 * @api private
 */

Socket.prototype.onPacket = function (packet) {
  if ('opening' === this.readyState || 'open' === this.readyState ||
      'closing' === this.readyState) {
    debug('socket receive: type "%s", data "%s"', packet.type, packet.data);

    this.emit('packet', packet);

    // Socket is live - any packet counts
    this.emit('heartbeat');

    switch (packet.type) {
      case 'open':
        this.onHandshake(JSON.parse(packet.data));
        break;

      case 'pong':
        this.setPing();
        this.emit('pong');
        break;

      case 'error':
        var err = new Error('server error');
        err.code = packet.data;
        this.onError(err);
        break;

      case 'message':
        this.emit('data', packet.data);
        this.emit('message', packet.data);
        break;
    }
  } else {
    debug('packet received with socket readyState "%s"', this.readyState);
  }
};

/**
 * Called upon handshake completion.
 *
 * @param {Object} handshake obj
 * @api private
 */

Socket.prototype.onHandshake = function (data) {
  this.emit('handshake', data);
  this.id = data.sid;
  this.transport.query.sid = data.sid;
  this.upgrades = this.filterUpgrades(data.upgrades);
  this.pingInterval = data.pingInterval;
  this.pingTimeout = data.pingTimeout;
  this.onOpen();
  // In case open handler closes socket
  if ('closed' === this.readyState) return;
  this.setPing();

  // Prolong liveness of socket on heartbeat
  this.removeListener('heartbeat', this.onHeartbeat);
  this.on('heartbeat', this.onHeartbeat);
};

/**
 * Resets ping timeout.
 *
 * @api private
 */

Socket.prototype.onHeartbeat = function (timeout) {
  clearTimeout(this.pingTimeoutTimer);
  var self = this;
  self.pingTimeoutTimer = setTimeout(function () {
    if ('closed' === self.readyState) return;
    self.onClose('ping timeout');
  }, timeout || (self.pingInterval + self.pingTimeout));
};

/**
 * Pings server every `this.pingInterval` and expects response
 * within `this.pingTimeout` or closes connection.
 *
 * @api private
 */

Socket.prototype.setPing = function () {
  var self = this;
  clearTimeout(self.pingIntervalTimer);
  self.pingIntervalTimer = setTimeout(function () {
    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);
    self.ping();
    self.onHeartbeat(self.pingTimeout);
  }, self.pingInterval);
};

/**
* Sends a ping packet.
*
* @api private
*/

Socket.prototype.ping = function () {
  var self = this;
  this.sendPacket('ping', function () {
    self.emit('ping');
  });
};

/**
 * Called on `drain` event
 *
 * @api private
 */

Socket.prototype.onDrain = function () {
  this.writeBuffer.splice(0, this.prevBufferLen);

  // setting prevBufferLen = 0 is very important
  // for example, when upgrading, upgrade packet is sent over,
  // and a nonzero prevBufferLen could cause problems on `drain`
  this.prevBufferLen = 0;

  if (0 === this.writeBuffer.length) {
    this.emit('drain');
  } else {
    this.flush();
  }
};

/**
 * Flush write buffers.
 *
 * @api private
 */

Socket.prototype.flush = function () {
  if ('closed' !== this.readyState && this.transport.writable &&
    !this.upgrading && this.writeBuffer.length) {
    debug('flushing %d packets in socket', this.writeBuffer.length);
    this.transport.send(this.writeBuffer);
    // keep track of current length of writeBuffer
    // splice writeBuffer and callbackBuffer on `drain`
    this.prevBufferLen = this.writeBuffer.length;
    this.emit('flush');
  }
};

/**
 * Sends a message.
 *
 * @param {String} message.
 * @param {Function} callback function.
 * @param {Object} options.
 * @return {Socket} for chaining.
 * @api public
 */

Socket.prototype.write =
Socket.prototype.send = function (msg, options, fn) {
  this.sendPacket('message', msg, options, fn);
  return this;
};

/**
 * Sends a packet.
 *
 * @param {String} packet type.
 * @param {String} data.
 * @param {Object} options.
 * @param {Function} callback function.
 * @api private
 */

Socket.prototype.sendPacket = function (type, data, options, fn) {
  if ('function' === typeof data) {
    fn = data;
    data = undefined;
  }

  if ('function' === typeof options) {
    fn = options;
    options = null;
  }

  if ('closing' === this.readyState || 'closed' === this.readyState) {
    return;
  }

  options = options || {};
  options.compress = false !== options.compress;

  var packet = {
    type: type,
    data: data,
    options: options
  };
  this.emit('packetCreate', packet);
  this.writeBuffer.push(packet);
  if (fn) this.once('flush', fn);
  this.flush();
};

/**
 * Closes the connection.
 *
 * @api private
 */

Socket.prototype.close = function () {
  if ('opening' === this.readyState || 'open' === this.readyState) {
    this.readyState = 'closing';

    var self = this;

    if (this.writeBuffer.length) {
      this.once('drain', function () {
        if (this.upgrading) {
          waitForUpgrade();
        } else {
          close();
        }
      });
    } else if (this.upgrading) {
      waitForUpgrade();
    } else {
      close();
    }
  }

  function close () {
    self.onClose('forced close');
    debug('socket closing - telling transport to close');
    self.transport.close();
  }

  function cleanupAndClose () {
    self.removeListener('upgrade', cleanupAndClose);
    self.removeListener('upgradeError', cleanupAndClose);
    close();
  }

  function waitForUpgrade () {
    // wait for upgrade to finish since we can't send packets while pausing a transport
    self.once('upgrade', cleanupAndClose);
    self.once('upgradeError', cleanupAndClose);
  }

  return this;
};

/**
 * Called upon transport error
 *
 * @api private
 */

Socket.prototype.onError = function (err) {
  debug('socket error %j', err);
  Socket.priorWebsocketSuccess = false;
  this.emit('error', err);
  this.onClose('transport error', err);
};

/**
 * Called upon transport close.
 *
 * @api private
 */

Socket.prototype.onClose = function (reason, desc) {
  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {
    debug('socket close with reason: "%s"', reason);
    var self = this;

    // clear timers
    clearTimeout(this.pingIntervalTimer);
    clearTimeout(this.pingTimeoutTimer);

    // stop event from firing again for transport
    this.transport.removeAllListeners('close');

    // ensure transport won't stay open
    this.transport.close();

    // ignore further transport communication
    this.transport.removeAllListeners();

    // set ready state
    this.readyState = 'closed';

    // clear session id
    this.id = null;

    // emit close event
    this.emit('close', reason, desc);

    // clean buffers after, so users can still
    // grab the buffers on `close` event
    self.writeBuffer = [];
    self.prevBufferLen = 0;
  }
};

/**
 * Filters upgrades, returning only those matching client transports.
 *
 * @param {Array} server upgrades
 * @api private
 *
 */

Socket.prototype.filterUpgrades = function (upgrades) {
  var filteredUpgrades = [];
  for (var i = 0, j = upgrades.length; i < j; i++) {
    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);
  }
  return filteredUpgrades;
};


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transport.js":
/*!********************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transport.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Module dependencies.
 */

var parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/browser.js");
var Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");

/**
 * Module exports.
 */

module.exports = Transport;

/**
 * Transport abstract constructor.
 *
 * @param {Object} options.
 * @api private
 */

function Transport (opts) {
  this.path = opts.path;
  this.hostname = opts.hostname;
  this.port = opts.port;
  this.secure = opts.secure;
  this.query = opts.query;
  this.timestampParam = opts.timestampParam;
  this.timestampRequests = opts.timestampRequests;
  this.readyState = '';
  this.agent = opts.agent || false;
  this.socket = opts.socket;
  this.enablesXDR = opts.enablesXDR;
  this.withCredentials = opts.withCredentials;

  // SSL options for Node.js client
  this.pfx = opts.pfx;
  this.key = opts.key;
  this.passphrase = opts.passphrase;
  this.cert = opts.cert;
  this.ca = opts.ca;
  this.ciphers = opts.ciphers;
  this.rejectUnauthorized = opts.rejectUnauthorized;
  this.forceNode = opts.forceNode;

  // results of ReactNative environment detection
  this.isReactNative = opts.isReactNative;

  // other options for Node.js client
  this.extraHeaders = opts.extraHeaders;
  this.localAddress = opts.localAddress;
}

/**
 * Mix in `Emitter`.
 */

Emitter(Transport.prototype);

/**
 * Emits an error.
 *
 * @param {String} str
 * @return {Transport} for chaining
 * @api public
 */

Transport.prototype.onError = function (msg, desc) {
  var err = new Error(msg);
  err.type = 'TransportError';
  err.description = desc;
  this.emit('error', err);
  return this;
};

/**
 * Opens the transport.
 *
 * @api public
 */

Transport.prototype.open = function () {
  if ('closed' === this.readyState || '' === this.readyState) {
    this.readyState = 'opening';
    this.doOpen();
  }

  return this;
};

/**
 * Closes the transport.
 *
 * @api private
 */

Transport.prototype.close = function () {
  if ('opening' === this.readyState || 'open' === this.readyState) {
    this.doClose();
    this.onClose();
  }

  return this;
};

/**
 * Sends multiple packets.
 *
 * @param {Array} packets
 * @api private
 */

Transport.prototype.send = function (packets) {
  if ('open' === this.readyState) {
    this.write(packets);
  } else {
    throw new Error('Transport not open');
  }
};

/**
 * Called upon open
 *
 * @api private
 */

Transport.prototype.onOpen = function () {
  this.readyState = 'open';
  this.writable = true;
  this.emit('open');
};

/**
 * Called with data.
 *
 * @param {String} data
 * @api private
 */

Transport.prototype.onData = function (data) {
  var packet = parser.decodePacket(data, this.socket.binaryType);
  this.onPacket(packet);
};

/**
 * Called with a decoded packet.
 */

Transport.prototype.onPacket = function (packet) {
  this.emit('packet', packet);
};

/**
 * Called upon close.
 *
 * @api private
 */

Transport.prototype.onClose = function () {
  this.readyState = 'closed';
  this.emit('close');
};


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/index.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Module dependencies
 */

var XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ "./node_modules/engine.io-client/lib/xmlhttprequest.js");
var XHR = __webpack_require__(/*! ./polling-xhr */ "./node_modules/engine.io-client/lib/transports/polling-xhr.js");
var JSONP = __webpack_require__(/*! ./polling-jsonp */ "./node_modules/engine.io-client/lib/transports/polling-jsonp.js");
var websocket = __webpack_require__(/*! ./websocket */ "./node_modules/engine.io-client/lib/transports/websocket.js");

/**
 * Export transports.
 */

exports.polling = polling;
exports.websocket = websocket;

/**
 * Polling transport polymorphic constructor.
 * Decides on xhr vs jsonp based on feature detection.
 *
 * @api private
 */

function polling (opts) {
  var xhr;
  var xd = false;
  var xs = false;
  var jsonp = false !== opts.jsonp;

  if (typeof location !== 'undefined') {
    var isSSL = 'https:' === location.protocol;
    var port = location.port;

    // some user agents have empty `location.port`
    if (!port) {
      port = isSSL ? 443 : 80;
    }

    xd = opts.hostname !== location.hostname || port !== opts.port;
    xs = opts.secure !== isSSL;
  }

  opts.xdomain = xd;
  opts.xscheme = xs;
  xhr = new XMLHttpRequest(opts);

  if ('open' in xhr && !opts.forceJSONP) {
    return new XHR(opts);
  } else {
    if (!jsonp) throw new Error('JSONP disabled');
    return new JSONP(opts);
  }
}


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/polling-jsonp.js":
/*!***********************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/polling-jsonp.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Module requirements.
 */

var Polling = __webpack_require__(/*! ./polling */ "./node_modules/engine.io-client/lib/transports/polling.js");
var inherit = __webpack_require__(/*! component-inherit */ "./node_modules/component-inherit/index.js");
var globalThis = __webpack_require__(/*! ../globalThis */ "./node_modules/engine.io-client/lib/globalThis.browser.js");

/**
 * Module exports.
 */

module.exports = JSONPPolling;

/**
 * Cached regular expressions.
 */

var rNewline = /\n/g;
var rEscapedNewline = /\\n/g;

/**
 * Global JSONP callbacks.
 */

var callbacks;

/**
 * Noop.
 */

function empty () { }

/**
 * JSONP Polling constructor.
 *
 * @param {Object} opts.
 * @api public
 */

function JSONPPolling (opts) {
  Polling.call(this, opts);

  this.query = this.query || {};

  // define global callbacks array if not present
  // we do this here (lazily) to avoid unneeded global pollution
  if (!callbacks) {
    // we need to consider multiple engines in the same page
    callbacks = globalThis.___eio = (globalThis.___eio || []);
  }

  // callback identifier
  this.index = callbacks.length;

  // add callback to jsonp global
  var self = this;
  callbacks.push(function (msg) {
    self.onData(msg);
  });

  // append to query string
  this.query.j = this.index;

  // prevent spurious errors from being emitted when the window is unloaded
  if (typeof addEventListener === 'function') {
    addEventListener('beforeunload', function () {
      if (self.script) self.script.onerror = empty;
    }, false);
  }
}

/**
 * Inherits from Polling.
 */

inherit(JSONPPolling, Polling);

/*
 * JSONP only supports binary as base64 encoded strings
 */

JSONPPolling.prototype.supportsBinary = false;

/**
 * Closes the socket.
 *
 * @api private
 */

JSONPPolling.prototype.doClose = function () {
  if (this.script) {
    this.script.parentNode.removeChild(this.script);
    this.script = null;
  }

  if (this.form) {
    this.form.parentNode.removeChild(this.form);
    this.form = null;
    this.iframe = null;
  }

  Polling.prototype.doClose.call(this);
};

/**
 * Starts a poll cycle.
 *
 * @api private
 */

JSONPPolling.prototype.doPoll = function () {
  var self = this;
  var script = document.createElement('script');

  if (this.script) {
    this.script.parentNode.removeChild(this.script);
    this.script = null;
  }

  script.async = true;
  script.src = this.uri();
  script.onerror = function (e) {
    self.onError('jsonp poll error', e);
  };

  var insertAt = document.getElementsByTagName('script')[0];
  if (insertAt) {
    insertAt.parentNode.insertBefore(script, insertAt);
  } else {
    (document.head || document.body).appendChild(script);
  }
  this.script = script;

  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);

  if (isUAgecko) {
    setTimeout(function () {
      var iframe = document.createElement('iframe');
      document.body.appendChild(iframe);
      document.body.removeChild(iframe);
    }, 100);
  }
};

/**
 * Writes with a hidden iframe.
 *
 * @param {String} data to send
 * @param {Function} called upon flush.
 * @api private
 */

JSONPPolling.prototype.doWrite = function (data, fn) {
  var self = this;

  if (!this.form) {
    var form = document.createElement('form');
    var area = document.createElement('textarea');
    var id = this.iframeId = 'eio_iframe_' + this.index;
    var iframe;

    form.className = 'socketio';
    form.style.position = 'absolute';
    form.style.top = '-1000px';
    form.style.left = '-1000px';
    form.target = id;
    form.method = 'POST';
    form.setAttribute('accept-charset', 'utf-8');
    area.name = 'd';
    form.appendChild(area);
    document.body.appendChild(form);

    this.form = form;
    this.area = area;
  }

  this.form.action = this.uri();

  function complete () {
    initIframe();
    fn();
  }

  function initIframe () {
    if (self.iframe) {
      try {
        self.form.removeChild(self.iframe);
      } catch (e) {
        self.onError('jsonp polling iframe removal error', e);
      }
    }

    try {
      // ie6 dynamic iframes with target="" support (thanks Chris Lambacher)
      var html = '<iframe src="javascript:0" name="' + self.iframeId + '">';
      iframe = document.createElement(html);
    } catch (e) {
      iframe = document.createElement('iframe');
      iframe.name = self.iframeId;
      iframe.src = 'javascript:0';
    }

    iframe.id = self.iframeId;

    self.form.appendChild(iframe);
    self.iframe = iframe;
  }

  initIframe();

  // escape \n to prevent it from being converted into \r\n by some UAs
  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side
  data = data.replace(rEscapedNewline, '\\\n');
  this.area.value = data.replace(rNewline, '\\n');

  try {
    this.form.submit();
  } catch (e) {}

  if (this.iframe.attachEvent) {
    this.iframe.onreadystatechange = function () {
      if (self.iframe.readyState === 'complete') {
        complete();
      }
    };
  } else {
    this.iframe.onload = complete;
  }
};


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/polling-xhr.js":
/*!*********************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/polling-xhr.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* global attachEvent */

/**
 * Module requirements.
 */

var XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ "./node_modules/engine.io-client/lib/xmlhttprequest.js");
var Polling = __webpack_require__(/*! ./polling */ "./node_modules/engine.io-client/lib/transports/polling.js");
var Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
var inherit = __webpack_require__(/*! component-inherit */ "./node_modules/component-inherit/index.js");
var debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")('engine.io-client:polling-xhr');
var globalThis = __webpack_require__(/*! ../globalThis */ "./node_modules/engine.io-client/lib/globalThis.browser.js");

/**
 * Module exports.
 */

module.exports = XHR;
module.exports.Request = Request;

/**
 * Empty function
 */

function empty () {}

/**
 * XHR Polling constructor.
 *
 * @param {Object} opts
 * @api public
 */

function XHR (opts) {
  Polling.call(this, opts);
  this.requestTimeout = opts.requestTimeout;
  this.extraHeaders = opts.extraHeaders;

  if (typeof location !== 'undefined') {
    var isSSL = 'https:' === location.protocol;
    var port = location.port;

    // some user agents have empty `location.port`
    if (!port) {
      port = isSSL ? 443 : 80;
    }

    this.xd = (typeof location !== 'undefined' && opts.hostname !== location.hostname) ||
      port !== opts.port;
    this.xs = opts.secure !== isSSL;
  }
}

/**
 * Inherits from Polling.
 */

inherit(XHR, Polling);

/**
 * XHR supports binary
 */

XHR.prototype.supportsBinary = true;

/**
 * Creates a request.
 *
 * @param {String} method
 * @api private
 */

XHR.prototype.request = function (opts) {
  opts = opts || {};
  opts.uri = this.uri();
  opts.xd = this.xd;
  opts.xs = this.xs;
  opts.agent = this.agent || false;
  opts.supportsBinary = this.supportsBinary;
  opts.enablesXDR = this.enablesXDR;
  opts.withCredentials = this.withCredentials;

  // SSL options for Node.js client
  opts.pfx = this.pfx;
  opts.key = this.key;
  opts.passphrase = this.passphrase;
  opts.cert = this.cert;
  opts.ca = this.ca;
  opts.ciphers = this.ciphers;
  opts.rejectUnauthorized = this.rejectUnauthorized;
  opts.requestTimeout = this.requestTimeout;

  // other options for Node.js client
  opts.extraHeaders = this.extraHeaders;

  return new Request(opts);
};

/**
 * Sends data.
 *
 * @param {String} data to send.
 * @param {Function} called upon flush.
 * @api private
 */

XHR.prototype.doWrite = function (data, fn) {
  var isBinary = typeof data !== 'string' && data !== undefined;
  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });
  var self = this;
  req.on('success', fn);
  req.on('error', function (err) {
    self.onError('xhr post error', err);
  });
  this.sendXhr = req;
};

/**
 * Starts a poll cycle.
 *
 * @api private
 */

XHR.prototype.doPoll = function () {
  debug('xhr poll');
  var req = this.request();
  var self = this;
  req.on('data', function (data) {
    self.onData(data);
  });
  req.on('error', function (err) {
    self.onError('xhr poll error', err);
  });
  this.pollXhr = req;
};

/**
 * Request constructor
 *
 * @param {Object} options
 * @api public
 */

function Request (opts) {
  this.method = opts.method || 'GET';
  this.uri = opts.uri;
  this.xd = !!opts.xd;
  this.xs = !!opts.xs;
  this.async = false !== opts.async;
  this.data = undefined !== opts.data ? opts.data : null;
  this.agent = opts.agent;
  this.isBinary = opts.isBinary;
  this.supportsBinary = opts.supportsBinary;
  this.enablesXDR = opts.enablesXDR;
  this.withCredentials = opts.withCredentials;
  this.requestTimeout = opts.requestTimeout;

  // SSL options for Node.js client
  this.pfx = opts.pfx;
  this.key = opts.key;
  this.passphrase = opts.passphrase;
  this.cert = opts.cert;
  this.ca = opts.ca;
  this.ciphers = opts.ciphers;
  this.rejectUnauthorized = opts.rejectUnauthorized;

  // other options for Node.js client
  this.extraHeaders = opts.extraHeaders;

  this.create();
}

/**
 * Mix in `Emitter`.
 */

Emitter(Request.prototype);

/**
 * Creates the XHR object and sends the request.
 *
 * @api private
 */

Request.prototype.create = function () {
  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };

  // SSL options for Node.js client
  opts.pfx = this.pfx;
  opts.key = this.key;
  opts.passphrase = this.passphrase;
  opts.cert = this.cert;
  opts.ca = this.ca;
  opts.ciphers = this.ciphers;
  opts.rejectUnauthorized = this.rejectUnauthorized;

  var xhr = this.xhr = new XMLHttpRequest(opts);
  var self = this;

  try {
    debug('xhr open %s: %s', this.method, this.uri);
    xhr.open(this.method, this.uri, this.async);
    try {
      if (this.extraHeaders) {
        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);
        for (var i in this.extraHeaders) {
          if (this.extraHeaders.hasOwnProperty(i)) {
            xhr.setRequestHeader(i, this.extraHeaders[i]);
          }
        }
      }
    } catch (e) {}

    if ('POST' === this.method) {
      try {
        if (this.isBinary) {
          xhr.setRequestHeader('Content-type', 'application/octet-stream');
        } else {
          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');
        }
      } catch (e) {}
    }

    try {
      xhr.setRequestHeader('Accept', '*/*');
    } catch (e) {}

    // ie6 check
    if ('withCredentials' in xhr) {
      xhr.withCredentials = this.withCredentials;
    }

    if (this.requestTimeout) {
      xhr.timeout = this.requestTimeout;
    }

    if (this.hasXDR()) {
      xhr.onload = function () {
        self.onLoad();
      };
      xhr.onerror = function () {
        self.onError(xhr.responseText);
      };
    } else {
      xhr.onreadystatechange = function () {
        if (xhr.readyState === 2) {
          try {
            var contentType = xhr.getResponseHeader('Content-Type');
            if (self.supportsBinary && contentType === 'application/octet-stream' || contentType === 'application/octet-stream; charset=UTF-8') {
              xhr.responseType = 'arraybuffer';
            }
          } catch (e) {}
        }
        if (4 !== xhr.readyState) return;
        if (200 === xhr.status || 1223 === xhr.status) {
          self.onLoad();
        } else {
          // make sure the `error` event handler that's user-set
          // does not throw in the same tick and gets caught here
          setTimeout(function () {
            self.onError(typeof xhr.status === 'number' ? xhr.status : 0);
          }, 0);
        }
      };
    }

    debug('xhr data %s', this.data);
    xhr.send(this.data);
  } catch (e) {
    // Need to defer since .create() is called directly fhrom the constructor
    // and thus the 'error' event can only be only bound *after* this exception
    // occurs.  Therefore, also, we cannot throw here at all.
    setTimeout(function () {
      self.onError(e);
    }, 0);
    return;
  }

  if (typeof document !== 'undefined') {
    this.index = Request.requestsCount++;
    Request.requests[this.index] = this;
  }
};

/**
 * Called upon successful response.
 *
 * @api private
 */

Request.prototype.onSuccess = function () {
  this.emit('success');
  this.cleanup();
};

/**
 * Called if we have data.
 *
 * @api private
 */

Request.prototype.onData = function (data) {
  this.emit('data', data);
  this.onSuccess();
};

/**
 * Called upon error.
 *
 * @api private
 */

Request.prototype.onError = function (err) {
  this.emit('error', err);
  this.cleanup(true);
};

/**
 * Cleans up house.
 *
 * @api private
 */

Request.prototype.cleanup = function (fromError) {
  if ('undefined' === typeof this.xhr || null === this.xhr) {
    return;
  }
  // xmlhttprequest
  if (this.hasXDR()) {
    this.xhr.onload = this.xhr.onerror = empty;
  } else {
    this.xhr.onreadystatechange = empty;
  }

  if (fromError) {
    try {
      this.xhr.abort();
    } catch (e) {}
  }

  if (typeof document !== 'undefined') {
    delete Request.requests[this.index];
  }

  this.xhr = null;
};

/**
 * Called upon load.
 *
 * @api private
 */

Request.prototype.onLoad = function () {
  var data;
  try {
    var contentType;
    try {
      contentType = this.xhr.getResponseHeader('Content-Type');
    } catch (e) {}
    if (contentType === 'application/octet-stream' || contentType === 'application/octet-stream; charset=UTF-8') {
      data = this.xhr.response || this.xhr.responseText;
    } else {
      data = this.xhr.responseText;
    }
  } catch (e) {
    this.onError(e);
  }
  if (null != data) {
    this.onData(data);
  }
};

/**
 * Check if it has XDomainRequest.
 *
 * @api private
 */

Request.prototype.hasXDR = function () {
  return typeof XDomainRequest !== 'undefined' && !this.xs && this.enablesXDR;
};

/**
 * Aborts the request.
 *
 * @api public
 */

Request.prototype.abort = function () {
  this.cleanup();
};

/**
 * Aborts pending requests when unloading the window. This is needed to prevent
 * memory leaks (e.g. when using IE) and to ensure that no spurious error is
 * emitted.
 */

Request.requestsCount = 0;
Request.requests = {};

if (typeof document !== 'undefined') {
  if (typeof attachEvent === 'function') {
    attachEvent('onunload', unloadHandler);
  } else if (typeof addEventListener === 'function') {
    var terminationEvent = 'onpagehide' in globalThis ? 'pagehide' : 'unload';
    addEventListener(terminationEvent, unloadHandler, false);
  }
}

function unloadHandler () {
  for (var i in Request.requests) {
    if (Request.requests.hasOwnProperty(i)) {
      Request.requests[i].abort();
    }
  }
}


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/polling.js":
/*!*****************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/polling.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Module dependencies.
 */

var Transport = __webpack_require__(/*! ../transport */ "./node_modules/engine.io-client/lib/transport.js");
var parseqs = __webpack_require__(/*! parseqs */ "./node_modules/parseqs/index.js");
var parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/browser.js");
var inherit = __webpack_require__(/*! component-inherit */ "./node_modules/component-inherit/index.js");
var yeast = __webpack_require__(/*! yeast */ "./node_modules/yeast/index.js");
var debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")('engine.io-client:polling');

/**
 * Module exports.
 */

module.exports = Polling;

/**
 * Is XHR2 supported?
 */

var hasXHR2 = (function () {
  var XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ "./node_modules/engine.io-client/lib/xmlhttprequest.js");
  var xhr = new XMLHttpRequest({ xdomain: false });
  return null != xhr.responseType;
})();

/**
 * Polling interface.
 *
 * @param {Object} opts
 * @api private
 */

function Polling (opts) {
  var forceBase64 = (opts && opts.forceBase64);
  if (!hasXHR2 || forceBase64) {
    this.supportsBinary = false;
  }
  Transport.call(this, opts);
}

/**
 * Inherits from Transport.
 */

inherit(Polling, Transport);

/**
 * Transport name.
 */

Polling.prototype.name = 'polling';

/**
 * Opens the socket (triggers polling). We write a PING message to determine
 * when the transport is open.
 *
 * @api private
 */

Polling.prototype.doOpen = function () {
  this.poll();
};

/**
 * Pauses polling.
 *
 * @param {Function} callback upon buffers are flushed and transport is paused
 * @api private
 */

Polling.prototype.pause = function (onPause) {
  var self = this;

  this.readyState = 'pausing';

  function pause () {
    debug('paused');
    self.readyState = 'paused';
    onPause();
  }

  if (this.polling || !this.writable) {
    var total = 0;

    if (this.polling) {
      debug('we are currently polling - waiting to pause');
      total++;
      this.once('pollComplete', function () {
        debug('pre-pause polling complete');
        --total || pause();
      });
    }

    if (!this.writable) {
      debug('we are currently writing - waiting to pause');
      total++;
      this.once('drain', function () {
        debug('pre-pause writing complete');
        --total || pause();
      });
    }
  } else {
    pause();
  }
};

/**
 * Starts polling cycle.
 *
 * @api public
 */

Polling.prototype.poll = function () {
  debug('polling');
  this.polling = true;
  this.doPoll();
  this.emit('poll');
};

/**
 * Overloads onData to detect payloads.
 *
 * @api private
 */

Polling.prototype.onData = function (data) {
  var self = this;
  debug('polling got data %s', data);
  var callback = function (packet, index, total) {
    // if its the first message we consider the transport open
    if ('opening' === self.readyState) {
      self.onOpen();
    }

    // if its a close packet, we close the ongoing requests
    if ('close' === packet.type) {
      self.onClose();
      return false;
    }

    // otherwise bypass onData and handle the message
    self.onPacket(packet);
  };

  // decode payload
  parser.decodePayload(data, this.socket.binaryType, callback);

  // if an event did not trigger closing
  if ('closed' !== this.readyState) {
    // if we got data we're not polling
    this.polling = false;
    this.emit('pollComplete');

    if ('open' === this.readyState) {
      this.poll();
    } else {
      debug('ignoring poll - transport state "%s"', this.readyState);
    }
  }
};

/**
 * For polling, send a close packet.
 *
 * @api private
 */

Polling.prototype.doClose = function () {
  var self = this;

  function close () {
    debug('writing close packet');
    self.write([{ type: 'close' }]);
  }

  if ('open' === this.readyState) {
    debug('transport open - closing');
    close();
  } else {
    // in case we're trying to close while
    // handshaking is in progress (GH-164)
    debug('transport not open - deferring close');
    this.once('open', close);
  }
};

/**
 * Writes a packets payload.
 *
 * @param {Array} data packets
 * @param {Function} drain callback
 * @api private
 */

Polling.prototype.write = function (packets) {
  var self = this;
  this.writable = false;
  var callbackfn = function () {
    self.writable = true;
    self.emit('drain');
  };

  parser.encodePayload(packets, this.supportsBinary, function (data) {
    self.doWrite(data, callbackfn);
  });
};

/**
 * Generates uri for connection.
 *
 * @api private
 */

Polling.prototype.uri = function () {
  var query = this.query || {};
  var schema = this.secure ? 'https' : 'http';
  var port = '';

  // cache busting is forced
  if (false !== this.timestampRequests) {
    query[this.timestampParam] = yeast();
  }

  if (!this.supportsBinary && !query.sid) {
    query.b64 = 1;
  }

  query = parseqs.encode(query);

  // avoid port if default for schema
  if (this.port && (('https' === schema && Number(this.port) !== 443) ||
     ('http' === schema && Number(this.port) !== 80))) {
    port = ':' + this.port;
  }

  // prepend ? to query
  if (query.length) {
    query = '?' + query;
  }

  var ipv6 = this.hostname.indexOf(':') !== -1;
  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;
};


/***/ }),

/***/ "./node_modules/engine.io-client/lib/transports/websocket.js":
/*!*******************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/transports/websocket.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {/**
 * Module dependencies.
 */

var Transport = __webpack_require__(/*! ../transport */ "./node_modules/engine.io-client/lib/transport.js");
var parser = __webpack_require__(/*! engine.io-parser */ "./node_modules/engine.io-parser/lib/browser.js");
var parseqs = __webpack_require__(/*! parseqs */ "./node_modules/parseqs/index.js");
var inherit = __webpack_require__(/*! component-inherit */ "./node_modules/component-inherit/index.js");
var yeast = __webpack_require__(/*! yeast */ "./node_modules/yeast/index.js");
var debug = __webpack_require__(/*! debug */ "./node_modules/engine.io-client/node_modules/debug/src/browser.js")('engine.io-client:websocket');

var BrowserWebSocket, NodeWebSocket;

if (typeof WebSocket !== 'undefined') {
  BrowserWebSocket = WebSocket;
} else if (typeof self !== 'undefined') {
  BrowserWebSocket = self.WebSocket || self.MozWebSocket;
}

if (typeof window === 'undefined') {
  try {
    NodeWebSocket = __webpack_require__(/*! ws */ 1);
  } catch (e) { }
}

/**
 * Get either the `WebSocket` or `MozWebSocket` globals
 * in the browser or try to resolve WebSocket-compatible
 * interface exposed by `ws` for Node-like environment.
 */

var WebSocketImpl = BrowserWebSocket || NodeWebSocket;

/**
 * Module exports.
 */

module.exports = WS;

/**
 * WebSocket transport constructor.
 *
 * @api {Object} connection options
 * @api public
 */

function WS (opts) {
  var forceBase64 = (opts && opts.forceBase64);
  if (forceBase64) {
    this.supportsBinary = false;
  }
  this.perMessageDeflate = opts.perMessageDeflate;
  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;
  this.protocols = opts.protocols;
  if (!this.usingBrowserWebSocket) {
    WebSocketImpl = NodeWebSocket;
  }
  Transport.call(this, opts);
}

/**
 * Inherits from Transport.
 */

inherit(WS, Transport);

/**
 * Transport name.
 *
 * @api public
 */

WS.prototype.name = 'websocket';

/*
 * WebSockets support binary
 */

WS.prototype.supportsBinary = true;

/**
 * Opens socket.
 *
 * @api private
 */

WS.prototype.doOpen = function () {
  if (!this.check()) {
    // let probe timeout
    return;
  }

  var uri = this.uri();
  var protocols = this.protocols;

  var opts = {};

  if (!this.isReactNative) {
    opts.agent = this.agent;
    opts.perMessageDeflate = this.perMessageDeflate;

    // SSL options for Node.js client
    opts.pfx = this.pfx;
    opts.key = this.key;
    opts.passphrase = this.passphrase;
    opts.cert = this.cert;
    opts.ca = this.ca;
    opts.ciphers = this.ciphers;
    opts.rejectUnauthorized = this.rejectUnauthorized;
  }

  if (this.extraHeaders) {
    opts.headers = this.extraHeaders;
  }
  if (this.localAddress) {
    opts.localAddress = this.localAddress;
  }

  try {
    this.ws =
      this.usingBrowserWebSocket && !this.isReactNative
        ? protocols
          ? new WebSocketImpl(uri, protocols)
          : new WebSocketImpl(uri)
        : new WebSocketImpl(uri, protocols, opts);
  } catch (err) {
    return this.emit('error', err);
  }

  if (this.ws.binaryType === undefined) {
    this.supportsBinary = false;
  }

  if (this.ws.supports && this.ws.supports.binary) {
    this.supportsBinary = true;
    this.ws.binaryType = 'nodebuffer';
  } else {
    this.ws.binaryType = 'arraybuffer';
  }

  this.addEventListeners();
};

/**
 * Adds event listeners to the socket
 *
 * @api private
 */

WS.prototype.addEventListeners = function () {
  var self = this;

  this.ws.onopen = function () {
    self.onOpen();
  };
  this.ws.onclose = function () {
    self.onClose();
  };
  this.ws.onmessage = function (ev) {
    self.onData(ev.data);
  };
  this.ws.onerror = function (e) {
    self.onError('websocket error', e);
  };
};

/**
 * Writes data to socket.
 *
 * @param {Array} array of packets.
 * @api private
 */

WS.prototype.write = function (packets) {
  var self = this;
  this.writable = false;

  // encodePacket efficient as it uses WS framing
  // no need for encodePayload
  var total = packets.length;
  for (var i = 0, l = total; i < l; i++) {
    (function (packet) {
      parser.encodePacket(packet, self.supportsBinary, function (data) {
        if (!self.usingBrowserWebSocket) {
          // always create a new object (GH-437)
          var opts = {};
          if (packet.options) {
            opts.compress = packet.options.compress;
          }

          if (self.perMessageDeflate) {
            var len = 'string' === typeof data ? Buffer.byteLength(data) : data.length;
            if (len < self.perMessageDeflate.threshold) {
              opts.compress = false;
            }
          }
        }

        // Sometimes the websocket has already been closed but the browser didn't
        // have a chance of informing us about it yet, in that case send will
        // throw an error
        try {
          if (self.usingBrowserWebSocket) {
            // TypeError is thrown when passing the second argument on Safari
            self.ws.send(data);
          } else {
            self.ws.send(data, opts);
          }
        } catch (e) {
          debug('websocket closed before onclose event');
        }

        --total || done();
      });
    })(packets[i]);
  }

  function done () {
    self.emit('flush');

    // fake drain
    // defer to next tick to allow Socket to clear writeBuffer
    setTimeout(function () {
      self.writable = true;
      self.emit('drain');
    }, 0);
  }
};

/**
 * Called upon close
 *
 * @api private
 */

WS.prototype.onClose = function () {
  Transport.prototype.onClose.call(this);
};

/**
 * Closes socket.
 *
 * @api private
 */

WS.prototype.doClose = function () {
  if (typeof this.ws !== 'undefined') {
    this.ws.close();
  }
};

/**
 * Generates uri for connection.
 *
 * @api private
 */

WS.prototype.uri = function () {
  var query = this.query || {};
  var schema = this.secure ? 'wss' : 'ws';
  var port = '';

  // avoid port if default for schema
  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||
    ('ws' === schema && Number(this.port) !== 80))) {
    port = ':' + this.port;
  }

  // append timestamp to URI
  if (this.timestampRequests) {
    query[this.timestampParam] = yeast();
  }

  // communicate binary support capabilities
  if (!this.supportsBinary) {
    query.b64 = 1;
  }

  query = parseqs.encode(query);

  // prepend ? to query
  if (query.length) {
    query = '?' + query;
  }

  var ipv6 = this.hostname.indexOf(':') !== -1;
  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;
};

/**
 * Feature detection for WebSocket.
 *
 * @return {Boolean} whether this transport is available.
 * @api public
 */

WS.prototype.check = function () {
  return !!WebSocketImpl && !('__initialize' in WebSocketImpl && this.name === WS.prototype.name);
};

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/engine.io-client/lib/xmlhttprequest.js":
/*!*************************************************************!*\
  !*** ./node_modules/engine.io-client/lib/xmlhttprequest.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// browser shim for xmlhttprequest module

var hasCORS = __webpack_require__(/*! has-cors */ "./node_modules/has-cors/index.js");
var globalThis = __webpack_require__(/*! ./globalThis */ "./node_modules/engine.io-client/lib/globalThis.browser.js");

module.exports = function (opts) {
  var xdomain = opts.xdomain;

  // scheme must be same when usign XDomainRequest
  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx
  var xscheme = opts.xscheme;

  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.
  // https://github.com/Automattic/engine.io-client/pull/217
  var enablesXDR = opts.enablesXDR;

  // XMLHttpRequest can be disabled on IE
  try {
    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {
      return new XMLHttpRequest();
    }
  } catch (e) { }

  // Use XDomainRequest for IE8 if enablesXDR is true
  // because loading bar keeps flashing when using jsonp-polling
  // https://github.com/yujiosaka/socke.io-ie8-loading-example
  try {
    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {
      return new XDomainRequest();
    }
  } catch (e) { }

  if (!xdomain) {
    try {
      return new globalThis[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');
    } catch (e) { }
  }
};


/***/ }),

/***/ "./node_modules/engine.io-client/node_modules/debug/src/browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/engine.io-client/node_modules/debug/src/browser.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = __webpack_require__(/*! ./debug */ "./node_modules/engine.io-client/node_modules/debug/src/debug.js");
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',
  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',
  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',
  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',
  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',
  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',
  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',
  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',
  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',
  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',
  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // Internet Explorer and Edge do not support colors.
  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
    return false;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit')

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/engine.io-client/node_modules/debug/src/debug.js":
/*!***********************************************************************!*\
  !*** ./node_modules/engine.io-client/node_modules/debug/src/debug.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");

/**
 * Active `debug` instances.
 */
exports.instances = [];

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  var prevTime;

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);
  debug.destroy = destroy;

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  exports.instances.push(debug);

  return debug;
}

function destroy () {
  var index = exports.instances.indexOf(this);
  if (index !== -1) {
    exports.instances.splice(index, 1);
    return true;
  } else {
    return false;
  }
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var i;
  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }

  for (i = 0; i < exports.instances.length; i++) {
    var instance = exports.instances[i];
    instance.enabled = exports.enabled(instance.namespace);
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  if (name[name.length - 1] === '*') {
    return true;
  }
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}


/***/ }),

/***/ "./node_modules/engine.io-parser/lib/browser.js":
/*!******************************************************!*\
  !*** ./node_modules/engine.io-parser/lib/browser.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Module dependencies.
 */

var keys = __webpack_require__(/*! ./keys */ "./node_modules/engine.io-parser/lib/keys.js");
var hasBinary = __webpack_require__(/*! has-binary2 */ "./node_modules/has-binary2/index.js");
var sliceBuffer = __webpack_require__(/*! arraybuffer.slice */ "./node_modules/arraybuffer.slice/index.js");
var after = __webpack_require__(/*! after */ "./node_modules/after/index.js");
var utf8 = __webpack_require__(/*! ./utf8 */ "./node_modules/engine.io-parser/lib/utf8.js");

var base64encoder;
if (typeof ArrayBuffer !== 'undefined') {
  base64encoder = __webpack_require__(/*! base64-arraybuffer */ "./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js");
}

/**
 * Check if we are running an android browser. That requires us to use
 * ArrayBuffer with polling transports...
 *
 * http://ghinda.net/jpeg-blob-ajax-android/
 */

var isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);

/**
 * Check if we are running in PhantomJS.
 * Uploading a Blob with PhantomJS does not work correctly, as reported here:
 * https://github.com/ariya/phantomjs/issues/11395
 * @type boolean
 */
var isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);

/**
 * When true, avoids using Blobs to encode payloads.
 * @type boolean
 */
var dontSendBlobs = isAndroid || isPhantomJS;

/**
 * Current protocol version.
 */

exports.protocol = 3;

/**
 * Packet types.
 */

var packets = exports.packets = {
    open:     0    // non-ws
  , close:    1    // non-ws
  , ping:     2
  , pong:     3
  , message:  4
  , upgrade:  5
  , noop:     6
};

var packetslist = keys(packets);

/**
 * Premade error packet.
 */

var err = { type: 'error', data: 'parser error' };

/**
 * Create a blob api even for blob builder when vendor prefixes exist
 */

var Blob = __webpack_require__(/*! blob */ "./node_modules/blob/index.js");

/**
 * Encodes a packet.
 *
 *     <packet type id> [ <data> ]
 *
 * Example:
 *
 *     5hello world
 *     3
 *     4
 *
 * Binary is encoded in an identical principle
 *
 * @api private
 */

exports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {
  if (typeof supportsBinary === 'function') {
    callback = supportsBinary;
    supportsBinary = false;
  }

  if (typeof utf8encode === 'function') {
    callback = utf8encode;
    utf8encode = null;
  }

  var data = (packet.data === undefined)
    ? undefined
    : packet.data.buffer || packet.data;

  if (typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) {
    return encodeArrayBuffer(packet, supportsBinary, callback);
  } else if (typeof Blob !== 'undefined' && data instanceof Blob) {
    return encodeBlob(packet, supportsBinary, callback);
  }

  // might be an object with { base64: true, data: dataAsBase64String }
  if (data && data.base64) {
    return encodeBase64Object(packet, callback);
  }

  // Sending data as a utf-8 string
  var encoded = packets[packet.type];

  // data fragment is optional
  if (undefined !== packet.data) {
    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);
  }

  return callback('' + encoded);

};

function encodeBase64Object(packet, callback) {
  // packet data is an object { base64: true, data: dataAsBase64String }
  var message = 'b' + exports.packets[packet.type] + packet.data.data;
  return callback(message);
}

/**
 * Encode packet helpers for binary types
 */

function encodeArrayBuffer(packet, supportsBinary, callback) {
  if (!supportsBinary) {
    return exports.encodeBase64Packet(packet, callback);
  }

  var data = packet.data;
  var contentArray = new Uint8Array(data);
  var resultBuffer = new Uint8Array(1 + data.byteLength);

  resultBuffer[0] = packets[packet.type];
  for (var i = 0; i < contentArray.length; i++) {
    resultBuffer[i+1] = contentArray[i];
  }

  return callback(resultBuffer.buffer);
}

function encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {
  if (!supportsBinary) {
    return exports.encodeBase64Packet(packet, callback);
  }

  var fr = new FileReader();
  fr.onload = function() {
    exports.encodePacket({ type: packet.type, data: fr.result }, supportsBinary, true, callback);
  };
  return fr.readAsArrayBuffer(packet.data);
}

function encodeBlob(packet, supportsBinary, callback) {
  if (!supportsBinary) {
    return exports.encodeBase64Packet(packet, callback);
  }

  if (dontSendBlobs) {
    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);
  }

  var length = new Uint8Array(1);
  length[0] = packets[packet.type];
  var blob = new Blob([length.buffer, packet.data]);

  return callback(blob);
}

/**
 * Encodes a packet with binary data in a base64 string
 *
 * @param {Object} packet, has `type` and `data`
 * @return {String} base64 encoded message
 */

exports.encodeBase64Packet = function(packet, callback) {
  var message = 'b' + exports.packets[packet.type];
  if (typeof Blob !== 'undefined' && packet.data instanceof Blob) {
    var fr = new FileReader();
    fr.onload = function() {
      var b64 = fr.result.split(',')[1];
      callback(message + b64);
    };
    return fr.readAsDataURL(packet.data);
  }

  var b64data;
  try {
    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));
  } catch (e) {
    // iPhone Safari doesn't let you apply with typed arrays
    var typed = new Uint8Array(packet.data);
    var basic = new Array(typed.length);
    for (var i = 0; i < typed.length; i++) {
      basic[i] = typed[i];
    }
    b64data = String.fromCharCode.apply(null, basic);
  }
  message += btoa(b64data);
  return callback(message);
};

/**
 * Decodes a packet. Changes format to Blob if requested.
 *
 * @return {Object} with `type` and `data` (if any)
 * @api private
 */

exports.decodePacket = function (data, binaryType, utf8decode) {
  if (data === undefined) {
    return err;
  }
  // String data
  if (typeof data === 'string') {
    if (data.charAt(0) === 'b') {
      return exports.decodeBase64Packet(data.substr(1), binaryType);
    }

    if (utf8decode) {
      data = tryDecode(data);
      if (data === false) {
        return err;
      }
    }
    var type = data.charAt(0);

    if (Number(type) != type || !packetslist[type]) {
      return err;
    }

    if (data.length > 1) {
      return { type: packetslist[type], data: data.substring(1) };
    } else {
      return { type: packetslist[type] };
    }
  }

  var asArray = new Uint8Array(data);
  var type = asArray[0];
  var rest = sliceBuffer(data, 1);
  if (Blob && binaryType === 'blob') {
    rest = new Blob([rest]);
  }
  return { type: packetslist[type], data: rest };
};

function tryDecode(data) {
  try {
    data = utf8.decode(data, { strict: false });
  } catch (e) {
    return false;
  }
  return data;
}

/**
 * Decodes a packet encoded in a base64 string
 *
 * @param {String} base64 encoded message
 * @return {Object} with `type` and `data` (if any)
 */

exports.decodeBase64Packet = function(msg, binaryType) {
  var type = packetslist[msg.charAt(0)];
  if (!base64encoder) {
    return { type: type, data: { base64: true, data: msg.substr(1) } };
  }

  var data = base64encoder.decode(msg.substr(1));

  if (binaryType === 'blob' && Blob) {
    data = new Blob([data]);
  }

  return { type: type, data: data };
};

/**
 * Encodes multiple messages (payload).
 *
 *     <length>:data
 *
 * Example:
 *
 *     11:hello world2:hi
 *
 * If any contents are binary, they will be encoded as base64 strings. Base64
 * encoded strings are marked with a b before the length specifier
 *
 * @param {Array} packets
 * @api private
 */

exports.encodePayload = function (packets, supportsBinary, callback) {
  if (typeof supportsBinary === 'function') {
    callback = supportsBinary;
    supportsBinary = null;
  }

  var isBinary = hasBinary(packets);

  if (supportsBinary && isBinary) {
    if (Blob && !dontSendBlobs) {
      return exports.encodePayloadAsBlob(packets, callback);
    }

    return exports.encodePayloadAsArrayBuffer(packets, callback);
  }

  if (!packets.length) {
    return callback('0:');
  }

  function setLengthHeader(message) {
    return message.length + ':' + message;
  }

  function encodeOne(packet, doneCallback) {
    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {
      doneCallback(null, setLengthHeader(message));
    });
  }

  map(packets, encodeOne, function(err, results) {
    return callback(results.join(''));
  });
};

/**
 * Async array map using after
 */

function map(ary, each, done) {
  var result = new Array(ary.length);
  var next = after(ary.length, done);

  var eachWithIndex = function(i, el, cb) {
    each(el, function(error, msg) {
      result[i] = msg;
      cb(error, result);
    });
  };

  for (var i = 0; i < ary.length; i++) {
    eachWithIndex(i, ary[i], next);
  }
}

/*
 * Decodes data when a payload is maybe expected. Possible binary contents are
 * decoded from their base64 representation
 *
 * @param {String} data, callback method
 * @api public
 */

exports.decodePayload = function (data, binaryType, callback) {
  if (typeof data !== 'string') {
    return exports.decodePayloadAsBinary(data, binaryType, callback);
  }

  if (typeof binaryType === 'function') {
    callback = binaryType;
    binaryType = null;
  }

  var packet;
  if (data === '') {
    // parser error - ignoring payload
    return callback(err, 0, 1);
  }

  var length = '', n, msg;

  for (var i = 0, l = data.length; i < l; i++) {
    var chr = data.charAt(i);

    if (chr !== ':') {
      length += chr;
      continue;
    }

    if (length === '' || (length != (n = Number(length)))) {
      // parser error - ignoring payload
      return callback(err, 0, 1);
    }

    msg = data.substr(i + 1, n);

    if (length != msg.length) {
      // parser error - ignoring payload
      return callback(err, 0, 1);
    }

    if (msg.length) {
      packet = exports.decodePacket(msg, binaryType, false);

      if (err.type === packet.type && err.data === packet.data) {
        // parser error in individual packet - ignoring payload
        return callback(err, 0, 1);
      }

      var ret = callback(packet, i + n, l);
      if (false === ret) return;
    }

    // advance cursor
    i += n;
    length = '';
  }

  if (length !== '') {
    // parser error - ignoring payload
    return callback(err, 0, 1);
  }

};

/**
 * Encodes multiple messages (payload) as binary.
 *
 * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number
 * 255><data>
 *
 * Example:
 * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers
 *
 * @param {Array} packets
 * @return {ArrayBuffer} encoded payload
 * @api private
 */

exports.encodePayloadAsArrayBuffer = function(packets, callback) {
  if (!packets.length) {
    return callback(new ArrayBuffer(0));
  }

  function encodeOne(packet, doneCallback) {
    exports.encodePacket(packet, true, true, function(data) {
      return doneCallback(null, data);
    });
  }

  map(packets, encodeOne, function(err, encodedPackets) {
    var totalLength = encodedPackets.reduce(function(acc, p) {
      var len;
      if (typeof p === 'string'){
        len = p.length;
      } else {
        len = p.byteLength;
      }
      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2
    }, 0);

    var resultArray = new Uint8Array(totalLength);

    var bufferIndex = 0;
    encodedPackets.forEach(function(p) {
      var isString = typeof p === 'string';
      var ab = p;
      if (isString) {
        var view = new Uint8Array(p.length);
        for (var i = 0; i < p.length; i++) {
          view[i] = p.charCodeAt(i);
        }
        ab = view.buffer;
      }

      if (isString) { // not true binary
        resultArray[bufferIndex++] = 0;
      } else { // true binary
        resultArray[bufferIndex++] = 1;
      }

      var lenStr = ab.byteLength.toString();
      for (var i = 0; i < lenStr.length; i++) {
        resultArray[bufferIndex++] = parseInt(lenStr[i]);
      }
      resultArray[bufferIndex++] = 255;

      var view = new Uint8Array(ab);
      for (var i = 0; i < view.length; i++) {
        resultArray[bufferIndex++] = view[i];
      }
    });

    return callback(resultArray.buffer);
  });
};

/**
 * Encode as Blob
 */

exports.encodePayloadAsBlob = function(packets, callback) {
  function encodeOne(packet, doneCallback) {
    exports.encodePacket(packet, true, true, function(encoded) {
      var binaryIdentifier = new Uint8Array(1);
      binaryIdentifier[0] = 1;
      if (typeof encoded === 'string') {
        var view = new Uint8Array(encoded.length);
        for (var i = 0; i < encoded.length; i++) {
          view[i] = encoded.charCodeAt(i);
        }
        encoded = view.buffer;
        binaryIdentifier[0] = 0;
      }

      var len = (encoded instanceof ArrayBuffer)
        ? encoded.byteLength
        : encoded.size;

      var lenStr = len.toString();
      var lengthAry = new Uint8Array(lenStr.length + 1);
      for (var i = 0; i < lenStr.length; i++) {
        lengthAry[i] = parseInt(lenStr[i]);
      }
      lengthAry[lenStr.length] = 255;

      if (Blob) {
        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);
        doneCallback(null, blob);
      }
    });
  }

  map(packets, encodeOne, function(err, results) {
    return callback(new Blob(results));
  });
};

/*
 * Decodes data when a payload is maybe expected. Strings are decoded by
 * interpreting each byte as a key code for entries marked to start with 0. See
 * description of encodePayloadAsBinary
 *
 * @param {ArrayBuffer} data, callback method
 * @api public
 */

exports.decodePayloadAsBinary = function (data, binaryType, callback) {
  if (typeof binaryType === 'function') {
    callback = binaryType;
    binaryType = null;
  }

  var bufferTail = data;
  var buffers = [];

  while (bufferTail.byteLength > 0) {
    var tailArray = new Uint8Array(bufferTail);
    var isString = tailArray[0] === 0;
    var msgLength = '';

    for (var i = 1; ; i++) {
      if (tailArray[i] === 255) break;

      // 310 = char length of Number.MAX_VALUE
      if (msgLength.length > 310) {
        return callback(err, 0, 1);
      }

      msgLength += tailArray[i];
    }

    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);
    msgLength = parseInt(msgLength);

    var msg = sliceBuffer(bufferTail, 0, msgLength);
    if (isString) {
      try {
        msg = String.fromCharCode.apply(null, new Uint8Array(msg));
      } catch (e) {
        // iPhone Safari doesn't let you apply to typed arrays
        var typed = new Uint8Array(msg);
        msg = '';
        for (var i = 0; i < typed.length; i++) {
          msg += String.fromCharCode(typed[i]);
        }
      }
    }

    buffers.push(msg);
    bufferTail = sliceBuffer(bufferTail, msgLength);
  }

  var total = buffers.length;
  buffers.forEach(function(buffer, i) {
    callback(exports.decodePacket(buffer, binaryType, true), i, total);
  });
};


/***/ }),

/***/ "./node_modules/engine.io-parser/lib/keys.js":
/*!***************************************************!*\
  !*** ./node_modules/engine.io-parser/lib/keys.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * Gets the keys for an object.
 *
 * @return {Array} keys
 * @api private
 */

module.exports = Object.keys || function keys (obj){
  var arr = [];
  var has = Object.prototype.hasOwnProperty;

  for (var i in obj) {
    if (has.call(obj, i)) {
      arr.push(i);
    }
  }
  return arr;
};


/***/ }),

/***/ "./node_modules/engine.io-parser/lib/utf8.js":
/*!***************************************************!*\
  !*** ./node_modules/engine.io-parser/lib/utf8.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*! https://mths.be/utf8js v2.1.2 by @mathias */

var stringFromCharCode = String.fromCharCode;

// Taken from https://mths.be/punycode
function ucs2decode(string) {
	var output = [];
	var counter = 0;
	var length = string.length;
	var value;
	var extra;
	while (counter < length) {
		value = string.charCodeAt(counter++);
		if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
			// high surrogate, and there is a next character
			extra = string.charCodeAt(counter++);
			if ((extra & 0xFC00) == 0xDC00) { // low surrogate
				output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
			} else {
				// unmatched surrogate; only append this code unit, in case the next
				// code unit is the high surrogate of a surrogate pair
				output.push(value);
				counter--;
			}
		} else {
			output.push(value);
		}
	}
	return output;
}

// Taken from https://mths.be/punycode
function ucs2encode(array) {
	var length = array.length;
	var index = -1;
	var value;
	var output = '';
	while (++index < length) {
		value = array[index];
		if (value > 0xFFFF) {
			value -= 0x10000;
			output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
			value = 0xDC00 | value & 0x3FF;
		}
		output += stringFromCharCode(value);
	}
	return output;
}

function checkScalarValue(codePoint, strict) {
	if (codePoint >= 0xD800 && codePoint <= 0xDFFF) {
		if (strict) {
			throw Error(
				'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +
				' is not a scalar value'
			);
		}
		return false;
	}
	return true;
}
/*--------------------------------------------------------------------------*/

function createByte(codePoint, shift) {
	return stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);
}

function encodeCodePoint(codePoint, strict) {
	if ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence
		return stringFromCharCode(codePoint);
	}
	var symbol = '';
	if ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence
		symbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);
	}
	else if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence
		if (!checkScalarValue(codePoint, strict)) {
			codePoint = 0xFFFD;
		}
		symbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);
		symbol += createByte(codePoint, 6);
	}
	else if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence
		symbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);
		symbol += createByte(codePoint, 12);
		symbol += createByte(codePoint, 6);
	}
	symbol += stringFromCharCode((codePoint & 0x3F) | 0x80);
	return symbol;
}

function utf8encode(string, opts) {
	opts = opts || {};
	var strict = false !== opts.strict;

	var codePoints = ucs2decode(string);
	var length = codePoints.length;
	var index = -1;
	var codePoint;
	var byteString = '';
	while (++index < length) {
		codePoint = codePoints[index];
		byteString += encodeCodePoint(codePoint, strict);
	}
	return byteString;
}

/*--------------------------------------------------------------------------*/

function readContinuationByte() {
	if (byteIndex >= byteCount) {
		throw Error('Invalid byte index');
	}

	var continuationByte = byteArray[byteIndex] & 0xFF;
	byteIndex++;

	if ((continuationByte & 0xC0) == 0x80) {
		return continuationByte & 0x3F;
	}

	// If we end up here, it’s not a continuation byte
	throw Error('Invalid continuation byte');
}

function decodeSymbol(strict) {
	var byte1;
	var byte2;
	var byte3;
	var byte4;
	var codePoint;

	if (byteIndex > byteCount) {
		throw Error('Invalid byte index');
	}

	if (byteIndex == byteCount) {
		return false;
	}

	// Read first byte
	byte1 = byteArray[byteIndex] & 0xFF;
	byteIndex++;

	// 1-byte sequence (no continuation bytes)
	if ((byte1 & 0x80) == 0) {
		return byte1;
	}

	// 2-byte sequence
	if ((byte1 & 0xE0) == 0xC0) {
		byte2 = readContinuationByte();
		codePoint = ((byte1 & 0x1F) << 6) | byte2;
		if (codePoint >= 0x80) {
			return codePoint;
		} else {
			throw Error('Invalid continuation byte');
		}
	}

	// 3-byte sequence (may include unpaired surrogates)
	if ((byte1 & 0xF0) == 0xE0) {
		byte2 = readContinuationByte();
		byte3 = readContinuationByte();
		codePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;
		if (codePoint >= 0x0800) {
			return checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;
		} else {
			throw Error('Invalid continuation byte');
		}
	}

	// 4-byte sequence
	if ((byte1 & 0xF8) == 0xF0) {
		byte2 = readContinuationByte();
		byte3 = readContinuationByte();
		byte4 = readContinuationByte();
		codePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |
			(byte3 << 0x06) | byte4;
		if (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {
			return codePoint;
		}
	}

	throw Error('Invalid UTF-8 detected');
}

var byteArray;
var byteCount;
var byteIndex;
function utf8decode(byteString, opts) {
	opts = opts || {};
	var strict = false !== opts.strict;

	byteArray = ucs2decode(byteString);
	byteCount = byteArray.length;
	byteIndex = 0;
	var codePoints = [];
	var tmp;
	while ((tmp = decodeSymbol(strict)) !== false) {
		codePoints.push(tmp);
	}
	return ucs2encode(codePoints);
}

module.exports = {
	version: '2.1.2',
	encode: utf8encode,
	decode: utf8decode
};


/***/ }),

/***/ "./node_modules/has-binary2/index.js":
/*!*******************************************!*\
  !*** ./node_modules/has-binary2/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {/* global Blob File */

/*
 * Module requirements.
 */

var isArray = __webpack_require__(/*! isarray */ "./node_modules/has-binary2/node_modules/isarray/index.js");

var toString = Object.prototype.toString;
var withNativeBlob = typeof Blob === 'function' ||
                        typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]';
var withNativeFile = typeof File === 'function' ||
                        typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]';

/**
 * Module exports.
 */

module.exports = hasBinary;

/**
 * Checks for binary data.
 *
 * Supports Buffer, ArrayBuffer, Blob and File.
 *
 * @param {Object} anything
 * @api public
 */

function hasBinary (obj) {
  if (!obj || typeof obj !== 'object') {
    return false;
  }

  if (isArray(obj)) {
    for (var i = 0, l = obj.length; i < l; i++) {
      if (hasBinary(obj[i])) {
        return true;
      }
    }
    return false;
  }

  if ((typeof Buffer === 'function' && Buffer.isBuffer && Buffer.isBuffer(obj)) ||
    (typeof ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||
    (withNativeBlob && obj instanceof Blob) ||
    (withNativeFile && obj instanceof File)
  ) {
    return true;
  }

  // see: https://github.com/Automattic/has-binary/pull/4
  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {
    return hasBinary(obj.toJSON(), true);
  }

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {
      return true;
    }
  }

  return false;
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/has-binary2/node_modules/isarray/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/has-binary2/node_modules/isarray/index.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/has-cors/index.js":
/*!****************************************!*\
  !*** ./node_modules/has-cors/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * Module exports.
 *
 * Logic borrowed from Modernizr:
 *
 *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js
 */

try {
  module.exports = typeof XMLHttpRequest !== 'undefined' &&
    'withCredentials' in new XMLHttpRequest();
} catch (err) {
  // if XMLHttp support is disabled in IE then it will throw
  // when trying to create
  module.exports = false;
}


/***/ }),

/***/ "./node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js":
/*!**************************************************************************************************!*\
  !*** ./node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");



var arr = [];
var each = arr.forEach;
var slice = arr.slice;
function defaults(obj) {
  each.call(slice.call(arguments, 1), function (source) {
    if (source) {
      for (var prop in source) {
        if (obj[prop] === undefined) obj[prop] = source[prop];
      }
    }
  });
  return obj;
}

var cookie = {
  create: function create(name, value, minutes, domain) {
    var cookieOptions = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
      path: '/'
    };
    var expires;

    if (minutes) {
      var date = new Date();
      date.setTime(date.getTime() + minutes * 60 * 1000);
      expires = '; expires=' + date.toUTCString();
    } else expires = '';

    domain = domain ? 'domain=' + domain + ';' : '';
    cookieOptions = Object.keys(cookieOptions).reduce(function (acc, key) {
      return acc + ';' + key.replace(/([A-Z])/g, function ($1) {
        return '-' + $1.toLowerCase();
      }) + '=' + cookieOptions[key];
    }, '');
    document.cookie = name + '=' + encodeURIComponent(value) + expires + ';' + domain + cookieOptions;
  },
  read: function read(name) {
    var nameEQ = name + '=';
    var ca = document.cookie.split(';');

    for (var i = 0; i < ca.length; i++) {
      var c = ca[i];

      while (c.charAt(0) === ' ') {
        c = c.substring(1, c.length);
      }

      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
    }

    return null;
  },
  remove: function remove(name) {
    this.create(name, '', -1);
  }
};
var cookie$1 = {
  name: 'cookie',
  lookup: function lookup(options) {
    var found;

    if (options.lookupCookie && typeof document !== 'undefined') {
      var c = cookie.read(options.lookupCookie);
      if (c) found = c;
    }

    return found;
  },
  cacheUserLanguage: function cacheUserLanguage(lng, options) {
    if (options.lookupCookie && typeof document !== 'undefined') {
      cookie.create(options.lookupCookie, lng, options.cookieMinutes, options.cookieDomain, options.cookieOptions);
    }
  }
};

var querystring = {
  name: 'querystring',
  lookup: function lookup(options) {
    var found;

    if (typeof window !== 'undefined') {
      var query = window.location.search.substring(1);
      var params = query.split('&');

      for (var i = 0; i < params.length; i++) {
        var pos = params[i].indexOf('=');

        if (pos > 0) {
          var key = params[i].substring(0, pos);

          if (key === options.lookupQuerystring) {
            found = params[i].substring(pos + 1);
          }
        }
      }
    }

    return found;
  }
};

var hasLocalStorageSupport;

try {
  hasLocalStorageSupport = window !== 'undefined' && window.localStorage !== null;
  var testKey = 'i18next.translate.boo';
  window.localStorage.setItem(testKey, 'foo');
  window.localStorage.removeItem(testKey);
} catch (e) {
  hasLocalStorageSupport = false;
}

var localStorage = {
  name: 'localStorage',
  lookup: function lookup(options) {
    var found;

    if (options.lookupLocalStorage && hasLocalStorageSupport) {
      var lng = window.localStorage.getItem(options.lookupLocalStorage);
      if (lng) found = lng;
    }

    return found;
  },
  cacheUserLanguage: function cacheUserLanguage(lng, options) {
    if (options.lookupLocalStorage && hasLocalStorageSupport) {
      window.localStorage.setItem(options.lookupLocalStorage, lng);
    }
  }
};

var hasSessionStorageSupport;

try {
  hasSessionStorageSupport = window !== 'undefined' && window.sessionStorage !== null;
  var testKey$1 = 'i18next.translate.boo';
  window.sessionStorage.setItem(testKey$1, 'foo');
  window.sessionStorage.removeItem(testKey$1);
} catch (e) {
  hasSessionStorageSupport = false;
}

var sessionStorage = {
  name: 'sessionStorage',
  lookup: function lookup(options) {
    var found;

    if (options.lookupsessionStorage && hasSessionStorageSupport) {
      var lng = window.sessionStorage.getItem(options.lookupsessionStorage);
      if (lng) found = lng;
    }

    return found;
  },
  cacheUserLanguage: function cacheUserLanguage(lng, options) {
    if (options.lookupsessionStorage && hasSessionStorageSupport) {
      window.sessionStorage.setItem(options.lookupsessionStorage, lng);
    }
  }
};

var navigator$1 = {
  name: 'navigator',
  lookup: function lookup(options) {
    var found = [];

    if (typeof navigator !== 'undefined') {
      if (navigator.languages) {
        // chrome only; not an array, so can't use .push.apply instead of iterating
        for (var i = 0; i < navigator.languages.length; i++) {
          found.push(navigator.languages[i]);
        }
      }

      if (navigator.userLanguage) {
        found.push(navigator.userLanguage);
      }

      if (navigator.language) {
        found.push(navigator.language);
      }
    }

    return found.length > 0 ? found : undefined;
  }
};

var htmlTag = {
  name: 'htmlTag',
  lookup: function lookup(options) {
    var found;
    var htmlTag = options.htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);

    if (htmlTag && typeof htmlTag.getAttribute === 'function') {
      found = htmlTag.getAttribute('lang');
    }

    return found;
  }
};

var path = {
  name: 'path',
  lookup: function lookup(options) {
    var found;

    if (typeof window !== 'undefined') {
      var language = window.location.pathname.match(/\/([a-zA-Z-]*)/g);

      if (language instanceof Array) {
        if (typeof options.lookupFromPathIndex === 'number') {
          if (typeof language[options.lookupFromPathIndex] !== 'string') {
            return undefined;
          }

          found = language[options.lookupFromPathIndex].replace('/', '');
        } else {
          found = language[0].replace('/', '');
        }
      }
    }

    return found;
  }
};

var subdomain = {
  name: 'subdomain',
  lookup: function lookup(options) {
    var found;

    if (typeof window !== 'undefined') {
      var language = window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);

      if (language instanceof Array) {
        if (typeof options.lookupFromSubdomainIndex === 'number') {
          found = language[options.lookupFromSubdomainIndex].replace('http://', '').replace('https://', '').replace('.', '');
        } else {
          found = language[0].replace('http://', '').replace('https://', '').replace('.', '');
        }
      }
    }

    return found;
  }
};

function getDefaults() {
  return {
    order: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag'],
    lookupQuerystring: 'lng',
    lookupCookie: 'i18next',
    lookupLocalStorage: 'i18nextLng',
    // cache user language
    caches: ['localStorage'],
    excludeCacheFor: ['cimode'],
    //cookieMinutes: 10,
    //cookieDomain: 'myDomain'
    checkWhitelist: true,
    checkForSimilarInWhitelist: false
  };
}

var Browser =
/*#__PURE__*/
function () {
  function Browser(services) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__["default"])(this, Browser);

    this.type = 'languageDetector';
    this.detectors = {};
    this.init(services, options);
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__["default"])(Browser, [{
    key: "init",
    value: function init(services) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      this.services = services;
      this.options = defaults(options, this.options || {}, getDefaults()); // if checking for similar, user needs to check whitelist

      if (this.options.checkForSimilarInWhitelist) this.options.checkWhitelist = true; // backwards compatibility

      if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;
      this.i18nOptions = i18nOptions;
      this.addDetector(cookie$1);
      this.addDetector(querystring);
      this.addDetector(localStorage);
      this.addDetector(sessionStorage);
      this.addDetector(navigator$1);
      this.addDetector(htmlTag);
      this.addDetector(path);
      this.addDetector(subdomain);
    }
  }, {
    key: "addDetector",
    value: function addDetector(detector) {
      this.detectors[detector.name] = detector;
    }
  }, {
    key: "detect",
    value: function detect(detectionOrder) {
      var _this = this;

      if (!detectionOrder) detectionOrder = this.options.order;
      var detected = [];
      detectionOrder.forEach(function (detectorName) {
        if (_this.detectors[detectorName]) {
          var lookup = _this.detectors[detectorName].lookup(_this.options);

          if (lookup && typeof lookup === 'string') lookup = [lookup];
          if (lookup) detected = detected.concat(lookup);
        }
      });
      var found;
      detected.forEach(function (lng) {
        if (found) return;

        var cleanedLng = _this.services.languageUtils.formatLanguageCode(lng);

        if (!_this.options.checkWhitelist || _this.services.languageUtils.isWhitelisted(cleanedLng)) found = cleanedLng;

        if (!found && _this.options.checkForSimilarInWhitelist) {
          found = _this.getSimilarInWhitelist(cleanedLng);
        }
      });

      if (!found) {
        var fallbacks = this.i18nOptions.fallbackLng;
        if (typeof fallbacks === 'string') fallbacks = [fallbacks];
        if (!fallbacks) fallbacks = [];

        if (Object.prototype.toString.apply(fallbacks) === '[object Array]') {
          found = fallbacks[0];
        } else {
          found = fallbacks[0] || fallbacks["default"] && fallbacks["default"][0];
        }
      }

      return found;
    }
  }, {
    key: "cacheUserLanguage",
    value: function cacheUserLanguage(lng, caches) {
      var _this2 = this;

      if (!caches) caches = this.options.caches;
      if (!caches) return;
      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;
      caches.forEach(function (cacheName) {
        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);
      });
    }
  }, {
    key: "getSimilarInWhitelist",
    value: function getSimilarInWhitelist(cleanedLng) {
      var _this3 = this;

      if (!this.i18nOptions.whitelist) return;

      if (cleanedLng.includes('-')) {
        // i.e. es-MX should check if es is in whitelist
        var prefix = cleanedLng.split('-')[0];
        var cleanedPrefix = this.services.languageUtils.formatLanguageCode(prefix);
        if (this.services.languageUtils.isWhitelisted(cleanedPrefix)) return cleanedPrefix; // if reached here, nothing found. continue to search for similar using only prefix

        cleanedLng = cleanedPrefix;
      } // i.e. 'pt' should return 'pt-BR'. If multiple in whitelist with 'pt-', then use first one in whitelist


      var similar = this.i18nOptions.whitelist.find(function (whitelistLng) {
        var cleanedWhitelistLng = _this3.services.languageUtils.formatLanguageCode(whitelistLng);

        if (cleanedWhitelistLng.startsWith(cleanedLng)) return cleanedWhitelistLng;
      });
      if (similar) return similar;
    }
  }]);

  return Browser;
}();

Browser.type = 'languageDetector';

/* harmony default export */ __webpack_exports__["default"] = (Browser);


/***/ }),

/***/ "./node_modules/i18next/dist/esm/i18next.js":
/*!**************************************************!*\
  !*** ./node_modules/i18next/dist/esm/i18next.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/typeof */ "./node_modules/@babel/runtime/helpers/esm/typeof.js");
/* harmony import */ var _babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectSpread */ "./node_modules/@babel/runtime/helpers/esm/objectSpread.js");
/* harmony import */ var _babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/esm/classCallCheck */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/esm/createClass */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var _babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/esm/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/esm/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/esm/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inherits */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");









var consoleLogger = {
  type: 'logger',
  log: function log(args) {
    this.output('log', args);
  },
  warn: function warn(args) {
    this.output('warn', args);
  },
  error: function error(args) {
    this.output('error', args);
  },
  output: function output(type, args) {
    if (console && console[type]) console[type].apply(console, args);
  }
};

var Logger = function () {
  function Logger(concreteLogger) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, Logger);

    this.init(concreteLogger, options);
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(Logger, [{
    key: "init",
    value: function init(concreteLogger) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      this.prefix = options.prefix || 'i18next:';
      this.logger = concreteLogger || consoleLogger;
      this.options = options;
      this.debug = options.debug;
    }
  }, {
    key: "setDebug",
    value: function setDebug(bool) {
      this.debug = bool;
    }
  }, {
    key: "log",
    value: function log() {
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      return this.forward(args, 'log', '', true);
    }
  }, {
    key: "warn",
    value: function warn() {
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return this.forward(args, 'warn', '', true);
    }
  }, {
    key: "error",
    value: function error() {
      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }

      return this.forward(args, 'error', '');
    }
  }, {
    key: "deprecate",
    value: function deprecate() {
      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
        args[_key4] = arguments[_key4];
      }

      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
    }
  }, {
    key: "forward",
    value: function forward(args, lvl, prefix, debugOnly) {
      if (debugOnly && !this.debug) return null;
      if (typeof args[0] === 'string') args[0] = "".concat(prefix).concat(this.prefix, " ").concat(args[0]);
      return this.logger[lvl](args);
    }
  }, {
    key: "create",
    value: function create(moduleName) {
      return new Logger(this.logger, Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, {
        prefix: "".concat(this.prefix, ":").concat(moduleName, ":")
      }, this.options));
    }
  }]);

  return Logger;
}();

var baseLogger = new Logger();

var EventEmitter = function () {
  function EventEmitter() {
    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, EventEmitter);

    this.observers = {};
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(EventEmitter, [{
    key: "on",
    value: function on(events, listener) {
      var _this = this;

      events.split(' ').forEach(function (event) {
        _this.observers[event] = _this.observers[event] || [];

        _this.observers[event].push(listener);
      });
      return this;
    }
  }, {
    key: "off",
    value: function off(event, listener) {
      if (!this.observers[event]) return;

      if (!listener) {
        delete this.observers[event];
        return;
      }

      this.observers[event] = this.observers[event].filter(function (l) {
        return l !== listener;
      });
    }
  }, {
    key: "emit",
    value: function emit(event) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      if (this.observers[event]) {
        var cloned = [].concat(this.observers[event]);
        cloned.forEach(function (observer) {
          observer.apply(void 0, args);
        });
      }

      if (this.observers['*']) {
        var _cloned = [].concat(this.observers['*']);

        _cloned.forEach(function (observer) {
          observer.apply(observer, [event].concat(args));
        });
      }
    }
  }]);

  return EventEmitter;
}();

function defer() {
  var res;
  var rej;
  var promise = new Promise(function (resolve, reject) {
    res = resolve;
    rej = reject;
  });
  promise.resolve = res;
  promise.reject = rej;
  return promise;
}
function makeString(object) {
  if (object == null) return '';
  return '' + object;
}
function copy(a, s, t) {
  a.forEach(function (m) {
    if (s[m]) t[m] = s[m];
  });
}

function getLastOfPath(object, path, Empty) {
  function cleanKey(key) {
    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;
  }

  function canNotTraverseDeeper() {
    return !object || typeof object === 'string';
  }

  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');

  while (stack.length > 1) {
    if (canNotTraverseDeeper()) return {};
    var key = cleanKey(stack.shift());
    if (!object[key] && Empty) object[key] = new Empty();
    object = object[key];
  }

  if (canNotTraverseDeeper()) return {};
  return {
    obj: object,
    k: cleanKey(stack.shift())
  };
}

function setPath(object, path, newValue) {
  var _getLastOfPath = getLastOfPath(object, path, Object),
      obj = _getLastOfPath.obj,
      k = _getLastOfPath.k;

  obj[k] = newValue;
}
function pushPath(object, path, newValue, concat) {
  var _getLastOfPath2 = getLastOfPath(object, path, Object),
      obj = _getLastOfPath2.obj,
      k = _getLastOfPath2.k;

  obj[k] = obj[k] || [];
  if (concat) obj[k] = obj[k].concat(newValue);
  if (!concat) obj[k].push(newValue);
}
function getPath(object, path) {
  var _getLastOfPath3 = getLastOfPath(object, path),
      obj = _getLastOfPath3.obj,
      k = _getLastOfPath3.k;

  if (!obj) return undefined;
  return obj[k];
}
function getPathWithDefaults(data, defaultData, key) {
  var value = getPath(data, key);

  if (value !== undefined) {
    return value;
  }

  return getPath(defaultData, key);
}
function deepExtend(target, source, overwrite) {
  for (var prop in source) {
    if (prop !== '__proto__' && prop !== 'constructor') {
      if (prop in target) {
        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {
          if (overwrite) target[prop] = source[prop];
        } else {
          deepExtend(target[prop], source[prop], overwrite);
        }
      } else {
        target[prop] = source[prop];
      }
    }
  }

  return target;
}
function regexEscape(str) {
  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
}
var _entityMap = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#39;',
  '/': '&#x2F;'
};
function escape(data) {
  if (typeof data === 'string') {
    return data.replace(/[&<>"'\/]/g, function (s) {
      return _entityMap[s];
    });
  }

  return data;
}
var isIE10 = typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;

var ResourceStore = function (_EventEmitter) {
  Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__["default"])(ResourceStore, _EventEmitter);

  function ResourceStore(data) {
    var _this;

    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
      ns: ['translation'],
      defaultNS: 'translation'
    };

    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, ResourceStore);

    _this = Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(ResourceStore).call(this));

    if (isIE10) {
      EventEmitter.call(Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
    }

    _this.data = data || {};
    _this.options = options;

    if (_this.options.keySeparator === undefined) {
      _this.options.keySeparator = '.';
    }

    return _this;
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(ResourceStore, [{
    key: "addNamespaces",
    value: function addNamespaces(ns) {
      if (this.options.ns.indexOf(ns) < 0) {
        this.options.ns.push(ns);
      }
    }
  }, {
    key: "removeNamespaces",
    value: function removeNamespaces(ns) {
      var index = this.options.ns.indexOf(ns);

      if (index > -1) {
        this.options.ns.splice(index, 1);
      }
    }
  }, {
    key: "getResource",
    value: function getResource(lng, ns, key) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
      var path = [lng, ns];
      if (key && typeof key !== 'string') path = path.concat(key);
      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
      }

      return getPath(this.data, path);
    }
  }, {
    key: "addResource",
    value: function addResource(lng, ns, key, value) {
      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {
        silent: false
      };
      var keySeparator = this.options.keySeparator;
      if (keySeparator === undefined) keySeparator = '.';
      var path = [lng, ns];
      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
        value = ns;
        ns = path[1];
      }

      this.addNamespaces(ns);
      setPath(this.data, path, value);
      if (!options.silent) this.emit('added', lng, ns, key, value);
    }
  }, {
    key: "addResources",
    value: function addResources(lng, ns, resources) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {
        silent: false
      };

      for (var m in resources) {
        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {
          silent: true
        });
      }

      if (!options.silent) this.emit('added', lng, ns, resources);
    }
  }, {
    key: "addResourceBundle",
    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {
      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {
        silent: false
      };
      var path = [lng, ns];

      if (lng.indexOf('.') > -1) {
        path = lng.split('.');
        deep = resources;
        resources = ns;
        ns = path[1];
      }

      this.addNamespaces(ns);
      var pack = getPath(this.data, path) || {};

      if (deep) {
        deepExtend(pack, resources, overwrite);
      } else {
        pack = Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, pack, resources);
      }

      setPath(this.data, path, pack);
      if (!options.silent) this.emit('added', lng, ns, resources);
    }
  }, {
    key: "removeResourceBundle",
    value: function removeResourceBundle(lng, ns) {
      if (this.hasResourceBundle(lng, ns)) {
        delete this.data[lng][ns];
      }

      this.removeNamespaces(ns);
      this.emit('removed', lng, ns);
    }
  }, {
    key: "hasResourceBundle",
    value: function hasResourceBundle(lng, ns) {
      return this.getResource(lng, ns) !== undefined;
    }
  }, {
    key: "getResourceBundle",
    value: function getResourceBundle(lng, ns) {
      if (!ns) ns = this.options.defaultNS;
      if (this.options.compatibilityAPI === 'v1') return Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, {}, this.getResource(lng, ns));
      return this.getResource(lng, ns);
    }
  }, {
    key: "getDataByLanguage",
    value: function getDataByLanguage(lng) {
      return this.data[lng];
    }
  }, {
    key: "toJSON",
    value: function toJSON() {
      return this.data;
    }
  }]);

  return ResourceStore;
}(EventEmitter);

var postProcessor = {
  processors: {},
  addPostProcessor: function addPostProcessor(module) {
    this.processors[module.name] = module;
  },
  handle: function handle(processors, value, key, options, translator) {
    var _this = this;

    processors.forEach(function (processor) {
      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);
    });
    return value;
  }
};

var checkedLoadedFor = {};

var Translator = function (_EventEmitter) {
  Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__["default"])(Translator, _EventEmitter);

  function Translator(services) {
    var _this;

    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, Translator);

    _this = Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Translator).call(this));

    if (isIE10) {
      EventEmitter.call(Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
    }

    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
    _this.options = options;

    if (_this.options.keySeparator === undefined) {
      _this.options.keySeparator = '.';
    }

    _this.logger = baseLogger.create('translator');
    return _this;
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(Translator, [{
    key: "changeLanguage",
    value: function changeLanguage(lng) {
      if (lng) this.language = lng;
    }
  }, {
    key: "exists",
    value: function exists(key) {
      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {
        interpolation: {}
      };
      var resolved = this.resolve(key, options);
      return resolved && resolved.res !== undefined;
    }
  }, {
    key: "extractFromKey",
    value: function extractFromKey(key, options) {
      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;
      if (nsSeparator === undefined) nsSeparator = ':';
      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;
      var namespaces = options.ns || this.options.defaultNS;

      if (nsSeparator && key.indexOf(nsSeparator) > -1) {
        var m = key.match(this.interpolator.nestingRegexp);

        if (m && m.length > 0) {
          return {
            key: key,
            namespaces: namespaces
          };
        }

        var parts = key.split(nsSeparator);
        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
        key = parts.join(keySeparator);
      }

      if (typeof namespaces === 'string') namespaces = [namespaces];
      return {
        key: key,
        namespaces: namespaces
      };
    }
  }, {
    key: "translate",
    value: function translate(keys, options, lastKey) {
      var _this2 = this;

      if (Object(_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["default"])(options) !== 'object' && this.options.overloadTranslationOptionHandler) {
        options = this.options.overloadTranslationOptionHandler(arguments);
      }

      if (!options) options = {};
      if (keys === undefined || keys === null) return '';
      if (!Array.isArray(keys)) keys = [String(keys)];
      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;

      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),
          key = _this$extractFromKey.key,
          namespaces = _this$extractFromKey.namespaces;

      var namespace = namespaces[namespaces.length - 1];
      var lng = options.lng || this.language;
      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;

      if (lng && lng.toLowerCase() === 'cimode') {
        if (appendNamespaceToCIMode) {
          var nsSeparator = options.nsSeparator || this.options.nsSeparator;
          return namespace + nsSeparator + key;
        }

        return key;
      }

      var resolved = this.resolve(keys, options);
      var res = resolved && resolved.res;
      var resUsedKey = resolved && resolved.usedKey || key;
      var resExactUsedKey = resolved && resolved.exactUsedKey || key;
      var resType = Object.prototype.toString.apply(res);
      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;
      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;
      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';

      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {
        if (!options.returnObjects && !this.options.returnObjects) {
          this.logger.warn('accessing an object - but returnObjects options is not enabled!');
          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, options) : "key '".concat(key, " (").concat(this.language, ")' returned an object instead of string.");
        }

        if (keySeparator) {
          var resTypeIsArray = resType === '[object Array]';
          var copy$$1 = resTypeIsArray ? [] : {};
          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;

          for (var m in res) {
            if (Object.prototype.hasOwnProperty.call(res, m)) {
              var deepKey = "".concat(newKeyToUse).concat(keySeparator).concat(m);
              copy$$1[m] = this.translate(deepKey, Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, options, {
                joinArrays: false,
                ns: namespaces
              }));
              if (copy$$1[m] === deepKey) copy$$1[m] = res[m];
            }
          }

          res = copy$$1;
        }
      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {
        res = res.join(joinArrays);
        if (res) res = this.extendTranslation(res, keys, options, lastKey);
      } else {
        var usedDefault = false;
        var usedKey = false;

        if (!this.isValidLookup(res) && options.defaultValue !== undefined) {
          usedDefault = true;

          if (options.count !== undefined) {
            var suffix = this.pluralResolver.getSuffix(lng, options.count);
            res = options["defaultValue".concat(suffix)];
          }

          if (!res) res = options.defaultValue;
        }

        if (!this.isValidLookup(res)) {
          usedKey = true;
          res = key;
        }

        var updateMissing = options.defaultValue && options.defaultValue !== res && this.options.updateMissing;

        if (usedKey || usedDefault || updateMissing) {
          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? options.defaultValue : res);

          if (keySeparator) {
            var fk = this.resolve(key, Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, options, {
              keySeparator: false
            }));
            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');
          }

          var lngs = [];
          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);

          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
            for (var i = 0; i < fallbackLngs.length; i++) {
              lngs.push(fallbackLngs[i]);
            }
          } else if (this.options.saveMissingTo === 'all') {
            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
          } else {
            lngs.push(options.lng || this.language);
          }

          var send = function send(l, k) {
            if (_this2.options.missingKeyHandler) {
              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);
            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {
              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);
            }

            _this2.emit('missingKey', l, namespace, k, res);
          };

          if (this.options.saveMissing) {
            var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';

            if (this.options.saveMissingPlurals && needsPluralHandling) {
              lngs.forEach(function (l) {
                var plurals = _this2.pluralResolver.getPluralFormsOfKey(l, key);

                plurals.forEach(function (p) {
                  return send([l], p);
                });
              });
            } else {
              send(lngs, key);
            }
          }
        }

        res = this.extendTranslation(res, keys, options, resolved, lastKey);
        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = "".concat(namespace, ":").concat(key);
        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);
      }

      return res;
    }
  }, {
    key: "extendTranslation",
    value: function extendTranslation(res, key, options, resolved, lastKey) {
      var _this3 = this;

      if (this.i18nFormat && this.i18nFormat.parse) {
        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {
          resolved: resolved
        });
      } else if (!options.skipInterpolation) {
        if (options.interpolation) this.interpolator.init(Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, options, {
          interpolation: Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.options.interpolation, options.interpolation)
        }));
        var skipOnVariables = options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;
        var nestBef;

        if (skipOnVariables) {
          var nb = res.match(this.interpolator.nestingRegexp);
          nestBef = nb && nb.length;
        }

        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;
        if (this.options.interpolation.defaultVariables) data = Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.options.interpolation.defaultVariables, data);
        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);

        if (skipOnVariables) {
          var na = res.match(this.interpolator.nestingRegexp);
          var nestAft = na && na.length;
          if (nestBef < nestAft) options.nest = false;
        }

        if (options.nest !== false) res = this.interpolator.nest(res, function () {
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }

          if (lastKey && lastKey[0] === args[0] && !options.context) {
            _this3.logger.warn("It seems you are nesting recursively key: ".concat(args[0], " in key: ").concat(key[0]));

            return null;
          }

          return _this3.translate.apply(_this3, args.concat([key]));
        }, options);
        if (options.interpolation) this.interpolator.reset();
      }

      var postProcess = options.postProcess || this.options.postProcess;
      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;

      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({
          i18nResolved: resolved
        }, options) : options, this);
      }

      return res;
    }
  }, {
    key: "resolve",
    value: function resolve(keys) {
      var _this4 = this;

      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
      var found;
      var usedKey;
      var exactUsedKey;
      var usedLng;
      var usedNS;
      if (typeof keys === 'string') keys = [keys];
      keys.forEach(function (k) {
        if (_this4.isValidLookup(found)) return;

        var extracted = _this4.extractFromKey(k, options);

        var key = extracted.key;
        usedKey = key;
        var namespaces = extracted.namespaces;
        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);
        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';
        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);
        namespaces.forEach(function (ns) {
          if (_this4.isValidLookup(found)) return;
          usedNS = ns;

          if (!checkedLoadedFor["".concat(codes[0], "-").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {
            checkedLoadedFor["".concat(codes[0], "-").concat(ns)] = true;

            _this4.logger.warn("key \"".concat(usedKey, "\" for languages \"").concat(codes.join(', '), "\" won't get resolved as namespace \"").concat(usedNS, "\" was not yet loaded"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
          }

          codes.forEach(function (code) {
            if (_this4.isValidLookup(found)) return;
            usedLng = code;
            var finalKey = key;
            var finalKeys = [finalKey];

            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {
              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);
            } else {
              var pluralSuffix;
              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count);
              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);
              if (needsContextHandling) finalKeys.push(finalKey += "".concat(_this4.options.contextSeparator).concat(options.context));
              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);
            }

            var possibleKey;

            while (possibleKey = finalKeys.pop()) {
              if (!_this4.isValidLookup(found)) {
                exactUsedKey = possibleKey;
                found = _this4.getResource(code, ns, possibleKey, options);
              }
            }
          });
        });
      });
      return {
        res: found,
        usedKey: usedKey,
        exactUsedKey: exactUsedKey,
        usedLng: usedLng,
        usedNS: usedNS
      };
    }
  }, {
    key: "isValidLookup",
    value: function isValidLookup(res) {
      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
    }
  }, {
    key: "getResource",
    value: function getResource(code, ns, key) {
      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);
      return this.resourceStore.getResource(code, ns, key, options);
    }
  }]);

  return Translator;
}(EventEmitter);

function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

var LanguageUtil = function () {
  function LanguageUtil(options) {
    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, LanguageUtil);

    this.options = options;
    this.whitelist = this.options.supportedLngs || false;
    this.supportedLngs = this.options.supportedLngs || false;
    this.logger = baseLogger.create('languageUtils');
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(LanguageUtil, [{
    key: "getScriptPartFromCode",
    value: function getScriptPartFromCode(code) {
      if (!code || code.indexOf('-') < 0) return null;
      var p = code.split('-');
      if (p.length === 2) return null;
      p.pop();
      if (p[p.length - 1].toLowerCase() === 'x') return null;
      return this.formatLanguageCode(p.join('-'));
    }
  }, {
    key: "getLanguagePartFromCode",
    value: function getLanguagePartFromCode(code) {
      if (!code || code.indexOf('-') < 0) return code;
      var p = code.split('-');
      return this.formatLanguageCode(p[0]);
    }
  }, {
    key: "formatLanguageCode",
    value: function formatLanguageCode(code) {
      if (typeof code === 'string' && code.indexOf('-') > -1) {
        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
        var p = code.split('-');

        if (this.options.lowerCaseLng) {
          p = p.map(function (part) {
            return part.toLowerCase();
          });
        } else if (p.length === 2) {
          p[0] = p[0].toLowerCase();
          p[1] = p[1].toUpperCase();
          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
        } else if (p.length === 3) {
          p[0] = p[0].toLowerCase();
          if (p[1].length === 2) p[1] = p[1].toUpperCase();
          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();
          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
        }

        return p.join('-');
      }

      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
    }
  }, {
    key: "isWhitelisted",
    value: function isWhitelisted(code) {
      this.logger.deprecate('languageUtils.isWhitelisted', 'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.');
      return this.isSupportedCode(code);
    }
  }, {
    key: "isSupportedCode",
    value: function isSupportedCode(code) {
      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {
        code = this.getLanguagePartFromCode(code);
      }

      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;
    }
  }, {
    key: "getBestMatchFromCodes",
    value: function getBestMatchFromCodes(codes) {
      var _this = this;

      if (!codes) return null;
      var found;
      codes.forEach(function (code) {
        if (found) return;

        var cleanedLng = _this.formatLanguageCode(code);

        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;
      });

      if (!found && this.options.supportedLngs) {
        codes.forEach(function (code) {
          if (found) return;

          var lngOnly = _this.getLanguagePartFromCode(code);

          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;
          found = _this.options.supportedLngs.find(function (supportedLng) {
            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;
          });
        });
      }

      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];
      return found;
    }
  }, {
    key: "getFallbackCodes",
    value: function getFallbackCodes(fallbacks, code) {
      if (!fallbacks) return [];
      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);
      if (typeof fallbacks === 'string') fallbacks = [fallbacks];
      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;
      if (!code) return fallbacks["default"] || [];
      var found = fallbacks[code];
      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
      if (!found) found = fallbacks[this.formatLanguageCode(code)];
      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];
      if (!found) found = fallbacks["default"];
      return found || [];
    }
  }, {
    key: "toResolveHierarchy",
    value: function toResolveHierarchy(code, fallbackCode) {
      var _this2 = this;

      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);
      var codes = [];

      var addCode = function addCode(c) {
        if (!c) return;

        if (_this2.isSupportedCode(c)) {
          codes.push(c);
        } else {
          _this2.logger.warn("rejecting language code not found in supportedLngs: ".concat(c));
        }
      };

      if (typeof code === 'string' && code.indexOf('-') > -1) {
        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
      } else if (typeof code === 'string') {
        addCode(this.formatLanguageCode(code));
      }

      fallbackCodes.forEach(function (fc) {
        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));
      });
      return codes;
    }
  }]);

  return LanguageUtil;
}();

var sets = [{
  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'],
  nr: [1, 2],
  fc: 1
}, {
  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],
  nr: [1, 2],
  fc: 2
}, {
  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],
  nr: [1],
  fc: 3
}, {
  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],
  nr: [1, 2, 5],
  fc: 4
}, {
  lngs: ['ar'],
  nr: [0, 1, 2, 3, 11, 100],
  fc: 5
}, {
  lngs: ['cs', 'sk'],
  nr: [1, 2, 5],
  fc: 6
}, {
  lngs: ['csb', 'pl'],
  nr: [1, 2, 5],
  fc: 7
}, {
  lngs: ['cy'],
  nr: [1, 2, 3, 8],
  fc: 8
}, {
  lngs: ['fr'],
  nr: [1, 2],
  fc: 9
}, {
  lngs: ['ga'],
  nr: [1, 2, 3, 7, 11],
  fc: 10
}, {
  lngs: ['gd'],
  nr: [1, 2, 3, 20],
  fc: 11
}, {
  lngs: ['is'],
  nr: [1, 2],
  fc: 12
}, {
  lngs: ['jv'],
  nr: [0, 1],
  fc: 13
}, {
  lngs: ['kw'],
  nr: [1, 2, 3, 4],
  fc: 14
}, {
  lngs: ['lt'],
  nr: [1, 2, 10],
  fc: 15
}, {
  lngs: ['lv'],
  nr: [1, 2, 0],
  fc: 16
}, {
  lngs: ['mk'],
  nr: [1, 2],
  fc: 17
}, {
  lngs: ['mnk'],
  nr: [0, 1, 2],
  fc: 18
}, {
  lngs: ['mt'],
  nr: [1, 2, 11, 20],
  fc: 19
}, {
  lngs: ['or'],
  nr: [2, 1],
  fc: 2
}, {
  lngs: ['ro'],
  nr: [1, 2, 20],
  fc: 20
}, {
  lngs: ['sl'],
  nr: [5, 1, 2, 3],
  fc: 21
}, {
  lngs: ['he', 'iw'],
  nr: [1, 2, 20, 21],
  fc: 22
}];
var _rulesPluralsTypes = {
  1: function _(n) {
    return Number(n > 1);
  },
  2: function _(n) {
    return Number(n != 1);
  },
  3: function _(n) {
    return 0;
  },
  4: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  5: function _(n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
  },
  6: function _(n) {
    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);
  },
  7: function _(n) {
    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  8: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);
  },
  9: function _(n) {
    return Number(n >= 2);
  },
  10: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
  },
  11: function _(n) {
    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);
  },
  12: function _(n) {
    return Number(n % 10 != 1 || n % 100 == 11);
  },
  13: function _(n) {
    return Number(n !== 0);
  },
  14: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);
  },
  15: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
  },
  16: function _(n) {
    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);
  },
  17: function _(n) {
    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);
  },
  18: function _(n) {
    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);
  },
  19: function _(n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
  },
  20: function _(n) {
    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
  },
  21: function _(n) {
    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
  },
  22: function _(n) {
    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);
  }
};

function createRules() {
  var rules = {};
  sets.forEach(function (set) {
    set.lngs.forEach(function (l) {
      rules[l] = {
        numbers: set.nr,
        plurals: _rulesPluralsTypes[set.fc]
      };
    });
  });
  return rules;
}

var PluralResolver = function () {
  function PluralResolver(languageUtils) {
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, PluralResolver);

    this.languageUtils = languageUtils;
    this.options = options;
    this.logger = baseLogger.create('pluralResolver');
    this.rules = createRules();
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(PluralResolver, [{
    key: "addRule",
    value: function addRule(lng, obj) {
      this.rules[lng] = obj;
    }
  }, {
    key: "getRule",
    value: function getRule(code) {
      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];
    }
  }, {
    key: "needsPlural",
    value: function needsPlural(code) {
      var rule = this.getRule(code);
      return rule && rule.numbers.length > 1;
    }
  }, {
    key: "getPluralFormsOfKey",
    value: function getPluralFormsOfKey(code, key) {
      var _this = this;

      var ret = [];
      var rule = this.getRule(code);
      if (!rule) return ret;
      rule.numbers.forEach(function (n) {
        var suffix = _this.getSuffix(code, n);

        ret.push("".concat(key).concat(suffix));
      });
      return ret;
    }
  }, {
    key: "getSuffix",
    value: function getSuffix(code, count) {
      var _this2 = this;

      var rule = this.getRule(code);

      if (rule) {
        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
        var suffix = rule.numbers[idx];

        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
          if (suffix === 2) {
            suffix = 'plural';
          } else if (suffix === 1) {
            suffix = '';
          }
        }

        var returnSuffix = function returnSuffix() {
          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();
        };

        if (this.options.compatibilityJSON === 'v1') {
          if (suffix === 1) return '';
          if (typeof suffix === 'number') return "_plural_".concat(suffix.toString());
          return returnSuffix();
        } else if (this.options.compatibilityJSON === 'v2') {
          return returnSuffix();
        } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
          return returnSuffix();
        }

        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();
      }

      this.logger.warn("no plural rule found for: ".concat(code));
      return '';
    }
  }]);

  return PluralResolver;
}();

var Interpolator = function () {
  function Interpolator() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, Interpolator);

    this.logger = baseLogger.create('interpolator');
    this.options = options;

    this.format = options.interpolation && options.interpolation.format || function (value) {
      return value;
    };

    this.init(options);
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(Interpolator, [{
    key: "init",
    value: function init() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      if (!options.interpolation) options.interpolation = {
        escapeValue: true
      };
      var iOpts = options.interpolation;
      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;
      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;
      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;
      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';
      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';
      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';
      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';
      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';
      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');
      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');
      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';
      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;
      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;
      this.resetRegExp();
    }
  }, {
    key: "reset",
    value: function reset() {
      if (this.options) this.init(this.options);
    }
  }, {
    key: "resetRegExp",
    value: function resetRegExp() {
      var regexpStr = "".concat(this.prefix, "(.+?)").concat(this.suffix);
      this.regexp = new RegExp(regexpStr, 'g');
      var regexpUnescapeStr = "".concat(this.prefix).concat(this.unescapePrefix, "(.+?)").concat(this.unescapeSuffix).concat(this.suffix);
      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');
      var nestingRegexpStr = "".concat(this.nestingPrefix, "(.+?)").concat(this.nestingSuffix);
      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');
    }
  }, {
    key: "interpolate",
    value: function interpolate(str, data, lng, options) {
      var _this = this;

      var match;
      var value;
      var replaces;
      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};

      function regexSafe(val) {
        return val.replace(/\$/g, '$$$$');
      }

      var handleFormat = function handleFormat(key) {
        if (key.indexOf(_this.formatSeparator) < 0) {
          var path = getPathWithDefaults(data, defaultData, key);
          return _this.alwaysFormat ? _this.format(path, undefined, lng) : path;
        }

        var p = key.split(_this.formatSeparator);
        var k = p.shift().trim();
        var f = p.join(_this.formatSeparator).trim();
        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, options);
      };

      this.resetRegExp();
      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;
      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;
      var todos = [{
        regex: this.regexpUnescape,
        safeValue: function safeValue(val) {
          return regexSafe(val);
        }
      }, {
        regex: this.regexp,
        safeValue: function safeValue(val) {
          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);
        }
      }];
      todos.forEach(function (todo) {
        replaces = 0;

        while (match = todo.regex.exec(str)) {
          value = handleFormat(match[1].trim());

          if (value === undefined) {
            if (typeof missingInterpolationHandler === 'function') {
              var temp = missingInterpolationHandler(str, match, options);
              value = typeof temp === 'string' ? temp : '';
            } else if (skipOnVariables) {
              value = match[0];
              continue;
            } else {
              _this.logger.warn("missed to pass in variable ".concat(match[1], " for interpolating ").concat(str));

              value = '';
            }
          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {
            value = makeString(value);
          }

          str = str.replace(match[0], todo.safeValue(value));
          todo.regex.lastIndex = 0;
          replaces++;

          if (replaces >= _this.maxReplaces) {
            break;
          }
        }
      });
      return str;
    }
  }, {
    key: "nest",
    value: function nest(str, fc) {
      var _this2 = this;

      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var match;
      var value;

      var clonedOptions = Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, options);

      clonedOptions.applyPostProcessor = false;
      delete clonedOptions.defaultValue;

      function handleHasOptions(key, inheritedOptions) {
        var sep = this.nestingOptionsSeparator;
        if (key.indexOf(sep) < 0) return key;
        var c = key.split(new RegExp("".concat(sep, "[ ]*{")));
        var optionsString = "{".concat(c[1]);
        key = c[0];
        optionsString = this.interpolate(optionsString, clonedOptions);
        optionsString = optionsString.replace(/'/g, '"');

        try {
          clonedOptions = JSON.parse(optionsString);
          if (inheritedOptions) clonedOptions = Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, inheritedOptions, clonedOptions);
        } catch (e) {
          this.logger.warn("failed parsing options string in nesting for key ".concat(key), e);
          return "".concat(key).concat(sep).concat(optionsString);
        }

        delete clonedOptions.defaultValue;
        return key;
      }

      while (match = this.nestingRegexp.exec(str)) {
        var formatters = [];
        var doReduce = false;

        if (match[0].includes(this.formatSeparator) && !/{.*}/.test(match[1])) {
          var r = match[1].split(this.formatSeparator).map(function (elem) {
            return elem.trim();
          });
          match[1] = r.shift();
          formatters = r;
          doReduce = true;
        }

        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);
        if (value && match[0] === str && typeof value !== 'string') return value;
        if (typeof value !== 'string') value = makeString(value);

        if (!value) {
          this.logger.warn("missed to resolve ".concat(match[1], " for nesting ").concat(str));
          value = '';
        }

        if (doReduce) {
          value = formatters.reduce(function (v, f) {
            return _this2.format(v, f, options.lng, options);
          }, value.trim());
        }

        str = str.replace(match[0], value);
        this.regexp.lastIndex = 0;
      }

      return str;
    }
  }]);

  return Interpolator;
}();

function remove(arr, what) {
  var found = arr.indexOf(what);

  while (found !== -1) {
    arr.splice(found, 1);
    found = arr.indexOf(what);
  }
}

var Connector = function (_EventEmitter) {
  Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__["default"])(Connector, _EventEmitter);

  function Connector(backend, store, services) {
    var _this;

    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, Connector);

    _this = Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(Connector).call(this));

    if (isIE10) {
      EventEmitter.call(Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
    }

    _this.backend = backend;
    _this.store = store;
    _this.services = services;
    _this.languageUtils = services.languageUtils;
    _this.options = options;
    _this.logger = baseLogger.create('backendConnector');
    _this.state = {};
    _this.queue = [];

    if (_this.backend && _this.backend.init) {
      _this.backend.init(services, options.backend, options);
    }

    return _this;
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(Connector, [{
    key: "queueLoad",
    value: function queueLoad(languages, namespaces, options, callback) {
      var _this2 = this;

      var toLoad = [];
      var pending = [];
      var toLoadLanguages = [];
      var toLoadNamespaces = [];
      languages.forEach(function (lng) {
        var hasAllNamespaces = true;
        namespaces.forEach(function (ns) {
          var name = "".concat(lng, "|").concat(ns);

          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {
            _this2.state[name] = 2;
          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {
            if (pending.indexOf(name) < 0) pending.push(name);
          } else {
            _this2.state[name] = 1;
            hasAllNamespaces = false;
            if (pending.indexOf(name) < 0) pending.push(name);
            if (toLoad.indexOf(name) < 0) toLoad.push(name);
            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);
          }
        });
        if (!hasAllNamespaces) toLoadLanguages.push(lng);
      });

      if (toLoad.length || pending.length) {
        this.queue.push({
          pending: pending,
          loaded: {},
          errors: [],
          callback: callback
        });
      }

      return {
        toLoad: toLoad,
        pending: pending,
        toLoadLanguages: toLoadLanguages,
        toLoadNamespaces: toLoadNamespaces
      };
    }
  }, {
    key: "loaded",
    value: function loaded(name, err, data) {
      var s = name.split('|');
      var lng = s[0];
      var ns = s[1];
      if (err) this.emit('failedLoading', lng, ns, err);

      if (data) {
        this.store.addResourceBundle(lng, ns, data);
      }

      this.state[name] = err ? -1 : 2;
      var loaded = {};
      this.queue.forEach(function (q) {
        pushPath(q.loaded, [lng], ns);
        remove(q.pending, name);
        if (err) q.errors.push(err);

        if (q.pending.length === 0 && !q.done) {
          Object.keys(q.loaded).forEach(function (l) {
            if (!loaded[l]) loaded[l] = [];

            if (q.loaded[l].length) {
              q.loaded[l].forEach(function (ns) {
                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);
              });
            }
          });
          q.done = true;

          if (q.errors.length) {
            q.callback(q.errors);
          } else {
            q.callback();
          }
        }
      });
      this.emit('loaded', loaded);
      this.queue = this.queue.filter(function (q) {
        return !q.done;
      });
    }
  }, {
    key: "read",
    value: function read(lng, ns, fcName) {
      var _this3 = this;

      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 350;
      var callback = arguments.length > 5 ? arguments[5] : undefined;
      if (!lng.length) return callback(null, {});
      return this.backend[fcName](lng, ns, function (err, data) {
        if (err && data && tried < 5) {
          setTimeout(function () {
            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);
          }, wait);
          return;
        }

        callback(err, data);
      });
    }
  }, {
    key: "prepareLoading",
    value: function prepareLoading(languages, namespaces) {
      var _this4 = this;

      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
      var callback = arguments.length > 3 ? arguments[3] : undefined;

      if (!this.backend) {
        this.logger.warn('No backend was added via i18next.use. Will not load resources.');
        return callback && callback();
      }

      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);
      if (typeof namespaces === 'string') namespaces = [namespaces];
      var toLoad = this.queueLoad(languages, namespaces, options, callback);

      if (!toLoad.toLoad.length) {
        if (!toLoad.pending.length) callback();
        return null;
      }

      toLoad.toLoad.forEach(function (name) {
        _this4.loadOne(name);
      });
    }
  }, {
    key: "load",
    value: function load(languages, namespaces, callback) {
      this.prepareLoading(languages, namespaces, {}, callback);
    }
  }, {
    key: "reload",
    value: function reload(languages, namespaces, callback) {
      this.prepareLoading(languages, namespaces, {
        reload: true
      }, callback);
    }
  }, {
    key: "loadOne",
    value: function loadOne(name) {
      var _this5 = this;

      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var s = name.split('|');
      var lng = s[0];
      var ns = s[1];
      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {
        if (err) _this5.logger.warn("".concat(prefix, "loading namespace ").concat(ns, " for language ").concat(lng, " failed"), err);
        if (!err && data) _this5.logger.log("".concat(prefix, "loaded namespace ").concat(ns, " for language ").concat(lng), data);

        _this5.loaded(name, err, data);
      });
    }
  }, {
    key: "saveMissing",
    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {
      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};

      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {
        this.logger.warn("did not save key \"".concat(key, "\" as the namespace \"").concat(namespace, "\" was not yet loaded"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');
        return;
      }

      if (key === undefined || key === null || key === '') return;

      if (this.backend && this.backend.create) {
        this.backend.create(languages, namespace, key, fallbackValue, null, Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, options, {
          isUpdate: isUpdate
        }));
      }

      if (!languages || !languages[0]) return;
      this.store.addResource(languages[0], namespace, key, fallbackValue);
    }
  }]);

  return Connector;
}(EventEmitter);

function get() {
  return {
    debug: false,
    initImmediate: true,
    ns: ['translation'],
    defaultNS: ['translation'],
    fallbackLng: ['dev'],
    fallbackNS: false,
    whitelist: false,
    nonExplicitWhitelist: false,
    supportedLngs: false,
    nonExplicitSupportedLngs: false,
    load: 'all',
    preload: false,
    simplifyPluralSuffix: true,
    keySeparator: '.',
    nsSeparator: ':',
    pluralSeparator: '_',
    contextSeparator: '_',
    partialBundledLanguages: false,
    saveMissing: false,
    updateMissing: false,
    saveMissingTo: 'fallback',
    saveMissingPlurals: true,
    missingKeyHandler: false,
    missingInterpolationHandler: false,
    postProcess: false,
    postProcessPassResolved: false,
    returnNull: true,
    returnEmptyString: true,
    returnObjects: false,
    joinArrays: false,
    returnedObjectHandler: false,
    parseMissingKeyHandler: false,
    appendNamespaceToMissingKey: false,
    appendNamespaceToCIMode: false,
    overloadTranslationOptionHandler: function handle(args) {
      var ret = {};
      if (Object(_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["default"])(args[1]) === 'object') ret = args[1];
      if (typeof args[1] === 'string') ret.defaultValue = args[1];
      if (typeof args[2] === 'string') ret.tDescription = args[2];

      if (Object(_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["default"])(args[2]) === 'object' || Object(_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["default"])(args[3]) === 'object') {
        var options = args[3] || args[2];
        Object.keys(options).forEach(function (key) {
          ret[key] = options[key];
        });
      }

      return ret;
    },
    interpolation: {
      escapeValue: true,
      format: function format(value, _format, lng, options) {
        return value;
      },
      prefix: '{{',
      suffix: '}}',
      formatSeparator: ',',
      unescapePrefix: '-',
      nestingPrefix: '$t(',
      nestingSuffix: ')',
      nestingOptionsSeparator: ',',
      maxReplaces: 1000,
      skipOnVariables: false
    }
  };
}
function transformOptions(options) {
  if (typeof options.ns === 'string') options.ns = [options.ns];
  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];
  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];

  if (options.whitelist) {
    if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {
      options.whitelist = options.whitelist.concat(['cimode']);
    }

    options.supportedLngs = options.whitelist;
  }

  if (options.nonExplicitWhitelist) {
    options.nonExplicitSupportedLngs = options.nonExplicitWhitelist;
  }

  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {
    options.supportedLngs = options.supportedLngs.concat(['cimode']);
  }

  return options;
}

function noop() {}

var I18n = function (_EventEmitter) {
  Object(_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__["default"])(I18n, _EventEmitter);

  function I18n() {
    var _this;

    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var callback = arguments.length > 1 ? arguments[1] : undefined;

    Object(_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(this, I18n);

    _this = Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(this, Object(_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["default"])(I18n).call(this));

    if (isIE10) {
      EventEmitter.call(Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
    }

    _this.options = transformOptions(options);
    _this.services = {};
    _this.logger = baseLogger;
    _this.modules = {
      external: []
    };

    if (callback && !_this.isInitialized && !options.isClone) {
      if (!_this.options.initImmediate) {
        _this.init(options, callback);

        return Object(_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["default"])(_this, Object(_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__["default"])(_this));
      }

      setTimeout(function () {
        _this.init(options, callback);
      }, 0);
    }

    return _this;
  }

  Object(_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__["default"])(I18n, [{
    key: "init",
    value: function init() {
      var _this2 = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var callback = arguments.length > 1 ? arguments[1] : undefined;

      if (typeof options === 'function') {
        callback = options;
        options = {};
      }

      if (options.whitelist && !options.supportedLngs) {
        this.logger.deprecate('whitelist', 'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.');
      }

      if (options.nonExplicitWhitelist && !options.nonExplicitSupportedLngs) {
        this.logger.deprecate('whitelist', 'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.');
      }

      this.options = Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, get(), this.options, transformOptions(options));
      this.format = this.options.interpolation.format;
      if (!callback) callback = noop;

      function createClassOnDemand(ClassOrObject) {
        if (!ClassOrObject) return null;
        if (typeof ClassOrObject === 'function') return new ClassOrObject();
        return ClassOrObject;
      }

      if (!this.options.isClone) {
        if (this.modules.logger) {
          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);
        } else {
          baseLogger.init(null, this.options);
        }

        var lu = new LanguageUtil(this.options);
        this.store = new ResourceStore(this.options.resources, this.options);
        var s = this.services;
        s.logger = baseLogger;
        s.resourceStore = this.store;
        s.languageUtils = lu;
        s.pluralResolver = new PluralResolver(lu, {
          prepend: this.options.pluralSeparator,
          compatibilityJSON: this.options.compatibilityJSON,
          simplifyPluralSuffix: this.options.simplifyPluralSuffix
        });
        s.interpolator = new Interpolator(this.options);
        s.utils = {
          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)
        };
        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);
        s.backendConnector.on('*', function (event) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
            args[_key - 1] = arguments[_key];
          }

          _this2.emit.apply(_this2, [event].concat(args));
        });

        if (this.modules.languageDetector) {
          s.languageDetector = createClassOnDemand(this.modules.languageDetector);
          s.languageDetector.init(s, this.options.detection, this.options);
        }

        if (this.modules.i18nFormat) {
          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);
          if (s.i18nFormat.init) s.i18nFormat.init(this);
        }

        this.translator = new Translator(this.services, this.options);
        this.translator.on('*', function (event) {
          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            args[_key2 - 1] = arguments[_key2];
          }

          _this2.emit.apply(_this2, [event].concat(args));
        });
        this.modules.external.forEach(function (m) {
          if (m.init) m.init(_this2);
        });
      }

      if (!this.services.languageDetector && !this.options.lng) {
        this.logger.warn('init: no languageDetector is used and no lng is defined');
      }

      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];
      storeApi.forEach(function (fcName) {
        _this2[fcName] = function () {
          var _this2$store;

          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);
        };
      });
      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];
      storeApiChained.forEach(function (fcName) {
        _this2[fcName] = function () {
          var _this2$store2;

          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);

          return _this2;
        };
      });
      var deferred = defer();

      var load = function load() {
        _this2.changeLanguage(_this2.options.lng, function (err, t) {
          _this2.isInitialized = true;
          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);

          _this2.emit('initialized', _this2.options);

          deferred.resolve(t);
          callback(err, t);
        });
      };

      if (this.options.resources || !this.options.initImmediate) {
        load();
      } else {
        setTimeout(load, 0);
      }

      return deferred;
    }
  }, {
    key: "loadResources",
    value: function loadResources(language) {
      var _this3 = this;

      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;
      var usedCallback = callback;
      var usedLng = typeof language === 'string' ? language : this.language;
      if (typeof language === 'function') usedCallback = language;

      if (!this.options.resources || this.options.partialBundledLanguages) {
        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();
        var toLoad = [];

        var append = function append(lng) {
          if (!lng) return;

          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);

          lngs.forEach(function (l) {
            if (toLoad.indexOf(l) < 0) toLoad.push(l);
          });
        };

        if (!usedLng) {
          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);
          fallbacks.forEach(function (l) {
            return append(l);
          });
        } else {
          append(usedLng);
        }

        if (this.options.preload) {
          this.options.preload.forEach(function (l) {
            return append(l);
          });
        }

        this.services.backendConnector.load(toLoad, this.options.ns, usedCallback);
      } else {
        usedCallback(null);
      }
    }
  }, {
    key: "reloadResources",
    value: function reloadResources(lngs, ns, callback) {
      var deferred = defer();
      if (!lngs) lngs = this.languages;
      if (!ns) ns = this.options.ns;
      if (!callback) callback = noop;
      this.services.backendConnector.reload(lngs, ns, function (err) {
        deferred.resolve();
        callback(err);
      });
      return deferred;
    }
  }, {
    key: "use",
    value: function use(module) {
      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');
      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');

      if (module.type === 'backend') {
        this.modules.backend = module;
      }

      if (module.type === 'logger' || module.log && module.warn && module.error) {
        this.modules.logger = module;
      }

      if (module.type === 'languageDetector') {
        this.modules.languageDetector = module;
      }

      if (module.type === 'i18nFormat') {
        this.modules.i18nFormat = module;
      }

      if (module.type === 'postProcessor') {
        postProcessor.addPostProcessor(module);
      }

      if (module.type === '3rdParty') {
        this.modules.external.push(module);
      }

      return this;
    }
  }, {
    key: "changeLanguage",
    value: function changeLanguage(lng, callback) {
      var _this4 = this;

      this.isLanguageChangingTo = lng;
      var deferred = defer();
      this.emit('languageChanging', lng);

      var done = function done(err, l) {
        if (l) {
          _this4.language = l;
          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);

          _this4.translator.changeLanguage(l);

          _this4.isLanguageChangingTo = undefined;

          _this4.emit('languageChanged', l);

          _this4.logger.log('languageChanged', l);
        } else {
          _this4.isLanguageChangingTo = undefined;
        }

        deferred.resolve(function () {
          return _this4.t.apply(_this4, arguments);
        });
        if (callback) callback(err, function () {
          return _this4.t.apply(_this4, arguments);
        });
      };

      var setLng = function setLng(lngs) {
        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);

        if (l) {
          if (!_this4.language) {
            _this4.language = l;
            _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);
          }

          if (!_this4.translator.language) _this4.translator.changeLanguage(l);
          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);
        }

        _this4.loadResources(l, function (err) {
          done(err, l);
        });
      };

      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
        setLng(this.services.languageDetector.detect());
      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
        this.services.languageDetector.detect(setLng);
      } else {
        setLng(lng);
      }

      return deferred;
    }
  }, {
    key: "getFixedT",
    value: function getFixedT(lng, ns) {
      var _this5 = this;

      var fixedT = function fixedT(key, opts) {
        var options;

        if (Object(_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["default"])(opts) !== 'object') {
          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
            rest[_key3 - 2] = arguments[_key3];
          }

          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));
        } else {
          options = Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, opts);
        }

        options.lng = options.lng || fixedT.lng;
        options.lngs = options.lngs || fixedT.lngs;
        options.ns = options.ns || fixedT.ns;
        return _this5.t(key, options);
      };

      if (typeof lng === 'string') {
        fixedT.lng = lng;
      } else {
        fixedT.lngs = lng;
      }

      fixedT.ns = ns;
      return fixedT;
    }
  }, {
    key: "t",
    value: function t() {
      var _this$translator;

      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);
    }
  }, {
    key: "exists",
    value: function exists() {
      var _this$translator2;

      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);
    }
  }, {
    key: "setDefaultNamespace",
    value: function setDefaultNamespace(ns) {
      this.options.defaultNS = ns;
    }
  }, {
    key: "hasLoadedNamespace",
    value: function hasLoadedNamespace(ns) {
      var _this6 = this;

      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      if (!this.isInitialized) {
        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);
        return false;
      }

      if (!this.languages || !this.languages.length) {
        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);
        return false;
      }

      var lng = this.languages[0];
      var fallbackLng = this.options ? this.options.fallbackLng : false;
      var lastLng = this.languages[this.languages.length - 1];
      if (lng.toLowerCase() === 'cimode') return true;

      var loadNotPending = function loadNotPending(l, n) {
        var loadState = _this6.services.backendConnector.state["".concat(l, "|").concat(n)];

        return loadState === -1 || loadState === 2;
      };

      if (options.precheck) {
        var preResult = options.precheck(this, loadNotPending);
        if (preResult !== undefined) return preResult;
      }

      if (this.hasResourceBundle(lng, ns)) return true;
      if (!this.services.backendConnector.backend) return true;
      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;
      return false;
    }
  }, {
    key: "loadNamespaces",
    value: function loadNamespaces(ns, callback) {
      var _this7 = this;

      var deferred = defer();

      if (!this.options.ns) {
        callback && callback();
        return Promise.resolve();
      }

      if (typeof ns === 'string') ns = [ns];
      ns.forEach(function (n) {
        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);
      });
      this.loadResources(function (err) {
        deferred.resolve();
        if (callback) callback(err);
      });
      return deferred;
    }
  }, {
    key: "loadLanguages",
    value: function loadLanguages(lngs, callback) {
      var deferred = defer();
      if (typeof lngs === 'string') lngs = [lngs];
      var preloaded = this.options.preload || [];
      var newLngs = lngs.filter(function (lng) {
        return preloaded.indexOf(lng) < 0;
      });

      if (!newLngs.length) {
        if (callback) callback();
        return Promise.resolve();
      }

      this.options.preload = preloaded.concat(newLngs);
      this.loadResources(function (err) {
        deferred.resolve();
        if (callback) callback(err);
      });
      return deferred;
    }
  }, {
    key: "dir",
    value: function dir(lng) {
      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;
      if (!lng) return 'rtl';
      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];
      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';
    }
  }, {
    key: "createInstance",
    value: function createInstance() {
      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var callback = arguments.length > 1 ? arguments[1] : undefined;
      return new I18n(options, callback);
    }
  }, {
    key: "cloneInstance",
    value: function cloneInstance() {
      var _this8 = this;

      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;

      var mergedOptions = Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.options, options, {
        isClone: true
      });

      var clone = new I18n(mergedOptions);
      var membersToCopy = ['store', 'services', 'language'];
      membersToCopy.forEach(function (m) {
        clone[m] = _this8[m];
      });
      clone.services = Object(_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__["default"])({}, this.services);
      clone.services.utils = {
        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
      };
      clone.translator = new Translator(clone.services, clone.options);
      clone.translator.on('*', function (event) {
        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
          args[_key4 - 1] = arguments[_key4];
        }

        clone.emit.apply(clone, [event].concat(args));
      });
      clone.init(mergedOptions, callback);
      clone.translator.options = clone.options;
      clone.translator.backendConnector.services.utils = {
        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)
      };
      return clone;
    }
  }]);

  return I18n;
}(EventEmitter);

var i18next = new I18n();

/* harmony default export */ __webpack_exports__["default"] = (i18next);


/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./node_modules/indexof/index.js":
/*!***************************************!*\
  !*** ./node_modules/indexof/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {


var indexOf = [].indexOf;

module.exports = function(arr, obj){
  if (indexOf) return arr.indexOf(obj);
  for (var i = 0; i < arr.length; ++i) {
    if (arr[i] === obj) return i;
  }
  return -1;
};

/***/ }),

/***/ "./node_modules/isarray/index.js":
/*!***************************************!*\
  !*** ./node_modules/isarray/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/jsgametools/lib/JSGameTools.js":
/*!*****************************************************!*\
  !*** ./node_modules/jsgametools/lib/JSGameTools.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=22)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var i=n(12);function r(e,n,o){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=r=Reflect.get:t.exports=r=function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}},r(e,n,o||e)}t.exports=r},function(t,e){t.exports=function(t,e){var n=e.get(t);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(t):n.value}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,n){var i=n(13);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}},function(t,e,n){var i=n(16),r=n(3);t.exports=function(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?r(t):e}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t,e,n){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}},function(t,e,n){var i=n(12),r=n(8);function o(t,e,n,s){return(o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,o){var s,a=i(t,e);if(a){if((s=Object.getOwnPropertyDescriptor(a,e)).set)return s.set.call(o,n),!0;if(!s.writable)return!1}if(s=Object.getOwnPropertyDescriptor(o,e)){if(!s.writable)return!1;s.value=n,Object.defineProperty(o,e,s)}else r(o,e,n);return!0})(t,e,n,s)}t.exports=function(t,e,n,i,r){if(!o(t,e,n,i||t)&&r)throw new Error("failed to set property");return n}},function(t,e,n){var i=n(18),r=n(19),o=n(20),s=n(21);t.exports=function(t){return i(t)||r(t)||o(t)||s()}},function(t,e,n){var i=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}},function(t,e){function n(e,i){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,i)}t.exports=n},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}},function(t,e,n){var i=n(13),r=n(17);function o(e,n,s){return r()?t.exports=o=Reflect.construct:t.exports=o=function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&i(o,n.prototype),o},o.apply(null,arguments)}t.exports=o},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}},function(t,e,n){var i=n(14);t.exports=function(t){if(Array.isArray(t))return i(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var i=n(14);t.exports=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";n.r(e),n.d(e,"Constants",(function(){return i})),n.d(e,"Button",(function(){return ot})),n.d(e,"ButtonImage",(function(){return lt})),n.d(e,"ImageLoader",(function(){return ht})),n.d(e,"NotificationMessage",(function(){return At})),n.d(e,"Utils",(function(){return Y})),n.d(e,"Menu",(function(){return kt})),n.d(e,"Input",(function(){return _t})),n.d(e,"Label",(function(){return Ot})),n.d(e,"Link",(function(){return Ft})),n.d(e,"Tooltip",(function(){return Mt})),n.d(e,"Scene",(function(){return Pt})),n.d(e,"FPSMeter",(function(){return zt})),n.d(e,"ProgressBar",(function(){return Gt})),n.d(e,"Canvas",(function(){return jt})),n.d(e,"Component",(function(){return N})),n.d(e,"EasingFunctions",(function(){return qt})),n.d(e,"Col",(function(){return mt})),n.d(e,"Container",(function(){return $})),n.d(e,"Row",(function(){return it})),n.d(e,"ImageContainer",(function(){return at})),n.d(e,"Arrow",(function(){return Qt})),n.d(e,"Cross",(function(){return Ct})),n.d(e,"Scrollbar",(function(){return W})),n.d(e,"ScrollbarVertical",(function(){return K})),n.d(e,"ScrollbarHorizontal",(function(){return G})),n.d(e,"Box",(function(){return B})),n.d(e,"Style",(function(){return T})),n.d(e,"Select",(function(){return ie})),n.d(e,"SelectOption",(function(){return oe})),n.d(e,"SelectOptionsContainer",(function(){return ce})),n.d(e,"Triangle",(function(){return te})),n.d(e,"Circle",(function(){return he})),n.d(e,"Reactor",(function(){return L})),n.d(e,"Event",(function(){return R})),n.d(e,"ReactorCanvas",(function(){return Kt}));var i={Setting:{DISABLE_OPTIMIZATIONS:!1,DISABLE_EXPERIMENTAL_OPTIMIZATIONS:!0,DISABLE_CONTAINERS_CUTTING:!1,FONT_FAMILY:"sans-serif",FONT_SIZE:28,CANVAS_WIDTH:600,CANVAS_HEIGHT:400,DEFAULT_PADDING:6,DEFAULT_SPACING:6,BUTTON_DEFAULT_BACKGROUND:"rgba(0, 0, 0, 0)",BUTTON_DEFAULT_HOVER_BACKGROUND:"#95A5A6",BUTTON_DEFAULT_CLICK_BACKGROUND:"#727F80",BUTTON_DEFAULT_ALTERNATIVE_BACKGROUND:"#ACBEBF",INPUT_DEFAULT_FONT_COLOR:"#000",INPUT_DEFAULT_BACKGROUND_COLOR:"#fff",INPUT_DEFAULT_BORDER_COLOR:"#000",INPUT_DEFAULT_BORDER_COLOR_SELECTED:"#a2cdd8",INPUT_DEFAULT_SELECT_COLOR:"#2980b9",LABEL_DEFAULT_FONT_COLOR:"#000",LINK_DEFAULT_COLOR:"#0000EE",LINK_DEFAULT_HOVER_COLOR:"#4D4DFF",LINK_DEFAULT_CLICK_COLOR:"#EE7700",MENU_DEFAULT_BACKGROUND:"rgba(44, 62, 80, 0.75)",MENU_DEFAULT_BLUR_BACKGROUND:!1,NOTIFICATION_DEFAULT_BACKGROUND:"rgba(46, 204, 113, 0.5)",NOTIFICATION_DEFAULT_ANIMATION_DURATION:500,PROGRESS_DEFAULT_BACKGROUND:"#bdc3c7",PROGRESS_DEFAULT_FOREGROUND:"#27ae60",PROGRESS_DEFAULT_ANIMATION_DURATION:2e3,TOOLTIP_DEFAULT_BACKGROUND:"rgba(255, 255, 255, 0.25)",ARROW_DEFAULT_LINE_CAP:"round",ARROW_DEFAULT_COLOR:"#FF0000",ARROW_DEFAULT_LINE_SIZE:8,ARROW_DEFAULT_HEAD_SIZE:20,CROSS_DEFAULT_LINE_CAP:"round",CROSS_DEFAULT_COLOR:"#fff",CROSS_DEFAULT_LINE_SIZE:3,SCROLLBAR_DEFAULT_BACKGROUND:"rgba(149, 165, 166, 0.75)",SCROLLBAR_DEFAULT_HOVER_BACKGROUND:"rgba(149, 165, 166, 0.9)",SCROLLBAR_DEFAULT_CLICK_BACKGROUND:"rgba(149, 165, 166, 0.5)",SCROLLBAR_DEFAULT_SIZE:10,DEFAULT_BORDER_SIZE:3,DEFAULT_BORDER_COLOR_SELECTED:"#a2cdd8",DEFAULT_ANIMATION_DURATION:2e3,TRIANGLE_DEFAULT_LINE_CAP:"round",TRIANGLE_DEFAULT_COLOR:"#000",TRIANGLE_DEFAULT_FILL_COLOR:"#000",TRIANGLE_DEFAULT_LINE_SIZE:3,TRIANGLE_DEFAULT_FILL:!0,SELECT_DEFAULT_BACKGROUND:"#ecf0f1",SELECT_DEFAULT_HOVER_BACKGROUND:"#bdc3c7",SELECT_DEFAULT_CLICK_BACKGROUND:"#adb2b5",CIRCLE_DEFAULT_LINE_CAP:"round",CIRCLE_DEFAULT_COLOR:"#fff",CIRCLE_DEFAULT_FILL_COLOR:"#000",CIRCLE_DEFAULT_LINE_SIZE:3,CIRCLE_DEFAULT_FILL:!0},Key:{UP:38,RIGHT:39,BOTTOM:40,LEFT:37,ENTER:13,ECHAP:27,TAB:9},Alignement:{RIGHT:"right",LEFT:"left",CENTER:"center",DEFAULT:"default"},VerticalAlignement:{TOP:"top",CENTER:"center",BOTTOM:"bottom",DEFAULT:"default"},String:{ERROR_MESSAGE_CANVAS:"A fatal error has occurred at the JSGameTools level.",ERROR_MESSAGE_CANVAS_LABEL:":'(\nA fatal error has occurred at the JSGameTools level.",RETRY:"Retry",NOTICE_MESSAGE:"Notice:",WARNING_MESSAGE:"Warning:",ERROR_MESSAGE:"Error:",OPTIMIZATION_DISABLED:"Optimizations are disabled. You may notice low performance.",CONTAINER_CUTTING_DISABLED:"Containers cutting is disabled.",BUTTON_IMAGE_DEPRECATED:"JSGameTools.ButtonImage is deprecated. Please use a Button with an ImageContainer instead.",INPUT_FULLSCREEN:"The use of JSGameTools.Canvas is needed for Input components to properly work in fullscreen mode."}},r=n(4),o=n.n(r),s=n(5),a=n.n(s),c=n(3),l=n.n(c),h=n(1),u=n.n(h),f=n(6),d=n.n(f),p=n(7),v=n.n(p),y=n(0),g=n.n(y),m=n(8),E=n.n(m),C=n(2),S=n.n(C),A=n(9),w=n.n(A),k=new WeakMap,T=function(){function t(e){o()(this,t),k.set(this,{writable:!0,value:{}}),E()(this,"component",void 0),this.setAll(e)}return a()(t,[{key:"set",value:function(t,e){S()(this,k)[t]=e,this.component&&this.component.reactor&&this.component.reactor.dispatchEvent("onChange",this)}},{key:"setAll",value:function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&this.set(e,t[e])}},{key:"copy",value:function(){return new t(S()(this,k))}},{key:"getStyles",value:function(){var t={};for(var e in S()(this,k))S()(this,k).hasOwnProperty(e)&&(t[e]=S()(this,k)[e]);return t}},{key:"fontColor",get:function(){return S()(this,k).fontColor}},{key:"fontColorHover",get:function(){return S()(this,k).fontColorHover}},{key:"fontColorDown",get:function(){return S()(this,k).fontColorDown}},{key:"fontFamily",get:function(){return null!=S()(this,k).fontFamily?S()(this,k).fontFamily:i.Setting.FONT_FAMILY}},{key:"fontSize",get:function(){return null!=S()(this,k).fontSize?S()(this,k).fontSize:i.Setting.FONT_SIZE}},{key:"bold",get:function(){return S()(this,k).bold}},{key:"underline",get:function(){return S()(this,k).underline}},{key:"wrap",get:function(){return S()(this,k).wrap}},{key:"backgroundColor",get:function(){return S()(this,k).backgroundColor}},{key:"foregroundColor",get:function(){return S()(this,k).foregroundColor}},{key:"backgroundColorHover",get:function(){return S()(this,k).backgroundColorHover}},{key:"backgroundColorDown",get:function(){return S()(this,k).backgroundColorDown}},{key:"borderColor",get:function(){return S()(this,k).borderColor}},{key:"borderColorHover",get:function(){return S()(this,k).borderColorHover}},{key:"borderColorDown",get:function(){return S()(this,k).borderColorDown}},{key:"borderColorSelected",get:function(){return null!=S()(this,k).borderColorSelected?S()(this,k).borderColorSelected:i.Setting.DEFAULT_BORDER_COLOR_SELECTED}},{key:"borderSize",get:function(){return null!=S()(this,k).borderSize?S()(this,k).borderSize:i.Setting.DEFAULT_BORDER_SIZE}},{key:"selectColor",get:function(){return S()(this,k).selectColor}},{key:"alignement",get:function(){return S()(this,k).alignement}},{key:"verticalAlignement",get:function(){return S()(this,k).verticalAlignement}},{key:"disableAnimation",get:function(){return S()(this,k).disableAnimation}},{key:"scrollXDisabled",get:function(){return S()(this,k).scrollXDisabled}},{key:"scrollYDisabled",get:function(){return S()(this,k).scrollYDisabled}},{key:"padding",get:function(){return null!=S()(this,k).padding?S()(this,k).padding:i.Setting.DEFAULT_PADDING}},{key:"spaceBetweenComponents",get:function(){return null!=S()(this,k).spaceBetweenComponents?S()(this,k).spaceBetweenComponents:i.Setting.DEFAULT_SPACING}},{key:"hidden",get:function(){return S()(this,k).hidden}},{key:"blurBackground",get:function(){return S()(this,k).blurBackground}},{key:"lineWidth",get:function(){return S()(this,k).lineWidth}},{key:"animationDuration",get:function(){return null!=S()(this,k).animationDuration?S()(this,k).animationDuration:i.Setting.DEFAULT_ANIMATION_DURATION}},{key:"foreground",get:function(){return S()(this,k).foreground}},{key:"zIndex",get:function(){return null!=S()(this,k).zIndex?S()(this,k).zIndex:0}},{key:"lineCap",get:function(){return S()(this,k).lineCap}},{key:"fill",get:function(){return S()(this,k).fill}},{key:"fillColor",get:function(){return S()(this,k).fillColor}},{key:"color",get:function(){return S()(this,k).color}},{key:"movable",get:function(){return S()(this,k).movable||!1}}]),t}(),R=function(){function t(e){o()(this,t),this.name=e,this.callbacks=[]}return a()(t,[{key:"registerCallback",value:function(t){this.callbacks.push(t)}},{key:"removeCallback",value:function(t){this.callbacks.filter((function(e){return e!=t}))}},{key:"removeAllCallbacks",value:function(){this.callbacks=[]}}]),t}(),L=function(){function t(){o()(this,t),this.events={}}return a()(t,[{key:"registerEvent",value:function(t){this.events[t]=new R(t)}},{key:"dispatchEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.events[t]){var r=this.events[t].callbacks;r.forEach((function(t){return t&&t.apply(void 0,n)}))}}},{key:"addEventListener",value:function(t,e){this.events[t]&&this.events[t].registerCallback(e)}},{key:"removeEventListener",value:function(t,e){this.events[t]&&this.events[t].removeCallback(e)}},{key:"removeAllEventListener",value:function(t){this.events[t]&&this.events[t].removeAllCallbacks()}}]),t}(),b=new WeakMap,_=new WeakMap,I=new WeakMap,D=new WeakMap,O=new WeakMap,x=new WeakMap,F=new WeakMap,N=function(){function t(e,n,i,r,s){o()(this,t),E()(this,"selectable",!0),b.set(this,{writable:!0,value:0}),_.set(this,{writable:!0,value:0}),I.set(this,{writable:!0,value:0}),D.set(this,{writable:!0,value:0}),O.set(this,{writable:!0,value:!1}),x.set(this,{writable:!0,value:!1}),F.set(this,{writable:!0,value:void 0}),w()(this,I,e||0),w()(this,D,n||0),w()(this,b,i),w()(this,_,r),this.canvas,this.parent,this.style=s,this.reactor=new L,this.reactor.registerEvent("onClick"),this.reactor.registerEvent("onHover"),this.reactor.registerEvent("onDown"),this.reactor.registerEvent("onScroll"),this.reactor.registerEvent("onMove"),this.reactor.registerEvent("onUp"),this.reactor.registerEvent("onChange"),this.init=!1,this.hasInitEvents=!1,w()(this,x,!1),this.clicked=!1,this.hovered=!1,w()(this,O,!1),this.offsetScrollX=0,this.offsetScrollY=0,this.offsetMoveX=0,this.offsetMoveY=0,this.moveEventStartX=0,this.moveEventStartY=0,this.touchEventStartX=0,this.touchEventStartY=0,this.touchEventStartTimestamp=0,this.tooltip,this.initEvents()}return a()(t,[{key:"initEvents",value:function(){var t=this;if(!this.hasInitEvents&&null!=this.canvas){this.canvas.addEventListener("mousemove",this,(function(e,n){if(t.disabled)t.hovered=!1,t.clicked=!1,t.tooltip&&t.tooltip.disable();else{var i=t.getMousePos(e);if(t.clicked){var r=-e.movementX,o=-e.movementY;t.offsetMoveX+=r,t.offsetMoveY+=o,t.reactor&&t.reactor.dispatchEvent("onMove",r,o,i),t.moveEventStartX=i.x,t.moveEventStartY=i.y}n?(t.reactor&&!t.disabled&&t.reactor.dispatchEvent("onHover",i),t.tooltip&&(t.tooltip.x=i.x+10,t.tooltip.y=i.y+10,t.tooltip.enable()),t.hovered=!0):(t.hovered=!1,t.tooltip&&t.tooltip.disable())}})),this.canvas.addEventListener("click",this,(function(e,n){if(t.disabled)t.hovered=!1,t.clicked=!1;else{var i=t.getMousePos(e);n&&t.hovered?(t.reactor&&t.reactor.dispatchEvent("onClick",i),t.selected=!0):(t.clicked=!1,t.selected=!1)}})),this.canvas.addEventListener("mousedown",this,(function(e,n){if(t.disabled)t.hovered=!1,t.clicked=!1;else{var i=t.getMousePos(e);n&&(t.reactor&&t.reactor.dispatchEvent("onDown",i),t.clicked=!0,t.moveEventStartX=i.x,t.moveEventStartY=i.y)}})),this.canvas.addEventListener("mouseup",this,(function(e){if(!t.disabled){var n=t.getMousePos(e);t.reactor&&t.reactor.dispatchEvent("onUp",n),t.clicked=!1}})),this.canvas.addEventListener("wheel",this,(function(e){!t.hovered||t.disabled||t.scrollDisabled||(t.offsetScrollX+=e.deltaX,t.offsetScrollY+=e.deltaY,t.reactor&&t.reactor.dispatchEvent("onScroll",e.deltaX,e.deltaY))}));var e=function(e,n){var i=e.changedTouches[0],r=t.getMousePos(i);n?(t.hovered=!0,t.selected=!0):(t.hovered=!1,t.selected=!1),t.hovered&&!t.disabled&&(t.touchEventStartX=r.x,t.touchEventStartY=r.y,t.touchEventStartTimestamp=e.timestamp)};this.canvas.addEventListener("touchstart",this,e),this.canvas.addEventListener("touchend",this,e),this.canvas.addEventListener("touchmove",this,(function(e){!function(e){var n=e.changedTouches[0],i=t.getMousePos(n);if(t.hovered&&!t.disabled&&!t.scrollDisabled){var r=t.touchEventStartX-i.x,o=t.touchEventStartY-i.y;t.offsetScrollX+=r,t.offsetScrollY+=o,t.reactor&&t.reactor.dispatchEvent("onScroll",r,o,i),t.touchEventStartX=i.x,t.touchEventStartY=i.y}}(e),e.preventDefault()})),this.hasInitEvents=!0}}},{key:"draw",value:function(t){this.hidden||(this.initEvents(),this.disabled&&(this.selected=!1,this.clicked=!1,this.hovered=!1,this.tooltip&&(this.tooltip.disabled=!0)))}},{key:"getMousePos",value:function(t){return this.canvas.getMousePos(t)}},{key:"isInside",value:function(t){return t.x>this.x&&t.x<this.x+this.width&&t.y<this.y+this.height&&t.y>this.y}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"setClickAction",value:function(t){this.removeAllClickActions(),this.addClickAction(t)}},{key:"addClickAction",value:function(t){this.reactor.addEventListener("onClick",t)}},{key:"removeClickAction",value:function(t){this.reactor.removeEventListener("onClick",t)}},{key:"removeAllClickActions",value:function(){this.reactor.removeAllEventListener("onClick")}},{key:"setHoverAction",value:function(t){this.removeAllHoverActions(),this.addHoverAction(t)}},{key:"addHoverAction",value:function(t){this.reactor.addEventListener("onHover",t)}},{key:"removeHoverAction",value:function(t){this.reactor.removeEventListener("onHover",t)}},{key:"removeAllHoverActions",value:function(){this.reactor.removeAllEventListener("onHover")}},{key:"setDownAction",value:function(t){this.removeAllDownActions(),this.addDownAction(t)}},{key:"addDownAction",value:function(t){this.reactor.addEventListener("onDown",t)}},{key:"removeDownAction",value:function(t){this.reactor.removeEventListener("onDown",t)}},{key:"removeAllDownActions",value:function(){this.reactor.removeAllEventListener("onDown")}},{key:"setScrollAction",value:function(t){this.removeAllScrollActions(),this.addScrollAction(t)}},{key:"addScrollAction",value:function(t){this.reactor.addEventListener("onScroll",t)}},{key:"removeScrollAction",value:function(t){this.reactor.removeEventListener("onScroll",t)}},{key:"removeAllScrollActions",value:function(){this.reactor.removeAllEventListener("onScroll")}},{key:"setMoveAction",value:function(t){this.removeAllMoveActions(),this.addMoveAction(t)}},{key:"addMoveAction",value:function(t){this.reactor.addEventListener("onMove",t)}},{key:"removeMoveAction",value:function(t){this.reactor.removeEventListener("onMove",t)}},{key:"removeAllMoveActions",value:function(){this.reactor.removeAllEventListener("onMove")}},{key:"setChangeAction",value:function(t){this.removeAllChangeActions(),this.addChangeAction(t)}},{key:"addChangeAction",value:function(t){this.reactor.addEventListener("onChange",t)}},{key:"removeChangeAction",value:function(t){this.reactor.removeEventListener("onChange",t)}},{key:"removeAllChangeActions",value:function(){this.reactor.removeAllEventListener("onChange")}},{key:"setUpAction",value:function(t){this.removeAllUpActions(),this.addUpAction(t)}},{key:"addUpAction",value:function(t){this.reactor.addEventListener("onUp",t)}},{key:"removeUpAction",value:function(t){this.reactor.removeEventListener("onUp",t)}},{key:"removeAllUpActions",value:function(){this.reactor.removeAllEventListener("onUp")}},{key:"getAllParents",value:function(){for(var t=this.parent,e=[];t;)e.push(t),t=t.parent;return e}},{key:"compareTo",value:function(t){var e=this.style&&this.style.foreground,n=t.style&&t.style.foreground,i=this.style&&this.style.zIndex,r=t.style&&t.style.zIndex;return this.parent==t?1:t.parent==this?-1:e&&!n?1:!e&&n?-1:i>r?1:i<r?-1:t.compareToComponent(this)||-this.compareToComponent(t)}},{key:"compareToComponent",value:function(t){return 0}},{key:"compareToMenu",value:function(t){return-1}},{key:"compareToTooltip",value:function(t){return-1}},{key:"compareToNotification",value:function(t){return-1}},{key:"compareToScrollbar",value:function(t){return-1}},{key:"disabled",get:function(){return S()(this,O)||this.parent&&this.parent.disabled},set:function(t){w()(this,O,t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"height",get:function(){return S()(this,_)},set:function(t){w()(this,_,t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"width",get:function(){return S()(this,b)},set:function(t){w()(this,b,t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"maxWidth",get:function(){return this.width}},{key:"maxHeight",get:function(){return this.height}},{key:"innerWidth",get:function(){return this.width}},{key:"innerHeight",get:function(){return this.height}},{key:"minWidth",get:function(){return this.width}},{key:"minHeight",get:function(){return this.height}},{key:"x",get:function(){var t=this.parent||this.canvas;if(this.style.alignement&&t){var e=t.width,n=t.style&&t.style.padding||0;if(this.style.alignement==i.Alignement.CENTER)return t.x+e/2-this.width/2;if(this.style.alignement==i.Alignement.RIGHT)return t.x+e-this.width-n;if(this.style.alignement==i.Alignement.LEFT)return t.x+n}else if(t)return t.x+S()(this,I);return S()(this,I)},set:function(t){w()(this,I,t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"y",get:function(){var t=this.parent||this.canvas;if(this.style.verticalAlignement&&t){var e=t.height,n=t.style&&t.style.padding||0;if(this.style.verticalAlignement==i.VerticalAlignement.BOTTOM)return t.y+e-this.height-n;if(this.style.verticalAlignement==i.VerticalAlignement.CENTER)return t.y+e/2-this.height/2;if(this.style.verticalAlignement==i.VerticalAlignement.TOP)return t.y+n}else if(t)return t.y+S()(this,D);return S()(this,D)},set:function(t){w()(this,D,t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"defaultStyle",get:function(){return new T({padding:i.Setting.DEFAULT_PADDING,spaceBetweenComponents:i.Setting.DEFAULT_SPACING})}},{key:"style",get:function(){return S()(this,F)||this.defaultStyle},set:function(t){w()(this,F,new T),S()(this,F).setAll(this.defaultStyle.getStyles()),t&&t instanceof T&&S()(this,F).setAll(t.getStyles()),S()(this,F).component=this,this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"hidden",get:function(){return this.style&&this.style.hidden||this.parent&&this.parent.hidden},set:function(t){this.disabled=t,this.style&&this.style.set("hidden",t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}},{key:"selected",get:function(){return S()(this,x)},set:function(t){w()(this,x,t),this.reactor&&this.reactor.dispatchEvent("onChange",this)}}],[{key:"compareComponents",value:function(t,e){return t.compareTo(e)}}]),t}(),M=n(10),U=n.n(M);function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var B=function(t){d()(n,t);var e=P(n);function n(t,i,r,s,a){var c;return o()(this,n),c=e.call(this,t,i,r,s,a),E()(l()(c),"selectable",!1),c}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save(),this.drawBackground(e),this.drawBorder(e),e.restore()}}},{key:"drawBackground",value:function(t){var e=this.backgroundColor;e&&(t.save(),t.fillStyle=e,t.fillRect(Math.round(this.x),Math.round(this.y),Math.round(this.width),Math.round(this.height)),t.restore())}},{key:"drawBorder",value:function(t){var e=this.borderColor;e&&this.style.borderSize>0&&(t.save(),t.strokeStyle=e,t.lineWidth=this.style.borderSize,t.strokeRect(Math.round(this.x),Math.round(this.y),Math.round(this.width-this.style.borderSize/2),Math.round(this.height-this.style.borderSize/2)),t.restore())}},{key:"backgroundColor",get:function(){return this.hovered&&this.clicked&&null!=this.style.backgroundColorDown?this.style.backgroundColorDown:this.hovered&&null!=this.style.backgroundColorHover?this.style.backgroundColorHover:this.style.backgroundColor}},{key:"borderColor",get:function(){return this.clicked&&this.hovered&&null!=this.style.borderColorDown?this.style.borderColorDown:!this.clicked&&this.hovered&&null!=this.style.borderColorHover?this.style.borderColorHover:this.selectable&&this.selected&&null!=this.style.borderColorSelected?this.style.borderColorSelected:this.style.borderColor}}]),n}(N);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var W=function(t){d()(n,t);var e=z(n);function n(t,r,s){var a;return o()(this,n),a=e.call(this,null,null,null,null,r),E()(l()(a),"selectable",!0),a.parent=s,a.size=t||i.Setting.SCROLLBAR_DEFAULT_SIZE,a}return a()(n,[{key:"draw",value:function(t){this.hidden||(this.clicked&&(this.hovered=!0),u()(g()(n.prototype),"draw",this).call(this,t))}},{key:"compareToComponent",value:function(t){return t.compareToScrollbar(this)}},{key:"compareToScrollbar",value:function(t){return 0}},{key:"maxWidthParent",get:function(){return this.parent?this.parent.maxWidth-Math.abs(Math.min(0,this.parent.x)):0}},{key:"maxHeightParent",get:function(){return this.parent?this.parent.maxHeight-Math.abs(Math.min(0,this.parent.y)):0}},{key:"innerWidthParent",get:function(){return this.parent?this.parent.innerWidth-Math.abs(Math.min(0,this.parent.x)):0}},{key:"innerHeightParent",get:function(){return this.parent?this.parent.innerHeight-Math.abs(Math.min(0,this.parent.y)):0}},{key:"maxWidth",get:function(){return this.width}},{key:"maxHeight",get:function(){return this.height}},{key:"contentRatioX",get:function(){return this.parent?this.maxWidthParent/this.innerWidthParent:0}},{key:"contentRatioY",get:function(){return this.parent?this.maxHeightParent/this.innerHeightParent:0}},{key:"width",get:function(){return this.maxWidthParent*this.contentRatioX}},{key:"height",get:function(){return this.maxHeightParent*this.contentRatioY}},{key:"windowScrollSizeX",get:function(){return this.innerWidthParent-this.maxWidthParent}},{key:"windowScrollSizeY",get:function(){return this.innerHeightParent-this.maxHeightParent}},{key:"percentScrollbarX",get:function(){return this.parent?this.parent.offsetScrollX/this.windowScrollSizeX:0}},{key:"percentScrollbarY",get:function(){return this.parent?this.parent.offsetScrollY/this.windowScrollSizeY:0}},{key:"scrollAreaSizeX",get:function(){return this.maxWidthParent-this.width}},{key:"scrollAreaSizeY",get:function(){return this.maxHeightParent-this.height}},{key:"x",get:function(){return this.parent?Math.abs(this.parent.x)+this.scrollAreaSizeX*this.percentScrollbarX:0}},{key:"y",get:function(){return this.parent?Math.abs(this.parent.y)+this.scrollAreaSizeY*this.percentScrollbarY:0}},{key:"defaultStyle",get:function(){return new T({backgroundColor:i.Setting.SCROLLBAR_DEFAULT_BACKGROUND,backgroundColorHover:i.Setting.SCROLLBAR_DEFAULT_HOVER_BACKGROUND,backgroundColorDown:i.Setting.SCROLLBAR_DEFAULT_CLICK_BACKGROUND,borderSize:0})}}]),n}(B);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var G=function(t){d()(n,t);var e=H(n);function n(t,i,r){var s;return o()(this,n),s=e.call(this,t,i,r),E()(l()(s),"selectable",!0),s.addMoveAction((function(t){s.parent&&(s.parent.offsetScrollX-=t,s.parent.reactor&&s.parent.reactor.dispatchEvent("onScroll",-t,0))})),s}return a()(n,[{key:"draw",value:function(t){this.scrollAreaSizeX>0&&u()(g()(n.prototype),"draw",this).call(this,t)}},{key:"height",get:function(){return this.size}},{key:"y",get:function(){return this.parent?this.parent.y+this.parent.height-this.size:null}}]),n}(W);function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var K=function(t){d()(n,t);var e=X(n);function n(t,i,r){var s;return o()(this,n),s=e.call(this,t,i,r),E()(l()(s),"selectable",!0),s.addMoveAction((function(t,e){s.parent&&(s.parent.offsetScrollY-=e,s.parent.reactor&&s.parent.reactor.dispatchEvent("onScroll",0,-e))})),s}return a()(n,[{key:"draw",value:function(t){this.scrollAreaSizeY>0&&u()(g()(n.prototype),"draw",this).call(this,t)}},{key:"width",get:function(){return this.size}},{key:"x",get:function(){return this.parent?this.parent.x+this.parent.width-this.size:0}}]),n}(W),Y={preRenderedFont:{},lastKey:-1,preRenderFont:function(t,e,n,i){t.push("?"),t.push(" "),t.push("A");for(var r=0;r<t.length;r++){var o=document.createElement("canvas"),s=o.getContext("2d");s.font=e+"px "+i;var a=s.measureText(t[r]).width;o.width=a,o.height=e+e/6,s.font=e+"px "+i,s.fillStyle=n,s.textBaseline="top",s.fillText(t[r],0,0),this.preRenderedFont[t[r]]=o}},drawImage:function(t,e,n,i,r,o,s,a,c,l,h,u){this.drawImageWrapper(t,e,n,i,r,o,s,a,c,l,h,u)},drawImageData:function(t,e,n,i,r,o,s,a,c,l,h,u){this.drawImageWrapper(t,e,n,i,r,o,s,a,c,l,h,u)},drawImageWrapper:function(t,e,n,i,r,o,s,a,c,l,h,u){n=null==n||isNaN(n)?null:Math.round(n),i=null==i||isNaN(i)?null:Math.round(i),r=null==r||isNaN(r)?null:Math.round(r),o=null==o||isNaN(o)?null:Math.round(o),s=null==s||isNaN(s)?null:Math.round(s),a=null==a||isNaN(a)?null:Math.round(a),c=null==c||isNaN(c)?null:Math.round(c),l=null==l||isNaN(l)?null:Math.round(l),h=null!=h&&h,null!=(u=null==u||isNaN(u)?null:u)&&(t.save(),t.translate(n+r/2,i+o/2),t.rotate(u*Math.PI/180),n=-r/2,i=-o/2),h&&t.clearRect(n,i,r,o),null!=t&&null!=e&&(null!=s&&null!=a&&null!=c&&null!=l?t.drawImage(e,s,a,c,l,n,i,r,o):t.drawImage(e,n,i,r,o)),null!=u&&t.restore()},drawText:function(t,e,n,r,o,s,a,c,l,h,u,f,d,p){if(t){t.save(),Array.isArray(n)||(t.fillStyle=n,t.strokeStyle=n),t.font=(u?"bold ":"")+r+"px "+o,t.textBaseline=d||"bottom",t.filter="none",h&&(e=this.wrapTextLines(t,e).text);var v=e.split("\n"),y=0,g=Math.round(c),m=Math.round(l)+r,E=0;l||(a==i.VerticalAlignement.CENTER?m+=Math.round((p&&p.height?p.height:t.canvas.height)/2-r*v.length/2):a==i.VerticalAlignement.BOTTOM&&(m+=Math.round((p&&p.height?p.height:t.canvas.height)-r*v.length/2-r/5)));for(var C=0;C<v.length;C++){var S=v[C],A=t.measureText(S).width;if(Array.isArray(n)){var w=C;w>n.length-1&&(w=n.length-1),t.fillStyle=n[w],t.strokeStyle=n[w]}s==i.Alignement.CENTER?g=Math.round(p&&p.x?p.x:0)+Math.round((p&&p.width?p.width:t.canvas.width)/2-t.measureText(S).width/2):s==i.Alignement.RIGHT&&(g=Math.round(p&&p.x?p.x:0)+Math.round((p&&p.width?p.width:t.canvas.width)-t.measureText(S).width-(p&&p.spaceBetweenComponents?p.spaceBetweenComponents:i.Setting.DEFAULT_SPACING))),t.fillText(S,g,m),f&&(t.lineWidth=1,t.beginPath(),t.moveTo(g,m-2),t.lineTo(Math.round(g+A),m-2),t.stroke()),A>y&&(y=A),0==C&&(E=m),m+=r}return t.restore(),{x:g,y:E,height:r*v.length,width:y}}},wrapText:function(t,e){if(t.length>e){for(var n=e;n>0&&" "!=t[n];n--);if(n>0){var i=t.substring(0,n),r=t.substring(n+1);return i+"\n"+this.wrapText(r,e)}}return t},wrapTextLines:function(t,e,n,i,r,o){if(t&&e){t.save(),t.font=Math.round(i)+"px "+r,t.imageSmoothingEnabled=!1;for(var s=e.split("\n"),a="",c=n||t.measureText("A").width,l=Math.round(t.canvas.width/c),h=0,u=0,f=0;f<s.length;f++){var d=o?s[f]:this.wrapText(s[f],l);a+=d,f<s.length-1&&(a+="\n");for(var p=0;p<d.split("\n").length;p++){var v=t.measureText(d.split("\n")[p]).width;h+=i,v>u&&(u=v)}}return t.restore(),{text:a,height:h,width:u,carWidth:c}}return{text:"",height:0,width:0,carWidth:0}},drawArrow:function(t,e,n,r,o,s,a,c,l){t.save(),t.lineCap=l||i.Setting.ARROW_DEFAULT_LINE_CAP,t.lineWidth=s||i.Setting.ARROW_DEFAULT_LINE_SIZE,t.strokeStyle=c||i.Setting.ARROW_DEFAULT_COLOR,t.filter="",t.beginPath();var h=a||i.Setting.ARROW_DEFAULT_HEAD_SIZE,u=r-e,f=o-n,d=Math.atan2(f,u);t.moveTo(e,n),t.lineTo(r,o),t.moveTo(r,o),t.lineTo(r-h*Math.cos(d-Math.PI/6),o-h*Math.sin(d-Math.PI/6)),t.moveTo(r,o),t.lineTo(r-h*Math.cos(d+Math.PI/6),o-h*Math.sin(d+Math.PI/6)),t.stroke(),t.restore()},drawCross:function(t,e,n,r,o,s,a,c){t.save(),t.lineCap=c||i.Setting.CROSS_DEFAULT_LINE_CAP,t.lineWidth=s||i.Setting.CROSS_DEFAULT_LINE_SIZE,t.strokeStyle=a||i.Setting.CROSS_DEFAULT_COLOR,t.filter="",t.beginPath(),t.moveTo(e,n),t.lineTo(e+r,n+o),t.moveTo(e+r,n),t.lineTo(e,n+o),t.stroke(),t.restore()},drawTriangle:function(t,e,n,r,o,s,a,c){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:i.Setting.TRIANGLE_DEFAULT_FILL,h=arguments.length>9?arguments[9]:void 0;t.save(),t.lineCap=c||i.Setting.TRIANGLE_DEFAULT_LINE_CAP,t.lineWidth=s||i.Setting.TRIANGLE_DEFAULT_LINE_SIZE,t.filter="",l?(t.fillStyle=h||i.Setting.TRIANGLE_DEFAULT_FILL_COLOR,t.strokeStyle=a||i.Setting.TRIANGLE_DEFAULT_COLOR):t.strokeStyle=a||i.Setting.TRIANGLE_DEFAULT_COLOR,t.beginPath(),t.moveTo(e,n),t.lineTo(e+r,n),t.lineTo(e+r/2,n+o),t.lineTo(e,n),l?(t.fill(),t.stroke()):t.stroke(),t.restore()},drawCircle:function(t,e,n,r,o,s,a){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:i.Setting.CIRCLE_DEFAULT_FILL,l=arguments.length>8?arguments[8]:void 0;t.save(),t.lineCap=a||i.Setting.CIRCLE_DEFAULT_LINE_CAP,t.lineWidth=o||i.Setting.CIRCLE_DEFAULT_LINE_SIZE,t.filter="",c?(t.fillStyle=l||i.Setting.CIRCLE_DEFAULT_FILL_COLOR,t.strokeStyle=s||i.Setting.CIRCLE_DEFAULT_COLOR):t.strokeStyle=s||i.Setting.CIRCLE_DEFAULT_COLOR,t.beginPath(),t.arc(e+r/2,n+r/2,r/2,0,2*Math.PI,!1),c?(t.fill(),t.stroke()):t.stroke(),t.restore()},clear:function(t){t.clearRect(0,0,t.canvas.width,t.canvas.height)},isFilterHueAvailable:function(){var t=document.createElement("canvas");t.width=5,t.height=5;var e=t.getContext("2d");e.save(),e.fillStyle="#FF0000",e.filter="hue-rotate(90deg)",e.fillRect(0,0,5,5);var n=e.getImageData(0,0,1,1).data;return e.restore(),255!=n[0]||0!=n[1]||0!=n[2]},blurCanvas:function(t,e){t.save(),t.filter="blur("+e+"px)",this.drawImageData(t,t.canvas,0,0,t.canvas.width,t.canvas.height),t.restore()},getFontSize:function(t){return Math.floor(parseInt(t.font.match(/\d+/),10)/1.25)},autoResizeCanvas:function(t,e,n){if(document.fullscreenElement)document.fullscreenElement==t?(t.width=window.innerWidth,t.height=window.innerHeight):(t.width=e,t.height=n);else if(e>=.85*document.documentElement.clientWidth){var i=e/n;t.width=.85*document.documentElement.clientWidth,t.height=t.width/i}else t.width=e,t.height=n},enableAutoResizeCanvas:function(t,e,n){var i=this;t&&"true"!=t.getAttribute("autoresize-canvas-event")&&(this.autoResizeCanvas(t,e,n),window.addEventListener("resize",(function(){t.setAttribute("autoresize-canvas-event","true"),i.autoResizeCanvas(t,e,n)})))},autoResizeCanvasFullscreen:function(t,e){document.fullscreenElement==(e||t)&&(t.width=window.innerWidth,t.height=window.innerHeight,e&&(e.width=window.innerWidth,e.height=window.innerHeight))},enableAutoResizeCanvasFullscreen:function(t,e){var n=this;t&&"true"!=t.getAttribute("autoresizefullscreen-canvas-event")&&(this.autoResizeCanvasFullscreen(t,e),window.addEventListener("resize",(function(){t.setAttribute("autoresizefullscreen-canvas-event","true"),n.autoResizeCanvasFullscreen(t,e)})))},autoResizeCanvasFullpage:function(t,e){t&&"true"==t.getAttribute("fullpage-canvas-enable")&&(t.width=window.innerWidth,t.height=window.innerHeight,e&&(e.width=window.innerWidth,e.height=window.innerHeight,e.style.margin=0,e.style.padding=0),document.body.style.margin=0,document.body.style.padding=0)},enableAutoResizeCanvasFullpage:function(t,e){var n=this;t&&"true"!=t.getAttribute("autoresizefullpage-canvas-event")&&(this.autoResizeCanvasFullpage(t,e),window.addEventListener("resize",(function(){t.setAttribute("autoresizefullpage-canvas-event","true"),n.autoResizeCanvasFullpage(t,e)})))},toggleFullscreen:function(t,e){if(t){var n=t.width,i=t.height;if(e&&(e.width=n,e.height=i),document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():(e||t).requestFullscreen?(e||t).requestFullscreen():(e||t).mozRequestFullScreen?(e||t).mozRequestFullScreen():(e||t).webkitRequestFullscreen?(e||t).webkitRequestFullscreen():(e||t).msRequestFullscreen?(e||t).msRequestFullscreen():(e||t).oRequestFullscreen&&(e||t).oRequestFullscreen(),this.enableAutoResizeCanvasFullscreen(t,e),"true"!=t.getAttribute("fullscreenchange-canvas-event")){t.setAttribute("fullscreenchange-canvas-event","true");var r=function(){document.fullscreenElement!=(e||t)&&(t.width=n,t.height=i,e&&(e.width=n,e.height=i))};void 0!==document.onfullscreenchange?document.onfullscreenchange=r:void 0!==document.onmsfullscreenchange?document.onmsfullscreenchange=r:void 0!==document.onmozfullscreenchange?document.onmozfullscreenchange=r:void 0!==document.onwebkitfullscreenchange?document.onwebkitfullscreenchange=r:void 0!==document.onokitfullscreenchange&&(document.onofullscreenchange=r)}}},toggleFullpage:function(t,e){if(t){var n=t.width,i=t.height;e&&(e.width=n,e.height=i),t.getAttribute("fullpage-canvas-enable")&&"false"!=t.getAttribute("fullpage-canvas-enable")?t.setAttribute("fullpage-canvas-enable","false"):t.setAttribute("fullpage-canvas-enable","true"),this.enableAutoResizeCanvasFullpage(t,e)}},getMousePos:function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}};function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Z=new WeakMap,j=new WeakMap,q=new WeakMap,J=new WeakMap,Q=new WeakMap,$=function(t){d()(n,t);var e=V(n);function n(t,r,s,a,c){var h,u;o()(this,n),u=e.call(this,t,r,null,null,c),E()(l()(u),"selectable",!1),Z.set(l()(u),{writable:!0,value:[]}),j.set(l()(u),{writable:!0,value:0}),q.set(l()(u),{writable:!0,value:0}),J.set(l()(u),{writable:!0,value:0}),Q.set(l()(u),{writable:!0,value:0}),E()(l()(u),"eventChangeCallback",(function(){return u.reactor.dispatchEvent("onChange",l()(u))}));for(var f=arguments.length,d=new Array(f>5?f-5:0),p=5;p<f;p++)d[p-5]=arguments[p];return(h=u).addAll.apply(h,d),u.canvasTmp=document.createElement("canvas"),w()(l()(u),j,s),w()(l()(u),q,a),u.scrollbarHorizontal=new G(null,null,l()(u)),u.scrollbarVertical=new K(null,null,l()(u)),u.addScrollAction((function(t,e){return u.controlScrolling(t,e)})),i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||u.addChangeAction((function(t){t==u.parent&&u.components.forEach((function(t){return t&&t.reactor.dispatchEvent("onChange",l()(u))}))})),u}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){var i=t.canvas,r=i.getContext("2d");r.save(),this.isCutting&&(this.canvasTmp.width=i.width,this.canvasTmp.height=i.height,Y.clear(this.canvasTmp.getContext("2d"))),this.components.forEach((function(t){e.canvas&&(t.canvas=e.canvas)})),this.controlScrolling(0,0),u()(g()(n.prototype),"draw",this).call(this,t),r.restore()}}},{key:"drawVerticalScrollBar",value:function(t){this.scrollbarVertical&&(this.scrollbarVertical.canvas=this.canvas,this.scrollbarVertical.draw(t))}},{key:"drawHorizontalScrollBar",value:function(t){this.scrollbarHorizontal&&(this.scrollbarHorizontal.canvas=this.canvas,this.scrollbarHorizontal.draw(t))}},{key:"drawScrollbars",value:function(t){this.style.scrollXDisabled||this.drawHorizontalScrollBar(t),this.style.scrollYDisabled||this.drawVerticalScrollBar(t)}},{key:"set",value:function(){this.clear(),this.addAll.apply(this,arguments),this.enable()}},{key:"add",value:function(t){S()(this,Z).push(t),t.parent=this,this.canvas&&(t.canvas=this.canvas),t.addChangeAction(this.eventChangeCallback),this.reactor.dispatchEvent("onChange",this)}},{key:"addAll",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach((function(e){return t.add(e)}))}},{key:"remove",value:function(t){-1!=S()(this,Z).indexOf(t)&&t.removeChangeAction(this.eventChangeCallback),w()(this,Z,S()(this,Z).filter((function(e){return t!=e}))),this.reactor.dispatchEvent("onChange",this)}},{key:"clear",value:function(){var t=this;S()(this,Z).forEach((function(e){return t.remove(e)})),this.reactor.dispatchEvent("onChange",this)}},{key:"getComponentsTree",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,n={component:e,childs:[]};return e.allComponents&&e.allComponents.forEach((function(e){return n.childs.push(t.getComponentsTree(e))})),n}},{key:"disable",value:function(){u()(g()(n.prototype),"disable",this).call(this),S()(this,Z).forEach((function(t){return t&&t.disable&&t.disable()})),this.reactor.dispatchEvent("onChange",this)}},{key:"enable",value:function(){u()(g()(n.prototype),"enable",this).call(this),S()(this,Z).forEach((function(t){return t&&t.enable&&t.enable()})),this.reactor.dispatchEvent("onChange",this)}},{key:"updateInnerHeight",value:function(){}},{key:"updateInnerWidth",value:function(){}},{key:"getComponentId",value:function(t){var e=null;return S()(this,Z).forEach((function(n,i){n==t&&(e=i)})),e}},{key:"controlScrolling",value:function(t,e){if(this.style.scrollYDisabled)this.offsetScrollY-=e;else if(this.scrollAreaSizeY<=0)this.offsetScrollY=0;else{var n=this.offsetScrollY/this.scrollAreaSizeY;n<=0&&e<=0?this.offsetScrollY=Math.min(0,this.y):n>1&&e>=0&&(this.offsetScrollY=this.scrollAreaSizeY)}if(this.style.scrollXDisabled)this.offsetScrollX-=t;else if(this.scrollAreaSizeX<=0)this.offsetScrollX=0;else{var i=this.offsetScrollX/this.scrollAreaSizeX;i<=0&&t<=0?this.offsetScrollX=Math.min(0,this.x):i>1&&t>=0&&(this.offsetScrollX=this.scrollAreaSizeX)}}},{key:"isComponentVisible",value:function(t){if(i.Setting.DISABLE_OPTIMIZATIONS)return!0;if(t instanceof N&&!t.hidden){var e=this.width,n=this.height,r=t.width,o=t.height,s=this.canvas&&this.canvas.width||e,a=this.canvas&&this.canvas.height||n;if(t.x+r>=this.x&&t.x<=this.x+e&&t.y+o>=this.y&&t.y<=this.y+n&&t.x+r>=0&&t.x<=s&&t.y+o>=0&&t.y<=a)return!0}return!1}},{key:"components",get:function(){var t=[];return S()(this,Z).forEach((function(e){return t.push(e)})),t}},{key:"allComponents",get:function(){var t=this.components;return t.push(this.scrollbarHorizontal),t.push(this.scrollbarVertical),t}},{key:"width",get:function(){var t=this.parent&&this.parent.width,e=this.maxWidth?Math.min(this.maxWidth,t):null;return this.minWidth?Math.max(this.minWidth,e||t):t}},{key:"height",get:function(){var t=this.parent&&this.parent.height,e=this.maxWidth?Math.min(this.maxHeight,t):null;return this.minHeight?Math.max(this.minHeight,e||t):t}},{key:"maxWidth",get:function(){return S()(this,j)},set:function(t){w()(this,j,t),this.reactor.dispatchEvent("onChange",this)}},{key:"maxHeight",get:function(){return S()(this,q)},set:function(t){w()(this,q,t),this.reactor.dispatchEvent("onChange",this)}},{key:"minWidth",get:function(){return S()(this,J)},set:function(t){w()(this,J,t),this.reactor.dispatchEvent("onChange",this)}},{key:"minHeight",get:function(){return S()(this,Q)},set:function(t){w()(this,Q,t),this.reactor.dispatchEvent("onChange",this)}},{key:"canvas",set:function(t){U()(g()(n.prototype),"canvas",t,this,!0),S()(this,Z).forEach((function(e){e.canvas=t}))},get:function(){return u()(g()(n.prototype),"canvas",this)}},{key:"scrollAreaSizeX",get:function(){return this.innerWidth-this.width}},{key:"scrollAreaSizeY",get:function(){return this.innerHeight-this.height}},{key:"isCutting",get:function(){return!i.Setting.DISABLE_CONTAINERS_CUTTING&&(this.maxWidth&&this.innerWidth>this.maxWidth||this.maxHeight&&this.innerHeight>this.maxHeight)&&null!=this.canvasTmp}},{key:"defaultStyle",get:function(){return new T({padding:0,spaceBetweenComponents:i.Setting.DEFAULT_SPACING})}}],[{key:"sortComponentsTree",value:function(t,e){return t.component.compareTo(e.component)}}]),n}(B);function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var et=new WeakMap,nt=new WeakMap,it=function(t){d()(n,t);var e=tt(n);function n(t,r,s,a,c){var h;o()(this,n);for(var u=arguments.length,f=new Array(u>5?u-5:0),d=5;d<u;d++)f[d-5]=arguments[d];return h=e.call.apply(e,[this,t,r,s,a,c].concat(f)),E()(l()(h),"selectable",!1),et.set(l()(h),{writable:!0,value:0}),nt.set(l()(h),{writable:!0,value:0}),i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||(h.updateInnerWidth(),h.updateInnerHeight(),h.addChangeAction((function(){h.updateInnerWidth(),h.updateInnerHeight()}))),h}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var i=t.canvas.getContext("2d");i.save();var r=i;if(this.isCutting&&(r=this.canvasTmp.getContext("2d")),null!=u()(g()(n.prototype),"components",this)){var o=this.style.padding;u()(g()(n.prototype),"components",this).forEach((function(t){o=e.drawComponent(t,o,r)}))}this.isCutting&&Y.drawImageData(i,this.canvasTmp,this.x,this.y,this.width,this.height,this.x,this.y,this.width,this.height),u()(g()(n.prototype),"drawScrollbars",this).call(this,i),i.restore()}}},{key:"drawComponent",value:function(t,e,n){return t instanceof N&&(t.x=e-this.offsetScrollX,t.y=this.style.padding-this.offsetScrollY,this.isComponentVisible(t)?(t.enable(),t.draw(n)):t.disable(),e+=t.width+this.style.spaceBetweenComponents),e}},{key:"updateInnerHeight",value:function(){var t=0;u()(g()(n.prototype),"components",this).forEach((function(e){e.height>t&&(t=e.height)})),w()(this,et,t+this.style.padding)}},{key:"updateInnerWidth",value:function(){var t=0;u()(g()(n.prototype),"components",this).forEach((function(e){return t+=e.width})),w()(this,nt,t+this.style.spaceBetweenComponents*(u()(g()(n.prototype),"components",this).length-1)+this.style.padding)}},{key:"innerHeight",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateInnerHeight(),S()(this,et)}},{key:"innerWidth",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateInnerWidth(),S()(this,nt)}},{key:"width",get:function(){var t=this.innerWidth||this.parent&&this.parent.width,e=this.maxWidth?Math.min(this.maxWidth,t):null;return this.minWidth?Math.max(this.minWidth,e||t):e||t}},{key:"height",get:function(){var t=this.innerHeight||this.parent&&this.parent.height,e=this.maxHeight?Math.min(this.maxHeight,t):null;return this.minHeight?Math.max(this.minHeight,e||t):e||t}},{key:"defaultStyle",get:function(){return u()(g()(n.prototype),"defaultStyle",this)}}]),n}($);function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var ot=function(t){d()(n,t);var e=rt(n);function n(t,i,r,s,a){var c;o()(this,n);for(var h=arguments.length,u=new Array(h>5?h-5:0),f=5;f<h;f++)u[f-5]=arguments[f];return c=e.call.apply(e,[this,t,i,r,s,a].concat(u)),E()(l()(c),"selectable",!0),c}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save(),this.drawComponents(e),e.restore()}}},{key:"drawComponents",value:function(t){u()(g()(n.prototype),"draw",this).call(this,t)}},{key:"height",get:function(){return(this.maxHeight||u()(g()(n.prototype),"height",this))+this.style.padding}},{key:"width",get:function(){return(this.maxWidth||u()(g()(n.prototype),"width",this))+this.style.padding}},{key:"defaultStyle",get:function(){return new T({backgroundColor:i.Setting.BUTTON_DEFAULT_BACKGROUND,backgroundColorHover:i.Setting.BUTTON_DEFAULT_HOVER_BACKGROUND,backgroundColorDown:i.Setting.BUTTON_DEFAULT_CLICK_BACKGROUND,scrollXDisabled:!0,scrollYDisabled:!0})}}]),n}(it);function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var at=function(t){d()(n,t);var e=st(n);function n(t,i,r,s,a,c,h){var u;return o()(this,n),u=e.call(this,i,r,s,a,c),E()(l()(u),"selectable",!1),u.image,u.imgSrc,u.imageLoader=h,t instanceof Image?(u.image=t,u.imgSrc=t.src):u.imgSrc=t,u}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save(),null!=this.imgSrc&&null!=this.imageLoader&&this.loadImage(this.imageLoader),null!=this.image&&this.drawImage(e),e.restore()}}},{key:"drawImage",value:function(t){Y.drawImage(t,this.image,Math.round(this.x),Math.round(this.y),Math.round(this.width),Math.round(this.height))}},{key:"loadImage",value:function(t){this.image=t.get(this.imgSrc)}},{key:"sizes",get:function(){var t=u()(g()(n.prototype),"width",this),e=u()(g()(n.prototype),"height",this);if(this.image&&(this.image.width>u()(g()(n.prototype),"width",this)||this.image.height>u()(g()(n.prototype),"height",this))){var i=this.image.width/this.image.height;t=Math.floor(u()(g()(n.prototype),"width",this)/1.25),e=Math.floor(t/i)}return{width:t,height:e}}},{key:"height",get:function(){return this.sizes.height},set:function(t){U()(g()(n.prototype),"height",t,this,!0)}},{key:"width",get:function(){return this.sizes.width},set:function(t){U()(g()(n.prototype),"width",t,this,!0)}}]),n}(N);function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var lt=function(t){d()(n,t);var e=ct(n);function n(t,r,s,a,c,l,h,u,f,d){var p;o()(this,n);var v=new T({alignement:a,verticalAlignement:c,backgroundColor:u||i.Setting.BUTTON_DEFAULT_BACKGROUND,backgroundColorHover:f||i.Setting.BUTTON_DEFAULT_HOVER_BACKGROUND});return(p=e.call(this,r,s,l,h,v)).image=new at(t,r,s,l,h,new T({alignement:"center",verticalAlignement:"center"}),d),p.add(p.image),console&&console.warn&&console.warn(i.String.NOTICE_MESSAGE+" "+i.String.BUTTON_IMAGE_DEPRECATED),p}return a()(n,[{key:"loadImage",value:function(t){this.components[0]instanceof at&&this.components[0].loadImage(t)}},{key:"minWidth",set:function(t){this.image.width=t,U()(g()(n.prototype),"minWidth",t,this,!0)},get:function(){return u()(g()(n.prototype),"minWidth",this)}},{key:"minHeight",set:function(t){this.image.height=t,U()(g()(n.prototype),"minHeight",t,this,!0)},get:function(){return u()(g()(n.prototype),"minHeight",this)}},{key:"maxWidth",set:function(t){this.image.width=t,U()(g()(n.prototype),"maxWidth",t,this,!0)},get:function(){return u()(g()(n.prototype),"maxWidth",this)}},{key:"maxHeight",set:function(t){this.image.height=t,U()(g()(n.prototype),"maxHeight",t,this,!0)},get:function(){return u()(g()(n.prototype),"maxHeight",this)}},{key:"width",set:function(t){this.minWidth=t,this.maxWidth=t},get:function(){return u()(g()(n.prototype),"width",this)}},{key:"height",set:function(t){this.minHeight=t,this.maxHeight=t},get:function(){return u()(g()(n.prototype),"height",this)}}]),n}(ot),ht=function(){function t(){o()(this,t),this.images={},this.imagesResized={},this.triedLoading=0,this.hasError=!1,this.nbImagesToLoad=1,this.firstImage=!0}return a()(t,[{key:"load",value:function(t,e){var n=this;if(this.firstImage&&(this.nbImagesToLoad=t.length,this.firstImage=!1),!(t.length>0))return e();this.loadImage(t[0],(function(i){if(1!=i)return n.hasError=!0,e();t.shift(),n.load(t,e)}))}},{key:"loadImage",value:function(t,e){var n=this;this.triedLoading++;var i=new Image;i.src=t,i.onload=function(){return null==n.images?e(!1):(n.images[t]=i,n.triedLoading=0,e(!0))},i.onerror=function(){if(n.triedLoading>=5)return null!=n.images&&(n.images[t]=i),n.triedLoading=0,e(!1);setTimeout((function(){n.loadImage(t,e)}),250)}}},{key:"get",value:function(t,e,n){if(null!=this.images&&this.images.hasOwnProperty(t)){var i=this.images[t];if(!e&&!n||i.width==e&&i.height==n)return i;var r=Math.round(e),o=Math.round(n),s=t+"@"+r+"-"+o;if(!this.imagesResized.hasOwnProperty(s)){var a=document.createElement("canvas"),c=a.getContext("2d");a.width=r,a.height=o,Y.drawImage(c,i,0,0,r,o,0,0,i.width,i.height),this.imagesResized[s]=a}return this.imagesResized[s]}return null}},{key:"clear",value:function(){this.images=null}}]),t}(),ut=n(15),ft=n.n(ut),dt=n(11),pt=n.n(dt);function vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var yt=new WeakMap,gt=new WeakMap,mt=function(t){d()(n,t);var e=vt(n);function n(t,r,s,a,c){var h;o()(this,n);for(var u=arguments.length,f=new Array(u>5?u-5:0),d=5;d<u;d++)f[d-5]=arguments[d];return h=e.call.apply(e,[this,t,r,s,a,c].concat(f)),E()(l()(h),"selectable",!1),yt.set(l()(h),{writable:!0,value:0}),gt.set(l()(h),{writable:!0,value:0}),i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||(h.updateInnerWidth(),h.updateInnerHeight(),h.addChangeAction((function(){h.updateInnerWidth(),h.updateInnerHeight()}))),h}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var i=t.canvas.getContext("2d");i.save();var r=i;if(this.isCutting&&(r=this.canvasTmp.getContext("2d")),null!=u()(g()(n.prototype),"components",this)){var o=this.style.padding;u()(g()(n.prototype),"components",this).forEach((function(t){o=e.drawComponent(t,o,r)}))}this.isCutting&&Y.drawImageData(i,this.canvasTmp,this.x,this.y,this.width,this.height,this.x,this.y,this.width,this.height),u()(g()(n.prototype),"drawScrollbars",this).call(this,i),i.restore()}}},{key:"drawComponent",value:function(t,e,n){return t instanceof N&&(t.x=this.style.padding-this.offsetScrollX,t.y=e-this.offsetScrollY,this.isComponentVisible(t)?(t.enable(),t.draw(n)):t.disable(),e+=t.height+this.style.spaceBetweenComponents),e}},{key:"updateInnerHeight",value:function(){var t=0;u()(g()(n.prototype),"components",this).forEach((function(e){return t+=e.height})),w()(this,yt,t+this.style.spaceBetweenComponents*(u()(g()(n.prototype),"components",this).length-1)+this.style.padding)}},{key:"updateInnerWidth",value:function(){var t=0;u()(g()(n.prototype),"components",this).forEach((function(e){e.width>t&&(t=e.width)})),w()(this,gt,t+this.style.padding)}},{key:"innerHeight",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateInnerHeight(),S()(this,yt)}},{key:"innerWidth",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateInnerWidth(),S()(this,gt)}},{key:"width",get:function(){var t=this.innerWidth||this.parent&&this.parent.width,e=this.maxWidth?Math.min(this.maxWidth,t):null;return this.minWidth?Math.max(this.minWidth,e||t):e||t}},{key:"height",get:function(){var t=this.innerHeight||this.parent&&this.parent.height,e=this.maxHeight?Math.min(this.maxHeight,t):null;return this.minHeight?Math.max(this.minHeight,e||t):e||t}},{key:"defaultStyle",get:function(){return u()(g()(n.prototype),"defaultStyle",this)}}]),n}($);function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Ct=function(t){d()(n,t);var e=Et(n);function n(t,i,r,s,a){var c;return o()(this,n),c=e.call(this,t,i,r,s,a),E()(l()(c),"selectable",!1),c}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");Y.drawCross(e,this.x,this.y,this.width,this.height,this.style.lineWidth,this.style.color,this.style.lineCap),this.init=!0}}},{key:"width",get:function(){return u()(g()(n.prototype),"width",this)+this.style.lineWidth},set:function(t){U()(g()(n.prototype),"width",t,this,!0),this.reactor.dispatchEvent("onChange",this)}},{key:"height",get:function(){return u()(g()(n.prototype),"height",this)+this.style.lineWidth},set:function(t){U()(g()(n.prototype),"height",t,this,!0),this.reactor.dispatchEvent("onChange",this)}},{key:"defaultStyle",get:function(){return new T({lineWidth:i.Setting.CROSS_DEFAULT_LINE_SIZE,color:i.Setting.CROSS_DEFAULT_COLOR,lineCap:i.Setting.CROSS_DEFAULT_LINE_CAP})}}]),n}(N);function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var At=function(t){d()(n,t);var e=St(n);function n(t,r,s){var a;o()(this,n);for(var c=arguments.length,h=new Array(c>3?c-3:0),u=3;u<c;u++)h[u-3]=arguments[u];return a=e.call.apply(e,[this,0,0,null,null,t].concat(h)),E()(l()(a),"selectable",!1),a.delayBeforeClosing=null==r?5:r,a.timeLastFrame=0,a.animationTime=0,a.closed=!0,a.closing=!1,a.easingFunction=s,a.closeButton=new ot(null,null,null,null,new T({alignement:i.Alignement.RIGHT,verticalAlignement:i.VerticalAlignement.TOP,padding:10}),new Ct(null,null,10,10)),a.add(a.closeButton),a}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){this.closeButton.canvas=this.canvas;var n=t.canvas.getContext("2d");n.save(),this.init||(this.timeLastFrame=performance.now()),null!=this.closeButton&&this.closeButton.setClickAction((function(){e.close()}));var i=performance.now()-this.timeLastFrame;this.timeLastFrame=performance.now(),this.animationTime>=1e3*this.delayBeforeClosing&&!this.closing&&!this.closed&&this.close(),this.closing?this.style.disableAnimation?this.animationTime=-1:this.animationTime-=i:this.animationTime+=i,this.animationTime<0&&(this.closed=!0,this.closing=!1),this.closed?this.disableCloseButton():(this.drawComponents(n),null!=this.closeButton&&(this.closeButton.y=this.y+this.style.padding/2,this.closeButton.draw(n)),this.enableCloseButton()),n.restore(),this.init=!0}}},{key:"drawComponents",value:function(t){u()(g()(n.prototype),"draw",this).call(this,t)}},{key:"close",value:function(){this.disableCloseButton(),this.closing||(this.closing=!0,this.animationTime=this.style.animationDuration)}},{key:"open",value:function(){this.timeLastFrame=0,this.animationTime=0,this.init=!1,this.closed=!1,this.closing=!1}},{key:"disableCloseButton",value:function(){null!=this.closeButton&&null!=this.closeButton&&this.closeButton instanceof ot&&this.closeButton.disable()}},{key:"enableCloseButton",value:function(){null!=this.closeButton&&null!=this.closeButton&&this.closeButton instanceof ot&&this.closeButton.enable()}},{key:"copy",value:function(){return ft()(n,[this.style.copy(),this.delayBeforeClosing,this.easingFunction].concat(pt()(this.components)))}},{key:"compareToComponent",value:function(t){return t.compareToNotification(this)}},{key:"compareToTooltip",value:function(t){return-1}},{key:"compareToNotification",value:function(t){return 0}},{key:"compareToMenu",value:function(t){return-1}},{key:"offsetY",get:function(){var t=1;return this.style.disableAnimation||(t=this.animationTime/this.style.animationDuration,this.easingFunction&&(t=this.easingFunction(t))),t}},{key:"y",get:function(){var t=this.offsetY;return this.style.verticalAlignement==i.VerticalAlignement.TOP?this.height*(t<=1?t:1)-this.height:this.canvas.scene.height-this.height*(t<=1?t:1)},set:function(t){U()(g()(n.prototype),"y",t,this,!0)}},{key:"width",get:function(){return this.canvas&&this.canvas.scene?this.canvas.scene.width:null}},{key:"height",get:function(){return u()(g()(n.prototype),"height",this)-(this.closeButton?this.closeButton.height:0)}},{key:"defaultStyle",get:function(){return new T({alignement:i.Alignement.CENTER,backgroundColor:i.Setting.NOTIFICATION_DEFAULT_BACKGROUND,animationDuration:i.Setting.NOTIFICATION_DEFAULT_ANIMATION_DURATION})}},{key:"hidden",get:function(){return u()(g()(n.prototype),"hidden",this)||this.closed},set:function(t){U()(g()(n.prototype),"hidden",t,this,!0),t?this.forceClose():this.open()}}]),n}(mt);function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var kt=function(t){d()(n,t);var e=wt(n);function n(t){var i;o()(this,n);for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return i=e.call.apply(e,[this,0,0,null,null,t].concat(s)),E()(l()(i),"selectable",!1),i.lastKey=null==i.lastKey?-1:i.lastKey,i.selectedComponent=null==i.selectedComponent?0:i.selectedComponent,i.disable(),i}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){var n=t.canvas.getContext("2d");this.style.blurBackground&&this.drawBlur(n),n.save(),this.drawComponents(n),this.init||(document.addEventListener("keydown",(function(t){e.disabled||(e.lastKey=t.keyCode,e.lastKey!=i.Key.UP&&e.lastKey!=i.Key.BOTTOM||t.preventDefault())})),this.init=!0);var r=!1;null!=this.components&&(this.lastKey==i.Key.UP?(this.select(this.selectedComponent-1),r=!0):this.lastKey==i.Key.BOTTOM?(this.select(this.selectedComponent+1),r=!0):this.lastKey==i.Key.ECHAP?(this.disable(),r=!0):this.components.forEach((function(t,n){t.selected&&e.select(n)})),this.components.forEach((function(t,n){if(t instanceof N){if(r)if(e.selectedComponent==n){if(t.selectable&&(t.selected=!0),!e.isComponentVisible(t)){var o=t.height,s=e.maxHeight-e.offsetScrollY-(t.y+o);e.offsetScrollY=-s,e.controlScrolling(null,-s)}}else t.selected=!1;if(e.selectedComponent==n&&e.lastKey==i.Key.ENTER&&t.reactor&&!t.disabled)return e.lastKey=-1,e.selectedComponent=0,void t.reactor.dispatchEvent("onClick")}}))),n.restore(),this.lastKey=-1}}},{key:"drawComponents",value:function(t){u()(g()(n.prototype),"draw",this).call(this,t)}},{key:"drawBlur",value:function(t){Y.blurCanvas(t,5)}},{key:"drawBackground",value:function(t){t.fillStyle=this.style.backgroundColor,t.fillRect(this.parent?this.parent.x:0,this.parent?this.parent.y:0,this.maxWidth,this.maxHeight)}},{key:"disable",value:function(){u()(g()(n.prototype),"disable",this).call(this),this.components.forEach((function(t){return t&&t.disable&&t.disable()}))}},{key:"enable",value:function(){u()(g()(n.prototype),"enable",this).call(this),this.components.forEach((function(t){return t&&t.enable&&t.enable()}))}},{key:"select",value:function(t){if(this.selectedComponent=t,!(this.components.filter((function(t){return t.selectable})).length<=0)&&(this.selectedComponent>=this.components.length?this.selectedComponent=0:this.selectedComponent<0&&(this.selectedComponent=this.components.length-1),this.components[this.selectedComponent]&&!this.components[this.selectedComponent].selectable)){if(this.lastKey==i.Key.UP)return this.select(this.selectedComponent-1);if(this.lastKey==i.Key.BOTTOM)return this.select(this.selectedComponent+1)}}},{key:"compareToComponent",value:function(t){return t.compareToMenu(this)}},{key:"compareToMenu",value:function(t){return 0}},{key:"compareToTooltip",value:function(t){return-1}},{key:"compareToNotification",value:function(t){return 1}},{key:"isInside",value:function(t){return!this.hidden}},{key:"scrollAreaSizeX",get:function(){return this.innerWidth-this.maxWidth}},{key:"scrollAreaSizeY",get:function(){return this.innerHeight-this.maxHeight}},{key:"maxHeight",get:function(){return u()(g()(n.prototype),"maxHeight",this)||this.canvas&&this.canvas.scene&&this.canvas.scene.height}},{key:"maxWidth",get:function(){return this.canvas&&this.canvas.scene&&this.canvas.scene.width}},{key:"minWidth",get:function(){return this.parent?this.parent.width:0}},{key:"defaultStyle",get:function(){return new T({blurBackground:i.Setting.MENU_DEFAULT_BLUR_BACKGROUND,backgroundColor:i.Setting.MENU_DEFAULT_BACKGROUND,verticalAlignement:i.VerticalAlignement.CENTER,scrollXDisabled:!0})}},{key:"hidden",get:function(){return u()(g()(n.prototype),"hidden",this)||this.disabled},set:function(t){U()(g()(n.prototype),"hidden",t,this,!0),this.disabled=t}}]),n}(mt);function Tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Rt=new WeakMap,Lt=new WeakMap,bt=new WeakMap,_t=function(t){d()(n,t);var e=Tt(n);function n(t,i,r,s,a,c){var h;o()(this,n),h=e.call(this,t,i,r,s,a),E()(l()(h),"selectable",!0),Rt.set(l()(h),{writable:!0,value:0}),Lt.set(l()(h),{writable:!0,value:0}),bt.set(l()(h),{writable:!0,value:0}),h.text=c||"",w()(l()(h),Rt,0),w()(l()(h),bt,0),w()(l()(h),Lt,0),h.lastInputText=!1,h.offsetX=0,h.lastTime=0,h.totalTime=0,h.clickCurrentPosition=null,h.textCache=null,h.input=document.createElement("input"),h.input.setAttribute("type","text"),h.input.style.position="absolute",h.input.style.left="-9999px",h.input.tabIndex=-1,h.input.value=h.text,h.input.addEventListener("blur",(function(){return h.selected=!1})),h.input.addEventListener("focus",(function(){return h.selected=!0})),h.input.addEventListener("input",(function(){h.totalTime=0,h.lastInputText=!0,h.positionStart=h.input.selectionStart,h.positionEnd=h.input.selectionEnd})),document.body.appendChild(h.input),h.appendToCanvas=!1,h.noticeLogged=!1,h.canvasTmp=document.createElement("canvas");var u=function(t,e,n){if(n){var i=h.getLetterClicked(n);null!=i&&(i>h.positionStartClick?h.setSelectionRange(h.positionStartClick,i,"forward"):i<h.positionStartClick&&h.setSelectionRange(i,h.positionStartClick,"backward"))}};return h.addDownAction((function(t){var e=h.getLetterClicked(t);null!=e&&(h.positionStartClick=e,h.setSelectionRange(e,e,"forward")),h.totalTime=0})),h.addClickAction((function(){return h.click()})),h.addMoveAction(u),h.addScrollAction(u),h}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas,r=e.getContext("2d");r.save(),this.input.selectionEnd!=this.positionEnd&&(this.totalTime=0),this.canvas&&this.canvas.container&&!this.appendToCanvas?(document.body.removeChild(this.input),this.canvas.container.appendChild(this.input),this.appendToCanvas=!0):this.canvas||this.noticeLogged||(console&&console.warn&&console.warn(i.String.WARNING_MESSAGE+" "+i.String.INPUT_FULLSCREEN),this.noticeLogged=!0),this.selected&&!this.disabled?this.click():this.blur(),this.text=this.input.value,this.positionStart=this.input.selectionStart,this.positionEnd=this.input.selectionEnd;var o=performance.now(),s=0;this.lastTime>0&&(s=o-this.lastTime),this.lastTime=o,this.totalTime+=s,this.drawBackground(r),this.drawBorder(r),this.canvasTmp.width=e.width,this.canvasTmp.height=e.height;var a=this.canvasTmp.getContext("2d");Y.clear(a),this.updateTextCache(this.x+5),this.autoScroll(),this.drawText(a,this.x+5),Y.drawImageData(r,this.canvasTmp,this.x+this.style.borderSize,this.y+this.style.borderSize,this.width-2*this.style.borderSize,this.height-2*this.style.borderSize,this.x+this.style.borderSize,this.y+this.style.borderSize,this.width-2*this.style.borderSize,this.height-2*this.style.borderSize),(this.hovered||this.clicked)&&(this.canvas&&this.canvas.canvas?this.canvas.canvas.style.cursor="text":e.style.cursor="default"),this.selected||(this.totalTime=0),r.restore()}}},{key:"drawText",value:function(t,e){for(var n=-1;n<this.text.length;n++){if(n>-1){var i=this.textCache.letters[n].sizes,r=e-this.offsetX,o=this.y+this.style.borderSize;this.isLetterVisible(n)&&(this.positionStart!=this.positionEnd&&n>=this.positionStart&&n<this.positionEnd&&this.drawHighlight(t,e,i),Y.drawText(t,this.text[n],this.style.fontColor,this.style.fontSize,this.style.fontFamily,"default","default",r,o,!1)),e+=i.width+this.style.spaceBetweenComponents}this.positionEnd==n+1&&this.selected&&(this.totalTime<=500?this.drawCursor(t,e):this.totalTime>1e3&&(this.totalTime=0))}return e}},{key:"drawCursor",value:function(t,e){t.strokeStyle=this.style.borderColor,t.lineWidth=1,t.beginPath(),t.moveTo(e-this.offsetX,this.y+3),t.lineTo(e-this.offsetX,this.y+this.style.fontSize),t.stroke()}},{key:"drawHighlight",value:function(t,e,n){t.fillStyle=this.style.selectColor,t.fillRect(e-this.offsetX,this.y+this.style.borderSize,n.width+2,this.height-2*this.style.borderSize-1)}},{key:"updateTextCache",value:function(t){var e=this.canvas?this.canvas.getContext("2d"):null,n=this.canvas&&this.canvas.scene||this.canvas||e&&e.canvas;if(e&&(i.Setting.DISABLE_OPTIMIZATIONS||!this.textCache||this.textCache.fontSize!=this.style.fontSize||this.textCache.fontFamily!=this.style.fontFamily||this.text!=this.textCache.text||n&&n.width!=this.textCache.parentWidth)){this.textCache={fontSize:this.style.fontSize,fontFamily:this.style.fontFamily,text:this.text,parentWidth:n.width,letters:[]};for(var r=0;r<this.text.length;r++){var o=Y.wrapTextLines(e,this.text[r],this.width,this.style.fontSize,this.style.fontFamily,!0);this.textCache.letters[r]={text:this.text[r],currentX:t,sizes:o},t+=o.width+this.style.spaceBetweenComponents}}}},{key:"isClickCurrentPosition",value:function(t,e,n){return t.x+this.offsetX<=e+n.width+this.style.spaceBetweenComponents&&t.x+this.offsetX>=e}},{key:"isClickAfterPosition",value:function(t,e,n){return t.x+this.offsetX>=e+n.width+this.style.spaceBetweenComponents}},{key:"getLetterClicked",value:function(t){if(this.textCache)for(var e=0;e<this.text.length;e++){var n=this.textCache.letters[e];if(this.isClickCurrentPosition(t,Math.round(n.currentX),n.sizes))return e;if(e>=this.text.length-1&&this.isClickAfterPosition(t,Math.round(n.currentX),n.sizes))return e+1}}},{key:"isLetterVisible",value:function(t){if(this.textCache){var e=this.textCache.letters[t];if(e){var n=e.currentX-this.offsetX;if(n>=this.x-e.sizes.width&&n<=this.x+this.width)return!0}}return!1}},{key:"autoScroll",value:function(){if(this.textCache){var t=this.cursorPosition,e=t.currentLetter?t.currentLetter.sizes.width:0,n=t.x+e+this.style.spaceBetweenComponents,i=t.x-e-this.style.spaceBetweenComponents,r=Math.max(0,Math.round(n-this.x-this.width+this.style.borderSize+2*this.style.spaceBetweenComponents)),o=Math.max(0,Math.round(i-this.x-this.style.borderSize-2*this.style.spaceBetweenComponents));if(this.offsetX<0&&(this.offsetX=0),n-this.offsetX>=this.x+this.width-this.style.borderSize)return this.offsetX=r,r;if(i-this.offsetX<=this.x+this.style.borderSize)return this.offsetX=o,o}return!1}},{key:"click",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"setSelectionRange",value:function(t,e,n){this.input.setSelectionRange(t,e,n),this.positionStart=t,this.positionEnd=e}},{key:"cursorPosition",get:function(){if(this.textCache){var t=this.positionEnd-1;if(this.positionEnd!=this.positionStart&&this.positionEnd==this.positionStartClick&&this.positionStart<this.positionStartClick&&(t=this.positionStart-1),t<0)return{currentLetter:this.textCache.letters[0],x:this.x+this.style.borderSize};var e=this.textCache.letters[t];if(e)return{currentLetter:e,x:e.currentX}}}},{key:"positionStart",get:function(){return S()(this,Rt)},set:function(t){this.input.selectionStart=t,w()(this,Rt,t)}},{key:"positionStartClick",get:function(){return S()(this,Lt)},set:function(t){w()(this,Lt,t)}},{key:"positionEnd",get:function(){return S()(this,bt)},set:function(t){this.input.selectionEnd=t,w()(this,bt,t)}},{key:"height",get:function(){var t=this.style&&this.style.borderSize?this.style.borderSize:0;return u()(g()(n.prototype),"height",this)?u()(g()(n.prototype),"height",this):this.style.fontSize+2*t}},{key:"defaultStyle",get:function(){return new T({fontSize:Math.floor(i.Setting.FONT_SIZE/1.25),fontFamily:i.Setting.FONT_FAMILY,fontColor:i.Setting.INPUT_DEFAULT_FONT_COLOR,backgroundColor:i.Setting.INPUT_DEFAULT_BACKGROUND_COLOR,borderColor:i.Setting.INPUT_DEFAULT_BORDER_COLOR,borderColorSelected:i.Setting.INPUT_DEFAULT_BORDER_COLOR_SELECTED,selectColor:i.Setting.INPUT_DEFAULT_SELECT_COLOR,spaceBetweenComponents:1})}}]),n}(B);function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Dt=new WeakMap,Ot=function(t){d()(n,t);var e=It(n);function n(t,r,s,a){var c;return o()(this,n),c=e.call(this,r,s,null,null,a),E()(l()(c),"selectable",!1),Dt.set(l()(c),{writable:!0,value:""}),c.text=t,c.sizesCache=null,i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||(c.updateSizes(),c.addChangeAction((function(t){c.updateSizes(),t!=c.parent&&c.parent&&c.parent.reactor&&c.parent.reactor.dispatchEvent("onChange",l()(c))}))),c}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save(),Y.drawText(e,this.text,this.style.fontColor,this.style.fontSize,this.style.fontFamily,this.style.alignement,this.style.verticalAlignement,this.x,this.y,this.style.wrap,this.style.bold,this.style.underline,null,this.parent),e.restore()}}},{key:"updateSizes",value:function(){var t=this.canvas?this.canvas.getContext("2d"):null,e=this.canvas&&this.canvas.scene||this.canvas||t&&t.canvas;if(t&&(i.Setting.DISABLE_OPTIMIZATIONS||!this.sizesCache||this.sizesCache.fontSize!=this.style.fontSize||this.sizesCache.fontFamily!=this.style.fontFamily||this.sizesCache.wrap!=this.style.wrap||this.text!=this.sizesCache.text||e&&e.width!=this.sizesCache.parentWidth||null==this.sizesCache.value)){var n=Y.wrapTextLines(t,this.text,null,this.style.fontSize,this.style.fontFamily,!this.style.wrap);e&&(this.sizesCache={fontSize:this.style.fontSize,fontFamily:this.style.fontFamily,wrap:this.style.wrap,text:this.text,parentWidth:e.width,value:n})}return this.sizesCache&&this.sizesCache.value}},{key:"text",set:function(t){w()(this,Dt,t),this.reactor.dispatchEvent("onChange",this)},get:function(){return S()(this,Dt)}},{key:"sizes",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateSizes(),this.sizesCache&&this.sizesCache.value}},{key:"height",get:function(){var t=this.sizes;return t&&t.height}},{key:"width",get:function(){var t=this.sizes;return t&&t.width}},{key:"defaultStyle",get:function(){return new T({fontSize:i.Setting.FONT_SIZE,fontFamily:i.Setting.FONT_FAMILY,fontColor:i.Setting.LABEL_DEFAULT_FONT_COLOR,wrap:!0,bold:!1,underline:!1})}}]),n}(N);function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Ft=function(t){d()(n,t);var e=xt(n);function n(t,i,r,s){var a;return o()(this,n),a=e.call(this,t,i,r,s),E()(l()(a),"selectable",!0),a.initialColor=a.style.fontColor,a.initialUnderline=a.style.underline,a}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas;this.clicked?(this.style.set("underline",!1),this.style.set("fontColor",this.style.fontColorDown),e.style.cursor="pointer"):this.hovered||this.selected?(this.style.set("underline",!1),this.style.set("fontColor",this.style.fontColorHover),this.hovered&&(e.style.cursor="pointer")):(this.style.set("underline",this.initialUnderline),this.style.set("fontColor",this.initialColor)),this.init=!0}}},{key:"defaultStyle",get:function(){return new T({fontSize:i.Setting.FONT_SIZE,fontFamily:i.Setting.FONT_FAMILY,fontColor:i.Setting.LINK_DEFAULT_COLOR,fontColorHover:i.Setting.LINK_DEFAULT_HOVER_COLOR,fontColorDown:i.Setting.LINK_DEFAULT_CLICK_COLOR,wrap:!0,bold:!1,underline:!0})}}]),n}(Ot);function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Mt=function(t){d()(n,t);var e=Nt(n);function n(t){var i;o()(this,n);for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return i=e.call.apply(e,[this,null,null,null,null,t].concat(s)),E()(l()(i),"selectable",!1),i.disabled=!0,i}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){var e=t.canvas.getContext("2d");e.save(),this.x+this.width+this.style.padding>this.parent.width&&(this.x-=this.width+this.style.padding),this.y+this.height+this.style.padding>this.parent.height&&(this.y-=this.height+this.style.padding),u()(g()(n.prototype),"draw",this).call(this,e),e.restore()}}},{key:"compareToComponent",value:function(t){return t.compareToTooltip(this)}},{key:"compareToMenu",value:function(t){return 1}},{key:"compareToTooltip",value:function(t){return 0}},{key:"compareToNotification",value:function(t){return 1}},{key:"width",get:function(){return u()(g()(n.prototype),"width",this)+this.style.padding},set:function(t){U()(g()(n.prototype),"width",t,this,!0)}},{key:"height",get:function(){return u()(g()(n.prototype),"height",this)+this.style.padding},set:function(t){U()(g()(n.prototype),"height",t,this,!0)}},{key:"defaultStyle",get:function(){return new T({backgroundColor:i.Setting.TOOLTIP_DEFAULT_BACKGROUND})}},{key:"hidden",get:function(){return u()(g()(n.prototype),"hidden",this)||this.disabled},set:function(t){U()(g()(n.prototype),"hidden",t,this,!0),this.disabled=t}}]),n}(mt);function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Pt=function(t){d()(n,t);var e=Ut(n);function n(){var t,i;return o()(this,n),i=e.call(this),E()(l()(i),"selectable",!1),E()(l()(i),"enableEvents",!1),(t=i).addAll.apply(t,arguments),i}return a()(n,[{key:"draw",value:function(t){var e=this;if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var i=t.canvas,r=i.getContext("2d");r.save(),i.style.cursor="default";var o=r;(this.maxWidth||this.maxHeight)&&(o=this.canvasTmp.getContext("2d"));var s=u()(g()(n.prototype),"components",this).filter((function(t){return t&&t instanceof _t}));s&&s.forEach((function(t){return t.canvas=e.canvas})),this.drawComponents(o),(this.maxWidth||this.maxHeight)&&Y.drawImageData(r,this.canvasTmp,this.x,this.y,this.width,this.height,this.x,this.y,this.width,this.height),u()(g()(n.prototype),"drawScrollbars",this).call(this,r),r.restore()}}},{key:"drawComponents",value:function(t){this.components.sort(n.compareComponents).forEach((function(e){return e.draw(t)}))}},{key:"defaultStyle",get:function(){return new T({padding:i.Setting.DEFAULT_PADDING})}}]),n}($);function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var zt=function(t){d()(n,t);var e=Bt(n);function n(t,i,r,s){var a;return o()(this,n),a=e.call(this,null,i,r,s),E()(l()(a),"selectable",!1),a.displayFrames=t||!1,a.frames=0,a.lastFrame=0,a.currentFPS=0,a.intervalCountFPS=setInterval((function(){return a.countFPS()}),1e3),a}return a()(n,[{key:"draw",value:function(t){this.hidden||(this.text="FPS: "+this.currentFPS+(this.displayFrames?" / Frames: "+this.frames:""),u()(g()(n.prototype),"draw",this).call(this,t),this.frames++)}},{key:"countFPS",value:function(){this.lastFrame>0&&(this.currentFPS=this.frames-this.lastFrame),this.lastFrame=this.frames}}]),n}(Ot);function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Ht=new WeakMap,Gt=function(t){d()(n,t);var e=Wt(n);function n(t,i,r,s,a,c,h){var u;return o()(this,n),u=e.call(this,t,i,r,s,a),Ht.set(l()(u),{writable:!0,value:0}),E()(l()(u),"selectable",!1),u.percent=null==c?0:c,w()(l()(u),Ht,u.percent),u.easingFunction=h,u.lastTime=0,u.totalTime=0,u}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");e.save();var i=performance.now(),r=0;S()(this,Ht)==this.percent||this.style.disableAnimation?(this.totalTime=0,this.lastTime=0):(this.lastTime>0&&(r=i-this.lastTime),this.totalTime+=r,this.totalTime>=this.style.animationDuration?(w()(this,Ht,this.percent),this.totalTime=0,this.lastTime=0):this.lastTime=i),this.drawBackground(e),this.drawForeground(e,this.widthForeground),e.restore()}}},{key:"drawForeground",value:function(t,e){t.save(),t.fillStyle=this.style.foregroundColor,t.fillRect(this.x,this.y,e,this.height),t.restore()}},{key:"animationPercent",get:function(){var t=S()(this,Ht)==this.percent||this.style.disableAnimation?1:this.totalTime/this.style.animationDuration;return this.easingFunction&&(t=this.easingFunction(t)),t}},{key:"widthForeground",get:function(){return Math.max(0,Math.min(this.width,this.width*(S()(this,Ht)+(this.percent-S()(this,Ht))*this.animationPercent)))}},{key:"defaultStyle",get:function(){return new T({backgroundColor:i.Setting.PROGRESS_DEFAULT_BACKGROUND,foregroundColor:i.Setting.PROGRESS_DEFAULT_FOREGROUND,animationDuration:i.Setting.PROGRESS_DEFAULT_ANIMATION_DURATION})}}]),n}(B);function Xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Kt=function(t){d()(n,t);var e=Xt(n);function n(){return o()(this,n),e.apply(this,arguments)}return a()(n,[{key:"registerEvent",value:function(t){this.events[t]||(this.events[t]=[])}},{key:"dispatchEvent",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.events[t]){var r=this.events[t];r.forEach((function(t){return t&&t.callback&&t.callback.apply(t,n)}))}}},{key:"dispatchEventComponent",value:function(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(this.events[t]){var o=this.events[t];o.forEach((function(t){return t&&t.callback&&t.component==e&&t.callback.apply(t,i)}))}}},{key:"addEventListener",value:function(t,e,n){this.events[t]&&this.events[t].push({component:e,callback:n})}},{key:"removeEventListener",value:function(t,e){this.events[t]&&this.events[t].filter((function(t){return t&&t.callback!=e}))}},{key:"removeEventListenerComponent",value:function(t,e){this.events[t]&&this.events[t].filter((function(t){return t&&t.component!=e}))}},{key:"removeAllEventListener",value:function(){this.events=[]}}]),n}(L),Yt=new WeakMap,Vt=new WeakMap,Zt=new WeakMap,jt=function(){function t(e,n,r,s,a,c){var l=this;o()(this,t),Yt.set(this,{writable:!0,value:void 0}),Vt.set(this,{writable:!0,value:void 0}),Zt.set(this,{writable:!0,value:void 0}),this.canvas=n||document.createElement("canvas"),this.container=document.createElement("div"),this.width=r||i.Setting.CANVAS_WIDTH,this.height=s||i.Setting.CANVAS_HEIGHT,this.scene=e,this.container.appendChild(this.canvas),this.started=!1,this.init=!1,this.maxFPS=c||-1,w()(this,Yt,0),this.hasError=!1;var h=new ot(null,null,null,null,new T({alignement:"center",backgroundColor:i.Setting.BUTTON_DEFAULT_ALTERNATIVE_BACKGROUND}),new Ot(i.String.RETRY,null,null,new T({fontColor:"white",alignement:"center"}))),u=new kt(new T({spaceBetweenComponents:15}),new Ot(i.String.ERROR_MESSAGE_CANVAS_LABEL,null,null,new T({fontColor:"white",alignement:"center"})),h);u.enable(),this.sceneError=new Pt(u),this.scenePrevious=this.scene,h.addClickAction((function(){l.hasError=!1,l.scene=l.scenePrevious})),this.reactor=new Kt,this.reactor.registerEvent("mousemove"),this.reactor.registerEvent("click"),this.reactor.registerEvent("mousedown"),this.reactor.registerEvent("mouseup"),this.reactor.registerEvent("wheel"),this.reactor.registerEvent("touchstart"),this.reactor.registerEvent("touchend"),this.reactor.registerEvent("touchmove"),a&&this.autoResize(),this.createEvents(),i.Setting.DISABLE_OPTIMIZATIONS&&console&&console.info(i.String.NOTICE_MESSAGE+" "+i.String.OPTIMIZATION_DISABLED),i.Setting.DISABLE_CONTAINERS_CUTTING&&console&&console.info(i.String.NOTICE_MESSAGE+" "+i.String.CONTAINER_CUTTING_DISABLED)}return a()(t,[{key:"draw",value:function(){var t=this.canvas.getContext("2d");this.drawClear(t),this.drawScene(t)}},{key:"drawScene",value:function(t){if(this.scene){this.scene.parent=this,this.scene.canvas=this;try{this.scene.draw(t)}catch(t){this.hasError=!0,this.scene=this.sceneError,console.error(i.String.ERROR_MESSAGE+" "+i.String.ERROR_MESSAGE_CANVAS+"\n",t)}}}},{key:"drawClear",value:function(t){Y.clear(t)}},{key:"startDraw",value:function(t){var e=this;this.started=!0,requestAnimationFrame((function(n){if(e.started){var i=n-S()(e,Yt);(e.maxFPS<1||i>1e3/e.maxFPS)&&(w()(e,Yt,n),e.draw()),e.startDraw(t),t&&t()}}))}},{key:"stopDraw",value:function(){this.started=!1}},{key:"appendTo",value:function(t){t.appendChild(this.container)}},{key:"remove",value:function(t){t.removeChild(this.container),this.container.removeChild(this.canvas)}},{key:"toggleFullscreen",value:function(){Y.toggleFullscreen(this.canvas,this.container)}},{key:"toggleFullpage",value:function(){Y.toggleFullpage(this.canvas,this.container)}},{key:"autoResize",value:function(){Y.enableAutoResizeCanvas(this.canvas,this.width,this.height)}},{key:"getContext",value:function(t){return this.canvas?this.canvas.getContext(t||"2d"):null}},{key:"createEvents",value:function(){var t=this;!this.init&&this.canvas&&(["mousemove","click","mousedown","mouseup","wheel"].forEach((function(e){t.canvas.addEventListener(e,(function(n){var i=t.getMousePos(n);t.doEvents(n,e,i),n.preventDefault()}),!1)})),["touchstart","touchmove","touchend"].forEach((function(e){t.canvas.addEventListener(e,(function(n){var i=n.changedTouches[0],r=t.getMousePos(i);t.doEvents(n,e,r)}))})),this.init=!0)}},{key:"doEvents",value:function(t,e,n){var i=this,r=this.getComponentsAtPosition(n);this.reactor.dispatchEvent(e,t,!1),pt()(r).reverse().forEach((function(n){return i.reactor.dispatchEventComponent(e,n,t,!0)}))}},{key:"addEventListener",value:function(t,e,n){this.reactor.addEventListener(t,e,n)}},{key:"getMousePos",value:function(t){return Y.getMousePos(this.canvas,t)}},{key:"getAllComponents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scene;return this.scene.getAllComponents(t)}},{key:"getComponentsAtPosition",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scene,i=this.scene.getComponentsTree(n),r=[n];return i.childs&&i.childs.sort(Pt.sortComponentsTree).reverse().some((function(n){if(n.component.isInside(t)&&!n.component.hidden&&!n.component.disabled)return r.push.apply(r,pt()(e.getComponentsAtPosition(t,n.component))),!0})),r}},{key:"x",get:function(){return 0}},{key:"y",get:function(){return 0}},{key:"width",get:function(){return this.canvas?this.canvas.width:S()(this,Vt)},set:function(t){w()(this,Vt,t),this.canvas.width=t,this.scene&&this.scene.reactor.dispatchEvent("onChange",this)}},{key:"height",get:function(){return this.canvas?this.canvas.height:S()(this,Zt)},set:function(t){w()(this,Zt,t),this.canvas.height=t,this.scene&&this.scene.reactor.dispatchEvent("onChange",this)}}]),t}(),qt={easeInCubic:function(t){return t*t*t},easeOutBounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2},easeInOutSine:function(t){return-(Math.cos(Math.PI*t)-1)/2},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2},easeInOutCirc:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2},easeInOutQuad:function(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2},easeInOutBack:function(t){var e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2}};function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var Qt=function(t){d()(n,t);var e=Jt(n);function n(t,i,r,s,a){var c;return o()(this,n),c=e.call(this,t,i,null,null,a),E()(l()(c),"selectable",!1),c.toX=r,c.toY=s,c}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");Y.drawArrow(e,this.x,this.y,this.toX,this.toY,this.style.lineWidth,this.style.headSize,this.style.color,this.style.lineCap),this.init=!0}}},{key:"width",get:function(){return Math.abs(this.x-this.toX)}},{key:"height",get:function(){return Math.abs(this.y-this.toY)}},{key:"defaultStyle",get:function(){return new T({lineWidth:i.Setting.ARROW_DEFAULT_LINE_SIZE,headSize:i.Setting.ARROW_DEFAULT_HEAD_SIZE,color:i.Setting.ARROW_DEFAULT_COLOR,lineCap:i.Setting.ARROW_DEFAULT_LINE_CAP})}}]),n}(N);function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var te=function(t){d()(n,t);var e=$t(n);function n(t,i,r,s,a){var c;return o()(this,n),c=e.call(this,t,i,r,s,a),E()(l()(c),"selectable",!1),c}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");Y.drawTriangle(e,this.x,this.y,this.width,this.height,this.style.lineWidth,this.style.color,this.style.lineCap,this.style.fill,this.style.fillColor),this.init=!0}}},{key:"width",get:function(){return u()(g()(n.prototype),"width",this)+this.style.lineWidth},set:function(t){U()(g()(n.prototype),"width",t,this,!0)}},{key:"height",get:function(){return u()(g()(n.prototype),"height",this)+this.style.lineWidth},set:function(t){U()(g()(n.prototype),"height",t,this,!0)}},{key:"defaultStyle",get:function(){return new T({lineWidth:i.Setting.TRIANGLE_DEFAULT_LINE_SIZE,color:i.Setting.TRIANGLE_DEFAULT_COLOR,fill:i.Setting.TRIANGLE_DEFAULT_FILL,lineCap:i.Setting.TRIANGLE_DEFAULT_LINE_CAP,fillColor:i.Setting.TRIANGLE_DEFAULT_FILL_COLOR})}}]),n}(N);function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var ne=new WeakMap,ie=function(t){d()(n,t);var e=ee(n);function n(t,r,s,a,c,h,u){var f;return o()(this,n),f=e.call(this,t,r,s,a,c),ne.set(l()(f),{writable:!0,value:0}),f.optionContainer=h,u&&(f.selectedOption=u),f.label=new Ot("",t,r,c),f.label.style.setAll({alignement:i.Alignement.LEFT,verticalAlignement:i.VerticalAlignement.CENTER}),f.triangle=new te(null,null,8,8,c),f.triangle.style.setAll({alignement:i.Alignement.RIGHT,verticalAlignement:i.VerticalAlignement.CENTER}),f.addAll(f.label,f.triangle),f.addClickAction((function(){f.optionContainer&&(f.optionContainer.hidden=!1)})),i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS||(f.updateWidth(),f.addChangeAction((function(){return f.updateWidth()}))),f}return a()(n,[{key:"draw",value:function(t){this.hidden||(this.selectedOption&&this.selectedOption.label&&(this.label.text=this.selectedOption.label.text),u()(g()(n.prototype),"draw",this).call(this,t),this.optionContainer&&(this.optionContainer.select=this))}},{key:"updateWidth",value:function(){var t=this.label.width;this.optionContainer&&this.optionContainer.components.forEach((function(e){var n=e.label;n&&(n.updateSizes&&n.updateSizes(),n.width>t&&(t=n.width))})),w()(this,ne,t+this.style.padding+this.triangle.width+15)}},{key:"selectedOption",get:function(){return this.optionContainer?this.optionContainer.components[this.optionContainer.selectedOption]:null},set:function(t){this.optionContainer.selectedOption=t,this.reactor.dispatchEvent("onChange",this)}},{key:"text",get:function(){return this.selectedOption&&this.selectedOption.label?this.selectedOption.label.text:null}},{key:"width",get:function(){return i.Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS&&this.updateWidth(),S()(this,ne)}},{key:"allComponents",get:function(){var t=[];return t.push.apply(t,pt()(u()(g()(n.prototype),"allComponents",this))),t}},{key:"defaultStyle",get:function(){return new T({backgroundColor:i.Setting.SELECT_DEFAULT_BACKGROUND,backgroundColorHover:i.Setting.SELECT_DEFAULT_HOVER_BACKGROUND,backgroundColorDown:i.Setting.SELECT_DEFAULT_CLICK_BACKGROUND,padding:i.Setting.DEFAULT_PADDING})}}]),n}(ot);function re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var oe=function(t){d()(n,t);var e=re(n);function n(t,i){var r;o()(this,n);var s=new Ot("Option");return(r=e.call(this,null,null,null,null,i,t||s)).label=t||s,r}return a()(n,[{key:"add",value:function(t){t instanceof Ot&&(this.clear(),u()(g()(n.prototype),"add",this).call(this,t))}},{key:"width",get:function(){return this.parent&&this.parent.width}},{key:"defaultStyle",get:function(){return new T({backgroundColor:i.Setting.SELECT_DEFAULT_BACKGROUND,backgroundColorHover:i.Setting.SELECT_DEFAULT_HOVER_BACKGROUND,backgroundColorDown:i.Setting.SELECT_DEFAULT_CLICK_BACKGROUND,padding:i.Setting.DEFAULT_PADDING})}}]),n}(ot);function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var ae=new WeakMap,ce=function(t){d()(n,t);var e=se(n);function n(t,i){var r;o()(this,n);for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];return r=e.call.apply(e,[this,null,null,null,t,i].concat(a)),ae.set(l()(r),{writable:!0,value:void 0}),w()(l()(r),ae,0),r.select=null,r}return a()(n,[{key:"draw",value:function(t){u()(g()(n.prototype),"draw",this).call(this,t),this.selected&&this.selected&&(this.select.selected=!0)}},{key:"add",value:function(t){var e=this;u()(g()(n.prototype),"add",this).call(this,t),t.addClickAction((function(){w()(e,ae,e.getComponentId(t)),e.selected=!1,e.hidden=!0,e.select&&(e.select.selected=!1)}))}},{key:"x",get:function(){return this.select&&this.select.x}},{key:"y",get:function(){var t=this.select&&this.select.height,e=this.height,n=this.select&&this.select.y;return this.canvas&&this.canvas.scene&&n+t+e>=this.canvas.scene.height?n-e:n+t}},{key:"width",get:function(){return this.select&&this.select.width}},{key:"selectedOption",get:function(){return Math.max(0,Math.min(this.components.length-1,S()(this,ae)))},set:function(t){w()(this,ae,t),this.reactor.dispatchEvent("onChange",this)}},{key:"defaultStyle",get:function(){return new T({padding:0,spaceBetweenComponents:0,backgroundColor:i.Setting.SELECT_DEFAULT_BACKGROUND,backgroundColorHover:null,backgroundColorDown:null,scrollXDisabled:!1,scrollYDisabled:!1})}},{key:"hidden",get:function(){return u()(g()(n.prototype),"hidden",this)||this.select&&!this.select.selected||!this.select},set:function(t){return U()(g()(n.prototype),"hidden",t,this,!0)}},{key:"selected",get:function(){return u()(g()(n.prototype),"selected",this)||this.select&&this.select.selected},set:function(t){U()(g()(n.prototype),"selected",t,this,!0)}}]),n}(mt);function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=g()(t);if(e){var r=g()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v()(this,n)}}var he=function(t){d()(n,t);var e=le(n);function n(t,i,r,s){var a;return o()(this,n),a=e.call(this,t,i,r,r,s),E()(l()(a),"selectable",!1),a}return a()(n,[{key:"draw",value:function(t){if(!this.hidden){u()(g()(n.prototype),"draw",this).call(this,t);var e=t.canvas.getContext("2d");Y.drawCircle(e,this.x,this.y,this.width,this.style.lineWidth,this.style.color,this.style.lineCap,this.style.fill,this.style.fillColor),this.init=!0}}},{key:"width",get:function(){return u()(g()(n.prototype),"width",this)+this.style.lineWidth},set:function(t){U()(g()(n.prototype),"width",t,this,!0),this.reactor.dispatchEvent("onChange",this)}},{key:"height",get:function(){return u()(g()(n.prototype),"height",this)+this.style.lineWidth},set:function(t){U()(g()(n.prototype),"height",t,this,!0),this.reactor.dispatchEvent("onChange",this)}},{key:"defaultStyle",get:function(){return new T({lineWidth:i.Setting.CIRCLE_DEFAULT_LINE_SIZE,color:i.Setting.CIRCLE_DEFAULT_COLOR,fill:i.Setting.CIRCLE_DEFAULT_FILL,lineCap:i.Setting.CIRCLE_DEFAULT_LINE_CAP,fillColor:i.Setting.CIRCLE_DEFAULT_FILL_COLOR})}}]),n}(N)}])}));

/***/ }),

/***/ "./node_modules/ms/index.js":
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}


/***/ }),

/***/ "./node_modules/parseqs/index.js":
/*!***************************************!*\
  !*** ./node_modules/parseqs/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Compiles a querystring
 * Returns string representation of the object
 *
 * @param {Object}
 * @api private
 */

exports.encode = function (obj) {
  var str = '';

  for (var i in obj) {
    if (obj.hasOwnProperty(i)) {
      if (str.length) str += '&';
      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);
    }
  }

  return str;
};

/**
 * Parses a simple querystring into an object
 *
 * @param {String} qs
 * @api private
 */

exports.decode = function(qs){
  var qry = {};
  var pairs = qs.split('&');
  for (var i = 0, l = pairs.length; i < l; i++) {
    var pair = pairs[i].split('=');
    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
  }
  return qry;
};


/***/ }),

/***/ "./node_modules/parseuri/index.js":
/*!****************************************!*\
  !*** ./node_modules/parseuri/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Parses an URI
 *
 * @author Steven Levithan <stevenlevithan.com> (MIT license)
 * @api private
 */

var re = /^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;

var parts = [
    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'
];

module.exports = function parseuri(str) {
    var src = str,
        b = str.indexOf('['),
        e = str.indexOf(']');

    if (b != -1 && e != -1) {
        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);
    }

    var m = re.exec(str || ''),
        uri = {},
        i = 14;

    while (i--) {
        uri[parts[i]] = m[i] || '';
    }

    if (b != -1 && e != -1) {
        uri.source = src;
        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');
        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');
        uri.ipv6uri = true;
    }

    uri.pathNames = pathNames(uri, uri['path']);
    uri.queryKey = queryKey(uri, uri['query']);

    return uri;
};

function pathNames(obj, path) {
    var regx = /\/{2,9}/g,
        names = path.replace(regx, "/").split("/");

    if (path.substr(0, 1) == '/' || path.length === 0) {
        names.splice(0, 1);
    }
    if (path.substr(path.length - 1, 1) == '/') {
        names.splice(names.length - 1, 1);
    }

    return names;
}

function queryKey(uri, query) {
    var data = {};

    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {
        if ($1) {
            data[$1] = $2;
        }
    });

    return data;
}


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/seedrandom/index.js":
/*!******************************************!*\
  !*** ./node_modules/seedrandom/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// A library of seedable RNGs implemented in Javascript.
//
// Usage:
//
// var seedrandom = require('seedrandom');
// var random = seedrandom(1); // or any seed.
// var x = random();       // 0 <= x < 1.  Every bit is random.
// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.

// alea, a 53-bit multiply-with-carry generator by Johannes Baagøe.
// Period: ~2^116
// Reported to pass all BigCrush tests.
var alea = __webpack_require__(/*! ./lib/alea */ "./node_modules/seedrandom/lib/alea.js");

// xor128, a pure xor-shift generator by George Marsaglia.
// Period: 2^128-1.
// Reported to fail: MatrixRank and LinearComp.
var xor128 = __webpack_require__(/*! ./lib/xor128 */ "./node_modules/seedrandom/lib/xor128.js");

// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.
// Period: 2^192-2^32
// Reported to fail: CollisionOver, SimpPoker, and LinearComp.
var xorwow = __webpack_require__(/*! ./lib/xorwow */ "./node_modules/seedrandom/lib/xorwow.js");

// xorshift7, by François Panneton and Pierre L'ecuyer, takes
// a different approach: it adds robustness by allowing more shifts
// than Marsaglia's original three.  It is a 7-shift generator
// with 256 bits, that passes BigCrush with no systmatic failures.
// Period 2^256-1.
// No systematic BigCrush failures reported.
var xorshift7 = __webpack_require__(/*! ./lib/xorshift7 */ "./node_modules/seedrandom/lib/xorshift7.js");

// xor4096, by Richard Brent, is a 4096-bit xor-shift with a
// very long period that also adds a Weyl generator. It also passes
// BigCrush with no systematic failures.  Its long period may
// be useful if you have many generators and need to avoid
// collisions.
// Period: 2^4128-2^32.
// No systematic BigCrush failures reported.
var xor4096 = __webpack_require__(/*! ./lib/xor4096 */ "./node_modules/seedrandom/lib/xor4096.js");

// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random
// number generator derived from ChaCha, a modern stream cipher.
// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf
// Period: ~2^127
// No systematic BigCrush failures reported.
var tychei = __webpack_require__(/*! ./lib/tychei */ "./node_modules/seedrandom/lib/tychei.js");

// The original ARC4-based prng included in this library.
// Period: ~2^1600
var sr = __webpack_require__(/*! ./seedrandom */ "./node_modules/seedrandom/seedrandom.js");

sr.alea = alea;
sr.xor128 = xor128;
sr.xorwow = xorwow;
sr.xorshift7 = xorshift7;
sr.xor4096 = xor4096;
sr.tychei = tychei;

module.exports = sr;


/***/ }),

/***/ "./node_modules/seedrandom/lib/alea.js":
/*!*********************************************!*\
  !*** ./node_modules/seedrandom/lib/alea.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;// A port of an algorithm by Johannes Baagøe <baagoe@baagoe.com>, 2010
// http://baagoe.com/en/RandomMusings/javascript/
// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror
// Original work is under MIT license -

// Copyright (C) 2010 by Johannes Baagøe <baagoe@baagoe.org>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.



(function(global, module, define) {

function Alea(seed) {
  var me = this, mash = Mash();

  me.next = function() {
    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32
    me.s0 = me.s1;
    me.s1 = me.s2;
    return me.s2 = t - (me.c = t | 0);
  };

  // Apply the seeding algorithm from Baagoe.
  me.c = 1;
  me.s0 = mash(' ');
  me.s1 = mash(' ');
  me.s2 = mash(' ');
  me.s0 -= mash(seed);
  if (me.s0 < 0) { me.s0 += 1; }
  me.s1 -= mash(seed);
  if (me.s1 < 0) { me.s1 += 1; }
  me.s2 -= mash(seed);
  if (me.s2 < 0) { me.s2 += 1; }
  mash = null;
}

function copy(f, t) {
  t.c = f.c;
  t.s0 = f.s0;
  t.s1 = f.s1;
  t.s2 = f.s2;
  return t;
}

function impl(seed, opts) {
  var xg = new Alea(seed),
      state = opts && opts.state,
      prng = xg.next;
  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }
  prng.double = function() {
    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53
  };
  prng.quick = prng;
  if (state) {
    if (typeof(state) == 'object') copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

function Mash() {
  var n = 0xefc8249d;

  var mash = function(data) {
    data = String(data);
    for (var i = 0; i < data.length; i++) {
      n += data.charCodeAt(i);
      var h = 0.02519603282416938 * n;
      n = h >>> 0;
      h -= n;
      h *= n;
      n = h >>> 0;
      h -= n;
      n += h * 0x100000000; // 2^32
    }
    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32
  };

  return mash;
}


if (module && module.exports) {
  module.exports = impl;
} else if (__webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js") && __webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js")) {
  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {
  this.alea = impl;
}

})(
  this,
   true && module,    // present in node.js
  __webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js")   // present with an AMD loader
);



/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/seedrandom/lib/tychei.js":
/*!***********************************************!*\
  !*** ./node_modules/seedrandom/lib/tychei.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of the "Tyche-i" prng algorithm by
// Samuel Neves and Filipe Araujo.
// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf

(function(global, module, define) {

function XorGen(seed) {
  var me = this, strseed = '';

  // Set up generator function.
  me.next = function() {
    var b = me.b, c = me.c, d = me.d, a = me.a;
    b = (b << 25) ^ (b >>> 7) ^ c;
    c = (c - d) | 0;
    d = (d << 24) ^ (d >>> 8) ^ a;
    a = (a - b) | 0;
    me.b = b = (b << 20) ^ (b >>> 12) ^ c;
    me.c = c = (c - d) | 0;
    me.d = (d << 16) ^ (c >>> 16) ^ a;
    return me.a = (a - b) | 0;
  };

  /* The following is non-inverted tyche, which has better internal
   * bit diffusion, but which is about 25% slower than tyche-i in JS.
  me.next = function() {
    var a = me.a, b = me.b, c = me.c, d = me.d;
    a = (me.a + me.b | 0) >>> 0;
    d = me.d ^ a; d = d << 16 ^ d >>> 16;
    c = me.c + d | 0;
    b = me.b ^ c; b = b << 12 ^ d >>> 20;
    me.a = a = a + b | 0;
    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;
    me.c = c = c + d | 0;
    b = b ^ c;
    return me.b = (b << 7 ^ b >>> 25);
  }
  */

  me.a = 0;
  me.b = 0;
  me.c = 2654435769 | 0;
  me.d = 1367130551;

  if (seed === Math.floor(seed)) {
    // Integer seed.
    me.a = (seed / 0x100000000) | 0;
    me.b = seed | 0;
  } else {
    // String seed.
    strseed += seed;
  }

  // Mix in string seed, then discard an initial batch of 64 values.
  for (var k = 0; k < strseed.length + 20; k++) {
    me.b ^= strseed.charCodeAt(k) | 0;
    me.next();
  }
}

function copy(f, t) {
  t.a = f.a;
  t.b = f.b;
  t.c = f.c;
  t.d = f.d;
  return t;
};

function impl(seed, opts) {
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (typeof(state) == 'object') copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (__webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js") && __webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js")) {
  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {
  this.tychei = impl;
}

})(
  this,
   true && module,    // present in node.js
  __webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js")   // present with an AMD loader
);



/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/seedrandom/lib/xor128.js":
/*!***********************************************!*\
  !*** ./node_modules/seedrandom/lib/xor128.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of the "xor128" prng algorithm by
// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper

(function(global, module, define) {

function XorGen(seed) {
  var me = this, strseed = '';

  me.x = 0;
  me.y = 0;
  me.z = 0;
  me.w = 0;

  // Set up generator function.
  me.next = function() {
    var t = me.x ^ (me.x << 11);
    me.x = me.y;
    me.y = me.z;
    me.z = me.w;
    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);
  };

  if (seed === (seed | 0)) {
    // Integer seed.
    me.x = seed;
  } else {
    // String seed.
    strseed += seed;
  }

  // Mix in string seed, then discard an initial batch of 64 values.
  for (var k = 0; k < strseed.length + 64; k++) {
    me.x ^= strseed.charCodeAt(k) | 0;
    me.next();
  }
}

function copy(f, t) {
  t.x = f.x;
  t.y = f.y;
  t.z = f.z;
  t.w = f.w;
  return t;
}

function impl(seed, opts) {
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (typeof(state) == 'object') copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (__webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js") && __webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js")) {
  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {
  this.xor128 = impl;
}

})(
  this,
   true && module,    // present in node.js
  __webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js")   // present with an AMD loader
);



/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/seedrandom/lib/xor4096.js":
/*!************************************************!*\
  !*** ./node_modules/seedrandom/lib/xor4096.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.
//
// This fast non-cryptographic random number generator is designed for
// use in Monte-Carlo algorithms. It combines a long-period xorshift
// generator with a Weyl generator, and it passes all common batteries
// of stasticial tests for randomness while consuming only a few nanoseconds
// for each prng generated.  For background on the generator, see Brent's
// paper: "Some long-period random number generators using shifts and xors."
// http://arxiv.org/pdf/1004.3115v1.pdf
//
// Usage:
//
// var xor4096 = require('xor4096');
// random = xor4096(1);                        // Seed with int32 or string.
// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.
// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.
//
// For nonzero numeric keys, this impelementation provides a sequence
// identical to that by Brent's xorgens 3 implementaion in C.  This
// implementation also provides for initalizing the generator with
// string seeds, or for saving and restoring the state of the generator.
//
// On Chrome, this prng benchmarks about 2.1 times slower than
// Javascript's built-in Math.random().

(function(global, module, define) {

function XorGen(seed) {
  var me = this;

  // Set up generator function.
  me.next = function() {
    var w = me.w,
        X = me.X, i = me.i, t, v;
    // Update Weyl generator.
    me.w = w = (w + 0x61c88647) | 0;
    // Update xor generator.
    v = X[(i + 34) & 127];
    t = X[i = ((i + 1) & 127)];
    v ^= v << 13;
    t ^= t << 17;
    v ^= v >>> 15;
    t ^= t >>> 12;
    // Update Xor generator array state.
    v = X[i] = v ^ t;
    me.i = i;
    // Result is the combination.
    return (v + (w ^ (w >>> 16))) | 0;
  };

  function init(me, seed) {
    var t, v, i, j, w, X = [], limit = 128;
    if (seed === (seed | 0)) {
      // Numeric seeds initialize v, which is used to generates X.
      v = seed;
      seed = null;
    } else {
      // String seeds are mixed into v and X one character at a time.
      seed = seed + '\0';
      v = 0;
      limit = Math.max(limit, seed.length);
    }
    // Initialize circular array and weyl value.
    for (i = 0, j = -32; j < limit; ++j) {
      // Put the unicode characters into the array, and shuffle them.
      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);
      // After 32 shuffles, take v as the starting w value.
      if (j === 0) w = v;
      v ^= v << 10;
      v ^= v >>> 15;
      v ^= v << 4;
      v ^= v >>> 13;
      if (j >= 0) {
        w = (w + 0x61c88647) | 0;     // Weyl.
        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.
        i = (0 == t) ? i + 1 : 0;     // Count zeroes.
      }
    }
    // We have detected all zeroes; make the key nonzero.
    if (i >= 128) {
      X[(seed && seed.length || 0) & 127] = -1;
    }
    // Run the generator 512 times to further mix the state before using it.
    // Factoring this as a function slows the main generator, so it is just
    // unrolled here.  The weyl generator is not advanced while warming up.
    i = 127;
    for (j = 4 * 128; j > 0; --j) {
      v = X[(i + 34) & 127];
      t = X[i = ((i + 1) & 127)];
      v ^= v << 13;
      t ^= t << 17;
      v ^= v >>> 15;
      t ^= t >>> 12;
      X[i] = v ^ t;
    }
    // Storing state as object members is faster than using closure variables.
    me.w = w;
    me.X = X;
    me.i = i;
  }

  init(me, seed);
}

function copy(f, t) {
  t.i = f.i;
  t.w = f.w;
  t.X = f.X.slice();
  return t;
};

function impl(seed, opts) {
  if (seed == null) seed = +(new Date);
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (state.X) copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (__webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js") && __webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js")) {
  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {
  this.xor4096 = impl;
}

})(
  this,                                     // window object or global
   true && module,    // present in node.js
  __webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js")   // present with an AMD loader
);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/seedrandom/lib/xorshift7.js":
/*!**************************************************!*\
  !*** ./node_modules/seedrandom/lib/xorshift7.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of the "xorshift7" algorithm by
// François Panneton and Pierre L'ecuyer:
// "On the Xorgshift Random Number Generators"
// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf

(function(global, module, define) {

function XorGen(seed) {
  var me = this;

  // Set up generator function.
  me.next = function() {
    // Update xor generator.
    var X = me.x, i = me.i, t, v, w;
    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);
    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);
    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);
    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);
    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);
    X[i] = v;
    me.i = (i + 1) & 7;
    return v;
  };

  function init(me, seed) {
    var j, w, X = [];

    if (seed === (seed | 0)) {
      // Seed state array using a 32-bit integer.
      w = X[0] = seed;
    } else {
      // Seed state using a string.
      seed = '' + seed;
      for (j = 0; j < seed.length; ++j) {
        X[j & 7] = (X[j & 7] << 15) ^
            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);
      }
    }
    // Enforce an array length of 8, not all zeroes.
    while (X.length < 8) X.push(0);
    for (j = 0; j < 8 && X[j] === 0; ++j);
    if (j == 8) w = X[7] = -1; else w = X[j];

    me.x = X;
    me.i = 0;

    // Discard an initial 256 values.
    for (j = 256; j > 0; --j) {
      me.next();
    }
  }

  init(me, seed);
}

function copy(f, t) {
  t.x = f.x.slice();
  t.i = f.i;
  return t;
}

function impl(seed, opts) {
  if (seed == null) seed = +(new Date);
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (state.x) copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (__webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js") && __webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js")) {
  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {
  this.xorshift7 = impl;
}

})(
  this,
   true && module,    // present in node.js
  __webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js")   // present with an AMD loader
);


/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/seedrandom/lib/xorwow.js":
/*!***********************************************!*\
  !*** ./node_modules/seedrandom/lib/xorwow.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;// A Javascript implementaion of the "xorwow" prng algorithm by
// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper

(function(global, module, define) {

function XorGen(seed) {
  var me = this, strseed = '';

  // Set up generator function.
  me.next = function() {
    var t = (me.x ^ (me.x >>> 2));
    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;
    return (me.d = (me.d + 362437 | 0)) +
       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;
  };

  me.x = 0;
  me.y = 0;
  me.z = 0;
  me.w = 0;
  me.v = 0;

  if (seed === (seed | 0)) {
    // Integer seed.
    me.x = seed;
  } else {
    // String seed.
    strseed += seed;
  }

  // Mix in string seed, then discard an initial batch of 64 values.
  for (var k = 0; k < strseed.length + 64; k++) {
    me.x ^= strseed.charCodeAt(k) | 0;
    if (k == strseed.length) {
      me.d = me.x << 10 ^ me.x >>> 4;
    }
    me.next();
  }
}

function copy(f, t) {
  t.x = f.x;
  t.y = f.y;
  t.z = f.z;
  t.w = f.w;
  t.v = f.v;
  t.d = f.d;
  return t;
}

function impl(seed, opts) {
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (typeof(state) == 'object') copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (__webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js") && __webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js")) {
  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return impl; }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {
  this.xorwow = impl;
}

})(
  this,
   true && module,    // present in node.js
  __webpack_require__(/*! !webpack amd define */ "./node_modules/webpack/buildin/amd-define.js")   // present with an AMD loader
);



/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/seedrandom/seedrandom.js":
/*!***********************************************!*\
  !*** ./node_modules/seedrandom/seedrandom.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;/*
Copyright 2019 David Bau.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/

(function (global, pool, math) {
//
// The following constants are related to IEEE 754 limits.
//

var width = 256,        // each RC4 output is 0 <= x < 256
    chunks = 6,         // at least six RC4 outputs for each double
    digits = 52,        // there are 52 significant digits in a double
    rngname = 'random', // rngname: name for Math.random and Math.seedrandom
    startdenom = math.pow(width, chunks),
    significance = math.pow(2, digits),
    overflow = significance * 2,
    mask = width - 1,
    nodecrypto;         // node.js crypto module, initialized at the bottom.

//
// seedrandom()
// This is the seedrandom function described above.
//
function seedrandom(seed, options, callback) {
  var key = [];
  options = (options == true) ? { entropy: true } : (options || {});

  // Flatten the seed string or build one from local entropy if needed.
  var shortseed = mixkey(flatten(
    options.entropy ? [seed, tostring(pool)] :
    (seed == null) ? autoseed() : seed, 3), key);

  // Use the seed to initialize an ARC4 generator.
  var arc4 = new ARC4(key);

  // This function returns a random double in [0, 1) that contains
  // randomness in every bit of the mantissa of the IEEE 754 value.
  var prng = function() {
    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48
        d = startdenom,                 //   and denominator d = 2 ^ 48.
        x = 0;                          //   and no 'extra last byte'.
    while (n < significance) {          // Fill up all significant digits by
      n = (n + x) * width;              //   shifting numerator and
      d *= width;                       //   denominator and generating a
      x = arc4.g(1);                    //   new least-significant-byte.
    }
    while (n >= overflow) {             // To avoid rounding up, before adding
      n /= 2;                           //   last byte, shift everything
      d /= 2;                           //   right using integer math until
      x >>>= 1;                         //   we have exactly the desired bits.
    }
    return (n + x) / d;                 // Form the number within [0, 1).
  };

  prng.int32 = function() { return arc4.g(4) | 0; }
  prng.quick = function() { return arc4.g(4) / 0x100000000; }
  prng.double = prng;

  // Mix the randomness into accumulated entropy.
  mixkey(tostring(arc4.S), pool);

  // Calling convention: what to return as a function of prng, seed, is_math.
  return (options.pass || callback ||
      function(prng, seed, is_math_call, state) {
        if (state) {
          // Load the arc4 state from the given state if it has an S array.
          if (state.S) { copy(state, arc4); }
          // Only provide the .state method if requested via options.state.
          prng.state = function() { return copy(arc4, {}); }
        }

        // If called as a method of Math (Math.seedrandom()), mutate
        // Math.random because that is how seedrandom.js has worked since v1.0.
        if (is_math_call) { math[rngname] = prng; return seed; }

        // Otherwise, it is a newer calling convention, so return the
        // prng directly.
        else return prng;
      })(
  prng,
  shortseed,
  'global' in options ? options.global : (this == math),
  options.state);
}

//
// ARC4
//
// An ARC4 implementation.  The constructor takes a key in the form of
// an array of at most (width) integers that should be 0 <= x < (width).
//
// The g(count) method returns a pseudorandom integer that concatenates
// the next (count) outputs from ARC4.  Its return value is a number x
// that is in the range 0 <= x < (width ^ count).
//
function ARC4(key) {
  var t, keylen = key.length,
      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];

  // The empty key [] is treated as [0].
  if (!keylen) { key = [keylen++]; }

  // Set up S using the standard key scheduling algorithm.
  while (i < width) {
    s[i] = i++;
  }
  for (i = 0; i < width; i++) {
    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];
    s[j] = t;
  }

  // The "g" method returns the next (count) outputs as one number.
  (me.g = function(count) {
    // Using instance members instead of closure state nearly doubles speed.
    var t, r = 0,
        i = me.i, j = me.j, s = me.S;
    while (count--) {
      t = s[i = mask & (i + 1)];
      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];
    }
    me.i = i; me.j = j;
    return r;
    // For robust unpredictability, the function call below automatically
    // discards an initial batch of values.  This is called RC4-drop[256].
    // See http://google.com/search?q=rsa+fluhrer+response&btnI
  })(width);
}

//
// copy()
// Copies internal state of ARC4 to or from a plain object.
//
function copy(f, t) {
  t.i = f.i;
  t.j = f.j;
  t.S = f.S.slice();
  return t;
};

//
// flatten()
// Converts an object tree to nested arrays of strings.
//
function flatten(obj, depth) {
  var result = [], typ = (typeof obj), prop;
  if (depth && typ == 'object') {
    for (prop in obj) {
      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}
    }
  }
  return (result.length ? result : typ == 'string' ? obj : obj + '\0');
}

//
// mixkey()
// Mixes a string seed into a key that is an array of integers, and
// returns a shortened string seed that is equivalent to the result key.
//
function mixkey(seed, key) {
  var stringseed = seed + '', smear, j = 0;
  while (j < stringseed.length) {
    key[mask & j] =
      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));
  }
  return tostring(key);
}

//
// autoseed()
// Returns an object for autoseeding, using window.crypto and Node crypto
// module if available.
//
function autoseed() {
  try {
    var out;
    if (nodecrypto && (out = nodecrypto.randomBytes)) {
      // The use of 'out' to remember randomBytes makes tight minified code.
      out = out(width);
    } else {
      out = new Uint8Array(width);
      (global.crypto || global.msCrypto).getRandomValues(out);
    }
    return tostring(out);
  } catch (e) {
    var browser = global.navigator,
        plugins = browser && browser.plugins;
    return [+new Date, global, plugins, global.screen, tostring(pool)];
  }
}

//
// tostring()
// Converts an array of charcodes to a string
//
function tostring(a) {
  return String.fromCharCode.apply(0, a);
}

//
// When seedrandom.js is loaded, we immediately mix a few bits
// from the built-in RNG into the entropy pool.  Because we do
// not want to interfere with deterministic PRNG state later,
// seedrandom will not call math.random on its own again after
// initialization.
//
mixkey(math.random(), pool);

//
// Nodejs and AMD support: export the implementation as a module using
// either convention.
//
if ( true && module.exports) {
  module.exports = seedrandom;
  // When in node.js, try using crypto package for autoseeding.
  try {
    nodecrypto = __webpack_require__(/*! crypto */ 0);
  } catch (ex) {}
} else if (true) {
  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() { return seedrandom; }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {}


// End anonymous scope, and pass initial values.
})(
  // global: `self` in browsers (including strict mode and web workers),
  // otherwise `this` in Node and other environments
  (typeof self !== 'undefined') ? self : this,
  [],     // pool: entropy pool starts empty
  Math    // math: package containing random, pow, and seedrandom
);


/***/ }),

/***/ "./node_modules/socket.io-client/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/socket.io-client/lib/index.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Module dependencies.
 */

var url = __webpack_require__(/*! ./url */ "./node_modules/socket.io-client/lib/url.js");
var parser = __webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/index.js");
var Manager = __webpack_require__(/*! ./manager */ "./node_modules/socket.io-client/lib/manager.js");
var debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-client/node_modules/debug/src/browser.js")('socket.io-client');

/**
 * Module exports.
 */

module.exports = exports = lookup;

/**
 * Managers cache.
 */

var cache = exports.managers = {};

/**
 * Looks up an existing `Manager` for multiplexing.
 * If the user summons:
 *
 *   `io('http://localhost/a');`
 *   `io('http://localhost/b');`
 *
 * We reuse the existing instance based on same scheme/port/host,
 * and we initialize sockets for each namespace.
 *
 * @api public
 */

function lookup (uri, opts) {
  if (typeof uri === 'object') {
    opts = uri;
    uri = undefined;
  }

  opts = opts || {};

  var parsed = url(uri);
  var source = parsed.source;
  var id = parsed.id;
  var path = parsed.path;
  var sameNamespace = cache[id] && path in cache[id].nsps;
  var newConnection = opts.forceNew || opts['force new connection'] ||
                      false === opts.multiplex || sameNamespace;

  var io;

  if (newConnection) {
    debug('ignoring socket cache for %s', source);
    io = Manager(source, opts);
  } else {
    if (!cache[id]) {
      debug('new io instance for %s', source);
      cache[id] = Manager(source, opts);
    }
    io = cache[id];
  }
  if (parsed.query && !opts.query) {
    opts.query = parsed.query;
  }
  return io.socket(parsed.path, opts);
}

/**
 * Protocol version.
 *
 * @api public
 */

exports.protocol = parser.protocol;

/**
 * `connect`.
 *
 * @param {String} uri
 * @api public
 */

exports.connect = lookup;

/**
 * Expose constructors for standalone build.
 *
 * @api public
 */

exports.Manager = __webpack_require__(/*! ./manager */ "./node_modules/socket.io-client/lib/manager.js");
exports.Socket = __webpack_require__(/*! ./socket */ "./node_modules/socket.io-client/lib/socket.js");


/***/ }),

/***/ "./node_modules/socket.io-client/lib/manager.js":
/*!******************************************************!*\
  !*** ./node_modules/socket.io-client/lib/manager.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Module dependencies.
 */

var eio = __webpack_require__(/*! engine.io-client */ "./node_modules/engine.io-client/lib/index.js");
var Socket = __webpack_require__(/*! ./socket */ "./node_modules/socket.io-client/lib/socket.js");
var Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
var parser = __webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/index.js");
var on = __webpack_require__(/*! ./on */ "./node_modules/socket.io-client/lib/on.js");
var bind = __webpack_require__(/*! component-bind */ "./node_modules/component-bind/index.js");
var debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-client/node_modules/debug/src/browser.js")('socket.io-client:manager');
var indexOf = __webpack_require__(/*! indexof */ "./node_modules/indexof/index.js");
var Backoff = __webpack_require__(/*! backo2 */ "./node_modules/backo2/index.js");

/**
 * IE6+ hasOwnProperty
 */

var has = Object.prototype.hasOwnProperty;

/**
 * Module exports
 */

module.exports = Manager;

/**
 * `Manager` constructor.
 *
 * @param {String} engine instance or engine uri/opts
 * @param {Object} options
 * @api public
 */

function Manager (uri, opts) {
  if (!(this instanceof Manager)) return new Manager(uri, opts);
  if (uri && ('object' === typeof uri)) {
    opts = uri;
    uri = undefined;
  }
  opts = opts || {};

  opts.path = opts.path || '/socket.io';
  this.nsps = {};
  this.subs = [];
  this.opts = opts;
  this.reconnection(opts.reconnection !== false);
  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);
  this.reconnectionDelay(opts.reconnectionDelay || 1000);
  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);
  this.randomizationFactor(opts.randomizationFactor || 0.5);
  this.backoff = new Backoff({
    min: this.reconnectionDelay(),
    max: this.reconnectionDelayMax(),
    jitter: this.randomizationFactor()
  });
  this.timeout(null == opts.timeout ? 20000 : opts.timeout);
  this.readyState = 'closed';
  this.uri = uri;
  this.connecting = [];
  this.lastPing = null;
  this.encoding = false;
  this.packetBuffer = [];
  var _parser = opts.parser || parser;
  this.encoder = new _parser.Encoder();
  this.decoder = new _parser.Decoder();
  this.autoConnect = opts.autoConnect !== false;
  if (this.autoConnect) this.open();
}

/**
 * Propagate given event to sockets and emit on `this`
 *
 * @api private
 */

Manager.prototype.emitAll = function () {
  this.emit.apply(this, arguments);
  for (var nsp in this.nsps) {
    if (has.call(this.nsps, nsp)) {
      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);
    }
  }
};

/**
 * Update `socket.id` of all sockets
 *
 * @api private
 */

Manager.prototype.updateSocketIds = function () {
  for (var nsp in this.nsps) {
    if (has.call(this.nsps, nsp)) {
      this.nsps[nsp].id = this.generateId(nsp);
    }
  }
};

/**
 * generate `socket.id` for the given `nsp`
 *
 * @param {String} nsp
 * @return {String}
 * @api private
 */

Manager.prototype.generateId = function (nsp) {
  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;
};

/**
 * Mix in `Emitter`.
 */

Emitter(Manager.prototype);

/**
 * Sets the `reconnection` config.
 *
 * @param {Boolean} true/false if it should automatically reconnect
 * @return {Manager} self or value
 * @api public
 */

Manager.prototype.reconnection = function (v) {
  if (!arguments.length) return this._reconnection;
  this._reconnection = !!v;
  return this;
};

/**
 * Sets the reconnection attempts config.
 *
 * @param {Number} max reconnection attempts before giving up
 * @return {Manager} self or value
 * @api public
 */

Manager.prototype.reconnectionAttempts = function (v) {
  if (!arguments.length) return this._reconnectionAttempts;
  this._reconnectionAttempts = v;
  return this;
};

/**
 * Sets the delay between reconnections.
 *
 * @param {Number} delay
 * @return {Manager} self or value
 * @api public
 */

Manager.prototype.reconnectionDelay = function (v) {
  if (!arguments.length) return this._reconnectionDelay;
  this._reconnectionDelay = v;
  this.backoff && this.backoff.setMin(v);
  return this;
};

Manager.prototype.randomizationFactor = function (v) {
  if (!arguments.length) return this._randomizationFactor;
  this._randomizationFactor = v;
  this.backoff && this.backoff.setJitter(v);
  return this;
};

/**
 * Sets the maximum delay between reconnections.
 *
 * @param {Number} delay
 * @return {Manager} self or value
 * @api public
 */

Manager.prototype.reconnectionDelayMax = function (v) {
  if (!arguments.length) return this._reconnectionDelayMax;
  this._reconnectionDelayMax = v;
  this.backoff && this.backoff.setMax(v);
  return this;
};

/**
 * Sets the connection timeout. `false` to disable
 *
 * @return {Manager} self or value
 * @api public
 */

Manager.prototype.timeout = function (v) {
  if (!arguments.length) return this._timeout;
  this._timeout = v;
  return this;
};

/**
 * Starts trying to reconnect if reconnection is enabled and we have not
 * started reconnecting yet
 *
 * @api private
 */

Manager.prototype.maybeReconnectOnOpen = function () {
  // Only try to reconnect if it's the first time we're connecting
  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {
    // keeps reconnection from firing twice for the same reconnection loop
    this.reconnect();
  }
};

/**
 * Sets the current transport `socket`.
 *
 * @param {Function} optional, callback
 * @return {Manager} self
 * @api public
 */

Manager.prototype.open =
Manager.prototype.connect = function (fn, opts) {
  debug('readyState %s', this.readyState);
  if (~this.readyState.indexOf('open')) return this;

  debug('opening %s', this.uri);
  this.engine = eio(this.uri, this.opts);
  var socket = this.engine;
  var self = this;
  this.readyState = 'opening';
  this.skipReconnect = false;

  // emit `open`
  var openSub = on(socket, 'open', function () {
    self.onopen();
    fn && fn();
  });

  // emit `connect_error`
  var errorSub = on(socket, 'error', function (data) {
    debug('connect_error');
    self.cleanup();
    self.readyState = 'closed';
    self.emitAll('connect_error', data);
    if (fn) {
      var err = new Error('Connection error');
      err.data = data;
      fn(err);
    } else {
      // Only do this if there is no fn to handle the error
      self.maybeReconnectOnOpen();
    }
  });

  // emit `connect_timeout`
  if (false !== this._timeout) {
    var timeout = this._timeout;
    debug('connect attempt will timeout after %d', timeout);

    if (timeout === 0) {
      openSub.destroy(); // prevents a race condition with the 'open' event
    }

    // set timer
    var timer = setTimeout(function () {
      debug('connect attempt timed out after %d', timeout);
      openSub.destroy();
      socket.close();
      socket.emit('error', 'timeout');
      self.emitAll('connect_timeout', timeout);
    }, timeout);

    this.subs.push({
      destroy: function () {
        clearTimeout(timer);
      }
    });
  }

  this.subs.push(openSub);
  this.subs.push(errorSub);

  return this;
};

/**
 * Called upon transport open.
 *
 * @api private
 */

Manager.prototype.onopen = function () {
  debug('open');

  // clear old subs
  this.cleanup();

  // mark as open
  this.readyState = 'open';
  this.emit('open');

  // add new subs
  var socket = this.engine;
  this.subs.push(on(socket, 'data', bind(this, 'ondata')));
  this.subs.push(on(socket, 'ping', bind(this, 'onping')));
  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));
  this.subs.push(on(socket, 'error', bind(this, 'onerror')));
  this.subs.push(on(socket, 'close', bind(this, 'onclose')));
  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));
};

/**
 * Called upon a ping.
 *
 * @api private
 */

Manager.prototype.onping = function () {
  this.lastPing = new Date();
  this.emitAll('ping');
};

/**
 * Called upon a packet.
 *
 * @api private
 */

Manager.prototype.onpong = function () {
  this.emitAll('pong', new Date() - this.lastPing);
};

/**
 * Called with data.
 *
 * @api private
 */

Manager.prototype.ondata = function (data) {
  this.decoder.add(data);
};

/**
 * Called when parser fully decodes a packet.
 *
 * @api private
 */

Manager.prototype.ondecoded = function (packet) {
  this.emit('packet', packet);
};

/**
 * Called upon socket error.
 *
 * @api private
 */

Manager.prototype.onerror = function (err) {
  debug('error', err);
  this.emitAll('error', err);
};

/**
 * Creates a new socket for the given `nsp`.
 *
 * @return {Socket}
 * @api public
 */

Manager.prototype.socket = function (nsp, opts) {
  var socket = this.nsps[nsp];
  if (!socket) {
    socket = new Socket(this, nsp, opts);
    this.nsps[nsp] = socket;
    var self = this;
    socket.on('connecting', onConnecting);
    socket.on('connect', function () {
      socket.id = self.generateId(nsp);
    });

    if (this.autoConnect) {
      // manually call here since connecting event is fired before listening
      onConnecting();
    }
  }

  function onConnecting () {
    if (!~indexOf(self.connecting, socket)) {
      self.connecting.push(socket);
    }
  }

  return socket;
};

/**
 * Called upon a socket close.
 *
 * @param {Socket} socket
 */

Manager.prototype.destroy = function (socket) {
  var index = indexOf(this.connecting, socket);
  if (~index) this.connecting.splice(index, 1);
  if (this.connecting.length) return;

  this.close();
};

/**
 * Writes a packet.
 *
 * @param {Object} packet
 * @api private
 */

Manager.prototype.packet = function (packet) {
  debug('writing packet %j', packet);
  var self = this;
  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;

  if (!self.encoding) {
    // encode, then write to engine with result
    self.encoding = true;
    this.encoder.encode(packet, function (encodedPackets) {
      for (var i = 0; i < encodedPackets.length; i++) {
        self.engine.write(encodedPackets[i], packet.options);
      }
      self.encoding = false;
      self.processPacketQueue();
    });
  } else { // add packet to the queue
    self.packetBuffer.push(packet);
  }
};

/**
 * If packet buffer is non-empty, begins encoding the
 * next packet in line.
 *
 * @api private
 */

Manager.prototype.processPacketQueue = function () {
  if (this.packetBuffer.length > 0 && !this.encoding) {
    var pack = this.packetBuffer.shift();
    this.packet(pack);
  }
};

/**
 * Clean up transport subscriptions and packet buffer.
 *
 * @api private
 */

Manager.prototype.cleanup = function () {
  debug('cleanup');

  var subsLength = this.subs.length;
  for (var i = 0; i < subsLength; i++) {
    var sub = this.subs.shift();
    sub.destroy();
  }

  this.packetBuffer = [];
  this.encoding = false;
  this.lastPing = null;

  this.decoder.destroy();
};

/**
 * Close the current socket.
 *
 * @api private
 */

Manager.prototype.close =
Manager.prototype.disconnect = function () {
  debug('disconnect');
  this.skipReconnect = true;
  this.reconnecting = false;
  if ('opening' === this.readyState) {
    // `onclose` will not fire because
    // an open event never happened
    this.cleanup();
  }
  this.backoff.reset();
  this.readyState = 'closed';
  if (this.engine) this.engine.close();
};

/**
 * Called upon engine close.
 *
 * @api private
 */

Manager.prototype.onclose = function (reason) {
  debug('onclose');

  this.cleanup();
  this.backoff.reset();
  this.readyState = 'closed';
  this.emit('close', reason);

  if (this._reconnection && !this.skipReconnect) {
    this.reconnect();
  }
};

/**
 * Attempt a reconnection.
 *
 * @api private
 */

Manager.prototype.reconnect = function () {
  if (this.reconnecting || this.skipReconnect) return this;

  var self = this;

  if (this.backoff.attempts >= this._reconnectionAttempts) {
    debug('reconnect failed');
    this.backoff.reset();
    this.emitAll('reconnect_failed');
    this.reconnecting = false;
  } else {
    var delay = this.backoff.duration();
    debug('will wait %dms before reconnect attempt', delay);

    this.reconnecting = true;
    var timer = setTimeout(function () {
      if (self.skipReconnect) return;

      debug('attempting reconnect');
      self.emitAll('reconnect_attempt', self.backoff.attempts);
      self.emitAll('reconnecting', self.backoff.attempts);

      // check again for the case socket closed in above events
      if (self.skipReconnect) return;

      self.open(function (err) {
        if (err) {
          debug('reconnect attempt error');
          self.reconnecting = false;
          self.reconnect();
          self.emitAll('reconnect_error', err.data);
        } else {
          debug('reconnect success');
          self.onreconnect();
        }
      });
    }, delay);

    this.subs.push({
      destroy: function () {
        clearTimeout(timer);
      }
    });
  }
};

/**
 * Called upon successful reconnect.
 *
 * @api private
 */

Manager.prototype.onreconnect = function () {
  var attempt = this.backoff.attempts;
  this.reconnecting = false;
  this.backoff.reset();
  this.updateSocketIds();
  this.emitAll('reconnect', attempt);
};


/***/ }),

/***/ "./node_modules/socket.io-client/lib/on.js":
/*!*************************************************!*\
  !*** ./node_modules/socket.io-client/lib/on.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * Module exports.
 */

module.exports = on;

/**
 * Helper for subscriptions.
 *
 * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`
 * @param {String} event name
 * @param {Function} callback
 * @api public
 */

function on (obj, ev, fn) {
  obj.on(ev, fn);
  return {
    destroy: function () {
      obj.removeListener(ev, fn);
    }
  };
}


/***/ }),

/***/ "./node_modules/socket.io-client/lib/socket.js":
/*!*****************************************************!*\
  !*** ./node_modules/socket.io-client/lib/socket.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Module dependencies.
 */

var parser = __webpack_require__(/*! socket.io-parser */ "./node_modules/socket.io-parser/index.js");
var Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
var toArray = __webpack_require__(/*! to-array */ "./node_modules/to-array/index.js");
var on = __webpack_require__(/*! ./on */ "./node_modules/socket.io-client/lib/on.js");
var bind = __webpack_require__(/*! component-bind */ "./node_modules/component-bind/index.js");
var debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-client/node_modules/debug/src/browser.js")('socket.io-client:socket');
var parseqs = __webpack_require__(/*! parseqs */ "./node_modules/parseqs/index.js");
var hasBin = __webpack_require__(/*! has-binary2 */ "./node_modules/has-binary2/index.js");

/**
 * Module exports.
 */

module.exports = exports = Socket;

/**
 * Internal events (blacklisted).
 * These events can't be emitted by the user.
 *
 * @api private
 */

var events = {
  connect: 1,
  connect_error: 1,
  connect_timeout: 1,
  connecting: 1,
  disconnect: 1,
  error: 1,
  reconnect: 1,
  reconnect_attempt: 1,
  reconnect_failed: 1,
  reconnect_error: 1,
  reconnecting: 1,
  ping: 1,
  pong: 1
};

/**
 * Shortcut to `Emitter#emit`.
 */

var emit = Emitter.prototype.emit;

/**
 * `Socket` constructor.
 *
 * @api public
 */

function Socket (io, nsp, opts) {
  this.io = io;
  this.nsp = nsp;
  this.json = this; // compat
  this.ids = 0;
  this.acks = {};
  this.receiveBuffer = [];
  this.sendBuffer = [];
  this.connected = false;
  this.disconnected = true;
  this.flags = {};
  if (opts && opts.query) {
    this.query = opts.query;
  }
  if (this.io.autoConnect) this.open();
}

/**
 * Mix in `Emitter`.
 */

Emitter(Socket.prototype);

/**
 * Subscribe to open, close and packet events
 *
 * @api private
 */

Socket.prototype.subEvents = function () {
  if (this.subs) return;

  var io = this.io;
  this.subs = [
    on(io, 'open', bind(this, 'onopen')),
    on(io, 'packet', bind(this, 'onpacket')),
    on(io, 'close', bind(this, 'onclose'))
  ];
};

/**
 * "Opens" the socket.
 *
 * @api public
 */

Socket.prototype.open =
Socket.prototype.connect = function () {
  if (this.connected) return this;

  this.subEvents();
  if (!this.io.reconnecting) this.io.open(); // ensure open
  if ('open' === this.io.readyState) this.onopen();
  this.emit('connecting');
  return this;
};

/**
 * Sends a `message` event.
 *
 * @return {Socket} self
 * @api public
 */

Socket.prototype.send = function () {
  var args = toArray(arguments);
  args.unshift('message');
  this.emit.apply(this, args);
  return this;
};

/**
 * Override `emit`.
 * If the event is in `events`, it's emitted normally.
 *
 * @param {String} event name
 * @return {Socket} self
 * @api public
 */

Socket.prototype.emit = function (ev) {
  if (events.hasOwnProperty(ev)) {
    emit.apply(this, arguments);
    return this;
  }

  var args = toArray(arguments);
  var packet = {
    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,
    data: args
  };

  packet.options = {};
  packet.options.compress = !this.flags || false !== this.flags.compress;

  // event ack callback
  if ('function' === typeof args[args.length - 1]) {
    debug('emitting packet with ack id %d', this.ids);
    this.acks[this.ids] = args.pop();
    packet.id = this.ids++;
  }

  if (this.connected) {
    this.packet(packet);
  } else {
    this.sendBuffer.push(packet);
  }

  this.flags = {};

  return this;
};

/**
 * Sends a packet.
 *
 * @param {Object} packet
 * @api private
 */

Socket.prototype.packet = function (packet) {
  packet.nsp = this.nsp;
  this.io.packet(packet);
};

/**
 * Called upon engine `open`.
 *
 * @api private
 */

Socket.prototype.onopen = function () {
  debug('transport is open - connecting');

  // write connect packet if necessary
  if ('/' !== this.nsp) {
    if (this.query) {
      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;
      debug('sending connect packet with query %s', query);
      this.packet({type: parser.CONNECT, query: query});
    } else {
      this.packet({type: parser.CONNECT});
    }
  }
};

/**
 * Called upon engine `close`.
 *
 * @param {String} reason
 * @api private
 */

Socket.prototype.onclose = function (reason) {
  debug('close (%s)', reason);
  this.connected = false;
  this.disconnected = true;
  delete this.id;
  this.emit('disconnect', reason);
};

/**
 * Called with socket packet.
 *
 * @param {Object} packet
 * @api private
 */

Socket.prototype.onpacket = function (packet) {
  var sameNamespace = packet.nsp === this.nsp;
  var rootNamespaceError = packet.type === parser.ERROR && packet.nsp === '/';

  if (!sameNamespace && !rootNamespaceError) return;

  switch (packet.type) {
    case parser.CONNECT:
      this.onconnect();
      break;

    case parser.EVENT:
      this.onevent(packet);
      break;

    case parser.BINARY_EVENT:
      this.onevent(packet);
      break;

    case parser.ACK:
      this.onack(packet);
      break;

    case parser.BINARY_ACK:
      this.onack(packet);
      break;

    case parser.DISCONNECT:
      this.ondisconnect();
      break;

    case parser.ERROR:
      this.emit('error', packet.data);
      break;
  }
};

/**
 * Called upon a server event.
 *
 * @param {Object} packet
 * @api private
 */

Socket.prototype.onevent = function (packet) {
  var args = packet.data || [];
  debug('emitting event %j', args);

  if (null != packet.id) {
    debug('attaching ack callback to event');
    args.push(this.ack(packet.id));
  }

  if (this.connected) {
    emit.apply(this, args);
  } else {
    this.receiveBuffer.push(args);
  }
};

/**
 * Produces an ack callback to emit with an event.
 *
 * @api private
 */

Socket.prototype.ack = function (id) {
  var self = this;
  var sent = false;
  return function () {
    // prevent double callbacks
    if (sent) return;
    sent = true;
    var args = toArray(arguments);
    debug('sending ack %j', args);

    self.packet({
      type: hasBin(args) ? parser.BINARY_ACK : parser.ACK,
      id: id,
      data: args
    });
  };
};

/**
 * Called upon a server acknowlegement.
 *
 * @param {Object} packet
 * @api private
 */

Socket.prototype.onack = function (packet) {
  var ack = this.acks[packet.id];
  if ('function' === typeof ack) {
    debug('calling ack %s with %j', packet.id, packet.data);
    ack.apply(this, packet.data);
    delete this.acks[packet.id];
  } else {
    debug('bad ack %s', packet.id);
  }
};

/**
 * Called upon server connect.
 *
 * @api private
 */

Socket.prototype.onconnect = function () {
  this.connected = true;
  this.disconnected = false;
  this.emit('connect');
  this.emitBuffered();
};

/**
 * Emit buffered events (received and emitted).
 *
 * @api private
 */

Socket.prototype.emitBuffered = function () {
  var i;
  for (i = 0; i < this.receiveBuffer.length; i++) {
    emit.apply(this, this.receiveBuffer[i]);
  }
  this.receiveBuffer = [];

  for (i = 0; i < this.sendBuffer.length; i++) {
    this.packet(this.sendBuffer[i]);
  }
  this.sendBuffer = [];
};

/**
 * Called upon server disconnect.
 *
 * @api private
 */

Socket.prototype.ondisconnect = function () {
  debug('server disconnect (%s)', this.nsp);
  this.destroy();
  this.onclose('io server disconnect');
};

/**
 * Called upon forced client/server side disconnections,
 * this method ensures the manager stops tracking us and
 * that reconnections don't get triggered for this.
 *
 * @api private.
 */

Socket.prototype.destroy = function () {
  if (this.subs) {
    // clean subscriptions to avoid reconnections
    for (var i = 0; i < this.subs.length; i++) {
      this.subs[i].destroy();
    }
    this.subs = null;
  }

  this.io.destroy(this);
};

/**
 * Disconnects the socket manually.
 *
 * @return {Socket} self
 * @api public
 */

Socket.prototype.close =
Socket.prototype.disconnect = function () {
  if (this.connected) {
    debug('performing disconnect (%s)', this.nsp);
    this.packet({ type: parser.DISCONNECT });
  }

  // remove socket from pool
  this.destroy();

  if (this.connected) {
    // fire events
    this.onclose('io client disconnect');
  }
  return this;
};

/**
 * Sets the compress flag.
 *
 * @param {Boolean} if `true`, compresses the sending data
 * @return {Socket} self
 * @api public
 */

Socket.prototype.compress = function (compress) {
  this.flags.compress = compress;
  return this;
};

/**
 * Sets the binary flag
 *
 * @param {Boolean} whether the emitted data contains binary
 * @return {Socket} self
 * @api public
 */

Socket.prototype.binary = function (binary) {
  this.flags.binary = binary;
  return this;
};


/***/ }),

/***/ "./node_modules/socket.io-client/lib/url.js":
/*!**************************************************!*\
  !*** ./node_modules/socket.io-client/lib/url.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Module dependencies.
 */

var parseuri = __webpack_require__(/*! parseuri */ "./node_modules/parseuri/index.js");
var debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-client/node_modules/debug/src/browser.js")('socket.io-client:url');

/**
 * Module exports.
 */

module.exports = url;

/**
 * URL parser.
 *
 * @param {String} url
 * @param {Object} An object meant to mimic window.location.
 *                 Defaults to window.location.
 * @api public
 */

function url (uri, loc) {
  var obj = uri;

  // default to window.location
  loc = loc || (typeof location !== 'undefined' && location);
  if (null == uri) uri = loc.protocol + '//' + loc.host;

  // relative path support
  if ('string' === typeof uri) {
    if ('/' === uri.charAt(0)) {
      if ('/' === uri.charAt(1)) {
        uri = loc.protocol + uri;
      } else {
        uri = loc.host + uri;
      }
    }

    if (!/^(https?|wss?):\/\//.test(uri)) {
      debug('protocol-less url %s', uri);
      if ('undefined' !== typeof loc) {
        uri = loc.protocol + '//' + uri;
      } else {
        uri = 'https://' + uri;
      }
    }

    // parse
    debug('parse %s', uri);
    obj = parseuri(uri);
  }

  // make sure we treat `localhost:80` and `localhost` equally
  if (!obj.port) {
    if (/^(http|ws)$/.test(obj.protocol)) {
      obj.port = '80';
    } else if (/^(http|ws)s$/.test(obj.protocol)) {
      obj.port = '443';
    }
  }

  obj.path = obj.path || '/';

  var ipv6 = obj.host.indexOf(':') !== -1;
  var host = ipv6 ? '[' + obj.host + ']' : obj.host;

  // define unique id
  obj.id = obj.protocol + '://' + host + ':' + obj.port;
  // define href
  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));

  return obj;
}


/***/ }),

/***/ "./node_modules/socket.io-client/node_modules/debug/src/browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/socket.io-client/node_modules/debug/src/browser.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = __webpack_require__(/*! ./debug */ "./node_modules/socket.io-client/node_modules/debug/src/debug.js");
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',
  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',
  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',
  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',
  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',
  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',
  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',
  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',
  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',
  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',
  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // Internet Explorer and Edge do not support colors.
  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
    return false;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit')

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/socket.io-client/node_modules/debug/src/debug.js":
/*!***********************************************************************!*\
  !*** ./node_modules/socket.io-client/node_modules/debug/src/debug.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");

/**
 * Active `debug` instances.
 */
exports.instances = [];

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  var prevTime;

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);
  debug.destroy = destroy;

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  exports.instances.push(debug);

  return debug;
}

function destroy () {
  var index = exports.instances.indexOf(this);
  if (index !== -1) {
    exports.instances.splice(index, 1);
    return true;
  } else {
    return false;
  }
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var i;
  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }

  for (i = 0; i < exports.instances.length; i++) {
    var instance = exports.instances[i];
    instance.enabled = exports.enabled(instance.namespace);
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  if (name[name.length - 1] === '*') {
    return true;
  }
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}


/***/ }),

/***/ "./node_modules/socket.io-parser/binary.js":
/*!*************************************************!*\
  !*** ./node_modules/socket.io-parser/binary.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*global Blob,File*/

/**
 * Module requirements
 */

var isArray = __webpack_require__(/*! isarray */ "./node_modules/socket.io-parser/node_modules/isarray/index.js");
var isBuf = __webpack_require__(/*! ./is-buffer */ "./node_modules/socket.io-parser/is-buffer.js");
var toString = Object.prototype.toString;
var withNativeBlob = typeof Blob === 'function' || (typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]');
var withNativeFile = typeof File === 'function' || (typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]');

/**
 * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.
 * Anything with blobs or files should be fed through removeBlobs before coming
 * here.
 *
 * @param {Object} packet - socket.io event packet
 * @return {Object} with deconstructed packet and list of buffers
 * @api public
 */

exports.deconstructPacket = function(packet) {
  var buffers = [];
  var packetData = packet.data;
  var pack = packet;
  pack.data = _deconstructPacket(packetData, buffers);
  pack.attachments = buffers.length; // number of binary 'attachments'
  return {packet: pack, buffers: buffers};
};

function _deconstructPacket(data, buffers) {
  if (!data) return data;

  if (isBuf(data)) {
    var placeholder = { _placeholder: true, num: buffers.length };
    buffers.push(data);
    return placeholder;
  } else if (isArray(data)) {
    var newData = new Array(data.length);
    for (var i = 0; i < data.length; i++) {
      newData[i] = _deconstructPacket(data[i], buffers);
    }
    return newData;
  } else if (typeof data === 'object' && !(data instanceof Date)) {
    var newData = {};
    for (var key in data) {
      newData[key] = _deconstructPacket(data[key], buffers);
    }
    return newData;
  }
  return data;
}

/**
 * Reconstructs a binary packet from its placeholder packet and buffers
 *
 * @param {Object} packet - event packet with placeholders
 * @param {Array} buffers - binary buffers to put in placeholder positions
 * @return {Object} reconstructed packet
 * @api public
 */

exports.reconstructPacket = function(packet, buffers) {
  packet.data = _reconstructPacket(packet.data, buffers);
  packet.attachments = undefined; // no longer useful
  return packet;
};

function _reconstructPacket(data, buffers) {
  if (!data) return data;

  if (data && data._placeholder) {
    return buffers[data.num]; // appropriate buffer (should be natural order anyway)
  } else if (isArray(data)) {
    for (var i = 0; i < data.length; i++) {
      data[i] = _reconstructPacket(data[i], buffers);
    }
  } else if (typeof data === 'object') {
    for (var key in data) {
      data[key] = _reconstructPacket(data[key], buffers);
    }
  }

  return data;
}

/**
 * Asynchronously removes Blobs or Files from data via
 * FileReader's readAsArrayBuffer method. Used before encoding
 * data as msgpack. Calls callback with the blobless data.
 *
 * @param {Object} data
 * @param {Function} callback
 * @api private
 */

exports.removeBlobs = function(data, callback) {
  function _removeBlobs(obj, curKey, containingObject) {
    if (!obj) return obj;

    // convert any blob
    if ((withNativeBlob && obj instanceof Blob) ||
        (withNativeFile && obj instanceof File)) {
      pendingBlobs++;

      // async filereader
      var fileReader = new FileReader();
      fileReader.onload = function() { // this.result == arraybuffer
        if (containingObject) {
          containingObject[curKey] = this.result;
        }
        else {
          bloblessData = this.result;
        }

        // if nothing pending its callback time
        if(! --pendingBlobs) {
          callback(bloblessData);
        }
      };

      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer
    } else if (isArray(obj)) { // handle array
      for (var i = 0; i < obj.length; i++) {
        _removeBlobs(obj[i], i, obj);
      }
    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object
      for (var key in obj) {
        _removeBlobs(obj[key], key, obj);
      }
    }
  }

  var pendingBlobs = 0;
  var bloblessData = data;
  _removeBlobs(bloblessData);
  if (!pendingBlobs) {
    callback(bloblessData);
  }
};


/***/ }),

/***/ "./node_modules/socket.io-parser/index.js":
/*!************************************************!*\
  !*** ./node_modules/socket.io-parser/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * Module dependencies.
 */

var debug = __webpack_require__(/*! debug */ "./node_modules/socket.io-parser/node_modules/debug/src/browser.js")('socket.io-parser');
var Emitter = __webpack_require__(/*! component-emitter */ "./node_modules/component-emitter/index.js");
var binary = __webpack_require__(/*! ./binary */ "./node_modules/socket.io-parser/binary.js");
var isArray = __webpack_require__(/*! isarray */ "./node_modules/socket.io-parser/node_modules/isarray/index.js");
var isBuf = __webpack_require__(/*! ./is-buffer */ "./node_modules/socket.io-parser/is-buffer.js");

/**
 * Protocol version.
 *
 * @api public
 */

exports.protocol = 4;

/**
 * Packet types.
 *
 * @api public
 */

exports.types = [
  'CONNECT',
  'DISCONNECT',
  'EVENT',
  'ACK',
  'ERROR',
  'BINARY_EVENT',
  'BINARY_ACK'
];

/**
 * Packet type `connect`.
 *
 * @api public
 */

exports.CONNECT = 0;

/**
 * Packet type `disconnect`.
 *
 * @api public
 */

exports.DISCONNECT = 1;

/**
 * Packet type `event`.
 *
 * @api public
 */

exports.EVENT = 2;

/**
 * Packet type `ack`.
 *
 * @api public
 */

exports.ACK = 3;

/**
 * Packet type `error`.
 *
 * @api public
 */

exports.ERROR = 4;

/**
 * Packet type 'binary event'
 *
 * @api public
 */

exports.BINARY_EVENT = 5;

/**
 * Packet type `binary ack`. For acks with binary arguments.
 *
 * @api public
 */

exports.BINARY_ACK = 6;

/**
 * Encoder constructor.
 *
 * @api public
 */

exports.Encoder = Encoder;

/**
 * Decoder constructor.
 *
 * @api public
 */

exports.Decoder = Decoder;

/**
 * A socket.io Encoder instance
 *
 * @api public
 */

function Encoder() {}

var ERROR_PACKET = exports.ERROR + '"encode error"';

/**
 * Encode a packet as a single string if non-binary, or as a
 * buffer sequence, depending on packet type.
 *
 * @param {Object} obj - packet object
 * @param {Function} callback - function to handle encodings (likely engine.write)
 * @return Calls callback with Array of encodings
 * @api public
 */

Encoder.prototype.encode = function(obj, callback){
  debug('encoding packet %j', obj);

  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {
    encodeAsBinary(obj, callback);
  } else {
    var encoding = encodeAsString(obj);
    callback([encoding]);
  }
};

/**
 * Encode packet as string.
 *
 * @param {Object} packet
 * @return {String} encoded
 * @api private
 */

function encodeAsString(obj) {

  // first is type
  var str = '' + obj.type;

  // attachments if we have them
  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {
    str += obj.attachments + '-';
  }

  // if we have a namespace other than `/`
  // we append it followed by a comma `,`
  if (obj.nsp && '/' !== obj.nsp) {
    str += obj.nsp + ',';
  }

  // immediately followed by the id
  if (null != obj.id) {
    str += obj.id;
  }

  // json data
  if (null != obj.data) {
    var payload = tryStringify(obj.data);
    if (payload !== false) {
      str += payload;
    } else {
      return ERROR_PACKET;
    }
  }

  debug('encoded %j as %s', obj, str);
  return str;
}

function tryStringify(str) {
  try {
    return JSON.stringify(str);
  } catch(e){
    return false;
  }
}

/**
 * Encode packet as 'buffer sequence' by removing blobs, and
 * deconstructing packet into object with placeholders and
 * a list of buffers.
 *
 * @param {Object} packet
 * @return {Buffer} encoded
 * @api private
 */

function encodeAsBinary(obj, callback) {

  function writeEncoding(bloblessData) {
    var deconstruction = binary.deconstructPacket(bloblessData);
    var pack = encodeAsString(deconstruction.packet);
    var buffers = deconstruction.buffers;

    buffers.unshift(pack); // add packet info to beginning of data list
    callback(buffers); // write all the buffers
  }

  binary.removeBlobs(obj, writeEncoding);
}

/**
 * A socket.io Decoder instance
 *
 * @return {Object} decoder
 * @api public
 */

function Decoder() {
  this.reconstructor = null;
}

/**
 * Mix in `Emitter` with Decoder.
 */

Emitter(Decoder.prototype);

/**
 * Decodes an encoded packet string into packet JSON.
 *
 * @param {String} obj - encoded packet
 * @return {Object} packet
 * @api public
 */

Decoder.prototype.add = function(obj) {
  var packet;
  if (typeof obj === 'string') {
    packet = decodeString(obj);
    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json
      this.reconstructor = new BinaryReconstructor(packet);

      // no attachments, labeled binary but no binary data to follow
      if (this.reconstructor.reconPack.attachments === 0) {
        this.emit('decoded', packet);
      }
    } else { // non-binary full packet
      this.emit('decoded', packet);
    }
  } else if (isBuf(obj) || obj.base64) { // raw binary data
    if (!this.reconstructor) {
      throw new Error('got binary data when not reconstructing a packet');
    } else {
      packet = this.reconstructor.takeBinaryData(obj);
      if (packet) { // received final buffer
        this.reconstructor = null;
        this.emit('decoded', packet);
      }
    }
  } else {
    throw new Error('Unknown type: ' + obj);
  }
};

/**
 * Decode a packet String (JSON data)
 *
 * @param {String} str
 * @return {Object} packet
 * @api private
 */

function decodeString(str) {
  var i = 0;
  // look up type
  var p = {
    type: Number(str.charAt(0))
  };

  if (null == exports.types[p.type]) {
    return error('unknown packet type ' + p.type);
  }

  // look up attachments if type binary
  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {
    var buf = '';
    while (str.charAt(++i) !== '-') {
      buf += str.charAt(i);
      if (i == str.length) break;
    }
    if (buf != Number(buf) || str.charAt(i) !== '-') {
      throw new Error('Illegal attachments');
    }
    p.attachments = Number(buf);
  }

  // look up namespace (if any)
  if ('/' === str.charAt(i + 1)) {
    p.nsp = '';
    while (++i) {
      var c = str.charAt(i);
      if (',' === c) break;
      p.nsp += c;
      if (i === str.length) break;
    }
  } else {
    p.nsp = '/';
  }

  // look up id
  var next = str.charAt(i + 1);
  if ('' !== next && Number(next) == next) {
    p.id = '';
    while (++i) {
      var c = str.charAt(i);
      if (null == c || Number(c) != c) {
        --i;
        break;
      }
      p.id += str.charAt(i);
      if (i === str.length) break;
    }
    p.id = Number(p.id);
  }

  // look up json data
  if (str.charAt(++i)) {
    var payload = tryParse(str.substr(i));
    var isPayloadValid = payload !== false && (p.type === exports.ERROR || isArray(payload));
    if (isPayloadValid) {
      p.data = payload;
    } else {
      return error('invalid payload');
    }
  }

  debug('decoded %s as %j', str, p);
  return p;
}

function tryParse(str) {
  try {
    return JSON.parse(str);
  } catch(e){
    return false;
  }
}

/**
 * Deallocates a parser's resources
 *
 * @api public
 */

Decoder.prototype.destroy = function() {
  if (this.reconstructor) {
    this.reconstructor.finishedReconstruction();
  }
};

/**
 * A manager of a binary event's 'buffer sequence'. Should
 * be constructed whenever a packet of type BINARY_EVENT is
 * decoded.
 *
 * @param {Object} packet
 * @return {BinaryReconstructor} initialized reconstructor
 * @api private
 */

function BinaryReconstructor(packet) {
  this.reconPack = packet;
  this.buffers = [];
}

/**
 * Method to be called when binary data received from connection
 * after a BINARY_EVENT packet.
 *
 * @param {Buffer | ArrayBuffer} binData - the raw binary data received
 * @return {null | Object} returns null if more binary data is expected or
 *   a reconstructed packet object if all buffers have been received.
 * @api private
 */

BinaryReconstructor.prototype.takeBinaryData = function(binData) {
  this.buffers.push(binData);
  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list
    var packet = binary.reconstructPacket(this.reconPack, this.buffers);
    this.finishedReconstruction();
    return packet;
  }
  return null;
};

/**
 * Cleans up binary packet reconstruction variables.
 *
 * @api private
 */

BinaryReconstructor.prototype.finishedReconstruction = function() {
  this.reconPack = null;
  this.buffers = [];
};

function error(msg) {
  return {
    type: exports.ERROR,
    data: 'parser error: ' + msg
  };
}


/***/ }),

/***/ "./node_modules/socket.io-parser/is-buffer.js":
/*!****************************************************!*\
  !*** ./node_modules/socket.io-parser/is-buffer.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(Buffer) {
module.exports = isBuf;

var withNativeBuffer = typeof Buffer === 'function' && typeof Buffer.isBuffer === 'function';
var withNativeArrayBuffer = typeof ArrayBuffer === 'function';

var isView = function (obj) {
  return typeof ArrayBuffer.isView === 'function' ? ArrayBuffer.isView(obj) : (obj.buffer instanceof ArrayBuffer);
};

/**
 * Returns true if obj is a buffer or an arraybuffer.
 *
 * @api private
 */

function isBuf(obj) {
  return (withNativeBuffer && Buffer.isBuffer(obj)) ||
          (withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)));
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../buffer/index.js */ "./node_modules/buffer/index.js").Buffer))

/***/ }),

/***/ "./node_modules/socket.io-parser/node_modules/debug/src/browser.js":
/*!*************************************************************************!*\
  !*** ./node_modules/socket.io-parser/node_modules/debug/src/browser.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = __webpack_require__(/*! ./debug */ "./node_modules/socket.io-parser/node_modules/debug/src/debug.js");
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',
  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',
  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',
  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',
  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',
  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',
  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',
  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',
  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',
  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',
  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // Internet Explorer and Edge do not support colors.
  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
    return false;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit')

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/socket.io-parser/node_modules/debug/src/debug.js":
/*!***********************************************************************!*\
  !*** ./node_modules/socket.io-parser/node_modules/debug/src/debug.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");

/**
 * Active `debug` instances.
 */
exports.instances = [];

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  var prevTime;

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);
  debug.destroy = destroy;

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  exports.instances.push(debug);

  return debug;
}

function destroy () {
  var index = exports.instances.indexOf(this);
  if (index !== -1) {
    exports.instances.splice(index, 1);
    return true;
  } else {
    return false;
  }
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var i;
  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }

  for (i = 0; i < exports.instances.length; i++) {
    var instance = exports.instances[i];
    instance.enabled = exports.enabled(instance.namespace);
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  if (name[name.length - 1] === '*') {
    return true;
  }
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}


/***/ }),

/***/ "./node_modules/socket.io-parser/node_modules/isarray/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/socket.io-parser/node_modules/isarray/index.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = Array.isArray || function (arr) {
  return toString.call(arr) == '[object Array]';
};


/***/ }),

/***/ "./node_modules/to-array/index.js":
/*!****************************************!*\
  !*** ./node_modules/to-array/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = toArray

function toArray(list, index) {
    var array = []

    index = index || 0

    for (var i = index || 0; i < list.length; i++) {
        array[i - index] = list[i]
    }

    return array
}


/***/ }),

/***/ "./node_modules/webpack/buildin/amd-define.js":
/*!***************************************!*\
  !*** (webpack)/buildin/amd-define.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function() {
	throw new Error("define cannot be used indirect");
};


/***/ }),

/***/ "./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(this, {}))

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./node_modules/yeast/index.js":
/*!*************************************!*\
  !*** ./node_modules/yeast/index.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')
  , length = 64
  , map = {}
  , seed = 0
  , i = 0
  , prev;

/**
 * Return a string representing the specified number.
 *
 * @param {Number} num The number to convert.
 * @returns {String} The string representation of the number.
 * @api public
 */
function encode(num) {
  var encoded = '';

  do {
    encoded = alphabet[num % length] + encoded;
    num = Math.floor(num / length);
  } while (num > 0);

  return encoded;
}

/**
 * Return the integer value specified by the given string.
 *
 * @param {String} str The string to convert.
 * @returns {Number} The integer value represented by the string.
 * @api public
 */
function decode(str) {
  var decoded = 0;

  for (i = 0; i < str.length; i++) {
    decoded = decoded * length + map[str.charAt(i)];
  }

  return decoded;
}

/**
 * Yeast: A tiny growing id generator.
 *
 * @returns {String} A unique id.
 * @api public
 */
function yeast() {
  var now = encode(+new Date());

  if (now !== prev) return seed = 0, prev = now;
  return now +'.'+ encode(seed++);
}

//
// Map each character to its index.
//
for (; i < length; i++) map[alphabet[i]] = i;

//
// Expose the `yeast`, `encode` and `decode` functions.
//
yeast.encode = encode;
yeast.decode = decode;
module.exports = yeast;


/***/ }),

/***/ "./src/Shim.js":
/*!*********************!*\
  !*** ./src/Shim.js ***!
  \*********************/
/*! exports provided: Game, WorkersAvailable, NotificationMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Game", function() { return Game; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorkersAvailable", function() { return WorkersAvailable; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationMessage", function() { return NotificationMessage; });
/* harmony import */ var _engine_Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./engine/Constants */ "./src/engine/Constants.js");
/* harmony import */ var _engine_GameController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./engine/GameController */ "./src/engine/GameController.js");
/* harmony import */ var _engine_GameControllerWorker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./engine/GameControllerWorker */ "./src/engine/GameControllerWorker.js");
/* harmony import */ var _ui_GameUI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ui/GameUI */ "./src/ui/GameUI.js");
/* harmony import */ var _engine_GameEngine__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./engine/GameEngine */ "./src/engine/GameEngine.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jsgametools */ "./node_modules/jsgametools/lib/JSGameTools.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jsgametools__WEBPACK_IMPORTED_MODULE_5__);
/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */





 // Polyfills

if (typeof window !== "undefined") {
  window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;
  window.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame || window.mozCancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame;
}

if (typeof document !== "undefined" && typeof document.fullscreenElement === "undefined") {
  Object.defineProperty(document, "fullscreenElement", {
    get: function get() {
      return document.mozFullScreenElement || document.msFullscreenElement || document.webkitFullscreenElement || document.oFullscreenElement;
    }
  });
}

if (typeof document !== "undefined") {
  document.exitFullscreen = document.exitFullscreen || document.mozCancelFullScreen || document.webkitExitFullscreen || document.msExitFullscreen;
}

if (!String.prototype.trim) {
  String.prototype.trim = function () {
    return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '');
  };
} // Test if Workerd are supported


function WorkersAvailable(callback) {
  if (typeof window !== "undefined") {
    try {
      if (!window.Worker) throw "Workers not supported";
      var testWorker = new Worker("dist/GameEngineWorker.js");

      if (testWorker) {
        testWorker.postMessage("ping");

        testWorker.onmessage = function (e) {
          if (e.data == "pong") {
            testWorker.terminate();
            return callback(true);
          }
        };
      }
    } catch (e) {
      return callback(false);
    }
  }
}

var workersAvailable = false;
WorkersAvailable(function (result) {
  workersAvailable = result;
}); // Old game API

function Game(grid, snake, speed, appendTo, enablePause, enableRetry, progressiveSpeed, canvasWidth, canvasHeight, displayFPS, outputType, settings, ui, onlineMode) {
  var controller;
  var engine = new _engine_GameEngine__WEBPACK_IMPORTED_MODULE_4__["default"](grid, snake, speed, enablePause, enableRetry, progressiveSpeed);
  engine.init();

  if (workersAvailable && settings.enableMultithreading) {
    controller = new _engine_GameControllerWorker__WEBPACK_IMPORTED_MODULE_2__["default"](engine);
  } else {
    controller = new _engine_GameController__WEBPACK_IMPORTED_MODULE_1__["default"](engine);
  }

  if (ui) {
    controller.gameUI = ui;
  } else {
    controller.gameUI = new _ui_GameUI__WEBPACK_IMPORTED_MODULE_3__["default"](controller, appendTo, canvasWidth, canvasHeight, displayFPS, outputType, settings);
  }

  if (onlineMode) controller.onlineMode = true;
  controller.init();
  return controller;
} // Old NotificationMessage API


function NotificationMessage(text, textColor, backgroundColor, delayBeforeClosing, animationDelay, fontSize, fontFamily, foreGround, disableAnimation, closeButton) {
  return new jsgametools__WEBPACK_IMPORTED_MODULE_5__["NotificationMessage"](new jsgametools__WEBPACK_IMPORTED_MODULE_5__["Style"]({
    "backgroundColor": backgroundColor,
    "foreGround": foreGround,
    "disableAnimation": disableAnimation
  }), delayBeforeClosing, null, new jsgametools__WEBPACK_IMPORTED_MODULE_5__["Label"](text, null, null, new jsgametools__WEBPACK_IMPORTED_MODULE_5__["Style"]({
    "fontSize": fontSize,
    "fontFamily": fontFamily,
    "fontColor": textColor || "white",
    "alignement": "center",
    "verticalAlignement": "center"
  })));
} // Constants shim
// Player type


if (typeof window !== "undefined") {
  window.PLAYER_AI = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].PlayerType.AI;
  window.PLAYER_HUMAN = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].PlayerType.HUMAN;
  window.PLAYER_HYBRID_HUMAN_AI = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].PlayerType.HYBRID_HUMAN_AI; // AI level

  window.AI_LEVEL_RANDOM = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AiLevel.RANDOM;
  window.AI_LEVEL_LOW = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AiLevel.LOW;
  window.AI_LEVEL_DEFAULT = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AiLevel.DEFAULT;
  window.AI_LEVEL_HIGH = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AiLevel.HIGH;
  window.AI_LEVEL_ULTRA = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].AiLevel.ULTRA; // Directions

  window.UP = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Direction.UP;
  window.RIGHT = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Direction.RIGHT;
  window.BOTTOM = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Direction.BOTTOM;
  window.LEFT = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Direction.LEFT;
  window.ANGLE_1 = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Direction.ANGLE_1;
  window.ANGLE_2 = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Direction.ANGLE_2;
  window.ANGLE_3 = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Direction.ANGLE_3;
  window.ANGLE_4 = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Direction.ANGLE_4; // Infos

  window.APP_VERSION = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Setting.APP_VERSION;
  window.DATE_VERSION = _engine_Constants__WEBPACK_IMPORTED_MODULE_0__["default"].Setting.DATE_VERSION;
}



/***/ }),

/***/ "./src/StorageFactory.js":
/*!*******************************!*\
  !*** ./src/StorageFactory.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StorageFactory; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */
var StorageFactory = /*#__PURE__*/function () {
  function StorageFactory(storage) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, StorageFactory);

    this.inMemoryStorage = {};
    this._isSupported;

    try {
      this.storage = storage || window.localStorage;
    } catch (e) {
      this.storage = null;
    } // Test if local storage is supported


    try {
      var testKey = "__some_random_key_you_are_not_going_to_use__";
      this.storage.setItem(testKey, testKey);
      this.storage.removeItem(testKey);
      this._isSupported = true;
    } catch (e) {
      this._isSupported = false;
    }
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(StorageFactory, [{
    key: "clear",
    value: function clear() {
      if (this.isSupported) {
        this.storage.clear();
      } else {
        this.inMemoryStorage = {};
      }
    }
  }, {
    key: "getItem",
    value: function getItem(name) {
      if (this.isSupported) {
        return this.storage.getItem(name);
      }

      if (this.inMemoryStorage.hasOwnProperty(name)) {
        return this.inMemoryStorage[name];
      }

      return null;
    }
  }, {
    key: "key",
    value: function key(index) {
      if (this.isSupported) {
        return this.storage.key(index);
      } else {
        return Object.keys(this.inMemoryStorage)[index] || null;
      }
    }
  }, {
    key: "removeItem",
    value: function removeItem(name) {
      if (this.isSupported) {
        this.storage.removeItem(name);
      } else {
        delete this.inMemoryStorage[name];
      }
    }
  }, {
    key: "setItem",
    value: function setItem(name, value) {
      if (this.isSupported) {
        this.storage.setItem(name, value);
      } else {
        this.inMemoryStorage[name] = String(value);
      }
    }
  }, {
    key: "length",
    value: function length() {
      if (this.isSupported) {
        return this.storage.length;
      } else {
        return Object.keys(this.inMemoryStorage).length;
      }
    }
  }, {
    key: "isSupported",
    get: function get() {
      return this._isSupported;
    }
  }]);

  return StorageFactory;
}();



/***/ }),

/***/ "./src/Timers.js":
/*!***********************!*\
  !*** ./src/Timers.js ***!
  \***********************/
/*! exports provided: Timer, TimerInterval */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timer", function() { return Timer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimerInterval", function() { return TimerInterval; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */
var Timer = /*#__PURE__*/function () {
  function Timer(callback, delay, timerInterval) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Timer);

    this.callback = callback;
    this.delay = delay;
    this.timerInterval = timerInterval;
    this.remaining = delay;
    this.timerId;
    this.start;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Timer, [{
    key: "pause",
    value: function pause() {
      clearTimeout(this.timerId);
      this.timerInterval != null && this.timerInterval.stop != null && this.timerInterval.stop();
      this.remaining -= Date.now() - this.start;
    }
  }, {
    key: "resume",
    value: function resume() {
      this.start = Date.now();
      clearTimeout(this.timerId);
      this.timerInterval != null && this.timerInterval.stop != null && this.timerInterval.stop();
      this.timerId = setTimeout(this.callback, this.remaining);
      this.timerInterval != null && this.timerInterval.start != null && this.timerInterval.start();
    }
  }, {
    key: "reset",
    value: function reset() {
      clearTimeout(this.timerId);
      this.timerInterval != null && this.timerInterval.stop != null && this.timerInterval.stop();
      this.remaining = this.delay;
    }
  }, {
    key: "getTime",
    value: function getTime() {
      return this.remaining - (Date.now() - this.start);
    }
  }]);

  return Timer;
}();

var TimerInterval = /*#__PURE__*/function () {
  function TimerInterval(callback) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, TimerInterval);

    this.callback = callback;
    this.interval;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(TimerInterval, [{
    key: "start",
    value: function start() {
      this.interval = setInterval(this.callback, 1000);
    }
  }, {
    key: "stop",
    value: function stop() {
      clearInterval(this.interval);
    }
  }]);

  return TimerInterval;
}();



/***/ }),

/***/ "./src/engine/Constants.js":
/*!*********************************!*\
  !*** ./src/engine/Constants.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */
/* harmony default export */ __webpack_exports__["default"] = ({
  CaseType: {
    EMPTY: 0,
    SNAKE: 1,
    FRUIT: 2,
    WALL: 3,
    SNAKE_DEAD: 4,
    SURROUNDED: 5,
    FRUIT_GOLD: 6,
    CROSSED: 7
  },
  PlayerType: {
    AI: "PLAYER_AI",
    HUMAN: "PLAYER_HUMAN",
    HYBRID_HUMAN_AI: "PLAYER_HYBRID_HUMAN_AI"
  },
  AiLevel: {
    RANDOM: "AI_LEVEL_RANDOM",
    LOW: "AI_LEVEL_LOW",
    DEFAULT: "AI_LEVEL_DEFAULT",
    HIGH: "AI_LEVEL_HIGH",
    ULTRA: "AI_LEVEL_ULTRA",
    CUSTOM: "AI_LEVEL_CUSTOM",
    MOCK: "AI_LEVEL_MOCK"
  },
  OutputType: {
    TEXT: "OUTPUT_TEXT",
    GRAPHICAL: "OUTPUT_GRAPHICAL"
  },
  Setting: {
    CANVAS_WIDTH: 800,
    CANVAS_HEIGHT: 600,
    FONT_FAMILY: "Delius",
    FONT_SIZE: 32,
    HEADER_HEIGHT_DEFAULT: 75,
    TARGET_FPS: 60,
    TIME_MULTIPLIER: 15,
    IMAGE_SNAKE_HUE: 75,
    IMAGE_SNAKE_SATURATION: 50,
    IMAGE_SNAKE_VALUE: 77,
    CARS_TO_PRERENDER: ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "V", "W", "X", "Y", "Z", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "v", "w", "x", "y", "z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "×"],
    APP_VERSION: "2.2",
    DATE_VERSION: "10/18/2020",
    PROB_GOLD_FRUIT_1_PLAYER: 100,
    PROB_GOLD_FRUIT_MULTIPLE_PLAYERS: 50,
    INFO_NOTIF_COLOR: "rgba(52, 152, 219, 0.5)",
    ERROR_NOTIF_COLOR: "rgba(231, 76, 60, 0.5)"
  },
  Direction: {
    UP: 0,
    TOP: 0,
    RIGHT: 1,
    BOTTOM: 2,
    DOWN: 2,
    LEFT: 3,
    ANGLE_1: 4,
    ANGLE_2: 5,
    ANGLE_3: 6,
    ANGLE_4: 7
  },
  Key: {
    UP: 38,
    RIGHT: 39,
    BOTTOM: 40,
    LEFT: 37,
    ENTER: 13
  },
  Error: {
    ROOM_NOT_FOUND: "ROOM_NOT_FOUND",
    ROOM_ALREADY_JOINED: "ROOM_ALREADY_JOINED",
    INVALID_SETTINGS: "INVALID_SETTINGS",
    MAX_ROOM_LIMIT_REACHED: "MAX_ROOM_LIMIT_REACHED",
    AUTHENTICATION_REQUIRED: "AUTHENTICATION_REQUIRED",
    ALREADY_CREATED_ROOM: "ALREADY_CREATED_ROOM",
    BANNED: "BANNED",
    DISCONNECTED: "DISCONNECTED"
  },
  GameState: {
    STARTING: "STARTING",
    STARTED: "STARTED",
    SEARCHING_PLAYERS: "SEARCHING_PLAYERS",
    AUTHENTICATION_SUCCESS: "AUTHENTICATION_SUCCESS"
  }
});

/***/ }),

/***/ "./src/engine/Event.js":
/*!*****************************!*\
  !*** ./src/engine/Event.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Event; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */
var Event = /*#__PURE__*/function () {
  function Event(name) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Event);

    this.name = name;
    this.callbacks = [];
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Event, [{
    key: "registerCallback",
    value: function registerCallback(callback) {
      this.callbacks.push(callback);
    }
  }]);

  return Event;
}();



/***/ }),

/***/ "./src/engine/GameController.js":
/*!**************************************!*\
  !*** ./src/engine/GameController.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameController; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Constants */ "./src/engine/Constants.js");
/* harmony import */ var _Reactor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Reactor */ "./src/engine/Reactor.js");




/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */



var GameController = /*#__PURE__*/function () {
  function GameController(engine, ui) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, GameController);

    this.gameUI = ui;
    this.gameEngine = engine; // Copy of game engine variables

    this.grid = null;
    this.snakes = null;
    this.lastKey = -1;
    this.paused = false;
    this.isReseted = false;
    this.exited = false;
    this.gameOver = false;
    this.starting = false;
    this.scoreMax = false;
    this.gameFinished = false;
    this.errorOccurred = false;
    this.clientSidePredictionsMode = false;
    this.currentPlayer = null;
    this.onlineMode = false; // Events

    this.reactor = new _Reactor__WEBPACK_IMPORTED_MODULE_4__["default"]();
    this.reactor.registerEvent("onStart");
    this.reactor.registerEvent("onPause");
    this.reactor.registerEvent("onContinue");
    this.reactor.registerEvent("onReset");
    this.reactor.registerEvent("onStop");
    this.reactor.registerEvent("onExit");
    this.reactor.registerEvent("onKill");
    this.reactor.registerEvent("onScoreIncreased");
    this.reactor.registerEvent("onUpdate");
    this.reactor.registerEvent("onUpdateCounter");
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(GameController, [{
    key: "init",
    value: function init() {
      var _this = this;

      this.update("init", {
        "snakes": this.gameEngine.snakes,
        "grid": this.gameEngine.grid,
        "enablePause": this.gameEngine.enablePause,
        "enableRetry": this.gameEngine.enableRetry,
        "progressiveSpeed": this.gameEngine.progressiveSpeed,
        "offsetFrame": this.gameEngine.speed * _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Setting.TIME_MULTIPLIER,
        "errorOccurred": this.gameEngine.errorOccurred
      });
      this.gameEngine.onReset(function () {
        _this.update("reset", {
          "paused": _this.gameEngine.paused,
          "isReseted": _this.gameEngine.isReseted,
          "exited": _this.gameEngine.exited,
          "grid": _this.gameEngine.grid,
          "numFruit": _this.gameEngine.numFruit,
          "ticks": _this.gameEngine.ticks,
          "scoreMax": _this.gameEngine.scoreMax,
          "gameOver": _this.gameEngine.gameOver,
          "gameFinished": _this.gameEngine.gameFinished,
          "gameMazeWin": _this.gameEngine.gameMazeWin,
          "starting": _this.gameEngine.starting,
          "initialSpeed": _this.gameEngine.initialSpeed,
          "speed": _this.gameEngine.speed,
          "snakes": _this.gameEngine.snakes,
          "confirmReset": false,
          "confirmExit": false,
          "getInfos": false,
          "getInfosGame": false,
          "errorOccurred": _this.gameEngine.errorOccurred,
          "offsetFrame": _this.gameEngine.speed * _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Setting.TIME_MULTIPLIER,
          "aiStuck": _this.gameEngine.aiStuck,
          "precAiStuck": false
        });

        _this.reactor.dispatchEvent("onReset");
      });
      this.gameEngine.onStart(function () {
        _this.update("start", {
          "snakes": _this.gameEngine.snakes,
          "grid": _this.gameEngine.grid,
          "starting": _this.gameEngine.starting,
          "countBeforePlay": _this.gameEngine.countBeforePlay,
          "paused": _this.gameEngine.paused,
          "isReseted": _this.gameEngine.isReseted,
          "confirmReset": false,
          "confirmExit": false,
          "getInfos": false,
          "getInfosGame": false,
          "errorOccurred": _this.gameEngine.errorOccurred
        });

        _this.reactor.dispatchEvent("onStart");
      });
      this.gameEngine.onPause(function () {
        _this.update("pause", {
          "paused": _this.gameEngine.paused,
          "confirmReset": false,
          "confirmExit": false,
          "getInfos": false,
          "getInfosGame": false,
          "errorOccurred": _this.gameEngine.errorOccurred
        });

        _this.reactor.dispatchEvent("onPause");
      });
      this.gameEngine.onContinue(function () {
        _this.update("continue", {
          "confirmReset": false,
          "confirmExit": false,
          "getInfos": false,
          "getInfosGame": false,
          "errorOccurred": _this.gameEngine.errorOccurred
        });

        _this.reactor.dispatchEvent("onContinue");
      });
      this.gameEngine.onStop(function () {
        _this.update("stop", {
          "paused": _this.gameEngine.paused,
          "scoreMax": _this.gameEngine.scoreMax,
          "gameOver": _this.gameEngine.gameOver,
          "gameFinished": _this.gameEngine.gameFinished,
          "confirmReset": false,
          "confirmExit": false,
          "getInfos": false,
          "getInfosGame": false,
          "errorOccurred": _this.gameEngine.errorOccurred
        });

        _this.reactor.dispatchEvent("onStop");
      });
      this.gameEngine.onExit(function () {
        _this.update("exit", {
          "paused": _this.gameEngine.paused,
          "gameOver": _this.gameEngine.gameOver,
          "gameFinished": _this.gameEngine.gameFinished,
          "exited": _this.gameEngine.exited,
          "confirmReset": false,
          "confirmExit": false,
          "getInfos": false,
          "getInfosGame": false,
          "errorOccurred": _this.gameEngine.errorOccurred
        });

        _this.reactor.dispatchEvent("onExit");
      });
      this.gameEngine.onKill(function () {
        _this.update("kill", {
          "paused": _this.gameEngine.paused,
          "gameOver": _this.gameEngine.gameOver,
          "killed": _this.gameEngine.killed,
          "snakes": _this.gameEngine.snakes,
          "gameFinished": _this.gameEngine.gameFinished,
          "grid": _this.gameEngine.grid,
          "confirmReset": false,
          "confirmExit": false,
          "getInfos": false,
          "getInfosGame": false,
          "errorOccurred": _this.gameEngine.errorOccurred
        });

        _this.reactor.dispatchEvent("onKill");
      });
      this.gameEngine.onScoreIncreased(function () {
        _this.reactor.dispatchEvent("onScoreIncreased");
      });
      this.gameEngine.onUpdate(function () {
        var _this$update;

        _this.update("update", (_this$update = {
          "paused": _this.gameEngine.paused,
          "isReseted": _this.gameEngine.isReseted,
          "exited": _this.gameEngine.exited,
          "grid": _this.gameEngine.grid,
          "numFruit": _this.gameEngine.numFruit,
          "ticks": _this.gameEngine.ticks,
          "scoreMax": _this.gameEngine.scoreMax,
          "gameOver": _this.gameEngine.gameOver,
          "gameFinished": _this.gameEngine.gameFinished,
          "gameMazeWin": _this.gameEngine.gameMazeWin,
          "starting": _this.gameEngine.starting,
          "initialSpeed": _this.gameEngine.initialSpeed,
          "speed": _this.gameEngine.speed,
          "snakes": _this.gameEngine.snakes,
          "countBeforePlay": _this.gameEngine.countBeforePlay
        }, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_this$update, "numFruit", _this.gameEngine.numFruit), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_this$update, "offsetFrame", 0), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_this$update, "errorOccurred", _this.gameEngine.errorOccurred), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_this$update, "aiStuck", _this.gameEngine.aiStuck), _this$update));

        _this.reactor.dispatchEvent("onUpdate");
      });
      this.gameEngine.onUpdateCounter(function () {
        var _this$update2;

        _this.update("updateCounter", (_this$update2 = {
          "paused": _this.gameEngine.paused,
          "isReseted": _this.gameEngine.isReseted,
          "exited": _this.gameEngine.exited,
          "grid": _this.gameEngine.grid,
          "numFruit": _this.gameEngine.numFruit,
          "ticks": _this.gameEngine.ticks,
          "scoreMax": _this.gameEngine.scoreMax,
          "gameOver": _this.gameEngine.gameOver,
          "gameFinished": _this.gameEngine.gameFinished,
          "gameMazeWin": _this.gameEngine.gameMazeWin,
          "starting": _this.gameEngine.starting,
          "initialSpeed": _this.gameEngine.initialSpeed,
          "speed": _this.gameEngine.speed,
          "snakes": _this.gameEngine.snakes,
          "countBeforePlay": _this.gameEngine.countBeforePlay
        }, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_this$update2, "numFruit", _this.gameEngine.numFruit), _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(_this$update2, "errorOccurred", _this.gameEngine.errorOccurred), _this$update2));

        _this.reactor.dispatchEvent("onUpdateCounter");
      });
    }
  }, {
    key: "reset",
    value: function reset() {
      this.gameEngine.reset();
    }
  }, {
    key: "start",
    value: function start() {
      this.gameEngine.start();
    }
  }, {
    key: "stop",
    value: function stop() {
      this.gameEngine.stop();
    }
  }, {
    key: "finish",
    value: function finish(_finish) {
      this.gameEngine.stop(_finish);
    }
  }, {
    key: "pause",
    value: function pause() {
      this.gameEngine.pause();
    }
  }, {
    key: "kill",
    value: function kill() {
      this.gameEngine.kill();
    }
  }, {
    key: "tick",
    value: function tick() {
      this.gameEngine.paused = false;
      this.gameEngine.countBeforePlay = -1;
      this.gameEngine.tick();
    }
  }, {
    key: "exit",
    value: function exit() {
      this.gameEngine.exit();
    }
  }, {
    key: "forceStart",
    value: function forceStart() {
      this.gameEngine.forceStart();
    }
  }, {
    key: "updateEngine",
    value: function updateEngine(key, data) {
      this.gameEngine[key] = data;
    }
  }, {
    key: "setDisplayFPS",
    value: function setDisplayFPS(display) {
      this.gameUI.setDisplayFPS(display);
    }
  }, {
    key: "setNotification",
    value: function setNotification(notification) {
      this.gameUI.setNotification(notification);
    }
  }, {
    key: "closeRanking",
    value: function closeRanking() {
      this.gameUI.gameRanking && this.gameUI.gameRanking.forceClose();
    }
  }, {
    key: "setTimeToDisplay",
    value: function setTimeToDisplay(time) {
      this.gameUI.setTimeToDisplay(time);
    }
  }, {
    key: "setBestScore",
    value: function setBestScore(score) {
      this.gameUI.setBestScore(score);
    }
  }, {
    key: "destroySnakes",
    value: function destroySnakes(exceptionIds, types) {
      this.gameEngine.destroySnakes(exceptionIds, types);
    }
  }, {
    key: "key",
    value: function key(_key) {
      this.gameEngine.lastKey = _key;
      this.lastKey = _key;
      var playerSnake = this.snakes[this.getCurrentPlayer()];

      if (playerSnake != null && playerSnake.lastKey != null) {
        playerSnake.lastKey = _key;
      }
    }
  }, {
    key: "getCurrentPlayer",
    value: function getCurrentPlayer() {
      if (this.snakes != null) {
        var nbPlayers = this.getNBPlayer(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HUMAN);
        var nbPlayersHybrid = this.getNBPlayer(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HYBRID_HUMAN_AI);

        for (var i = 0; i < this.snakes.length; i++) {
          if (this.currentPlayer == null && nbPlayers <= 1 && nbPlayersHybrid <= 1 && this.snakes[i] && (this.snakes[i].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HUMAN || this.snakes[i].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HYBRID_HUMAN_AI) || this.currentPlayer == i + 1) {
            return i;
          }
        }
      }

      return -1;
    }
  }, {
    key: "getNBPlayer",
    value: function getNBPlayer(type) {
      var numPlayer = 0;

      if (this.snakes != null) {
        for (var i = 0; i < this.snakes.length; i++) {
          if (this.snakes[i] && this.snakes[i].player == type) {
            numPlayer++;
          }
        }
      }

      return numPlayer;
    }
  }, {
    key: "getPlayer",
    value: function getPlayer(num, type) {
      var numPlayer = 0;

      if (this.snakes != null) {
        for (var i = 0; i < this.snakes.length; i++) {
          if (this.snakes[i] && this.snakes[i].player == type) {
            numPlayer++;
          }

          if (numPlayer == num) {
            return this.snakes[i];
          }
        }
      }

      return null;
    }
  }, {
    key: "update",
    value: function update(message, data, updateEngine) {
      if (this.gameUI != null && data != null) {
        var dataKeys = Object.keys(data);

        for (var i = 0; i < dataKeys.length; i++) {
          if (!this.clientSidePredictionsMode && !this.onlineMode || this.clientSidePredictionsMode && (dataKeys[i] == "snakes" || dataKeys[i] == "grid" || dataKeys[i] == "offsetFrame" || dataKeys[i] == "gameOver") && (!this.onlineMode || this.onlineMode && dataKeys[i] != "errorOccurred") || !this.clientSidePredictionsMode && this.onlineMode && dataKeys[i] != "errorOccurred") {
            if (Object.prototype.hasOwnProperty.call(this.gameUI, dataKeys[i]) && typeof data[dataKeys[i]] !== "function" && typeof this.gameUI[dataKeys[i]] !== "function") {
              this.gameUI[dataKeys[i]] = data[dataKeys[i]];
            }

            if (updateEngine) {
              if (data.snakes && data.snakes[this.getCurrentPlayer()]) {
                data.snakes[this.getCurrentPlayer()].lastKey = this.lastKey;
                this.lastKey = -1;
              }

              if (data.grid) {
                data.grid.rngGame = null;
                data.grid.rngGrid = null;
              }

              this.updateEngine(dataKeys[i], data[dataKeys[i]]);
            }

            if (Object.prototype.hasOwnProperty.call(this, dataKeys[i]) && typeof data[dataKeys[i]] !== "function" && typeof this[dataKeys[i]] !== "function") {
              this[dataKeys[i]] = data[dataKeys[i]];
            }
          }
        }

        if (data.hasOwnProperty("killed") && data.killed && this.gameUI && this.gameUI.setKill) {
          this.gameUI.setKill();
        }
      }
    }
  }, {
    key: "onReset",
    value: function onReset(callback) {
      this.reactor.addEventListener("onReset", callback);
    }
  }, {
    key: "onStart",
    value: function onStart(callback) {
      this.reactor.addEventListener("onStart", callback);
    }
  }, {
    key: "onContinue",
    value: function onContinue(callback) {
      this.reactor.addEventListener("onContinue", callback);
    }
  }, {
    key: "onStop",
    value: function onStop(callback) {
      this.reactor.addEventListener("onStop", callback);
    }
  }, {
    key: "onPause",
    value: function onPause(callback) {
      this.reactor.addEventListener("onPause", callback);
    }
  }, {
    key: "onExit",
    value: function onExit(callback) {
      this.reactor.addEventListener("onExit", callback);
    }
  }, {
    key: "onKill",
    value: function onKill(callback) {
      this.reactor.addEventListener("onKill", callback);
    }
  }, {
    key: "onScoreIncreased",
    value: function onScoreIncreased(callback) {
      this.reactor.addEventListener("onScoreIncreased", callback);
    }
  }]);

  return GameController;
}();



/***/ }),

/***/ "./src/engine/GameControllerSocket.js":
/*!********************************************!*\
  !*** ./src/engine/GameControllerSocket.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameControllerSocket; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/* harmony import */ var _GameController__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GameController */ "./src/engine/GameController.js");
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Grid */ "./src/engine/Grid.js");
/* harmony import */ var _Snake__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Snake */ "./src/engine/Snake.js");
/* harmony import */ var _Position__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Position */ "./src/engine/Position.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jsgametools */ "./node_modules/jsgametools/lib/JSGameTools.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(jsgametools__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _Shim__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Shim */ "./src/Shim.js");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */








var GameControllerSocket = /*#__PURE__*/function (_GameController) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(GameControllerSocket, _GameController);

  var _super = _createSuper(GameControllerSocket);

  function GameControllerSocket(socket, ui, enableClientSidePredictions, settings) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GameControllerSocket);

    _this = _super.call(this, new _Shim__WEBPACK_IMPORTED_MODULE_11__["Game"](null, null, null, null, null, null, null, null, null, null, null, settings, ui, true), ui);
    _this.enableClientSidePredictions = enableClientSidePredictions || false;
    _this.socket = socket;
    _this.pingLatency = -1;
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GameControllerSocket, [{
    key: "parseData",
    value: function parseData(m, d, updateEngine) {
      var data = [m, d];

      if (data.length > 1) {
        var grid = this.grid;

        if (data[1].hasOwnProperty("grid") && data[1]["grid"] != null && data[1]["grid"]["grid"] != null) {
          grid = Object.assign(new _Grid__WEBPACK_IMPORTED_MODULE_7__["default"](), data[1]["grid"]);
          data[1]["grid"] = grid;
        }

        if (data[1].hasOwnProperty("snakes") && data[1]["snakes"] != null) {
          for (var i = 0; i < data[1]["snakes"].length; i++) {
            data[1]["snakes"][i].grid = grid;
            data[1]["snakes"][i] = Object.assign(new _Snake__WEBPACK_IMPORTED_MODULE_8__["default"](), data[1]["snakes"][i]);

            for (var j = 0; j < data[1]["snakes"][i].queue.length; j++) {
              data[1]["snakes"][i].queue[j] = Object.assign(new _Position__WEBPACK_IMPORTED_MODULE_9__["default"](), data[1]["snakes"][i].queue[j]);
            }
          }
        }

        this.update(data[0], data[1], updateEngine);
      }
    }
  }, {
    key: "init",
    value: function init() {
      var _this2 = this;

      this.socket.on("init", function (data) {
        _this2.parseData("init", data, _this2.enableClientSidePredictions);

        _this2.gameEngine.update("update", {
          "engineLoading": false
        }, true);

        if (_this2.enableClientSidePredictions) {
          _this2.gameEngine.update("update", {
            "clientSidePredictionsMode": true
          }, true);

          if (data && data["currentPlayer"]) _this2.gameEngine.currentPlayer = data["currentPlayer"];
          if (data && data["countBeforePlay"] < 0) _this2.gameEngine.forceStart();
        }
      });
      this.socket.on("reset", function (data) {
        _this2.parseData("reset", data, _this2.enableClientSidePredictions);

        _this2.reactor.dispatchEvent("onReset");
      });
      this.socket.on("start", function (data) {
        _this2.parseData("start", data);

        _this2.reactor.dispatchEvent("onStart");
      });
      this.socket.on("pause", function (data) {
        _this2.parseData("pause", data);

        _this2.reactor.dispatchEvent("onPause");
      });
      this.socket.on("continue", function (data) {
        _this2.parseData("continue", data);

        _this2.reactor.dispatchEvent("onContinue");
      });
      this.socket.on("stop", function (data) {
        _this2.parseData("stop", data, _this2.enableClientSidePredictions);

        _this2.reactor.dispatchEvent("onStop");
      });
      this.socket.on("exit", function (data) {
        _this2.parseData("exit", data);

        _this2.gameEngine.exit();

        _this2.reactor.dispatchEvent("onExit");
      });
      this.socket.on("kill", function (data) {
        _this2.parseData("kill", data);

        _this2.gameEngine.kill();

        _this2.reactor.dispatchEvent("onKill");
      });
      this.socket.on("scoreIncreased", function (data) {
        _this2.parseData("scoreIncreased", data);

        _this2.reactor.dispatchEvent("onScoreIncreased");
      });
      this.socket.on("update", function (data) {
        _this2.parseData("update", data, _this2.enableClientSidePredictions);

        if (!_this2.gameEngine.clientSidePredictionsMode) {
          _this2.gameUI.offsetFrame = 0;
        }

        _this2.reactor.dispatchEvent("onUpdate");
      });
      this.socket.on("updateCounter", function (data) {
        _this2.parseData("updateCounter", data);

        if (data && data.countBeforePlay < 0) {
          if (_this2.enableClientSidePredictions) {
            _this2.gameEngine.forceStart();
          }
        }

        _this2.reactor.dispatchEvent("onUpdateCounter");
      });
      this.socket.on("notification", function (text, duration, textColor, backgroundColor, foreground) {
        _this2.gameUI.setNotification(new jsgametools__WEBPACK_IMPORTED_MODULE_10__["NotificationMessage"](text, textColor, backgroundColor, duration, null, null, null, foreground));
      });
      this.socket.once("error", function () {
        _this2.gameUI.setNotification(new jsgametools__WEBPACK_IMPORTED_MODULE_10__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_5__["default"].t("engine.servers.errorConnection"), null, GameConstants.Setting.ERROR_NOTIF_COLOR, null, null, null, null, true));
      });
      this.socket.once("connect_error", function () {
        _this2.gameUI.setNotification(new jsgametools__WEBPACK_IMPORTED_MODULE_10__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_5__["default"].t("engine.servers.errorConnection"), null, GameConstants.Setting.ERROR_NOTIF_COLOR, null, null, null, null, true));
      });
      this.socket.once("connect_timeout", function () {
        _this2.gameUI.setNotification(new jsgametools__WEBPACK_IMPORTED_MODULE_10__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_5__["default"].t("engine.servers.errorConnection"), null, GameConstants.Setting.ERROR_NOTIF_COLOR, null, null, null, null, true));
      });
      this.socket.once("reconnect_error", function () {
        _this2.gameUI.setNotification(new jsgametools__WEBPACK_IMPORTED_MODULE_10__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_5__["default"].t("engine.servers.errorConnection"), null, GameConstants.Setting.ERROR_NOTIF_COLOR, null, null, null, null, true));
      });
    }
  }, {
    key: "reset",
    value: function reset() {
      this.socket.emit("reset");
    }
  }, {
    key: "start",
    value: function start() {
      this.socket.emit("start");
    }
  }, {
    key: "stop",
    value: function stop() {
      this.socket.emit("stop");
    }
  }, {
    key: "finish",
    value: function finish(_finish) {
      this.socket.emit(_finish ? "finish" : "stop");
    }
  }, {
    key: "pause",
    value: function pause() {
      this.socket.emit("pause");
    }
  }, {
    key: "kill",
    value: function kill() {
      this.socket.emit("kill");
    }
  }, {
    key: "tick",
    value: function tick() {
      this.socket.emit("tick");
    }
  }, {
    key: "exit",
    value: function exit() {
      this.socket.emit("exit");
    }
  }, {
    key: "key",
    value: function key(_key) {
      this.socket.emit("key", _key);
      this.gameEngine.key(_key);
      this.lastKey = this.gameEngine.lastKey;
    }
  }, {
    key: "forceStart",
    value: function forceStart() {
      this.socket.emit("forceStart");
    }
  }, {
    key: "updateEngine",
    value: function updateEngine(key, value) {
      this.gameEngine.updateEngine(key, value);
    }
  }]);

  return GameControllerSocket;
}(_GameController__WEBPACK_IMPORTED_MODULE_6__["default"]);



/***/ }),

/***/ "./src/engine/GameControllerWorker.js":
/*!********************************************!*\
  !*** ./src/engine/GameControllerWorker.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameControllerWorker; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _GameController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./GameController */ "./src/engine/GameController.js");
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Grid */ "./src/engine/Grid.js");
/* harmony import */ var _Snake__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Snake */ "./src/engine/Snake.js");
/* harmony import */ var _Position__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Position */ "./src/engine/Position.js");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */





var GameControllerWorker = /*#__PURE__*/function (_GameController) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(GameControllerWorker, _GameController);

  var _super = _createSuper(GameControllerWorker);

  function GameControllerWorker(game, ui) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GameControllerWorker);

    _this = _super.call(this, game, ui);
    _this.worker;
    _this.workerReady = false;
    _this.messageQueue = []; // Queue of message if the worker is still loading

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GameControllerWorker, [{
    key: "init",
    value: function init() {
      var _this2 = this;

      if (window.Worker) {
        try {
          this.worker = new Worker("dist/GameEngineWorker.js");
        } catch (e) {
          this.update("init", {
            "errorOccurred": true
          });
          return;
        }

        this.update("init", {
          "engineLoading": true
        });

        if (this.worker instanceof Worker) {
          if (this.gameEngine && this.gameEngine.grid && this.gameEngine.grid.rngGrid) this.gameEngine.grid.rngGrid = null;
          if (this.gameEngine && this.gameEngine.grid && this.gameEngine.grid.rngGame) this.gameEngine.grid.rngGame = null;

          this.worker.onmessage = function (e) {
            var data = e.data;

            if (data == "ready") {
              _this2.workerReady = true;

              _this2.update("init", {
                "engineLoading": false
              });

              _this2.worker.postMessage(["init", _this2.gameEngine]);

              _this2.passQueuedMessages();
            } else {
              if (data.length > 1) {
                var grid = _this2.gameUI.grid;

                if (data[1].hasOwnProperty("grid") && data[1]["grid"] != null) {
                  grid = Object.assign(new _Grid__WEBPACK_IMPORTED_MODULE_6__["default"](), data[1]["grid"]);
                  data[1]["grid"] = grid;
                }

                if (data[1].hasOwnProperty("snakes") && data[1]["snakes"] != null) {
                  for (var i = 0; i < data[1]["snakes"].length; i++) {
                    data[1]["snakes"][i].grid = grid;
                    data[1]["snakes"][i] = Object.assign(new _Snake__WEBPACK_IMPORTED_MODULE_7__["default"](), data[1]["snakes"][i]);

                    for (var j = 0; j < data[1]["snakes"][i].queue.length; j++) {
                      data[1]["snakes"][i].queue[j] = Object.assign(new _Position__WEBPACK_IMPORTED_MODULE_8__["default"](), data[1]["snakes"][i].queue[j]);
                    }
                  }
                }

                _this2.update(data[0], data[1]);

                switch (data[0]) {
                  case "reset":
                    _this2.reactor.dispatchEvent("onReset");

                    break;

                  case "start":
                    _this2.reactor.dispatchEvent("onStart");

                    break;

                  case "pause":
                    _this2.reactor.dispatchEvent("onPause");

                    break;

                  case "continue":
                    _this2.reactor.dispatchEvent("onContinue");

                    break;

                  case "stop":
                    _this2.reactor.dispatchEvent("onStop");

                    break;

                  case "exit":
                    _this2.reactor.dispatchEvent("onExit");

                    break;

                  case "kill":
                    _this2.reactor.dispatchEvent("onKill");

                    _this2.worker.terminate();

                    break;

                  case "scoreIncreased":
                    _this2.reactor.dispatchEvent("onScoreIncreased");

                    break;

                  case "update":
                    _this2.reactor.dispatchEvent("onUpdate");

                    break;

                  case "updateCounter":
                    _this2.reactor.dispatchEvent("onUpdateCounter");

                    break;
                }
              }
            }
          };
        } else {
          if (this.gameUI != null) {
            this.update("init", {
              "errorOccurred": true
            });
          }
        }
      } else {
        if (this.gameUI != null) {
          this.update("init", {
            "errorOccurred": true
          });
        }
      }
    }
  }, {
    key: "reset",
    value: function reset() {
      this.passMessage(["reset"]);
    }
  }, {
    key: "start",
    value: function start() {
      this.passMessage(["start"]);
    }
  }, {
    key: "stop",
    value: function stop() {
      this.passMessage(["stop"]);
    }
  }, {
    key: "finish",
    value: function finish(_finish) {
      this.passMessage([_finish ? "finish" : "stop"]);
    }
  }, {
    key: "pause",
    value: function pause() {
      this.passMessage(["pause"]);
    }
  }, {
    key: "kill",
    value: function kill() {
      this.passMessage(["kill"]);
    }
  }, {
    key: "tick",
    value: function tick() {
      this.passMessage(["tick"]);
    }
  }, {
    key: "exit",
    value: function exit() {
      this.passMessage(["exit"]);
    }
  }, {
    key: "key",
    value: function key(_key) {
      this.passMessage(["key", _key]);
    }
  }, {
    key: "forceStart",
    value: function forceStart() {
      this.passMessage(["forceStart"]);
    }
  }, {
    key: "updateEngine",
    value: function updateEngine(key, data) {
      this.passMessage(["update", {
        "key": key,
        "data": data
      }]);
    }
  }, {
    key: "destroySnakes",
    value: function destroySnakes(exceptionIds, types) {
      this.passMessage(["destroySnakes", exceptionIds, types]);
    }
  }, {
    key: "passMessage",
    value: function passMessage(message) {
      if (this.workerReady && this.worker instanceof Worker) {
        this.worker.postMessage(message);
      } else {
        this.messageQueue.push(message);
      }
    }
  }, {
    key: "passQueuedMessages",
    value: function passQueuedMessages() {
      var _this3 = this;

      if (this.workerReady && this.worker instanceof Worker) {
        this.messageQueue.forEach(function (message) {
          _this3.worker.postMessage(message);
        });
        this.messageQueue = [];
      }
    }
  }]);

  return GameControllerWorker;
}(_GameController__WEBPACK_IMPORTED_MODULE_5__["default"]);



/***/ }),

/***/ "./src/engine/GameEngine.js":
/*!**********************************!*\
  !*** ./src/engine/GameEngine.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameEngine; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _GameUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameUtils */ "./src/engine/GameUtils.js");
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Constants */ "./src/engine/Constants.js");
/* harmony import */ var _Reactor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Reactor */ "./src/engine/Reactor.js");
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Grid */ "./src/engine/Grid.js");
/* harmony import */ var _Snake__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Snake */ "./src/engine/Snake.js");
/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! seedrandom */ "./node_modules/seedrandom/index.js");
/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(seedrandom__WEBPACK_IMPORTED_MODULE_7__);



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */







var GameEngine = /*#__PURE__*/function () {
  function GameEngine(grid, snake, speed, enablePause, enableRetry, progressiveSpeed, aiStuckLimit) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GameEngine);

    // Game settings
    this.grid = grid;
    this.snakes = snake;
    this.speed = speed == null ? 8 : speed;
    this.initialSpeed = speed == null ? 8 : speed;
    this.initialSpeedUntouched = speed == null ? 8 : speed;
    this.enablePause = enablePause == null ? true : enablePause;
    this.enableRetry = enableRetry == null ? true : enableRetry;
    this.progressiveSpeed = progressiveSpeed == null ? false : progressiveSpeed;
    this.aiStuckLimit = aiStuckLimit == null ? 3 : aiStuckLimit;
    this.countBeforePlay = 3; // Game variables

    this.lastKey = -1;
    this.numFruit = 1;
    this.ticks = 0; // Game state variables

    this.firstStart = true;
    this.starting = false;
    this.paused = true;
    this.exited = false;
    this.killed = false;
    this.isReseted = true;
    this.gameOver = false;
    this.gameFinished = false; // only used if 2 and more snakes

    this.gameMazeWin = false; // used in maze mode

    this.scoreMax = false;
    this.errorOccurred = false;
    this.clientSidePredictionsMode = false; // Enable client-side predictions mode for the online game (disable some functions)

    this.aiStuck = false; // true if one AI is stuck - disabled if an human player is playing
    // Intervals, timeouts, frames

    this.intervalPlay; // Events

    this.reactor = new _Reactor__WEBPACK_IMPORTED_MODULE_4__["default"]();
    this.reactor.registerEvent("onStart");
    this.reactor.registerEvent("onPause");
    this.reactor.registerEvent("onContinue");
    this.reactor.registerEvent("onReset");
    this.reactor.registerEvent("onStop");
    this.reactor.registerEvent("onExit");
    this.reactor.registerEvent("onKill");
    this.reactor.registerEvent("onScoreIncreased");
    this.reactor.registerEvent("onUpdate");
    this.reactor.registerEvent("onUpdateCounter");
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GameEngine, [{
    key: "init",
    value: function init() {
      if (!this.clientSidePredictionsMode) {
        if (this.snakes == null) {
          this.errorOccurred = true;
          this.snakes = [];
        } else if (!Array.isArray(this.snakes)) {
          this.snakes = [this.snakes];
        } else if (Array.isArray(this.snakes) && this.snakes.length <= 0 || this.grid.maze && this.snakes.length > 1) {
          this.errorOccurred = true;
        }

        if (this.grid instanceof _Grid__WEBPACK_IMPORTED_MODULE_5__["default"] == false) {
          this.errorOccurred = true;
        } else if (!this.errorOccurred) {
          this.initGridAndSnakes(); // Init Snake colors

          var startHue = _GameUtils__WEBPACK_IMPORTED_MODULE_2__["default"].randRange(0, 360, this.grid ? new seedrandom__WEBPACK_IMPORTED_MODULE_7___default.a(this.grid.seedGame) : null);

          for (var i = 0; i < this.snakes.length; i++) {
            if (this.snakes[i] instanceof _Snake__WEBPACK_IMPORTED_MODULE_6__["default"] == false) {
              this.errorOccurred = true;
            } else {
              startHue = _GameUtils__WEBPACK_IMPORTED_MODULE_2__["default"].addHue(startHue, Math.round(360 / this.snakes.length));
              this.snakes[i].color = startHue;
            }
          }
        }
      }
    }
  }, {
    key: "initGridAndSnakes",
    value: function initGridAndSnakes() {
      this.grid.reset();
      this.grid.init();

      if (this.snakes != null) {
        for (var i = 0; i < this.snakes.length; i++) {
          this.snakes[i].reset();
        }

        for (var _i = 0; _i < this.snakes.length; _i++) {
          this.snakes[_i].init();
        }
      }

      this.grid.setFruit(this.snakes.length);
    }
  }, {
    key: "reset",
    value: function reset() {
      this.paused = true;
      this.isReseted = true;
      this.exited = false;
      this.clearIntervalPlay();
      this.numFruit = 1;
      this.ticks = 0;
      this.lastKey = -1;
      this.scoreMax = false;
      this.errorOccurred = false;
      this.gameOver = false;
      this.gameFinished = false;
      this.gameMazeWin = false;
      this.starting = false;
      this.initialSpeed = this.initialSpeedUntouched;
      this.speed = this.initialSpeedUntouched;
      this.aiStuck = false;

      if (this.grid.seedGrid) {
        this.grid.seedGrid = "" + (parseInt(this.grid.seedGrid) + 1);
      }

      if (this.grid.seedGame) {
        this.grid.seedGame = "" + (parseInt(this.grid.seedGame) + 1);
      }

      this.initGridAndSnakes();
      this.reactor.dispatchEvent("onReset");
      this.start();
    }
  }, {
    key: "start",
    value: function start() {
      var _this = this;

      this.reactor.dispatchEvent("onUpdateCounter");

      if (!this.errorOccurred) {
        if (this.snakes != null) {
          for (var i = 0; i < this.snakes.length; i++) {
            if (this.snakes[i].errorInit) {
              this.errorOccurred = true;
              this.stop();
            }
          }
        }

        if (this.paused && !this.gameOver && !this.killed && !this.scoreMax && !this.starting) {
          this.starting = true;

          if (!this.firstStart) {
            this.reactor.dispatchEvent("onContinue");
          }

          this.countBeforePlay = 3;
          this.clearIntervalPlay();
          this.reactor.dispatchEvent("onUpdateCounter");
          this.intervalPlay = setInterval(function () {
            _this.countBeforePlay--;

            _this.reactor.dispatchEvent("onUpdateCounter");

            if (_this.countBeforePlay < 0) {
              _this.forceStart();
            }
          }, 1000);
        }
      }
    }
  }, {
    key: "forceStart",
    value: function forceStart() {
      this.clearIntervalPlay();
      this.countBeforePlay = -1;
      this.paused = false;
      this.isReseted = false;
      this.firstStart = false;
      this.starting = false;
      this.reactor.dispatchEvent("onStart");
      this.tick();
    }
  }, {
    key: "clearIntervalPlay",
    value: function clearIntervalPlay() {
      clearInterval(this.intervalPlay);
    }
  }, {
    key: "continue",
    value: function _continue() {
      if (!this.clientSidePredictionsMode) {
        this.start();
        this.reactor.dispatchEvent("onContinue");
      }
    }
  }, {
    key: "stop",
    value: function stop(finish) {
      if (!this.gameOver && !this.clientSidePredictionsMode) {
        this.paused = true;
        this.gameOver = true;
        if (finish) this.gameFinished = true;
        this.clearIntervalPlay();
        this.reactor.dispatchEvent("onStop");
      }
    }
  }, {
    key: "pause",
    value: function pause() {
      if (!this.paused && !this.clientSidePredictionsMode) {
        this.paused = true;
        this.clearIntervalPlay();
        this.reactor.dispatchEvent("onPause");
      }
    }
  }, {
    key: "kill",
    value: function kill() {
      if (!this.killed) {
        this.paused = true;
        this.gameOver = true;
        this.killed = true;

        if (this.snakes != null) {
          for (var i = 0; i < this.snakes.length; i++) {
            this.snakes[i].kill();
            this.snakes[i] = null;
          }
        }

        this.clearIntervalPlay();
        this.grid = null;
        this.snakes = null;
        this.reactor.dispatchEvent("onKill");
      }
    }
  }, {
    key: "exit",
    value: function exit() {
      if (!this.exited) {
        this.stop();
        this.exited = true;
        this.reactor.dispatchEvent("onExit");
      }
    }
  }, {
    key: "destroySnakes",
    value: function destroySnakes(exceptionIds, types) {
      for (var i = 0; i < this.snakes.length; i++) {
        if (exceptionIds && Array.isArray(exceptionIds) && exceptionIds.indexOf(i) < 0 && types.indexOf(this.snakes[i].player) > -1) this.snakes[i].setGameOver(this.ticks);
      }
    }
  }, {
    key: "getNBPlayer",
    value: function getNBPlayer(type) {
      var numPlayer = 0;

      if (this.snakes != null) {
        for (var i = 0; i < this.snakes.length; i++) {
          if (this.snakes[i].player == type) {
            numPlayer++;
          }
        }
      }

      return numPlayer;
    }
  }, {
    key: "getPlayer",
    value: function getPlayer(num, type) {
      var numPlayer = 0;

      if (this.snakes != null) {
        for (var i = 0; i < this.snakes.length; i++) {
          if (this.snakes[i].player == type) {
            numPlayer++;
          }

          if (numPlayer == num) {
            return this.snakes[i];
          }
        }
      }

      return null;
    }
  }, {
    key: "tick",
    value: function tick() {
      var _this2 = this;

      setTimeout(function () {
        _this2.doTick();
      }, this.initialSpeed * _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Setting.TIME_MULTIPLIER);
    }
  }, {
    key: "doTick",
    value: function doTick() {
      if (!this.paused && !this.killed) {
        if (this.lastTime == 0) this.lastTime = time;
        this.ticks++;
        var scoreIncreased,
            setFruitError = false;

        if (this.grid && (!this.grid.maze || this.grid.mazeForceAuto || this.grid.maze && this.getNBPlayer(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HUMAN) <= 0 && this.getNBPlayer(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HYBRID_HUMAN_AI) <= 0 || this.grid.maze && (this.getNBPlayer(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HUMAN) > 0 || this.getNBPlayer(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HYBRID_HUMAN_AI) > 0) && (this.getPlayer(1, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HYBRID_HUMAN_AI) || this.getPlayer(1, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HUMAN)).lastKey != -1)) {
          for (var i = 0; i < this.snakes.length; i++) {
            var initialDirection = this.snakes[i].direction;
            var setFruit = false;
            var goldFruit = false;
            setFruitError = false;
            this.snakes[i].lastTailMoved = false;

            if (!this.snakes[i].gameOver && !this.snakes[i].scoreMax) {
              if (this.snakes[i].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HUMAN || this.snakes[i].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HYBRID_HUMAN_AI) {
                this.snakes[i].moveTo(this.snakes[i].lastKey);
                this.snakes[i].lastKey = -1;
              } else if (this.snakes[i].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.AI && (!this.clientSidePredictionsMode || this.clientSidePredictionsMode && this.snakes[i].aiLevel != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].AiLevel.RANDOM)) {
                this.snakes[i].moveTo(this.snakes[i].ai());
              }

              var headSnakePos = this.snakes[i].getHeadPosition();

              if (this.snakes[i].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HYBRID_HUMAN_AI && this.grid.isDeadPosition(this.snakes[i].getNextPosition(headSnakePos, this.snakes[i].direction))) {
                this.snakes[i].direction = initialDirection;
                this.snakes[i].moveTo(this.snakes[i].ai());
                this.snakes[i].lastKey = -1;
              }

              headSnakePos = this.snakes[i].getNextPosition(headSnakePos, this.snakes[i].direction);

              if (this.grid.isDeadPosition(headSnakePos)) {
                this.snakes[i].setGameOver(this.ticks);
              } else {
                if (this.grid.get(headSnakePos) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT || this.grid.get(headSnakePos) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT_GOLD) {
                  if (this.grid.get(headSnakePos) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT) {
                    this.snakes[i].score++;
                    this.grid.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, this.grid.fruitPos);
                    this.grid.fruitPos = null;
                  } else if (this.grid.get(headSnakePos) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT_GOLD) {
                    this.snakes[i].score += 3;
                    this.grid.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, this.grid.fruitPosGold);
                    this.grid.fruitPosGold = null;
                    goldFruit = true;
                  }

                  scoreIncreased = true;
                  this.snakes[i].insert(headSnakePos);

                  if (this.grid.maze) {
                    this.gameMazeWin = true;
                    this.gameFinished = true;
                    this.stop();
                  } else if (this.snakes[i].hasMaxScore() && this.snakes.length <= 1) {
                    this.scoreMax = true;
                    this.snakes[i].scoreMax = true;
                    this.stop();
                  } else {
                    this.numFruit++;
                    if (!goldFruit) setFruit = true;
                  }

                  if (this.snakes.length <= 1 && this.progressiveSpeed && this.snakes[i].score > 0 && this.initialSpeed > 1) {
                    this.initialSpeed = Math.ceil(-this.initialSpeedUntouched / 100 * this.snakes[i].score + this.initialSpeedUntouched);
                    this.initialSpeed = this.initialSpeed < 1 ? 1 : this.initialSpeed;
                  }
                } else {
                  this.snakes[i].insert(headSnakePos);

                  if (!this.grid.maze) {
                    this.snakes[i].remove();
                    this.snakes[i].lastTailMoved = true;
                  }
                }
              }
            }

            if (!this.scoreMax && setFruit && !this.clientSidePredictionsMode) {
              setFruitError = !this.grid.setFruit(this.snakes.length);
            }
          }

          if (!this.scoreMax && !setFruitError && (this.grid.detectCorridor(this.grid.fruitPos) || this.grid.isFruitSurrounded(this.grid.fruitPos, true)) && !this.clientSidePredictionsMode) {
            setFruitError = !this.grid.setFruit(this.snakes.length);
          }

          if (!this.scoreMax && this.grid.fruitPosGold != null && (this.grid.detectCorridor(this.grid.fruitPosGold) || this.grid.isFruitSurrounded(this.grid.fruitPosGold, true))) {
            this.grid.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, this.grid.fruitPosGold);
            this.grid.fruitPosGold = null;
          }

          var nbOver = 0;

          for (var j = 0; j < this.snakes.length; j++) {
            (this.snakes[j].gameOver || this.snakes[j].scoreMax) && nbOver++;
          } // Checking if the AIs are all stuck


          var endGameAIStuck = false;

          for (var k = 0; k < this.snakes.length; k++) {
            if (!this.snakes[k].gameOver && this.snakes[k].isAIStuck(1, 1)) {
              this.aiStuck = true;

              if (this.snakes[k].isAIStuck(this.aiStuckLimit, this.aiStuckLimit)) {
                // Limit of aiStuckLimit loops - end the game
                endGameAIStuck = true;
              } else {
                endGameAIStuck = false;
              }
            } else if ((this.snakes[k].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HUMAN || this.snakes[k].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.HYBRID_HUMAN_AI) && !this.snakes[k].gameOver || this.snakes[k].player == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].PlayerType.AI && !this.snakes[k].gameOver) {
              this.aiStuck = false;
              endGameAIStuck = false;
              break;
            }
          }

          if (nbOver >= this.snakes.length || setFruitError || endGameAIStuck) {
            this.stop();

            if (this.snakes.length > 1) {
              this.gameFinished = true;
            }
          }

          this.reactor.dispatchEvent("onUpdate");

          if (scoreIncreased) {
            this.reactor.dispatchEvent("onScoreIncreased");
          }
        }

        this.tick();
      }
    }
  }, {
    key: "onReset",
    value: function onReset(callback) {
      this.reactor.addEventListener("onReset", callback);
    }
  }, {
    key: "onStart",
    value: function onStart(callback) {
      this.reactor.addEventListener("onStart", callback);
    }
  }, {
    key: "onContinue",
    value: function onContinue(callback) {
      this.reactor.addEventListener("onContinue", callback);
    }
  }, {
    key: "onStop",
    value: function onStop(callback) {
      this.reactor.addEventListener("onStop", callback);
    }
  }, {
    key: "onPause",
    value: function onPause(callback) {
      this.reactor.addEventListener("onPause", callback);
    }
  }, {
    key: "onExit",
    value: function onExit(callback) {
      this.reactor.addEventListener("onExit", callback);
    }
  }, {
    key: "onKill",
    value: function onKill(callback) {
      this.reactor.addEventListener("onKill", callback);
    }
  }, {
    key: "onScoreIncreased",
    value: function onScoreIncreased(callback) {
      this.reactor.addEventListener("onScoreIncreased", callback);
    }
  }, {
    key: "onUpdate",
    value: function onUpdate(callback) {
      this.reactor.addEventListener("onUpdate", callback);
    }
  }, {
    key: "onUpdateCounter",
    value: function onUpdateCounter(callback) {
      this.reactor.addEventListener("onUpdateCounter", callback);
    }
  }]);

  return GameEngine;
}();



/***/ }),

/***/ "./src/engine/GameGroup.js":
/*!*********************************!*\
  !*** ./src/engine/GameGroup.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameGroup; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Reactor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Reactor */ "./src/engine/Reactor.js");



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */


var GameGroup = /*#__PURE__*/function () {
  function GameGroup(games) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GameGroup);

    this.games = games == undefined ? [] : games;
    this.reactor = new _Reactor__WEBPACK_IMPORTED_MODULE_2__["default"]();
    this.reactor.registerEvent("onStart");
    this.reactor.registerEvent("onPause");
    this.reactor.registerEvent("onContinue");
    this.reactor.registerEvent("onStop");
    this.reactor.registerEvent("onReset");
    this.reactor.registerEvent("onExit");
    this.reactor.registerEvent("onScoreIncreased");
    this.init();
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GameGroup, [{
    key: "init",
    value: function init() {
      var _this = this;

      for (var i = 0; i < this.games.length; i++) {
        if (i == 0) {
          this.games[i].enableKeyMenu = true;
        }

        this.games[i].onPause(function (i) {
          _this.pauseAll(i);
        }.bind(null, i));
        this.games[i].onContinue(function (i) {
          _this.startAll(i);
        }.bind(null, i));
        this.games[i].onExit(function (i) {
          _this.checkExit(i);
        }.bind(null, i));
        this.games[i].onStop(function (i) {
          _this.checkStop(i);
        }.bind(null, i));
        this.games[i].onReset(function (i) {
          _this.resetAll(i);
        }.bind(null, i));
        this.games[i].onScoreIncreased(function (i) {
          _this.checkOnScoreIncreased(i);
        }.bind(null, i));
      }
    }
  }, {
    key: "start",
    value: function start() {
      this.startAll(null);
    }
  }, {
    key: "startAll",
    value: function startAll(game) {
      for (var i = 0; i < this.games.length; i++) {
        if (this.games[i].paused && !this.games[i].starting && (game == null || i != game)) {
          this.games[i].start();
        }
      }

      this.reactor.dispatchEvent("onStart");
    }
  }, {
    key: "onStart",
    value: function onStart(callback) {
      this.reactor.addEventListener("onStart", callback);
    }
  }, {
    key: "pauseAll",
    value: function pauseAll(game) {
      for (var i = 0; i < this.games.length; i++) {
        if (!this.games[i].paused && (game == null || i != game)) {
          this.games[i].pause();
        }
      }

      this.reactor.dispatchEvent("onPause");
    }
  }, {
    key: "onPause",
    value: function onPause(callback) {
      this.reactor.addEventListener("onPause", callback);
    }
  }, {
    key: "resetAll",
    value: function resetAll(game) {
      for (var i = 0; i < this.games.length; i++) {
        if (!this.games[i].isReseted && (game == null || i != game)) {
          this.games[i].reset();
        }
      }

      this.reactor.dispatchEvent("onReset");
    }
  }, {
    key: "onReset",
    value: function onReset(callback) {
      this.reactor.addEventListener("onReset", callback);
    }
  }, {
    key: "checkExit",
    value: function checkExit(game) {
      var allExited = true;

      for (var i = 0; i < this.games.length; i++) {
        if (!this.games[i].exited) {
          allExited = false;
        }
      }

      if (allExited) {
        this.reactor.dispatchEvent("onExit");
      } else {
        this.startAll(game);
      }
    }
  }, {
    key: "onExit",
    value: function onExit(callback) {
      this.reactor.addEventListener("onExit", callback);
    }
  }, {
    key: "checkStop",
    value: function checkStop() {
      var allStopped = true;

      for (var i = 0; i < this.games.length; i++) {
        if (!this.games[i].gameOver) {
          allStopped = false;
        }
      }

      if (allStopped) {
        this.reactor.dispatchEvent("onStop");
      }
    }
  }, {
    key: "onStop",
    value: function onStop(callback) {
      this.reactor.addEventListener("onStop", callback);
    }
  }, {
    key: "stopAll",
    value: function stopAll(finished) {
      for (var i = 0; i < this.games.length; i++) {
        if (finished) {
          this.games[i].finish(true);
        } else {
          this.games[i].stop();
        }
      }
    }
  }, {
    key: "killAll",
    value: function killAll() {
      for (var i = 0; i < this.games.length; i++) {
        this.games[i].kill();
      }
    }
  }, {
    key: "checkOnScoreIncreased",
    value: function checkOnScoreIncreased() {
      this.reactor.dispatchEvent("onScoreIncreased");
    }
  }, {
    key: "onScoreIncreased",
    value: function onScoreIncreased(callback) {
      this.reactor.addEventListener("onScoreIncreased", callback);
    }
  }, {
    key: "setDisplayFPS",
    value: function setDisplayFPS(value) {
      for (var i = 0; i < this.games.length; i++) {
        this.games[i].setDisplayFPS(value);
      }
    }
  }, {
    key: "setNotification",
    value: function setNotification(notification) {
      for (var i = 0; i < this.games.length; i++) {
        this.games[i].setNotification(notification.copy());
      }
    }
  }, {
    key: "closeNotification",
    value: function closeNotification() {
      for (var i = 0; i < this.games.length; i++) {
        this.games[i].setNotification(null);
      }
    }
  }, {
    key: "errorOccurred",
    value: function errorOccurred() {
      for (var i = 0; i < this.games.length; i++) {
        if (this.games[i].errorOccurred) return true;
      }

      return false;
    }
  }, {
    key: "closeRanking",
    value: function closeRanking() {
      for (var i = 0; i < this.games.length; i++) {
        this.games[i].closeRanking();
      }

      return false;
    }
  }, {
    key: "destroySnakes",
    value: function destroySnakes(exceptionIds, types) {
      for (var i = 0; i < this.games.length; i++) {
        this.games[i].destroySnakes(exceptionIds, types);

        if (exceptionIds && Array.isArray(exceptionIds)) {
          for (var j = 0; j < exceptionIds.length; j++) {
            exceptionIds[j] -= 1;
          }
        }
      }
    }
  }, {
    key: "getWinners",
    value: function getWinners() {
      var winners = [];
      var index = [];
      var maxScore = -1;

      for (var i = 0; i < this.games.length; i++) {
        for (var j = 0; j < this.games[i].snakes.length; j++) {
          if (this.games[i].snakes[j].score > maxScore) {
            maxScore = this.games[i].snakes[j].score;
          }
        }
      }

      if (maxScore >= 0) {
        var idx = 0;

        for (var _i = 0; _i < this.games.length; _i++) {
          for (var _j = 0; _j < this.games[_i].snakes.length; _j++) {
            if (this.games[_i].snakes[_j].score >= maxScore) {
              winners.push(this.games[_i].snakes[_j]);
              index.push(idx);
            }

            idx++;
          }
        }
      }

      return {
        winners: winners,
        score: maxScore,
        index: index
      };
    }
  }]);

  return GameGroup;
}();



/***/ }),

/***/ "./src/engine/GameUtils.js":
/*!*********************************!*\
  !*** ./src/engine/GameUtils.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */
/* harmony default export */ __webpack_exports__["default"] = ({
  randRange: function randRange(min, max, rng) {
    // Return an integer between min (inclusive) and max (inclusive)
    return Math.floor((rng ? rng() : Math.random()) * (max - min + 1)) + min;
  },
  addHue: function addHue(hue, add) {
    var res = hue + add;

    if (res > 360) {
      return res - 360;
    } else if (res < 0) {
      return 360 + res;
    }

    return res;
  },
  shuffle: function shuffle(a, rng) {
    var j, x;

    for (var i = a.length - 1; i > 0; i--) {
      j = Math.floor((rng ? rng() : Math.random()) * (i + 1));
      x = a[i];
      a[i] = a[j];
      a[j] = x;
    }

    return a;
  },
  millisecondsFormat: function millisecondsFormat(milliseconds) {
    milliseconds /= 1000;
    return ("0" + Math.trunc(milliseconds / 60)).slice(-2) + ":" + ("0" + Math.trunc(milliseconds % 60)).slice(-2);
  },
  secondsFormat: function secondsFormat(seconds) {
    return this.millisecondsFormat(seconds * 1000);
  }
});

/***/ }),

/***/ "./src/engine/Grid.js":
/*!****************************!*\
  !*** ./src/engine/Grid.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Grid; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _GameUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameUtils */ "./src/engine/GameUtils.js");
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Constants */ "./src/engine/Constants.js");
/* harmony import */ var _Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Position */ "./src/engine/Position.js");
/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! seedrandom */ "./node_modules/seedrandom/index.js");
/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(seedrandom__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _libs_lowlight_astar_min__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../libs/lowlight.astar.min */ "./libs/lowlight.astar.min.js");
/* harmony import */ var _libs_lowlight_astar_min__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_libs_lowlight_astar_min__WEBPACK_IMPORTED_MODULE_6__);



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */






var Grid = /*#__PURE__*/function () {
  function Grid(width, height, generateWalls, borderWalls, maze, customGrid, mazeForceAuto, seedGrid, seedGame, probGoldFruitIncrease) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Grid);

    this.width = width == undefined ? 20 : width;
    this.height = height == undefined ? 20 : height;
    this.generateWalls = generateWalls == undefined ? false : generateWalls;
    this.borderWalls = borderWalls == undefined ? false : borderWalls;
    this.maze = maze == undefined ? false : maze;
    this.mazeFirstPosition = new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT);
    this.mazeForceAuto = mazeForceAuto == undefined ? false : mazeForceAuto;
    this.grid;
    this.initialGrid;
    this.fruitPos;
    this.fruitPosGold;
    this.customGrid = customGrid;
    this.seedGrid = seedGrid ? "" + parseInt(seedGrid) : undefined;
    this.seedGame = seedGrid ? "" + parseInt(seedGame) : undefined;
    this.rngGrid;
    this.rngGame;
    this.probGoldFruitIncrease = probGoldFruitIncrease == undefined ? false : probGoldFruitIncrease;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Grid, [{
    key: "init",
    value: function init() {
      if (this.customGrid != undefined || this.initialGrid != undefined) {
        var gridToCopy;

        if (this.initialGrid != undefined) {
          gridToCopy = this.initialGrid;
        } else {
          gridToCopy = this.customGrid;
        }

        this.height = gridToCopy.length;
        this.width = gridToCopy[0].length;
        this.initialGrid = new Array(this.height);
        this.grid = new Array(this.height);

        for (var i = 0; i < this.height; i++) {
          this.initialGrid[i] = gridToCopy[i].slice();
          this.grid[i] = gridToCopy[i].slice();
        }
      } else {
        this.grid = new Array(this.height);

        for (var _i = 0; _i < this.height; _i++) {
          this.grid[_i] = new Array(this.width);

          for (var j = 0; j < this.width; j++) {
            if (this.borderWalls && (_i == 0 || _i == this.height - 1 || j == 0 || j == this.width - 1) || this.generateWalls && this.rngGrid && this.rngGrid() > 0.65 || this.maze) {
              this.grid[_i][j] = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.WALL;
            } else {
              this.grid[_i][j] = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY;
            }
          }
        }

        if (this.maze) {
          this.generateMaze();
        } else if (this.generateWalls) {
          this.fixWalls(this.borderWalls);
        }
      }

      this.fruitPosGold = null;
    }
  }, {
    key: "reset",
    value: function reset() {
      this.grid = undefined;
      this.initialGrid = undefined;
      this.fruitPos = undefined;
      this.fruitPosGold = undefined;
      this.rngGrid = new seedrandom__WEBPACK_IMPORTED_MODULE_5___default.a(this.seedGrid);
      this.rngGame = new seedrandom__WEBPACK_IMPORTED_MODULE_5___default.a(this.seedGame);
    }
  }, {
    key: "fixWalls",
    value: function fixWalls(borderWalls) {
      var startY, startX, endY, endX;

      if (borderWalls) {
        startY = 1;
        endY = this.height - 1;
        startX = 1;
        endX = this.width - 1;
      } else {
        startY = 0;
        endY = this.height;
        startX = 0;
        endX = this.width;
      }

      for (var i = startY; i < endY; i++) {
        for (var j = startX; j < endX; j++) {
          var currentPos = new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](j, i);
          var upperCase = this.getNextPosition(currentPos, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP);
          var upperLeftCase = this.getNextPosition(upperCase, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT);
          var upperRightCase = this.getNextPosition(upperCase, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT);
          var downCase = this.getNextPosition(currentPos, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM);
          var downLeftCase = this.getNextPosition(downCase, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT);
          var downRightCase = this.getNextPosition(downCase, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT);

          if (this.get(upperLeftCase) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.WALL || this.get(upperRightCase) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.WALL || this.get(downLeftCase) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.WALL || this.get(downRightCase) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.WALL) {
            this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, currentPos);
          }
        }
      }
    }
  }, {
    key: "maze_recursion",
    value: function maze_recursion(r, c) {
      var directions = _GameUtils__WEBPACK_IMPORTED_MODULE_2__["default"].shuffle([_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT], this.rngGrid);

      for (var i = 0; i < directions.length; i++) {
        switch (directions[i]) {
          case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP:
            if (r - 2 <= 0) continue;

            if (this.get(new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c, r - 2)) != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) {
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c, r - 2));
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c, r - 1));
              this.maze_recursion(r - 2, c);
            }

            break;

          case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT:
            if (c + 2 >= this.width - 1) continue;

            if (this.get(new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c + 2, r)) != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) {
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c + 2, r));
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c + 1, r));
              this.maze_recursion(r, c + 2);
            }

            break;

          case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM:
            if (r + 2 >= this.height - 1) continue;

            if (this.get(new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c, r + 2)) != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) {
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c, r + 2));
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c, r + 1));
              this.maze_recursion(r + 2, c);
            }

            break;

          case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT:
            if (c - 2 <= 0) continue;

            if (this.get(new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c - 2, r)) != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) {
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c - 2, r));
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](c - 1, r));
              this.maze_recursion(r, c - 2);
            }

            break;
        }
      }
    }
  }, {
    key: "generateMaze",
    value: function generateMaze() {
      this.mazeFirstPosition = new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT);
      this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, this.mazeFirstPosition);
      this.maze_recursion(1, 1);
    }
  }, {
    key: "set",
    value: function set(value, position) {
      this.grid[position.y][position.x] = value;
    }
  }, {
    key: "get",
    value: function get(position) {
      return this.grid[position.y][position.x];
    }
  }, {
    key: "valToChar",
    value: function valToChar(value) {
      switch (value) {
        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY:
          return "-";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE:
          return "o";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE_DEAD:
          return "O";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT:
          return "x";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.WALL:
          return "#";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SURROUNDED:
          return "/";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT_GOLD:
          return "X";
      }
    }
  }, {
    key: "getImageCase",
    value: function getImageCase(position) {
      switch (this.get(position)) {
        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.WALL:
          return "wall.png";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT:
          return "fruit.png";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT_GOLD:
          return "fruit_gold.png";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY:
          return "";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE:
          return "";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE_DEAD:
          return "";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SURROUNDED:
          return "";

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.CROSSED:
          return "";
      }

      return "unknown.png";
    }
  }, {
    key: "getGraph",
    value: function getGraph(ignoreSnakePos) {
      var res = new Array(this.height);

      for (var i = 0; i < this.height; i++) {
        res[i] = new Array(this.width);

        for (var j = 0; j < this.width; j++) {
          var currentPos = new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](j, i);

          if (ignoreSnakePos && this.get(currentPos) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE) {
            res[i][j] = 0;
          } else if (this.isDeadPosition(currentPos)) {
            res[i][j] = 1;
          } else {
            res[i][j] = 0;
          }
        }
      }

      return res;
    }
  }, {
    key: "getRandomPosition",
    value: function getRandomPosition() {
      return new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](_GameUtils__WEBPACK_IMPORTED_MODULE_2__["default"].randRange(0, this.width - 1, this.rngGame), _GameUtils__WEBPACK_IMPORTED_MODULE_2__["default"].randRange(0, this.height - 1, this.rngGame));
    }
  }, {
    key: "setFruit",
    value: function setFruit(numberPlayers, gold) {
      var tried = [1];

      if (!gold && this.fruitPos != null && this.get(this.fruitPos) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT) {
        this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, this.fruitPos);
      }

      if (this.getTotal(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) > 0) {
        var randomPos, isCorridor;

        do {
          randomPos = this.getRandomPosition();
          isCorridor = this.detectCorridor(randomPos);

          if (isCorridor && this.get(randomPos) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) {
            this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SURROUNDED, randomPos);
          }

          if (this.getTotal(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) <= 0) {
            if (this.fruitPosGold) {
              return true;
            } else {
              return false;
            }
          }
        } while (this.get(randomPos) != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY || this.isFruitSurrounded(randomPos, true) || this.maze && !this.testFruitMaze(randomPos, tried) || isCorridor);

        if (gold) {
          this.fruitPosGold = randomPos;
          this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT_GOLD, randomPos);
        } else {
          this.fruitPos = randomPos;
          this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT, randomPos);
        }
      } else if (this.getTotal(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) <= 0 && this.fruitPosGold) {
        return true;
      } else {
        return false;
      }

      if (!this.maze && this.fruitPosGold == null && _GameUtils__WEBPACK_IMPORTED_MODULE_2__["default"].randRange(1, this.probGoldFruitIncrease ? 3 : numberPlayers > 1 ? _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Setting.PROB_GOLD_FRUIT_MULTIPLE_PLAYERS : _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Setting.PROB_GOLD_FRUIT_1_PLAYER, this.rngGame) == 1) {
        this.setFruit(numberPlayers, true);
      }

      return true;
    }
  }, {
    key: "testFruitMaze",
    value: function testFruitMaze(position, tried) {
      // Maze mode: avoid putting the fruit too close to the Snake
      var grid = this.getGraph(true);
      var graph = new _libs_lowlight_astar_min__WEBPACK_IMPORTED_MODULE_6__["Astar"].Configuration(grid, {
        order: "yx",
        torus: false,
        diagonals: false,
        cutting: false,
        cost: function cost(a, b) {
          return b == 1 ? null : 1;
        }
      });
      var path = graph.path({
        x: this.mazeFirstPosition.x,
        y: this.mazeFirstPosition.y
      }, {
        x: position.x,
        y: position.y
      });

      if (path.length < Math.ceil(this.getTotal(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) / (1 * Math.ceil(tried[0] / 4)))) {
        tried[0]++;
        return false;
      } else {
        tried[0]++;
        return true;
      }
    }
  }, {
    key: "isCaseSurrounded",
    value: function isCaseSurrounded(position, fill, foundVals, forbiddenVals) {
      if (!position) return false;
      var gridCopy = JSON.parse(JSON.stringify(this.grid));
      var checkList = [position];

      while (checkList.length > 0) {
        var currentPosition = checkList[0];
        checkList.shift();
        var directions = [this.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP), this.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM), this.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT), this.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT)]; // UP, DOWN, LEFT, RIGHT

        for (var i = 0; i < directions.length; i++) {
          if (gridCopy[directions[i].y][directions[i].x] != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.CROSSED && forbiddenVals.indexOf(this.get(directions[i])) > -1) {
            checkList.push(directions[i]);

            if (foundVals.indexOf(this.get(directions[i])) > -1) {
              return false;
            }

            if (fill && this.get(directions[i]) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY) {
              this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SURROUNDED, directions[i]);
              gridCopy[directions[i].y][directions[i].x] = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SURROUNDED;
            } else {
              gridCopy[directions[i].y][directions[i].x] = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.CROSSED;
            }
          }
        }
      }

      if (fill && (this.get(position) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY || this.get(position) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT) || this.get(position) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.FRUIT_GOLD) {
        this.set(_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SURROUNDED, position);
      }

      return true;
    }
  }, {
    key: "isFruitSurrounded",
    value: function isFruitSurrounded(position, fill) {
      var surrounded = this.isCaseSurrounded(position, false, [_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE], [_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE]);

      if (surrounded && fill) {
        this.isCaseSurrounded(position, true, [_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE], [_Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.EMPTY, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE]);
      }

      return surrounded;
    }
  }, {
    key: "detectCorridor",
    value: function detectCorridor(position) {
      var gridCopy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.grid ? JSON.parse(JSON.stringify(this.grid)) : null;
      if (this.maze || !position || !gridCopy) return false;
      var posTop = this.getNextPosition(position, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.TOP);
      var posBottom = this.getNextPosition(position, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM);
      var posRight = this.getNextPosition(position, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT);
      var posLeft = this.getNextPosition(position, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT);
      var isDeadPositionTop = this.isDeadPosition(posTop, true, true);
      var isDeadPositionBottom = this.isDeadPosition(posBottom, true, true);
      var isDeadPositionRight = this.isDeadPosition(posRight, true, true);
      var isDeadPositionLeft = this.isDeadPosition(posLeft, true, true);
      var numDeadPositionArround = isDeadPositionTop + isDeadPositionBottom + isDeadPositionRight + isDeadPositionLeft;

      if (numDeadPositionArround <= 1 || this.isDeadPosition(position, true)) {
        return false;
      } else if (numDeadPositionArround >= 3) {
        return true;
      }

      gridCopy[position.y][position.x] = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.CROSSED;
      var corridorTop = gridCopy[posTop.y][posTop.x] != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.CROSSED ? this.detectCorridor(posTop, gridCopy) : false;
      var corridorBottom = gridCopy[posBottom.y][posBottom.x] != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.CROSSED ? this.detectCorridor(posBottom, gridCopy) : false;
      var corridorLeft = gridCopy[posLeft.y][posLeft.x] != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.CROSSED ? this.detectCorridor(posLeft, gridCopy) : false;
      var corridorRight = gridCopy[posRight.y][posRight.x] != _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.CROSSED ? this.detectCorridor(posRight, gridCopy) : false;

      if (corridorBottom || corridorTop || corridorLeft || corridorRight) {
        return true;
      }

      return false;
    }
  }, {
    key: "getOnLine",
    value: function getOnLine(type, line) {
      var tot = 0;

      for (var j = 0; j < this.width; j++) {
        if (this.get(new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](j, line)) == type) {
          tot++;
        }
      }

      return tot;
    }
  }, {
    key: "getTotal",
    value: function getTotal(type) {
      var tot = 0;

      for (var i = 0; i < this.height; i++) {
        tot += this.getOnLine(type, i);
      }

      return tot;
    }
  }, {
    key: "getNextPosition",
    value: function getNextPosition(oldPos, newDirection) {
      var position = new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](oldPos.x, oldPos.y, newDirection);

      switch (newDirection) {
        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT:
          position.x--;
          position.direction = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT;
          break;

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP:
          position.y--;
          position.direction = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP;
          break;

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT:
          position.x++;
          position.direction = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT;
          break;

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM:
          position.y++;
          position.direction = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM;
          break;

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Key.LEFT:
          position.x--;
          position.direction = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Key.LEFT;
          break;

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Key.UP:
          position.y--;
          position.direction = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Key.UP;
          break;

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Key.RIGHT:
          position.x++;
          position.direction = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT;
          break;

        case _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Key.BOTTOM:
          position.y++;
          position.direction = _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM;
          break;
      }

      if (position.x < 0) {
        position.x = this.width - 1;
      } else if (position.x >= this.width) {
        position.x = 0;
      }

      if (position.y < 0) {
        position.y = this.height - 1;
      } else if (position.y >= this.height) {
        position.y = 0;
      }

      return position;
    }
  }, {
    key: "getDirectionTo",
    value: function getDirectionTo(position, otherPosition) {
      if (this.getNextPosition(position, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP).equals(otherPosition)) {
        return _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP;
      } else if (this.getNextPosition(position, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM).equals(otherPosition)) {
        return _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM;
      } else if (this.getNextPosition(position, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT).equals(otherPosition)) {
        return _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT;
      } else if (this.getNextPosition(position, _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT).equals(otherPosition)) {
        return _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT;
      }

      return -1;
    }
  }, {
    key: "invertDirection",
    value: function invertDirection(direction) {
      if (direction == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP) {
        return _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM;
      } else if (direction == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.BOTTOM) {
        return _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.UP;
      } else if (direction == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT) {
        return _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT;
      } else if (direction == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.LEFT) {
        return _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].Direction.RIGHT;
      }

      return null;
    }
  }, {
    key: "isDeadPosition",
    value: function isDeadPosition(position, excludeSnake, includeSurrounded) {
      return !excludeSnake && this.get(position) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE || this.get(position) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.WALL || this.get(position) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SNAKE_DEAD || !!includeSurrounded && this.get(position) == _Constants__WEBPACK_IMPORTED_MODULE_3__["default"].CaseType.SURROUNDED;
    }
  }, {
    key: "toString",
    value: function toString() {
      var res = "";

      for (var i = 0; i < this.height; i++) {
        for (var j = 0; j < this.width; j++) {
          res += this.valToChar(this.get(new _Position__WEBPACK_IMPORTED_MODULE_4__["default"](j, i))) + " ";
        }

        res += "\n";
      }

      return res;
    }
  }]);

  return Grid;
}();



/***/ }),

/***/ "./src/engine/OnlineClient.js":
/*!************************************!*\
  !*** ./src/engine/OnlineClient.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return OnlineClient; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-client */ "./node_modules/socket.io-client/lib/index.js");
/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(socket_io_client__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _GameControllerSocket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GameControllerSocket */ "./src/engine/GameControllerSocket.js");
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Constants */ "./src/engine/Constants.js");



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */




var OnlineClient = /*#__PURE__*/function () {
  function OnlineClient() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, OnlineClient);

    this.url;
    this.port;
    this.socket;
    this.token;
    this.id;
    this.serverSettings;
    this.currentRoom;
    this.game;
    this.serverVersion;
    this.engineServerVersion;
    this.intervalReconnect;
    this.disconnected = false;
    this.creatingRoom = false;
    this.joiningRoom = false;
    this.loadingRooms = false;
    this.pingLatency = -1;
    this.ui;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(OnlineClient, [{
    key: "connect",
    value: function connect(url, port, callback) {
      var _this = this;

      this.disconnect();
      this.disconnected = false;
      this.url = url;
      this.port = port;

      if (this.url != null && this.url.charAt(this.url.length - 1) == "/") {
        this.url = this.url.substring(0, this.url.length - 1);
      }

      this.socket = new socket_io_client__WEBPACK_IMPORTED_MODULE_2___default.a(this.getURL() + (this.token ? "?token=" + this.token : ""));
      this.socket.once("connect", function () {
        _this.socket.once("authent", function (data) {
          if (data == _Constants__WEBPACK_IMPORTED_MODULE_4__["default"].GameState.AUTHENTICATION_SUCCESS) {
            callback(true);
          } else {
            callback(false, data, _this.socket.id);
          }
        });

        _this.socket.once("token", function (token) {
          _this.token = token;

          _this.connect(_this.url, _this.port, callback);
        });
      });
      this.socket.on("error", function (data) {
        callback(false, data);

        _this.disconnect();
      });
      this.socket.on("connect_error", function (data) {
        callback(false, data);

        _this.disconnect();
      });
      this.socket.once("disconnect", function () {
        if (!_this.disconnected) {
          callback(false, _Constants__WEBPACK_IMPORTED_MODULE_4__["default"].Error.DISCONNECTED);

          _this.disconnect();
        }
      });
      this.socket.on("pong", function (ms) {
        _this.pingLatency = ms;
        if (_this.ui) _this.ui.pingLatency = ms;
      });
    }
  }, {
    key: "disconnect",
    value: function disconnect() {
      if (this.socket != null) {
        this.disconnected = true;
        this.stopGame();
        this.socket.close();
        this.creatingRoom = false;
        this.joiningRoom = false;
        this.loadingRooms = false;
        this.pingLatency = -1;
      }
    }
  }, {
    key: "stopGame",
    value: function stopGame() {
      if (this.game != null && this.game.gameUI != null) {
        this.game.kill();
        this.game.gameUI.setKill();
        this.ui = null;
      }
    }
  }, {
    key: "displayRooms",
    value: function displayRooms(callback) {
      var _this2 = this;

      if (!this.loadingRooms) {
        this.loadingRooms = true;
        var ioRooms = new socket_io_client__WEBPACK_IMPORTED_MODULE_2___default.a(this.getURL() + "/rooms" + (this.token ? "?token=" + this.token : ""));
        ioRooms.once("rooms", function (data) {
          callback(true, data);
          ioRooms.close();
          _this2.loadingRooms = false;
          _this2.serverSettings = data.settings;
        });
        ioRooms.once("error", function (data) {
          callback(false, data);
          ioRooms.close();
          _this2.loadingRooms = false;
        });
        ioRooms.once("authent", function (data) {
          if (data == _Constants__WEBPACK_IMPORTED_MODULE_4__["default"].Error.AUTHENTICATION_REQUIRED) {
            callback(false, data);
            ioRooms.close();
            _this2.loadingRooms = false;
          }
        });
        ioRooms.once("connect_error", function () {
          callback(false, data);
          ioRooms.close();
          _this2.loadingRooms = false;
        });
      } else {
        callback(false, null);
      }
    }
  }, {
    key: "createRoom",
    value: function createRoom(data, callback) {
      var _this3 = this;

      if (!this.creatingRoom) {
        this.creatingRoom = true;
        var ioCreate = new socket_io_client__WEBPACK_IMPORTED_MODULE_2___default.a(this.getURL() + "/createRoom" + (this.token ? "?token=" + this.token : ""));
        ioCreate.once("connect", function () {
          ioCreate.emit("create", data);
        });
        ioCreate.once("process", function (data) {
          if (data.success != null) {
            callback({
              success: data.success,
              connection_error: false,
              code: data.code,
              errorCode: data.errorCode
            });
          } else {
            callback({
              success: false,
              connection_error: true,
              code: null,
              errorCode: data != null ? data : null
            });
          }

          ioCreate.close();
          _this3.creatingRoom = false;
        });
        ioCreate.once("error", function (data) {
          callback({
            success: false,
            connection_error: true,
            errorCode: data != null ? data : null
          });
          ioCreate.close();
          _this3.creatingRoom = false;
        });
        ioCreate.once("authent", function (data) {
          if (data == _Constants__WEBPACK_IMPORTED_MODULE_4__["default"].Error.AUTHENTICATION_REQUIRED) {
            callback({
              success: false,
              connection_error: true,
              errorCode: data != null ? data : null
            });
            ioCreate.close();
            _this3.creatingRoom = false;
          }
        });
        ioCreate.once("connect_error", function (data) {
          callback({
            success: false,
            connection_error: true,
            errorCode: data != null ? data : null
          });
          ioCreate.close();
          _this3.creatingRoom = false;
        });
      } else {
        callback({
          success: false,
          connection_error: false
        });
      }
    }
  }, {
    key: "joinRoom",
    value: function joinRoom(code, callback) {
      var _this4 = this;

      if (!this.joiningRoom) {
        this.joiningRoom = true;

        if (this.socket != null) {
          this.socket.emit("join-room", {
            code: code,
            version: _Constants__WEBPACK_IMPORTED_MODULE_4__["default"].Setting.APP_VERSION
          });
          this.socket.once("join-room", function (data) {
            _this4.currentRoom = code;
            callback(data);
            _this4.joiningRoom = false;
          });
        }
      } else {
        callback({
          success: false
        });
      }
    }
  }, {
    key: "getGame",
    value: function getGame(ui, settings) {
      if (this.socket != null && this.currentRoom && ui != null) {
        this.game = null;
        this.stopGame();
        this.game = new _GameControllerSocket__WEBPACK_IMPORTED_MODULE_3__["default"](this.socket, ui, settings && settings.onlineEnableClientSidePredictions && this.engineServerVersion == _Constants__WEBPACK_IMPORTED_MODULE_4__["default"].Setting.APP_VERSION, settings);
        ui.controller = this.game;
        ui.pingLatency = this.pingLatency;
        this.ui = ui;
        return this.game;
      }
    }
  }, {
    key: "getURL",
    value: function getURL() {
      if (this.port != null && this.port.trim() != "") {
        return this.url + ":" + this.port;
      }

      return this.url;
    }
  }]);

  return OnlineClient;
}();



/***/ }),

/***/ "./src/engine/Position.js":
/*!********************************!*\
  !*** ./src/engine/Position.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Position; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Constants */ "./src/engine/Constants.js");



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */


var Position = /*#__PURE__*/function () {
  function Position(x, y, direction) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Position);

    this.x = x;
    this.y = y;
    this.direction = direction;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Position, [{
    key: "copy",
    value: function copy() {
      return new Position(this.x, this.y, this.direction);
    }
  }, {
    key: "convertToKeyDirection",
    value: function convertToKeyDirection() {
      switch (this.direction) {
        case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP:
          return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.UP;

        case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT:
          return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.RIGHT;

        case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT:
          return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.LEFT;

        case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM:
          return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.BOTTOM;

        default:
          return this.direction;
      }
    }
  }, {
    key: "convertToSimpleDirection",
    value: function convertToSimpleDirection() {
      switch (this.direction) {
        case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.UP:
          return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP;

        case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.RIGHT:
          return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT;

        case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.LEFT:
          return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT;

        case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.BOTTOM:
          return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM;

        default:
          return this.direction;
      }
    }
  }, {
    key: "equals",
    value: function equals(otherPosition) {
      if (otherPosition != null) {
        return this.x == otherPosition.x && this.y == otherPosition.y;
      } else {
        return false;
      }
    }
  }]);

  return Position;
}();



/***/ }),

/***/ "./src/engine/Reactor.js":
/*!*******************************!*\
  !*** ./src/engine/Reactor.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Reactor; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Event */ "./src/engine/Event.js");



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */


var Reactor = /*#__PURE__*/function () {
  function Reactor() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Reactor);

    this.events = {};
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Reactor, [{
    key: "registerEvent",
    value: function registerEvent(eventName) {
      this.events[eventName] = new _Event__WEBPACK_IMPORTED_MODULE_2__["default"](eventName);
    }
  }, {
    key: "dispatchEvent",
    value: function dispatchEvent(eventName, eventArgs) {
      var callbacks = this.events[eventName].callbacks;

      for (var i = 0, l = callbacks.length; i < l; i++) {
        callbacks[i](eventArgs);
      }
    }
  }, {
    key: "addEventListener",
    value: function addEventListener(eventName, callback) {
      this.events[eventName].registerCallback(callback);
    }
  }]);

  return Reactor;
}();



/***/ }),

/***/ "./src/engine/Snake.js":
/*!*****************************!*\
  !*** ./src/engine/Snake.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Snake; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Constants */ "./src/engine/Constants.js");
/* harmony import */ var _Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Position */ "./src/engine/Position.js");
/* harmony import */ var _Grid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Grid */ "./src/engine/Grid.js");
/* harmony import */ var _ai_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ai/index */ "./src/engine/ai/index.js");



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */





var Snake = /*#__PURE__*/function () {
  function Snake(direction, length, grid, player, aiLevel, autoRetry, name, customAI) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Snake);

    this.direction = direction == undefined ? _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT : direction;
    this.initialDirection = this.direction;
    this.initialLength = length == undefined ? 3 : length;
    this.initTriedDirections = [];
    this.errorInit = false;
    this.grid = grid || new _Grid__WEBPACK_IMPORTED_MODULE_4__["default"]();
    this.queue = [];
    this.lastKey = -1;
    this.lastTail;
    this.lastTailMoved;
    this.ticksDead = 0;
    this.player = player == undefined ? _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HUMAN : player;
    this.aiLevel = aiLevel == undefined ? _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.DEFAULT : aiLevel;
    this.autoRetry = autoRetry == undefined ? false : autoRetry;
    this.score = 0;
    this.gameOver = false;
    this.scoreMax = false;
    this.color;
    this.name = name == undefined ? "Snake" : name;
    this.snakeAI = new _ai_index__WEBPACK_IMPORTED_MODULE_5__["SnakeAI"]();
    this.customAI = customAI;
    this.ticksWithoutAction = 0;
    this.initAI();
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Snake, [{
    key: "init",
    value: function init() {
      if (this.initialLength <= 0) {
        this.errorInit = true;
        return false;
      }

      if (this.grid.maze && this.initTriedDirections.length <= 0) {
        this.initialDirection = this.grid.mazeFirstPosition.direction;
        this.direction = this.initialDirection;
      }

      var spaceLineAvailable = 0;
      var spaceColAvailable = 0;

      if (this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT && this.initTriedDirections.indexOf(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT) == -1 || this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT && this.initTriedDirections.indexOf(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT) == -1) {
        for (var i = 0; i < this.grid.height; i++) {
          var emptyOnLine = 0;

          for (var j = 0; j < this.grid.width; j++) {
            if (this.grid.get(new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](j, i)) == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.EMPTY) {
              emptyOnLine++;
            } else {
              emptyOnLine = 0;
            }

            if (emptyOnLine >= this.initialLength) {
              spaceLineAvailable++;
              break;
            }
          }
        }
      } else if (this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP && this.initTriedDirections.indexOf(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP) == -1 || this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM && this.initTriedDirections.indexOf(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM) == -1) {
        for (var _i = 0; _i < this.grid.width; _i++) {
          var emptyOnCol = 0;

          for (var _j = 0; _j < this.grid.height; _j++) {
            if (this.grid.get(new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](_i, _j)) == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.EMPTY) {
              emptyOnCol++;
            } else {
              emptyOnCol = 0;
            }

            if (emptyOnCol >= this.initialLength) {
              spaceColAvailable++;
              break;
            }
          }
        }
      }

      this.initTriedDirections.push(this.initialDirection);

      if (spaceLineAvailable <= 0 && (this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT || this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT) || spaceColAvailable <= 0 && (this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP || this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM)) {
        if (this.initTriedDirections.indexOf(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT) == -1) {
          this.initialDirection = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT;
          this.direction = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT;
          return this.init();
        } else if (this.initTriedDirections.indexOf(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT) == -1) {
          this.initialDirection = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT;
          this.direction = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT;
          return this.init();
        } else if (this.initTriedDirections.indexOf(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP) == -1) {
          this.initialDirection = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP;
          this.direction = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP;
          return this.init();
        } else if (this.initTriedDirections.indexOf(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM) == -1) {
          this.initialDirection = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM;
          this.direction = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM;
          return this.init();
        }

        this.errorInit = true;
        return false;
      }

      var posNotValidated = true;
      var positionsToAdd = [];
      var startPos, currentPos;

      while (posNotValidated) {
        posNotValidated = false;

        if (this.grid.maze) {
          startPos = this.grid.mazeFirstPosition;
        } else {
          startPos = this.grid.getRandomPosition();
        }

        if (!startPos) {
          this.errorInit = true;
          return false;
        }

        currentPos = new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](startPos.x, startPos.y, this.initialDirection);
        positionsToAdd = [];

        for (var _i2 = this.initialLength - 1; _i2 >= 0; _i2--) {
          if (_i2 < this.initialLength - 1) {
            if (this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT) {
              currentPos = this.grid.getNextPosition(new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](currentPos.x, currentPos.y, this.initialDirection), _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT);
            } else if (this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT) {
              currentPos = this.grid.getNextPosition(new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](currentPos.x, currentPos.y, this.initialDirection), _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT);
            } else if (this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM) {
              currentPos = this.grid.getNextPosition(new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](currentPos.x, currentPos.y, this.initialDirection), _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM);
            } else if (this.initialDirection == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP) {
              currentPos = this.grid.getNextPosition(new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](currentPos.x, currentPos.y, this.initialDirection), _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP);
            }
          }

          if (this.grid.get(currentPos) != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.EMPTY) {
            posNotValidated = true;
          } else {
            positionsToAdd.push(new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](currentPos.x, currentPos.y, currentPos.direction));
          }
        }

        if (this.grid.maze && posNotValidated) {
          return this.init();
        }
      } // If the Snake is near a dead position


      var nearDeadPosition = false;

      if (!this.grid.maze) {
        var firstPosition = new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](positionsToAdd[positionsToAdd.length - 1].x, positionsToAdd[positionsToAdd.length - 1].y, this.direction);

        if (this.grid.isDeadPosition(this.grid.getNextPosition(firstPosition, _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP), false) && this.direction == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP || this.grid.isDeadPosition(this.grid.getNextPosition(firstPosition, _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM), false) && this.direction == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM || this.grid.isDeadPosition(this.grid.getNextPosition(firstPosition, _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT), false) && this.direction == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT || this.grid.isDeadPosition(this.grid.getNextPosition(firstPosition, _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT), false) && this.direction == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT) {
          nearDeadPosition = true;
          this.direction = this.grid.invertDirection(this.direction);
        }
      }

      for (var _i3 = 0; _i3 < positionsToAdd.length; _i3++) {
        if (nearDeadPosition) {
          var position = positionsToAdd[positionsToAdd.length - _i3 - 1];
          position.direction = this.grid.invertDirection(position.direction);
          this.insert(positionsToAdd[positionsToAdd.length - _i3 - 1]);
        } else {
          this.insert(positionsToAdd[_i3]);
        }
      }

      if (this.grid.maze && this.player == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HYBRID_HUMAN_AI) {
        this.player = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HUMAN;
      }

      if (this.player == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].PlayerType.HYBRID_HUMAN_AI) {
        this.aiLevel = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.HIGH;
      }

      this.lastTail = this.get(this.queue.length - 1);
      return true;
    }
  }, {
    key: "initAI",
    value: function initAI() {
      if (!this.customAI) {
        switch (this.aiLevel) {
          case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.RANDOM:
            this.snakeAI = new _ai_index__WEBPACK_IMPORTED_MODULE_5__["SnakeAIRandom"]();
            break;

          case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.LOW:
            this.snakeAI = new _ai_index__WEBPACK_IMPORTED_MODULE_5__["SnakeAILow"]();
            break;

          case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.DEFAULT:
            this.snakeAI = new _ai_index__WEBPACK_IMPORTED_MODULE_5__["SnakeAINormal"]();
            break;

          case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.HIGH:
            this.snakeAI = new _ai_index__WEBPACK_IMPORTED_MODULE_5__["SnakeAIHigh"]();
            break;

          case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.ULTRA:
            this.snakeAI = new _ai_index__WEBPACK_IMPORTED_MODULE_5__["SnakeAIHigh"]();
            break;

          case _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.MOCK:
            this.snakeAI = new _ai_index__WEBPACK_IMPORTED_MODULE_5__["SnakeAIMock"]();
            break;

          default:
            this.snakeAI = new _ai_index__WEBPACK_IMPORTED_MODULE_5__["SnakeAINormal"]();
            break;
        }
      } else {
        this.snakeAI = this.customAI;
        this.aiLevel = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].AiLevel.CUSTOM;
      }
    }
  }, {
    key: "reset",
    value: function reset() {
      this.direction = this.initialDirection;
      this.initTriedDirections = [];
      this.errorInit = false;
      this.queue = [];
      this.score = 0;
      this.gameOver = false;
      this.scoreMax = false;
      this.lastTailMoved = true;
      this.lastTail = undefined;
      this.lastKey = -1;
      this.ticksDead = 0;
      this.ticksWithoutAction = 0;
      if (this.snakeAI) this.snakeAI.aiFruitGoal = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT;
    }
  }, {
    key: "insert",
    value: function insert(position) {
      this.queue.unshift(position);
      this.grid.set(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.SNAKE, position);
    }
  }, {
    key: "remove",
    value: function remove() {
      var last = this.queue.pop();
      this.grid.set(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.EMPTY, last);
      this.lastTail = last;
    }
  }, {
    key: "length",
    value: function length() {
      return this.queue.length;
    }
  }, {
    key: "get",
    value: function get(index) {
      if (this.queue[index] != null) {
        return this.queue[index].copy();
      } else {
        return null;
      }
    }
  }, {
    key: "set",
    value: function set(index, position) {
      if (index >= 0 && index < this.length()) {
        this.queue[index] = position;
      }
    }
  }, {
    key: "getHeadPosition",
    value: function getHeadPosition() {
      return this.get(0);
    }
  }, {
    key: "getTailPosition",
    value: function getTailPosition() {
      return this.get(this.length() - 1);
    }
  }, {
    key: "hasMaxScore",
    value: function hasMaxScore() {
      return this.grid.getTotal(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.EMPTY) <= 0 && !this.grid.fruitPosGold && !this.grid.fruitPos;
    }
  }, {
    key: "setGameOver",
    value: function setGameOver(ticks) {
      this.gameOver = true;
      this.ticksDead = ticks;

      for (var i = 0; i < this.length(); i++) {
        this.grid.set(_Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.SNAKE_DEAD, this.get(i));
      }
    }
  }, {
    key: "kill",
    value: function kill() {
      this.autoRetry = false;
      this.grid = null;
      this.queue = null;
    }
  }, {
    key: "keyToDirection",
    value: function keyToDirection(key) {
      if (key == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.LEFT && this.direction != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT && this.direction != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT) {
        return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT;
      }

      if (key == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.UP && this.direction != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM && this.direction != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP) {
        return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP;
      }

      if (key == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.RIGHT && this.direction != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT && this.direction != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT) {
        return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT;
      }

      if (key == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Key.BOTTOM && this.direction != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP && this.direction != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM) {
        return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM;
      }

      return null;
    }
  }, {
    key: "moveTo",
    value: function moveTo(key) {
      var direction = this.keyToDirection(key);

      if (direction != null) {
        this.direction = direction;
      }
    }
  }, {
    key: "getNextPosition",
    value: function getNextPosition(oldPos, newDirection) {
      return this.grid.getNextPosition(oldPos, newDirection);
    }
  }, {
    key: "getDirectionTo",
    value: function getDirectionTo(position, otherPosition) {
      return this.grid.getDirectionTo(position, otherPosition);
    }
  }, {
    key: "getGraphicDirectionFor",
    value: function getGraphicDirectionFor(current, next, prec) {
      if (next == undefined || prec == undefined) return current.direction;
      var directionToPrec = this.getDirectionTo(current, prec);
      var directionToNext = this.getDirectionTo(current, next);

      if (directionToPrec == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT && directionToNext == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM || directionToPrec == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM && directionToNext == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT) {
        return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.ANGLE_1;
      } else if (directionToPrec == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT && directionToNext == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM || directionToPrec == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM && directionToNext == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT) {
        return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.ANGLE_2;
      } else if (directionToPrec == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP && directionToNext == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT || directionToPrec == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT && directionToNext == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP) {
        return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.ANGLE_3;
      } else if (directionToPrec == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP && directionToNext == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT || directionToPrec == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT && directionToNext == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP) {
        return _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.ANGLE_4;
      } else {
        return current.direction;
      }
    }
  }, {
    key: "getGraphicDirection",
    value: function getGraphicDirection(index) {
      return this.getGraphicDirectionFor(this.get(index), this.get(index - 1), this.get(index + 1));
    }
  }, {
    key: "copy",
    value: function copy() {
      var snake = new Snake(direction, 3, new _Grid__WEBPACK_IMPORTED_MODULE_4__["default"](this.grid.width, this.grid.height, false, false), this.player, this.aiLevel, false);

      for (var i = 0; i < snake.grid.height; i++) {
        for (var j = 0; j < snake.grid.width; j++) {
          snake.grid.set(this.grid.get(new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](j, i)), new _Position__WEBPACK_IMPORTED_MODULE_3__["default"](j, i));
        }
      }

      snake.queue = [];

      for (var _i4 = 0; _i4 < this.queue.length; _i4++) {
        snake.queue.push(elem.copy());
      }

      return snake;
    }
  }, {
    key: "ai",
    value: function ai() {
      if (this.snakeAI && this.snakeAI.ai) {
        var action = this.snakeAI.ai(this);

        if (!action || this.keyToDirection(action) == this.direction) {
          this.ticksWithoutAction++;
        } else {
          this.ticksWithoutAction = 0;
        }

        return action;
      }

      return null;
    }
  }, {
    key: "isAIStuck",
    value: function isAIStuck(widthLimit, heightLimit) {
      if (this.snakeAI && this.snakeAI.ai) {
        if ((this.direction == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.LEFT || this.direction == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.RIGHT) && this.ticksWithoutAction >= this.grid.width * widthLimit) {
          return true;
        } else if ((this.direction == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.UP || this.direction == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].Direction.BOTTOM) && this.ticksWithoutAction >= this.grid.height * heightLimit) {
          return true;
        }
      }

      return false;
    }
  }, {
    key: "getAILevelText",
    value: function getAILevelText() {
      return this.snakeAI ? this.snakeAI.aiLevelText : "???";
    }
  }]);

  return Snake;
}();



/***/ }),

/***/ "./src/engine/ai/SnakeAI.js":
/*!**********************************!*\
  !*** ./src/engine/ai/SnakeAI.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SnakeAI; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Constants */ "./src/engine/Constants.js");



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */


var SnakeAI = /*#__PURE__*/function () {
  function SnakeAI() {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, SnakeAI);

    this.aiFruitGoal = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT;
    this._aiLevelText = "custom";
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SnakeAI, [{
    key: "ai",
    value: function ai(snake) {
      var currentPosition = snake.getHeadPosition();
      var fruitPos = snake.grid.fruitPos;
      var fruitPosGold = snake.grid.fruitPosGold;

      if (fruitPos && snake.grid.get(fruitPos) == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT) {
        var distFruit = Math.abs(fruitPos.x - currentPosition.x) + Math.abs(fruitPos.y - currentPosition.y);
        var distFruitGold = fruitPosGold ? Math.abs(fruitPosGold.x - currentPosition.x) + Math.abs(fruitPosGold.y - currentPosition.y) : -1;

        if (fruitPosGold && snake.grid.get(fruitPosGold) == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT_GOLD && this.aiFruitGoal == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT) {
          if (distFruitGold <= distFruit) {
            this.aiFruitGoal = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT_GOLD;
          } else {
            this.aiFruitGoal = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT;
          }
        } else if (!fruitPosGold || snake.grid.get(fruitPosGold) != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT_GOLD) {
          this.aiFruitGoal = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT;
        }
      } else if ((!fruitPos || snake.grid.get(fruitPos) != _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT) && fruitPosGold && snake.grid.get(fruitPosGold) == _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT_GOLD) {
        this.aiFruitGoal = _Constants__WEBPACK_IMPORTED_MODULE_2__["default"].CaseType.FRUIT_GOLD;
      }

      return null;
    }
  }, {
    key: "aiLevelText",
    get: function get() {
      return this._aiLevelText;
    }
  }]);

  return SnakeAI;
}();



/***/ }),

/***/ "./src/engine/ai/SnakeAIHigh.js":
/*!**************************************!*\
  !*** ./src/engine/ai/SnakeAIHigh.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SnakeAIHigh; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _SnakeAILow__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SnakeAILow */ "./src/engine/ai/SnakeAILow.js");
/* harmony import */ var _SnakeAINormal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./SnakeAINormal */ "./src/engine/ai/SnakeAINormal.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */



var SnakeAIHigh = /*#__PURE__*/function (_SnakeAINormal) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(SnakeAIHigh, _SnakeAINormal);

  var _super = _createSuper(SnakeAIHigh);

  function SnakeAIHigh(snake) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, SnakeAIHigh);

    _this = _super.call(this, true);
    _this.aiLow = new _SnakeAILow__WEBPACK_IMPORTED_MODULE_6__["default"](snake);
    _this._aiLevelText = "high";
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SnakeAIHigh, [{
    key: "ai",
    value: function ai(snake) {
      var res = _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(SnakeAIHigh.prototype), "ai", this).call(this, snake);

      if (!res) {
        return this.aiLow.ai(snake);
      }

      return res;
    }
  }]);

  return SnakeAIHigh;
}(_SnakeAINormal__WEBPACK_IMPORTED_MODULE_7__["default"]);



/***/ }),

/***/ "./src/engine/ai/SnakeAILow.js":
/*!*************************************!*\
  !*** ./src/engine/ai/SnakeAILow.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SnakeAILow; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _SnakeAI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SnakeAI */ "./src/engine/ai/SnakeAI.js");
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Constants */ "./src/engine/Constants.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */



var SnakeAILow = /*#__PURE__*/function (_SnakeAI) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(SnakeAILow, _SnakeAI);

  var _super = _createSuper(SnakeAILow);

  function SnakeAILow() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, SnakeAILow);

    _this = _super.call(this);
    _this._aiLevelText = "low";
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SnakeAILow, [{
    key: "ai",
    value: function ai(snake) {
      _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(SnakeAILow.prototype), "ai", this).call(this, snake);

      if (snake.grid.fruitPos != null) {
        var currentPosition = snake.getHeadPosition();
        var fruitPos = this.aiFruitGoal == _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].CaseType.FRUIT_GOLD ? snake.grid.fruitPosGold : snake.grid.fruitPos;
        var directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.RIGHT;

        if (fruitPos.x > currentPosition.x) {
          if (fruitPos.x - currentPosition.x > snake.grid.width / 2) {
            directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.LEFT;
          } else {
            directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.RIGHT;
          }
        } else if (fruitPos.x < currentPosition.x) {
          if (currentPosition.x - fruitPos.x > snake.grid.width / 2) {
            directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.RIGHT;
          } else {
            directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.LEFT;
          }
        } else if (fruitPos.y < currentPosition.y) {
          if (currentPosition.y - fruitPos.y > snake.grid.height / 2) {
            directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.BOTTOM;
          } else {
            directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.UP;
          }
        } else if (fruitPos.y > currentPosition.y) {
          if (fruitPos.y - currentPosition.y > snake.grid.height / 2) {
            directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.UP;
          } else {
            directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.BOTTOM;
          }
        }

        var nextPosition = snake.getNextPosition(currentPosition, directionNext);

        if (snake.grid.isDeadPosition(nextPosition)) {
          var currentDirection = this.direction;
          var firstDifferentDirection = null;

          for (var i = 1; i < snake.queue.length; i++) {
            if (snake.get(i).direction != currentDirection) {
              firstDifferentDirection = snake.get(i).direction;
              break;
            }
          }

          nextPosition = snake.getNextPosition(currentPosition, firstDifferentDirection);

          if (snake.grid.isDeadPosition(nextPosition)) {
            if (!snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.UP))) {
              directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.UP;
            } else if (!snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.RIGHT))) {
              directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.RIGHT;
            } else if (!snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.BOTTOM))) {
              directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.BOTTOM;
            } else if (!snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.LEFT))) {
              directionNext = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.LEFT;
            }
          } else {
            directionNext = nextPosition.convertToKeyDirection();
          }
        }

        return directionNext;
      }
    }
  }]);

  return SnakeAILow;
}(_SnakeAI__WEBPACK_IMPORTED_MODULE_6__["default"]);



/***/ }),

/***/ "./src/engine/ai/SnakeAIMock.js":
/*!**************************************!*\
  !*** ./src/engine/ai/SnakeAIMock.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SnakeAIMock; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _SnakeAI__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SnakeAI */ "./src/engine/ai/SnakeAI.js");






function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */


var SnakeAIMock = /*#__PURE__*/function (_SnakeAI) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_2___default()(SnakeAIMock, _SnakeAI);

  var _super = _createSuper(SnakeAIMock);

  function SnakeAIMock() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, SnakeAIMock);

    _this = _super.call(this);
    _this._aiLevelText = "mock";
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SnakeAIMock, [{
    key: "ai",
    value: function ai() {
      return null;
    }
  }]);

  return SnakeAIMock;
}(_SnakeAI__WEBPACK_IMPORTED_MODULE_5__["default"]);



/***/ }),

/***/ "./src/engine/ai/SnakeAINormal.js":
/*!****************************************!*\
  !*** ./src/engine/ai/SnakeAINormal.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SnakeAINormal; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _SnakeAI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SnakeAI */ "./src/engine/ai/SnakeAI.js");
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Constants */ "./src/engine/Constants.js");
/* harmony import */ var _Position__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Position */ "./src/engine/Position.js");
/* harmony import */ var _libs_lowlight_astar_min__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../libs/lowlight.astar.min */ "./libs/lowlight.astar.min.js");
/* harmony import */ var _libs_lowlight_astar_min__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_libs_lowlight_astar_min__WEBPACK_IMPORTED_MODULE_9__);







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */





var SnakeAINormal = /*#__PURE__*/function (_SnakeAI) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(SnakeAINormal, _SnakeAI);

  var _super = _createSuper(SnakeAINormal);

  function SnakeAINormal(enableTorus) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, SnakeAINormal);

    _this = _super.call(this);
    _this.enableTorus = enableTorus;
    _this._aiLevelText = "normal";
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SnakeAINormal, [{
    key: "ai",
    value: function ai(snake) {
      _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(SnakeAINormal.prototype), "ai", this).call(this, snake);

      var currentPosition = snake.getHeadPosition();
      var fruitPos = snake.grid.fruitPos;
      var fruitPosGold = snake.grid.fruitPosGold;
      var fruitTarget = fruitPos;

      if (currentPosition && (fruitPos || fruitPosGold)) {
        var grid = snake.grid.getGraph(false);
        var graph = new _libs_lowlight_astar_min__WEBPACK_IMPORTED_MODULE_9__["Astar"].Configuration(grid, {
          order: "yx",
          torus: this.enableTorus ? true : false,
          diagonals: false,
          cutting: false,
          "static": true,
          cost: function cost(a, b) {
            return b == 1 ? null : 1;
          }
        });

        if (fruitPosGold && this.aiFruitGoal == _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].CaseType.FRUIT_GOLD) {
          fruitTarget = fruitPosGold;
        }

        var path = graph.path({
          x: currentPosition.x,
          y: currentPosition.y
        }, {
          x: fruitTarget ? fruitTarget.x : null,
          y: fruitTarget ? fruitTarget.y : null
        });

        if (path.length < 1) {
          if (this.aiFruitGoal == _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].CaseType.FRUIT_GOLD || !fruitPosGold) {
            fruitTarget = fruitPos;
          }

          path = graph.path({
            x: currentPosition.x,
            y: currentPosition.y
          }, {
            x: fruitTarget ? fruitTarget.x : null,
            y: fruitTarget ? fruitTarget.y : null
          });
        }

        if (path.length > 1) {
          var nextPosition = new _Position__WEBPACK_IMPORTED_MODULE_8__["default"](path[1].x, path[1].y);
          return new _Position__WEBPACK_IMPORTED_MODULE_8__["default"](null, null, snake.getDirectionTo(currentPosition, nextPosition)).convertToKeyDirection();
        }

        grid, graph, path = null;
      }

      return null;
    }
  }]);

  return SnakeAINormal;
}(_SnakeAI__WEBPACK_IMPORTED_MODULE_6__["default"]);



/***/ }),

/***/ "./src/engine/ai/SnakeAIRandom.js":
/*!****************************************!*\
  !*** ./src/engine/ai/SnakeAIRandom.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SnakeAIRandom; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _SnakeAI__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SnakeAI */ "./src/engine/ai/SnakeAI.js");
/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Constants */ "./src/engine/Constants.js");
/* harmony import */ var _GameUtils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../GameUtils */ "./src/engine/GameUtils.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */




var SnakeAIRandom = /*#__PURE__*/function (_SnakeAI) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(SnakeAIRandom, _SnakeAI);

  var _super = _createSuper(SnakeAIRandom);

  function SnakeAIRandom() {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, SnakeAIRandom);

    _this = _super.call(this);
    _this._aiLevelText = "random";
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(SnakeAIRandom, [{
    key: "ai",
    value: function ai(snake) {
      _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(SnakeAIRandom.prototype), "ai", this).call(this, snake);

      var currentPosition = snake.getHeadPosition();
      var top = snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.UP));
      var left = snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.LEFT));
      var bottom = snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.BOTTOM));
      var right = snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.RIGHT));

      if (top && left && bottom && right) {
        return _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.UP;
      } else {
        var direction = null;

        while (direction == null || snake.grid.isDeadPosition(snake.getNextPosition(currentPosition, direction))) {
          var r = _GameUtils__WEBPACK_IMPORTED_MODULE_8__["default"].randRange(1, 4, snake.grid ? snake.grid.rngGame : null);

          switch (r) {
            case 1:
              direction = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.UP;
              break;

            case 2:
              direction = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.LEFT;
              break;

            case 3:
              direction = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.BOTTOM;
              break;

            case 4:
              direction = _Constants__WEBPACK_IMPORTED_MODULE_7__["default"].Key.RIGHT;
              break;
          }
        }

        return direction;
      }
    }
  }]);

  return SnakeAIRandom;
}(_SnakeAI__WEBPACK_IMPORTED_MODULE_6__["default"]);



/***/ }),

/***/ "./src/engine/ai/index.js":
/*!********************************!*\
  !*** ./src/engine/ai/index.js ***!
  \********************************/
/*! exports provided: SnakeAI, SnakeAIRandom, SnakeAILow, SnakeAINormal, SnakeAIHigh, SnakeAIMock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _SnakeAI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SnakeAI */ "./src/engine/ai/SnakeAI.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SnakeAI", function() { return _SnakeAI__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _SnakeAIRandom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SnakeAIRandom */ "./src/engine/ai/SnakeAIRandom.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SnakeAIRandom", function() { return _SnakeAIRandom__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _SnakeAILow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SnakeAILow */ "./src/engine/ai/SnakeAILow.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SnakeAILow", function() { return _SnakeAILow__WEBPACK_IMPORTED_MODULE_2__["default"]; });

/* harmony import */ var _SnakeAINormal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SnakeAINormal */ "./src/engine/ai/SnakeAINormal.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SnakeAINormal", function() { return _SnakeAINormal__WEBPACK_IMPORTED_MODULE_3__["default"]; });

/* harmony import */ var _SnakeAIHigh__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./SnakeAIHigh */ "./src/engine/ai/SnakeAIHigh.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SnakeAIHigh", function() { return _SnakeAIHigh__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _SnakeAIMock__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SnakeAIMock */ "./src/engine/ai/SnakeAIMock.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SnakeAIMock", function() { return _SnakeAIMock__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */








/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: GameConstants, Event, Reactor, Grid, Snake, GameGroup, GameUtils, Position, GameEngine, Game, GameController, GameControllerWorker, GameControllerSocket, GameUI, OnlineClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _assets_locales_init_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../assets/locales/init.js */ "./assets/locales/init.js");
/* harmony import */ var _assets_locales_menu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../assets/locales/menu.js */ "./assets/locales/menu.js");
/* harmony import */ var _assets_locales_engine_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../assets/locales/engine.js */ "./assets/locales/engine.js");
/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../main.js */ "./main.js");
/* harmony import */ var _engine_Constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./engine/Constants */ "./src/engine/Constants.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameConstants", function() { return _engine_Constants__WEBPACK_IMPORTED_MODULE_4__["default"]; });

/* harmony import */ var _engine_Event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./engine/Event */ "./src/engine/Event.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Event", function() { return _engine_Event__WEBPACK_IMPORTED_MODULE_5__["default"]; });

/* harmony import */ var _engine_Reactor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./engine/Reactor */ "./src/engine/Reactor.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Reactor", function() { return _engine_Reactor__WEBPACK_IMPORTED_MODULE_6__["default"]; });

/* harmony import */ var _engine_Grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./engine/Grid */ "./src/engine/Grid.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Grid", function() { return _engine_Grid__WEBPACK_IMPORTED_MODULE_7__["default"]; });

/* harmony import */ var _engine_Snake__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./engine/Snake */ "./src/engine/Snake.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Snake", function() { return _engine_Snake__WEBPACK_IMPORTED_MODULE_8__["default"]; });

/* harmony import */ var _engine_GameGroup__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./engine/GameGroup */ "./src/engine/GameGroup.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameGroup", function() { return _engine_GameGroup__WEBPACK_IMPORTED_MODULE_9__["default"]; });

/* harmony import */ var _engine_GameUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./engine/GameUtils */ "./src/engine/GameUtils.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameUtils", function() { return _engine_GameUtils__WEBPACK_IMPORTED_MODULE_10__["default"]; });

/* harmony import */ var _engine_Position__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./engine/Position */ "./src/engine/Position.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Position", function() { return _engine_Position__WEBPACK_IMPORTED_MODULE_11__["default"]; });

/* harmony import */ var _engine_GameEngine__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./engine/GameEngine */ "./src/engine/GameEngine.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameEngine", function() { return _engine_GameEngine__WEBPACK_IMPORTED_MODULE_12__["default"]; });

/* harmony import */ var _Shim__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Shim */ "./src/Shim.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Game", function() { return _Shim__WEBPACK_IMPORTED_MODULE_13__["Game"]; });

/* harmony import */ var _engine_GameController__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./engine/GameController */ "./src/engine/GameController.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameController", function() { return _engine_GameController__WEBPACK_IMPORTED_MODULE_14__["default"]; });

/* harmony import */ var _engine_GameControllerWorker__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./engine/GameControllerWorker */ "./src/engine/GameControllerWorker.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameControllerWorker", function() { return _engine_GameControllerWorker__WEBPACK_IMPORTED_MODULE_15__["default"]; });

/* harmony import */ var _engine_GameControllerSocket__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./engine/GameControllerSocket */ "./src/engine/GameControllerSocket.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameControllerSocket", function() { return _engine_GameControllerSocket__WEBPACK_IMPORTED_MODULE_16__["default"]; });

/* harmony import */ var _ui_GameUI__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ui/GameUI */ "./src/ui/GameUI.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GameUI", function() { return _ui_GameUI__WEBPACK_IMPORTED_MODULE_17__["default"]; });

/* harmony import */ var _engine_OnlineClient__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./engine/OnlineClient */ "./src/engine/OnlineClient.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "OnlineClient", function() { return _engine_OnlineClient__WEBPACK_IMPORTED_MODULE_18__["default"]; });

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */
// Exports engine classes





















/***/ }),

/***/ "./src/ui/GameRanking.js":
/*!*******************************!*\
  !*** ./src/ui/GameRanking.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameRanking; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _engine_Constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../engine/Constants */ "./src/engine/Constants.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jsgametools */ "./node_modules/jsgametools/lib/JSGameTools.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(jsgametools__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */




var GameRanking = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(GameRanking, _Component);

  var _super = _createSuper(GameRanking);

  function GameRanking(snakes, currentPlayer, fontSize, fontFamily, headerHeight, backgroundColor, scrollBarColor, disableAnimation, imageLoader, spectatorMode) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GameRanking);

    _this = _super.call(this);
    _this.snakes = snakes;
    _this.fontSize = fontSize || Math.floor(_engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Setting.FONT_SIZE / 1.25);
    _this.fontFamily = fontFamily || _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Setting.FONT_FAMILY;
    _this.backgroundColor = backgroundColor || "rgba(44, 62, 80, 0.75)";
    _this.scrollBarColor = scrollBarColor || "rgba(44, 62, 80, 0.8)";
    _this.headerHeight = headerHeight || _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Setting.HEADER_HEIGHT_DEFAULT;
    _this.closed = false;
    _this.closing = false;
    _this.opening = false;
    _this.forceClosing = false;
    _this.overflow = false;
    _this.back = false;
    _this.lastLine = false;
    _this.timeLastFrame = 0;
    _this.offsetX = 0;
    _this.totalTimeX = 0;
    _this.totalTime = 0;
    _this.canvasTmp = document.createElement("canvas");
    _this.disableAnimation = disableAnimation;
    _this.imageLoader = imageLoader;
    _this.currentPlayer = currentPlayer;
    _this.spectatorMode = spectatorMode;

    _this.addScrollAction(function (deltaX, deltaY) {
      if (_this.lastLine && deltaY > 0) {
        _this.offsetScrollY -= deltaY;
        _this.back = false;
        _this.overflow = false;
      }

      _this.totalTime = 0;
      _this.timeLastFrame = 0;
    });

    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GameRanking, [{
    key: "draw",
    value: function draw(context) {
      if (this.snakes != null && !this.closed) {
        _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(GameRanking.prototype), "draw", this).call(this, context);

        this.canvasTmp.width = context.canvas.width;
        this.canvasTmp.height = context.canvas.height;
        var canvas = this.canvasTmp;
        var ctx = this.canvasTmp.getContext("2d");
        ctx.save();
        var title = i18next__WEBPACK_IMPORTED_MODULE_8__["default"].t("engine.ranking");
        var maxSizeName = ctx.measureText(title).width;
        var scores = [];
        var numPlayer = 0;
        var numAI = 0;
        ctx.font = this.fontSize / 1.5 + "px " + this.fontFamily;
        var sizeNumber = ctx.measureText("" + this.snakes.length).width + 15;

        for (var i = 0; i < this.snakes.length; i++) {
          var snake = this.snakes[i];

          if (snake.player == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].PlayerType.HUMAN || snake.player == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].PlayerType.HYBRID_HUMAN_AI) {
            numPlayer++;
          } else {
            numAI++;
          }

          var text = snake.name + " × " + snake.score + " (" + (this.currentPlayer == i && !this.spectatorMode ? i18next__WEBPACK_IMPORTED_MODULE_8__["default"].t("engine.playerHuman") : this.snakes[i].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].PlayerType.HUMAN || this.snakes[i].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].PlayerType.HYBRID_HUMAN_AI ? i18next__WEBPACK_IMPORTED_MODULE_8__["default"].t("engine.playerMin") + numPlayer : i18next__WEBPACK_IMPORTED_MODULE_8__["default"].t("engine.aiMin") + numAI) + ")";
          var sizeText = ctx.measureText(text).width + 30;
          if (sizeText > maxSizeName) maxSizeName = sizeText;
          scores[i] = {
            username: snake.name,
            score: snake.score,
            gameOver: snake.gameOver,
            text: text,
            rank: 0,
            id: i
          };
          lastScore = snake.score;
        }

        this.x = -(jsgametools__WEBPACK_IMPORTED_MODULE_7__["EasingFunctions"].easeInOutCubic(this.offsetX / this.width) * this.width);
        this.y = this.headerHeight;
        this.width = maxSizeName + sizeNumber + 15;
        this.height = canvas.height - this.headerHeight;
        ctx.fillStyle = "rgba(75, 75, 75, 0.35)";
        ctx.fillRect(this.x, this.headerHeight, this.width, this.height);
        ctx.font = this.fontSize + "px " + this.fontFamily;
        var yTitle = this.headerHeight + this.fontSize - this.offsetScrollY + 10; // Scroll variables

        var maxHeight = this.snakes.length * (this.fontSize + 5) + this.fontSize + 10 + this.fontSize / 1.5;
        var clientHeight = this.height * (this.height / maxHeight);
        var scrollAreaSize = this.height - clientHeight;
        var percentScrollbar = this.offsetScrollY / (maxHeight - this.height);

        if (scrollAreaSize * percentScrollbar + clientHeight > this.height) {
          // Limit max scroll
          this.offsetScrollY += this.height - (scrollAreaSize * percentScrollbar + clientHeight);
        }

        if (yTitle > this.headerHeight + this.fontSize + 10) {
          // Limit min scroll
          yTitle = this.headerHeight + this.fontSize + 10;
          this.offsetScrollY = 0;
        }

        percentScrollbar = this.offsetScrollY / (maxHeight - this.height);

        if (yTitle + this.fontSize - 10 >= this.headerHeight) {
          jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawText(ctx, i18next__WEBPACK_IMPORTED_MODULE_8__["default"].t("engine.ranking"), "rgba(255, 255, 255, 0.5)", Math.round(this.fontSize), this.fontFamily, "default", null, Math.round(this.width / 2 - ctx.measureText(title).width / 2 + this.x), Math.round(yTitle), false, true);
        }

        var ranking = scores.sort(function (a, b) {
          return b.score - a.score;
        });
        var rank = 0;
        var lastScore = 0;

        for (var _i = 0; _i < ranking.length; _i++) {
          if (ranking[_i].score < lastScore) {
            rank++;
          }

          ranking[_i].rank = rank;
          lastScore = ranking[_i].score;
        }

        var currentY = yTitle + this.fontSize / 1.5;
        this.overflow = false;
        if (this.timeLastFrame <= 0) this.timeLastFrame = performance.now();
        var offsetTime = performance.now() - this.timeLastFrame;
        this.timeLastFrame = performance.now();
        var numberRankDrawn = 0;

        for (var _i2 = 0; _i2 < ranking.length; _i2++) {
          if (currentY + this.fontSize > this.headerHeight) {
            if (ranking[_i2].rank >= 0 && ranking[_i2].rank < 3 && ranking[_i2].score > 0) {
              switch (ranking[_i2].rank) {
                case 0:
                  jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawImage(ctx, this.imageLoader ? this.imageLoader.get("assets/images/trophy.png", Math.round(this.fontSize), Math.round(this.fontSize)) : null, 5 + this.x, currentY, Math.round(this.fontSize), Math.round(this.fontSize));
                  break;

                case 1:
                  jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawImage(ctx, this.imageLoader ? this.imageLoader.get("assets/images/trophy_silver.png", Math.round(this.fontSize), Math.round(this.fontSize)) : null, 5 + this.x, currentY, Math.round(this.fontSize), Math.round(this.fontSize));
                  break;

                case 2:
                  jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawImage(ctx, this.imageLoader ? this.imageLoader.get("assets/images/trophy_bronze.png", Math.round(this.fontSize), Math.round(this.fontSize)) : null, 5 + this.x, currentY, Math.round(this.fontSize), Math.round(this.fontSize));
                  break;
              }
            } else {
              jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawText(ctx, "" + (ranking[_i2].rank + 1), "rgba(255, 255, 255, 0.5)", Math.round(this.fontSize / 1.5), this.fontFamily, null, null, Math.round(this.fontSize / 1.5 / 2 + 5 + this.x), Math.round(currentY + this.fontSize / 1.5));
            }

            jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawText(ctx, ranking[_i2].text, ranking[_i2].gameOver ? "rgba(231, 76, 60, 0.5)" : "rgba(255, 255, 255, 0.5)", Math.round(this.fontSize / 1.5), this.fontFamily, null, null, Math.round(5 + sizeNumber + this.fontSize / 1.5 + this.x), Math.round(currentY + this.fontSize / 1.5));
            numberRankDrawn++;
          }

          currentY += Math.round(this.fontSize) + 5;

          if (currentY > canvas.height && !this.back) {
            this.lastLine = false;
            this.totalTime += offsetTime;

            if (this.totalTime > 5000) {
              this.overflow = true;
            }

            break;
          } else if (_i2 == this.snakes.length - 1) {
            if (!this.back) this.totalTime = 0;
            this.back = true;
            this.lastLine = true;
          }
        }

        if (numberRankDrawn <= 0) {
          this.offsetScrollY = 0;
          this.timeLastFrame = performance.now();
          offsetTime = 0;
        }

        if (this.back) {
          this.totalTime += offsetTime;

          if (this.totalTime > 5000) {
            if (this.offsetScrollY > 0) {
              this.offsetScrollY -= offsetTime / 20;
            } else {
              this.back = false;
              this.totalTime = 0;
            }
          }
        } else if (this.overflow) {
          this.offsetScrollY += offsetTime / 20;
        }

        if (this.disableAnimation && this.closing) {
          this.closing = false;
          this.closed = true;
        } else if (this.disableAnimation && this.closing) {
          this.opening = false;
          this.closed = false;
        } else {
          if (this.closing) {
            if (this.forceClosing) {
              this.offsetX = this.width;
            } else {
              this.offsetX += offsetTime / 3;
            }

            if (this.offsetX >= this.width) {
              this.closing = false;
              this.closed = true;
              this.forceClosing = false;
            }
          } else if (this.opening) {
            this.offsetX -= offsetTime / 3;

            if (this.offsetX <= 0) {
              this.offsetX = 0;
              this.opening = false;
              this.closed = false;
            }
          }
        } // Scrollbar drawing


        if (clientHeight <= this.height) {
          ctx.fillStyle = this.scrollBarColor;
          ctx.fillRect(this.x + this.width - 15, this.headerHeight + scrollAreaSize * percentScrollbar, 15, clientHeight);
        }

        jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawImageData(context, this.canvasTmp, 0, this.headerHeight, this.width, this.height, 0, this.headerHeight, this.width, this.height);
        ctx.restore();
      } else {
        this.overflow = false;
        this.back = false;
        this.timeLastFrame = performance.now();
        this.offsetScrollY = 0;
        this.totalTime = 0;
      }
    }
  }, {
    key: "close",
    value: function close() {
      this.closing = true;
      this.opening = false;
      this.forceClosing = false;
    }
  }, {
    key: "forceClose",
    value: function forceClose() {
      this.closing = true;
      this.opening = false;
      this.forceClosing = true;
    }
  }, {
    key: "open",
    value: function open() {
      this.closing = false;
      this.opening = true;
      this.closed = false;
      this.forceClosing = false;
    }
  }, {
    key: "set",
    value: function set(snakes, fontSize, headerHeight, currentPlayer, imageLoader, spectatorMode) {
      this.snakes = snakes;
      this.fontSize = fontSize;
      this.headerHeight = headerHeight;
      this.currentPlayer = currentPlayer;
      this.imageLoader = imageLoader;
      this.spectatorMode = spectatorMode;
    }
  }]);

  return GameRanking;
}(jsgametools__WEBPACK_IMPORTED_MODULE_7__["Component"]);



/***/ }),

/***/ "./src/ui/GameUI.js":
/*!**************************!*\
  !*** ./src/ui/GameUI.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameUI; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/* harmony import */ var _engine_GameUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../engine/GameUtils */ "./src/engine/GameUtils.js");
/* harmony import */ var _GraphicsUtils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GraphicsUtils */ "./src/ui/GraphicsUtils.js");
/* harmony import */ var _engine_Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../engine/Constants */ "./src/engine/Constants.js");
/* harmony import */ var _GameRanking__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GameRanking */ "./src/ui/GameRanking.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jsgametools */ "./node_modules/jsgametools/lib/JSGameTools.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(jsgametools__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _GridUI__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GridUI */ "./src/ui/GridUI.js");
/* harmony import */ var _Header__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Header */ "./src/ui/Header.js");



/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */








jsgametools__WEBPACK_IMPORTED_MODULE_7__["Constants"].Setting.FONT_FAMILY = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_FAMILY;
jsgametools__WEBPACK_IMPORTED_MODULE_7__["Constants"].Setting.DISABLE_EXPERIMENTAL_OPTIMIZATIONS = false;
jsgametools__WEBPACK_IMPORTED_MODULE_7__["Constants"].Setting.FONT_SIZE = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_SIZE;

var GameUI = /*#__PURE__*/function () {
  function GameUI(controller, appendTo, canvasWidth, canvasHeight, displayFPS, outputType, settings) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GameUI);

    // Assets loader
    this.imageLoader = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ImageLoader"]();
    this.assetsLoaded = false; // Game settings

    this.controller = controller;
    this.appendTo = appendTo;
    this.displayFPS = displayFPS == undefined ? false : displayFPS;
    this.outputType = outputType == undefined ? _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.GRAPHICAL : outputType;
    this.outputType = settings && settings.textOutput ? _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.TEXT : this.outputType;
    this.disableAnimation = settings && !settings.enableAnimations;
    this.renderBlur = settings && settings.renderBlur;
    this.graphicSkin = settings && settings.graphicSkin || "flat";
    this.maxFPS = settings && settings.maxFPS || -1; // UI variables

    this.lastKey = -1;
    this.frame = 0;
    this.lastFrame = 0;
    this.offsetFrame = 0;
    this.lastFrameTime = 0;
    this.currentFPS = 0;
    this.engineLoading = false; // Swipe detection variables

    this.touchEventStartX;
    this.touchEventStartY;
    this.touchEventStartTimestamp;
    this.touchEventOffsetX = 0;
    this.touchEventOffsetY = 0; // Copy of engine variables

    this.grid = null;
    this.snakes = null;
    this.speed = 8;
    this.initialSpeed = 8;
    this.ticks = 0;
    this.countBeforePlay = -1;
    this.numFruit = 0;
    this.paused = true;
    this.exited = false;
    this.killed = false;
    this.isReseted = true;
    this.gameOver = false;
    this.gameFinished = false;
    this.gameMazeWin = false;
    this.scoreMax = false;
    this.enablePause = false;
    this.enableRetry = false;
    this.progressiveSpeed = false;
    this.aiStuck = false;
    this.precAiStuck = false; // Game state variables

    this.errorOccurred = false;
    this.fullscreen = false; // Online variables

    this.onlineMode = false;
    this.enableRetryPauseMenu = true;
    this.searchingPlayers = false;
    this.playerNumber = 0;
    this.maxPlayers = 0;
    this.timeStart = 0;
    this.lastTime = 0;
    this.currentPlayer = null;
    this.spectatorMode = null;
    this.onlineMaster = false;
    this.pingLatency = -1; // Menus state variables

    this.menu = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Menu"](new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Style"]({
      "blur": this.renderBlur
    }));
    this.confirmReset = false;
    this.confirmExit = false;
    this.getInfos = false;
    this.getInfosGame = false;
    this.getAdvancedInfosGame = false;
    this.timeoutAutoRetry = null; // Components

    this.isFilterHueAvailable = jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].isFilterHueAvailable();
    this.gameRanking = new _GameRanking__WEBPACK_IMPORTED_MODULE_6__["default"](this.snakes, null, null, null, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.HEADER_HEIGHT_DEFAULT, null, null, this.disableAnimation, this.imageLoader);
    this.header = new _Header__WEBPACK_IMPORTED_MODULE_9__["default"](_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.HEADER_HEIGHT_DEFAULT, null, this.snakes, this.enablePause, null, null, null, this.gameRanking, this.bestScoreToDisplay, this.numFruit, this.imageLoader);
    this.gridUI = new _GridUI__WEBPACK_IMPORTED_MODULE_8__["default"](this.snakes, this.grid, this.speed, this.disableAnimation, this.graphicSkin, this.isFilterHueAvailable, this.header.height, this.imageLoader);
    this.progressBarLoading = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ProgressBar"](null, null, this.canvasWidth / 4, 25, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Style"]({
      "alignement": "center",
      "disableAnimation": this.disableAnimation
    }), 0.5);
    this.box = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Box"](0, 0, null, null, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Style"]({
      "backgroundColor": "rgba(204, 207, 211, 1)"
    }));
    this.scene = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Scene"](this.box, this.gridUI, this.gameRanking, this.header, this.menu);
    this.canvas;
    this.notificationMessage;
    this.labelMenus; // DOM elements and others settings

    this.textarea;
    this.canvas;
    this.canvasCtx;
    this.canvasWidth = canvasWidth == undefined ? _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.CANVAS_WIDTH : canvasWidth;
    this.canvasHeight = canvasHeight == undefined ? _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.CANVAS_HEIGHT : canvasHeight;
    this.fontSize = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_SIZE;
    this.timerToDisplay = null;
    this.bestScoreToDisplay = null; // Intervals, timeouts, frames

    this.intervalCountFPS; // Buttons

    this.btnFullScreen;
    this.btnPause;
    this.btnContinue;
    this.btnRetry;
    this.btnQuit;
    this.btnYes;
    this.btnNo;
    this.btnOK;
    this.btnAbout;
    this.btnAdvanced;
    this.btnInfosGame;
    this.btnTopArrow;
    this.btnRightArrow;
    this.btnLeftArrow;
    this.btnBottomArrow;
    this.btnExitFullScreen;
    this.btnEnterFullScreen;
    this.btnStartGame;
    this.btnRank;
    this.init();
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GameUI, [{
    key: "init",
    value: function init() {
      var _this = this;

      if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.TEXT) {
        this.textarea = document.createElement("textarea");
        this.appendTo.appendChild(this.textarea);
        this.assetsLoaded = true;
      } else if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.GRAPHICAL) {
        jsgametools__WEBPACK_IMPORTED_MODULE_7__["Constants"].String.ERROR_MESSAGE_CANVAS = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.errorJSGameToolsConsole");
        jsgametools__WEBPACK_IMPORTED_MODULE_7__["Constants"].String.ERROR_MESSAGE_CANVAS_LABEL = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.errorJSGameTools");
        jsgametools__WEBPACK_IMPORTED_MODULE_7__["Constants"].String.RETRY = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.retryInit");
        this.canvas = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Canvas"](this.scene, document.createElement("canvas"), this.canvasWidth, this.canvasHeight, true, this.maxFPS);
        this.canvas.appendTo(this.appendTo);
        this.btnFullScreen = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ButtonImage"]("assets/images/fullscreen.png", null, null, null, null, 64, 64);
        this.btnPause = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ButtonImage"]("assets/images/pause.png", null, null, null, null, 64, 64);
        this.btnRank = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ButtonImage"]("assets/images/ranking.png", null, null, null, null, 64, 64);
        var buttonStyle = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Style"]({
          "alignement": "center",
          "backgroundColor": "#3498db",
          "backgroundColorHover": "#246A99",
          "backgroundColorClick": "#184766",
          "padding": 10
        });
        var labelStyle = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Style"]({
          "fontColor": "white",
          "fontSize": _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_SIZE,
          "fontFamily": _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_FAMILY,
          "alignement": "center"
        });
        this.btnContinue = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.continue"), null, null, labelStyle));
        this.btnRetry = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.reset"), null, null, labelStyle));
        this.btnQuit = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.exit"), null, null, labelStyle));
        this.btnYes = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.yes"), null, null, labelStyle));
        this.btnNo = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.no"), null, null, labelStyle));
        this.btnOK = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.ok"), null, null, labelStyle));
        this.btnAbout = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.about"), null, null, labelStyle));
        this.btnInfosGame = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.infosGame"), null, null, labelStyle));
        this.btnAdvanced = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.infosGameAdvanced"), null, null, labelStyle));
        this.btnTopArrow = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ButtonImage"]("assets/images/up.png", 64, 92, "right", "bottom", 64, 64, "rgba(255, 255, 255, 0.25)", "rgba(149, 165, 166, 0.25)");
        this.btnRightArrow = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ButtonImage"]("assets/images/right.png", 0, 46, "right", "bottom", 64, 64, "rgba(255, 255, 255, 0.25)", "rgba(149, 165, 166, 0.25)");
        this.btnLeftArrow = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ButtonImage"]("assets/images/left.png", 128, 46, "right", "bottom", 64, 64, "rgba(255, 255, 255, 0.25)", "rgba(149, 165, 166, 0.25)");
        this.btnBottomArrow = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["ButtonImage"]("assets/images/bottom.png", 64, 0, "right", "bottom", 64, 64, "rgba(255, 255, 255, 0.25)", "rgba(149, 165, 166, 0.25)");
        this.btnExitFullScreen = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.exitFullScreen"), null, null, labelStyle));
        this.btnEnterFullScreen = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.enterFullScreen"), null, null, labelStyle));
        this.btnStartGame = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Button"](null, null, null, null, buttonStyle, new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.servers.startGame"), null, null, labelStyle));
        this.labelMenus = new jsgametools__WEBPACK_IMPORTED_MODULE_7__["Label"]("", null, null, labelStyle);
        this.header.setButtons(this.btnFullScreen, this.btnPause, this.btnRank);
        this.btnFullScreen.setClickAction(function () {
          _this.toggleFullscreen();

          _this.pause();
        });
        this.btnPause.setClickAction(function () {
          _this.pause();
        });
        this.btnRank.setClickAction(function () {
          if (_this.gameRanking.closing || _this.gameRanking.closed) {
            _this.gameRanking.open();
          } else {
            _this.gameRanking.close();
          }
        });
        this.btnTopArrow.setClickAction(function () {
          _this.controller.key(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.UP);
        });
        this.btnBottomArrow.setClickAction(function () {
          _this.controller.key(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.BOTTOM);
        });
        this.btnLeftArrow.setClickAction(function () {
          _this.controller.key(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.LEFT);
        });
        this.btnRightArrow.setClickAction(function () {
          _this.controller.key(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.RIGHT);
        });

        if (this.canvas) {
          this.canvas.addEventListener("touchstart", function (event) {
            var changedTouches = event.changedTouches[0];

            var position = _this.getTouchPos(_this.canvas, changedTouches);

            if (!_this.gameRanking.hovered) {
              _this.touchEventStartX = position.x;
              _this.touchEventStartY = position.y;
              _this.touchEventStartTimestamp = performance.now();
            }
          });

          var touchSwipeEvent = function touchSwipeEvent(event) {
            var changedTouches = event.changedTouches[0];

            var position = _this.getTouchPos(_this.canvas, changedTouches);

            if (!_this.gameRanking.hovered) {
              _this.touchEventOffsetX += position.x - _this.touchEventStartX;
              _this.touchEventOffsetY += position.y - _this.touchEventStartY;

              if (performance.now() - _this.touchEventStartTimestamp >= 250) {
                _this.touchEventOffsetX = 0;
                _this.touchEventOffsetY = 0;
              }

              if (_this.touchEventOffsetX < 0 && Math.abs(_this.touchEventOffsetX) > 50) {
                _this.controller.key(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.LEFT);
              } else if (_this.touchEventOffsetX > 0 && Math.abs(_this.touchEventOffsetX) > 50) {
                _this.controller.key(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.RIGHT);
              } else if (_this.touchEventOffsetY < 0 && Math.abs(_this.touchEventOffsetY) > 50) {
                _this.controller.key(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.UP);
              } else if (_this.touchEventOffsetY > 0 && Math.abs(_this.touchEventOffsetY) > 50) {
                _this.controller.key(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.BOTTOM);
              }

              _this.touchEventStartX = position.x;
              _this.touchEventStartY = position.y;
            }
          };

          this.canvas.addEventListener("touchend", function () {
            _this.touchEventOffsetX = 0;
            _this.touchEventOffsetY = 0;
          });
          this.canvas.addEventListener("touchmove", function (event) {
            touchSwipeEvent(event);
            event.preventDefault();
          });
        }
      }

      this.setIntervalCountFPS();
      document.addEventListener("keydown", function (evt) {
        if (!_this.killed) {
          var keyCode = evt.keyCode;
          if (keyCode == 90 || keyCode == 87) keyCode = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.UP; // W or Z

          if (keyCode == 65 || keyCode == 81) keyCode = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.LEFT; // A or Q

          if (keyCode == 83) keyCode = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.BOTTOM; // S

          if (keyCode == 68) keyCode = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.RIGHT; // D

          if (!_this.paused) {
            if (keyCode == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Key.ENTER) {
              _this.pause();
            } else {
              _this.controller.key(keyCode);
            }
          } else if (_this.countBeforePlay < 0) {
            _this.lastKeyMenu = keyCode;
          }

          evt.preventDefault();
        }
      });
      window.addEventListener("resize", function () {
        _this.autoResizeCanvas();
      }, true);
      this.autoResizeCanvas();
      this.loadAssets();
      this.startDraw();
    }
  }, {
    key: "getTouchPos",
    value: function getTouchPos(canvas, event) {
      var rect = canvas.getBoundingClientRect();
      return {
        x: event.clientX - rect.left,
        y: event.clientY - rect.top
      };
    }
  }, {
    key: "autoResizeCanvas",
    value: function autoResizeCanvas() {
      if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.GRAPHICAL && !this.killed) {
        jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].autoResizeCanvas(this.canvas, this.canvasWidth, this.canvasHeight);
      }
    }
  }, {
    key: "setIntervalCountFPS",
    value: function setIntervalCountFPS() {
      var _this2 = this;

      this.clearIntervalCountFPS();
      this.intervalCountFPS = window.setInterval(function () {
        _this2.countFPS();
      }, 1000);
    }
  }, {
    key: "countFPS",
    value: function countFPS() {
      if (this.lastFrame > 0) this.currentFPS = this.frame - this.lastFrame;
      this.lastFrame = this.frame;
    }
  }, {
    key: "clearIntervalCountFPS",
    value: function clearIntervalCountFPS() {
      clearInterval(this.intervalCountFPS);
    }
  }, {
    key: "getNBPlayer",
    value: function getNBPlayer(type) {
      return this.controller.getNBPlayer(type);
    }
  }, {
    key: "getPlayer",
    value: function getPlayer(num, type) {
      return this.controller.getPlayer(num, type);
    }
  }, {
    key: "reset",
    value: function reset() {
      this.controller && this.controller.reset();
    }
  }, {
    key: "start",
    value: function start() {
      this.controller && this.controller.start();
    }
  }, {
    key: "forceStart",
    value: function forceStart() {
      this.controller && this.controller.forceStart();
    }
  }, {
    key: "stop",
    value: function stop() {
      this.controller && this.controller.stop();
    }
  }, {
    key: "pause",
    value: function pause() {
      this.controller && this.controller.pause();
    }
  }, {
    key: "kill",
    value: function kill() {
      this.controller && this.controller.kill();
    }
  }, {
    key: "exit",
    value: function exit() {
      this.controller && this.controller.exit();
    }
  }, {
    key: "tick",
    value: function tick() {
      this.controller && this.controller.tick();
    }
  }, {
    key: "setKill",
    value: function setKill() {
      this.killed = true;
      this.clearIntervalCountFPS();
      this.grid = null;
      this.snakes = null;

      if (this.appendTo != null) {
        if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.TEXT && this.textarea != null) {
          this.appendTo.removeChild(this.textarea);
          this.textarea = null;
        } else if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.GRAPHICAL && this.canvas != null) {
          this.canvas.getContext("2d").clearRect(0, 0, this.canvas.width, this.canvas.height);
          this.canvas.width = 0;
          this.canvas.height = 0;
          this.canvas.remove(this.appendTo);
          this.canvas = null;
          this.canvasCtx = null;
          this.imageLoader.clear();
        }
      }
    }
  }, {
    key: "toggleFullscreen",
    value: function toggleFullscreen() {
      var _this3 = this;

      if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.GRAPHICAL && !this.killed) {
        this.canvas.toggleFullscreen();

        var onfullscreenchange = function onfullscreenchange() {
          if (_this3.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.GRAPHICAL && !_this3.killed) {
            if (document.fullscreenElement == _this3.canvas) {
              _this3.fullscreen = true;
            } else {
              _this3.fullscreen = false;
            }

            if (document.fullscreenElement == _this3.canvas && typeof screen.orientation !== "undefined" && typeof screen.orientation.lock !== "undefined") {
              screen.orientation.lock("landscape")["catch"](function () {});
            }
          }
        };

        if (typeof document.onfullscreenchange !== "undefined") {
          document.onfullscreenchange = onfullscreenchange;
        } else if (typeof document.onmsfullscreenchange !== "undefined") {
          document.onmsfullscreenchange = onfullscreenchange;
        } else if (typeof document.onmozfullscreenchange !== "undefined") {
          document.onmozfullscreenchange = onfullscreenchange;
        } else if (typeof document.onwebkitfullscreenchange !== "undefined") {
          document.onwebkitfullscreenchange = onfullscreenchange;
        } else if (typeof document.onokitfullscreenchange !== "undefined") {
          document.onofullscreenchange = onfullscreenchange;
        }

        onfullscreenchange();
      }
    }
  }, {
    key: "loadAssets",
    value: function loadAssets() {
      var _this4 = this;

      if (!this.errorOccurred && this.outputType != _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.TEXT) {
        this.imageLoader.load(["assets/images/skin/" + this.graphicSkin + "/snake_4.png", "assets/images/skin/" + this.graphicSkin + "/snake_3.png", "assets/images/skin/" + this.graphicSkin + "/snake_2.png", "assets/images/skin/" + this.graphicSkin + "/snake.png", "assets/images/skin/" + this.graphicSkin + "/body_4_end.png", "assets/images/skin/" + this.graphicSkin + "/body_3_end.png", "assets/images/skin/" + this.graphicSkin + "/body_2_end.png", "assets/images/skin/" + this.graphicSkin + "/body_end.png", "assets/images/skin/" + this.graphicSkin + "/body_2.png", "assets/images/skin/" + this.graphicSkin + "/body.png", "assets/images/skin/" + this.graphicSkin + "/wall.png", "assets/images/skin/" + this.graphicSkin + "/fruit.png", "assets/images/skin/" + this.graphicSkin + "/body_angle_1.png", "assets/images/skin/" + this.graphicSkin + "/body_angle_2.png", "assets/images/skin/" + this.graphicSkin + "/body_angle_3.png", "assets/images/skin/" + this.graphicSkin + "/body_angle_4.png", "assets/images/pause.png", "assets/images/fullscreen.png", "assets/images/skin/" + this.graphicSkin + "/snake_dead_4.png", "assets/images/skin/" + this.graphicSkin + "/snake_dead_3.png", "assets/images/skin/" + this.graphicSkin + "/snake_dead_2.png", "assets/images/skin/" + this.graphicSkin + "/snake_dead.png", "assets/images/up.png", "assets/images/left.png", "assets/images/right.png", "assets/images/bottom.png", "assets/images/trophy.png", "assets/images/trophy_silver.png", "assets/images/trophy_bronze.png", "assets/images/clock.png", "assets/images/skin/" + this.graphicSkin + "/fruit_gold.png", "assets/images/ranking.png", "assets/images/skin/flat/fruit.png", "assets/images/skin/" + this.graphicSkin + "/unknown.png"], function () {
          if (_this4.imageLoader.hasError) {
            _this4.errorOccurred = true;
          } else {
            _this4.assetsLoaded = true;

            _this4.btnFullScreen.loadImage(_this4.imageLoader);

            _this4.btnPause.loadImage(_this4.imageLoader);

            _this4.btnRank.loadImage(_this4.imageLoader);

            _this4.btnTopArrow.loadImage(_this4.imageLoader);

            _this4.btnBottomArrow.loadImage(_this4.imageLoader);

            _this4.btnLeftArrow.loadImage(_this4.imageLoader);

            _this4.btnRightArrow.loadImage(_this4.imageLoader);

            _this4.start();
          }
        }, this);
      } else if (!this.errorOccurred && this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.TEXT) {
        this.assetsLoaded = true;
        this.start();
      }
    }
  }, {
    key: "startDraw",
    value: function startDraw() {
      var _this5 = this;

      requestAnimationFrame(function (time) {
        return _this5.beforeDraw(time);
      });
    }
  }, {
    key: "beforeDraw",
    value: function beforeDraw(time) {
      if (!this.killed) {
        if (!document.hasFocus() && !this.paused && this.outputType != _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.TEXT) {
          this.controller.pause();
        }

        var offsetFrame = time - this.lastFrameTime;

        if (this.maxFPS < 1 || offsetFrame > 1000 / this.maxFPS) {
          this.lastFrameTime = time;
          this.frame++;

          if (!this.paused && !this.onlineMode || this.onlineMode || this.gameOver || this.gameFinished) {
            this.offsetFrame += offsetFrame;
            var offset = this.offsetFrame / (this.speed * _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.TIME_MULTIPLIER);

            if ((this.gameOver || this.gameFinished) && offset >= 0.95) {
              this.offsetFrame = 0;
              this.ticks++;
            }
          }

          this.draw();
          this.lastTime = Date.now();
        }

        this.startDraw();
      }
    }
  }, {
    key: "draw",
    value: function draw() {
      var _this6 = this;

      if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.TEXT && !this.killed) {
        if (this.grid != null) {
          this.textarea.style.width = this.grid.width * 16.5 + "px";
          this.textarea.style.height = this.grid.height * 16 + 100 + "px";
        }

        this.textarea.innerHTML = this.toString();
      } else if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.GRAPHICAL && !this.killed) {
        var ctx = this.canvasCtx;
        this.currentPlayer = this.controller.getCurrentPlayer();
        this.fontSize = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_SIZE;
        this.header.minHeight = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.HEADER_HEIGHT_DEFAULT;

        if (this.canvas.width <= _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.CANVAS_WIDTH / 1.25) {
          this.fontSize /= 1.25;
          this.header.minHeight = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.HEADER_HEIGHT_DEFAULT / 1.25;
        } else if (this.canvas.width >= _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.CANVAS_WIDTH * 1.5) {
          this.fontSize *= 1.25;
          this.header.minHeight = _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.HEADER_HEIGHT_DEFAULT * 1.25;
        }

        jsgametools__WEBPACK_IMPORTED_MODULE_7__["Constants"].Setting.FONT_SIZE = this.fontSize;
        this.labelMenus.size = this.fontSize;

        if (this.notificationMessage) {
          this.notificationMessage.fontSize = this.fontSize;
          this.notificationMessage.fontSizeInitial = this.fontSize;
          this.notificationMessage.easingFunction = jsgametools__WEBPACK_IMPORTED_MODULE_7__["EasingFunctions"].easeInOutCubic;
        }

        if (this.gameRanking) {
          this.gameRanking.fontSize = this.fontSize;
        }

        this.menu.disable();
        this.box.width = this.canvas.width;
        this.box.height = this.canvas.height;

        if (this.assetsLoaded && !this.errorOccurred) {
          this.header.set(this.snakes, this.imageLoader, this.bestScoreToDisplay, this.header.height, this.numFruit, this.enablePause);

          if (this.grid != null && (!this.grid.maze || this.grid.maze && (!this.paused || this.gameOver || this.gameFinished))) {
            this.gridUI.set(this.snakes, this.grid, this.speed, this.offsetFrame, this.header.height, this.imageLoader, this.currentPlayer, this.gameFinished, this.countBeforePlay, this.spectatorMode, this.ticks, this.gameOver);
          }

          if (this.timerToDisplay != undefined && this.timerToDisplay != null && !isNaN(this.timerToDisplay) && this.timerToDisplay >= 0) {
            var sizesTimer = jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawText(ctx, "" + _engine_GameUtils__WEBPACK_IMPORTED_MODULE_3__["default"].secondsFormat(this.timerToDisplay), "rgba(0, 0, 0, 0.5)", Math.round(this.fontSize), _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_FAMILY, "right", "default", null, Math.round(this.header.height + 15 + this.header.height * 0.475));
            jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawImage(ctx, this.imageLoader.get("assets/images/clock.png", Math.round(this.header.height * 0.64), Math.round(this.header.height * 0.64)), Math.round(sizesTimer["x"] - this.header.height * 0.64 - 10), Math.round(this.header.height + 15), Math.round(this.header.height * 0.64), Math.round(this.header.height * 0.64));
          }
        } else if (!this.assetsLoaded) {
          var percentLoaded = Math.floor(100 * Object.keys(this.imageLoader.images).length / this.imageLoader.nbImagesToLoad);
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.loading") + "\n" + percentLoaded + "%";
          this.labelMenus.color = "white";
          this.progressBarLoading.percent = percentLoaded / 100;
          this.progressBarLoading.width = this.canvas.width / 4;
          this.menu.set(this.labelMenus, this.progressBarLoading);
        }

        if (this.aiStuck && !this.precAiStuck) {
          this.precAiStuck = true;
          this.setNotification(new jsgametools__WEBPACK_IMPORTED_MODULE_7__["NotificationMessage"](i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.aiStuck"), null, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.ERROR_NOTIF_COLOR, 10));
        }

        if (this.notificationMessage != undefined && this.notificationMessage != null && this.notificationMessage instanceof jsgametools__WEBPACK_IMPORTED_MODULE_7__["NotificationMessage"] && !this.notificationMessage.foreGround) {
          this.notificationMessage.draw(this);
        }
        /*if(this.snakes != null && (this.getNBPlayer(GameConstants.PlayerType.HUMAN) > 0 || this.getNBPlayer(GameConstants.PlayerType.HYBRID_HUMAN_AI) > 0) && (this.getNBPlayer(GameConstants.PlayerType.HUMAN) <= 1 || this.getNBPlayer(GameConstants.PlayerType.HYBRID_HUMAN_AI) <= 1 || this.currentPlayer != null) && !this.spectatorMode) {
          this.btnTopArrow.draw(this.canvasCtx);
          this.btnBottomArrow.draw(this.canvasCtx);
          this.btnRightArrow.draw(this.canvasCtx);
          this.btnLeftArrow.draw(this.canvasCtx);
        }*/


        if (this.snakes != null && this.snakes.length <= 1) {
          this.gameRanking.forceClose();
        }

        if (!this.gameFinished && !this.gameOver && this.assetsLoaded && !this.errorOccurred) {
          this.gameRanking.set(this.snakes, this.fontSize, this.header.height, this.currentPlayer, this.imageLoader, this.spectatorMode);
        }

        this.disableAllButtons();

        if (this.searchingPlayers && this.lastTime > 0) {
          this.timeStart -= Math.max(0, Date.now() - this.lastTime);
        } else {
          this.timeStart = 0;
        }

        var nextGameText = this.timeStart > 0 ? "\n\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.servers.nextGameStart") + " " + _engine_GameUtils__WEBPACK_IMPORTED_MODULE_3__["default"].millisecondsFormat(this.timeStart) : "";

        if (this.exited) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.exited");
          this.labelMenus.color = "white";
          this.fullscreen ? this.menu.set(this.labelMenus, this.btnExitFullScreen) : this.menu.set(this.labelMenus);
          this.btnExitFullScreen.setClickAction(function () {
            _this6.toggleFullscreen();
          });
        } else if (this.errorOccurred) {
          this.labelMenus.text = this.imageLoader.hasError ? i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.errorLoading") : i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.error");
          this.labelMenus.color = "#E74C3C";
          this.menu.set(this.labelMenus, this.btnQuit);
          this.btnQuit.setClickAction(function () {
            _this6.confirmExit = false;

            _this6.exit();
          });
        } else if (this.getInfosGame) {
          if (this.getAdvancedInfosGame && this.grid && (this.grid.seedGrid || this.grid.seedGame)) {
            this.labelMenus.text = (this.grid.seedGrid ? i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.seedGrid") + "\n" + this.grid.seedGrid : "") + (this.grid.seedGame ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.seedGame") + "\n" + this.grid.seedGame : "");
            this.menu.set(this.labelMenus, this.btnOK);
            this.btnOK.setClickAction(function () {
              _this6.getAdvancedInfosGame = false;
            });
          } else {
            this.labelMenus.text = (this.snakes != null && this.snakes.length <= 1 && !this.spectatorMode ? i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.player") + " " + (this.snakes != null && this.snakes[0].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HUMAN && !this.spectatorMode || this.snakes != null && this.snakes[0].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HYBRID_HUMAN_AI ? i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.playerHuman") : i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.playerAI")) : "") + (this.getNBPlayer(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.AI) > 0 ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.aiLevel") + " " + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.aiLevelList." + this.getPlayer(1, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.AI).getAILevelText()) : "") + "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.sizeGrid") + " " + (this.grid != null && this.grid.width ? this.grid.width : "???") + "×" + (this.grid != null && this.grid.height ? this.grid.height : "???") + "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.currentSpeed") + " " + (this.initialSpeed != null ? this.initialSpeed : "???") + (this.snakes != null && this.snakes.length <= 1 && this.progressiveSpeed ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.progressiveSpeed") : "") + (this.grid != null && !this.grid.maze && this.snakes != null && this.snakes[0].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HYBRID_HUMAN_AI ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.assistAI") : "") + (this.grid != null && this.grid.maze ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.mazeModeMin") : "") + (this.onlineMode ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.onlineMode") : "") + (this.pingLatency > -1 ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.ping") + " " + this.pingLatency + " ms" : "");
            this.grid && (this.grid.seedGrid || this.grid.seedGame) ? this.menu.set(this.labelMenus, this.btnAdvanced, this.btnOK) : this.menu.set(this.labelMenus, this.btnOK);
            this.btnOK.setClickAction(function () {
              _this6.getInfosGame = false;
            });
            this.btnAdvanced.setClickAction(function () {
              _this6.getAdvancedInfosGame = true;
            });
          }

          this.labelMenus.color = "white";
        } else if (this.getInfos) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.aboutScreen.title") + "\nwww.eliastiksofts.com\n\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.aboutScreen.versionAndDate", {
            version: _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.APP_VERSION,
            date: new Intl.DateTimeFormat(i18next__WEBPACK_IMPORTED_MODULE_2__["default"].language).format(new Date(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.DATE_VERSION)),
            interpolation: {
              escapeValue: false
            }
          });
          this.labelMenus.color = "white";
          this.menu.set(this.labelMenus, this.btnInfosGame, this.btnOK);
          this.btnInfosGame.setClickAction(function () {
            _this6.getInfosGame = true;
          });
          this.btnOK.setClickAction(function () {
            _this6.getInfos = false;
          });
        } else if (this.confirmExit) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.exitConfirm");
          this.labelMenus.color = "#E74C3C";
          this.menu.set(this.labelMenus, this.btnNo, this.btnYes);
          this.btnYes.setClickAction(function () {
            _this6.confirmExit = false;

            _this6.exit();
          });
          this.btnNo.setClickAction(function () {
            _this6.confirmExit = false;
          });
        } else if (this.assetsLoaded && this.countBeforePlay >= 0) {
          if (this.snakes != null && (this.snakes.length > 1 && this.getNBPlayer(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HUMAN) <= 1 && this.getPlayer(1, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HUMAN) != null || this.snakes.length > 1 && this.getNBPlayer(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HYBRID_HUMAN_AI) <= 1 && this.getPlayer(1, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HYBRID_HUMAN_AI) != null || this.currentPlayer != null && this.snakes.length > 1)) {
            var playerHuman, colorName, colorRgb;

            if (!this.spectatorMode) {
              if (this.currentPlayer != null && this.currentPlayer > -1) {
                playerHuman = this.getPlayer(this.currentPlayer + 1, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HUMAN) || this.getPlayer(this.currentPlayer + 1, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HYBRID_HUMAN_AI);
              } else if (this.getPlayer(1, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HUMAN) != null) {
                playerHuman = this.getPlayer(1, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HUMAN);
              } else {
                playerHuman = this.getPlayer(1, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HYBRID_HUMAN_AI);
              }
            }

            if (playerHuman != null) {
              colorName = _GraphicsUtils__WEBPACK_IMPORTED_MODULE_4__["default"].hslToName(_engine_GameUtils__WEBPACK_IMPORTED_MODULE_3__["default"].addHue(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.IMAGE_SNAKE_HUE, playerHuman.color), _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.IMAGE_SNAKE_SATURATION, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.IMAGE_SNAKE_VALUE);
              colorRgb = _GraphicsUtils__WEBPACK_IMPORTED_MODULE_4__["default"].hsvToRgb(_engine_GameUtils__WEBPACK_IMPORTED_MODULE_3__["default"].addHue(_engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.IMAGE_SNAKE_HUE, playerHuman.color) / 360, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.IMAGE_SNAKE_SATURATION / 100, _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.IMAGE_SNAKE_VALUE / 100);
            }

            if (this.countBeforePlay > 0) {
              this.labelMenus.text = "" + this.countBeforePlay;
            } else {
              this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.ready");
            }

            this.labelMenus.text += playerHuman != null ? "\n" + (this.isFilterHueAvailable && colorName != "???" && (this.graphicSkin == "flat" || this.graphicSkin == "pixel") ? i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.colorPlayer", {
              color: colorName
            }) : i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.arrowPlayer")) : "";

            if (colorRgb && colorRgb.length >= 3) {
              this.labelMenus.color = this.isFilterHueAvailable && colorName != "???" && (this.graphicSkin == "flat" || this.graphicSkin == "pixel") ? ["white", "rgb(" + colorRgb[0] + ", " + colorRgb[1] + ", " + colorRgb[2] + ")"] : ["white", "#3498db"];
            } else {
              this.labelMenus.color = "white";
            }
          } else {
            if (this.countBeforePlay > 0) {
              this.labelMenus.text = "" + this.countBeforePlay;
            } else {
              this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.ready");
            }

            this.labelMenus.color = "white";
          }

          !this.fullscreen ? this.menu.set(this.labelMenus, this.btnEnterFullScreen) : this.menu.set(this.labelMenus);
          this.btnEnterFullScreen.setClickAction(function () {
            _this6.toggleFullscreen();
          });
        } else if (this.confirmReset && !this.gameOver) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.resetConfirm");
          this.labelMenus.color = "#E74C3C";
          this.menu.set(this.labelMenus, this.btnNo, this.btnYes);
          this.btnYes.setClickAction(function () {
            _this6.confirmReset = false;

            _this6.reset();
          });
          this.btnNo.setClickAction(function () {
            _this6.confirmReset = false;
          });
        } else if (this.gameFinished) {
          this.labelMenus.text = this.grid.maze && this.gameMazeWin ? i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.mazeWin") : i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.gameFinished") + nextGameText;
          this.labelMenus.color = this.grid.maze && this.gameMazeWin ? "#2ecc71" : "white";
          this.enableRetry ? this.menu.set(this.labelMenus, this.btnRetry, this.btnQuit) : this.menu.set(this.labelMenus, this.btnQuit);
          this.btnRetry.setClickAction(function () {
            _this6.reset();
          });
          this.btnQuit.setClickAction(function () {
            _this6.confirmExit = true;
          });
        } else if (this.scoreMax && this.snakes.length <= 1) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.scoreMax") + nextGameText;
          this.labelMenus.color = "#2ecc71";
          this.enableRetry ? this.menu.set(this.labelMenus, this.btnRetry, this.btnQuit) : this.fullscreen ? this.menu.set(this.labelMenus, this.btnExitFullScreen) : this.menu.set(this.labelMenus, this.btnQuit);
          this.btnRetry.setClickAction(function () {
            _this6.reset();
          });
          this.btnQuit.setClickAction(function () {
            _this6.confirmExit = true;
          });
          this.btnExitFullScreen.setClickAction(function () {
            _this6.toggleFullscreen();
          });
        } else if (this.gameOver && this.snakes.length <= 1) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.gameOver") + nextGameText;
          this.labelMenus.color = "#E74C3C";
          this.enableRetry && this.snakes[0] && !this.snakes[0].autoRetry ? this.menu.set(this.labelMenus, this.btnRetry, this.btnQuit) : this.fullscreen ? this.menu.set(this.labelMenus, this.btnExitFullScreen) : this.menu.set(this.labelMenus, this.btnQuit);

          if (this.snakes[0] && this.snakes[0].autoRetry && this.timeoutAutoRetry == null) {
            this.timeoutAutoRetry = setTimeout(function () {
              _this6.reset();

              _this6.timeoutAutoRetry = null;
            }, 500);
          } else {
            this.btnRetry.setClickAction(function () {
              _this6.reset();
            });
            this.btnQuit.setClickAction(function () {
              _this6.confirmExit = true;
            });
            this.btnExitFullScreen.setClickAction(function () {
              _this6.toggleFullscreen();
            });
          }
        } else if (this.assetsLoaded && this.searchingPlayers) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.servers.waitingPlayers") + "\n" + this.playerNumber + "/" + this.maxPlayers + (this.timeStart > 0 ? "\n\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.servers.gameStart") + " " + _engine_GameUtils__WEBPACK_IMPORTED_MODULE_3__["default"].millisecondsFormat(this.timeStart) : "");
          this.labelMenus.color = "white";
          this.onlineMaster ? this.menu.set(this.labelMenus, this.btnStartGame, this.btnQuit) : this.menu.set(this.labelMenus, this.btnQuit);
          this.btnQuit.setClickAction(function () {
            _this6.confirmExit = true;
          });
          this.btnStartGame.setClickAction(function () {
            _this6.forceStart();
          });
        } else if (this.paused && !this.gameOver && this.assetsLoaded) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.pause");
          this.labelMenus.color = "white";
          this.enablePause ? this.enableRetry && this.enableRetryPauseMenu ? this.menu.set(this.labelMenus, this.btnContinue, this.btnRetry, this.btnAbout, this.btnQuit) : this.menu.set(this.labelMenus, this.btnContinue, this.btnAbout, this.btnQuit) : this.menu.set(this.labelMenus, this.btnContinue, this.btnAbout);
          this.btnContinue.setClickAction(function () {
            _this6.start();
          });
          this.btnRetry.setClickAction(function () {
            _this6.confirmReset = true;
          });
          this.btnQuit.setClickAction(function () {
            _this6.confirmExit = true;
          });
          this.btnAbout.setClickAction(function () {
            _this6.getInfos = true;
          });
        } else if (this.assetsLoaded) {
          this.btnFullScreen.enable();
          this.gameRanking.enable();

          if (this.snakes != null) {
            for (var i = 0; i < this.snakes.length; i++) {
              if (this.snakes[i].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HUMAN || this.snakes[i].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].PlayerType.HYBRID_HUMAN_AI) {
                this.btnTopArrow.enable();
                this.btnBottomArrow.enable();
                this.btnLeftArrow.enable();
                this.btnRightArrow.enable();
                break;
              }
            }
          }

          if (this.enablePause) {
            this.btnPause.enable();
          }

          if (this.snakes != null && this.snakes.length > 1) {
            this.btnRank.enable();
          }

          if (this.notificationMessage != undefined && this.notificationMessage != null && this.notificationMessage instanceof jsgametools__WEBPACK_IMPORTED_MODULE_7__["NotificationMessage"] && !this.notificationMessage.foreGround) {
            this.notificationMessage.enableCloseButton();
          }
        }

        if (this.assetsLoaded && this.engineLoading) {
          this.labelMenus.text = i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.loadingWorker");
          this.labelMenus.color = "white";
          this.menu.set(this.labelMenus);
        }

        this.labelMenus.fontSize = this.fontSize;

        if ((this.gameFinished || this.gameOver) && this.snakes != null && this.snakes.length > 1 && !this.errorOccurred) {
          this.gameRanking.open();
          this.gameRanking.enable();
        }

        if (this.notificationMessage != undefined && this.notificationMessage != null && this.notificationMessage instanceof jsgametools__WEBPACK_IMPORTED_MODULE_7__["NotificationMessage"] && this.notificationMessage.foreGround) {
          this.notificationMessage.enableCloseButton();
        }

        if (this.displayFPS) {
          jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawText(ctx, this.getDebugText(), "rgba(255, 255, 255, 0.85)", Math.round(this.fontSize / 1.5), _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_FAMILY, "right", "bottom", null, null, true);
        }

        if (this.spectatorMode) {
          jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawText(ctx, i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.servers.spectatorMode"), "rgba(255, 255, 255, 0.5)", Math.round(this.fontSize), _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].Setting.FONT_FAMILY, "left", "bottom", null, null, true);
        }

        this.canvas.draw();
      }
    }
  }, {
    key: "setDisplayFPS",
    value: function setDisplayFPS(display) {
      this.displayFPS = display;
    }
  }, {
    key: "disableAllButtons",
    value: function disableAllButtons() {
      if (this.outputType == _engine_Constants__WEBPACK_IMPORTED_MODULE_5__["default"].OutputType.GRAPHICAL) {
        this.btnContinue.disable();
        this.btnRetry.disable();
        this.btnQuit.disable();
        this.btnYes.disable();
        this.btnNo.disable();
        this.btnOK.disable();
        this.btnOK.disable();
        this.btnAbout.disable();
        this.btnInfosGame.disable();
        this.btnFullScreen.disable();
        this.btnPause.disable();
        this.btnRank.disable();
        this.btnExitFullScreen.disable();
        this.btnEnterFullScreen.disable();
        this.btnStartGame.disable();
        this.gameRanking.disable();

        if (this.notificationMessage != undefined && this.notificationMessage != null && this.notificationMessage instanceof jsgametools__WEBPACK_IMPORTED_MODULE_7__["NotificationMessage"]) {
          this.notificationMessage.disableCloseButton();
        }

        this.btnTopArrow.disable();
        this.btnBottomArrow.disable();
        this.btnRightArrow.disable();
        this.btnLeftArrow.disable();
      }
    }
  }, {
    key: "setNotification",
    value: function setNotification(notification) {
      if (this.notificationMessage != undefined && this.notificationMessage != null && this.notificationMessage instanceof jsgametools__WEBPACK_IMPORTED_MODULE_7__["NotificationMessage"]) {
        this.notificationMessage.close();
        this.scene.remove(this.notificationMessage);
      }

      this.notificationMessage = notification;

      if (this.notificationMessage instanceof jsgametools__WEBPACK_IMPORTED_MODULE_7__["NotificationMessage"] && this.disableAnimation) {
        this.notificationMessage.disableAnimation = true;
      }

      if (this.notificationMessage) {
        this.scene.add(this.notificationMessage);
        this.notificationMessage.open();
      }
    }
  }, {
    key: "setTimeToDisplay",
    value: function setTimeToDisplay(time) {
      this.timerToDisplay = time;
    }
  }, {
    key: "setBestScore",
    value: function setBestScore(score) {
      if (score != undefined && score != null && score.trim() != "") {
        this.bestScoreToDisplay = score;
      }
    }
  }, {
    key: "getDebugText",
    value: function getDebugText() {
      return i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.debug.fps") + " " + this.currentFPS + " / " + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.debug.frames") + " " + this.frame + " / " + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.debug.ticks") + " " + this.ticks + " / " + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.debug.speed") + " " + this.speed + (this.pingLatency > -1 ? " / " + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.ping") + " " + this.pingLatency + " ms" : "");
    }
  }, {
    key: "toString",
    value: function toString() {
      return (this.grid != null ? this.grid.toString() : "") + "\n" + (this.snakes != null && this.snakes.length <= 1 ? i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.score") + " : " + (this.snakes != null ? this.snakes[0].score : "") : "") + (this.displayFPS ? "\n" + this.getDebugText() : "") + (this.gameOver && !this.scoreMax ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.gameOver") : "") + (this.scoreMax ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.scoreMax") : "") + (!this.gameOver && this.paused ? "\n" + i18next__WEBPACK_IMPORTED_MODULE_2__["default"].t("engine.debug.paused") : "") + (this.countBeforePlay > 0 ? "\n" + this.countBeforePlay : "");
    }
  }]);

  return GameUI;
}();



/***/ }),

/***/ "./src/ui/GraphicsUtils.js":
/*!*********************************!*\
  !*** ./src/ui/GraphicsUtils.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */

/* harmony default export */ __webpack_exports__["default"] = ({
  hsvToRgb: function hsvToRgb(h, s, v) {
    var r, g, b, i, f, p, q, t;
    i = Math.floor(h * 6);
    f = h * 6 - i;
    p = v * (1 - s);
    q = v * (1 - f * s);
    t = v * (1 - (1 - f) * s);

    switch (i % 6) {
      case 0:
        r = v, g = t, b = p;
        break;

      case 1:
        r = q, g = v, b = p;
        break;

      case 2:
        r = p, g = v, b = t;
        break;

      case 3:
        r = p, g = q, b = v;
        break;

      case 4:
        r = t, g = p, b = v;
        break;

      case 5:
        r = v, g = p, b = q;
        break;
    }

    return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
  },
  hslToName: function hslToName(h, s, l) {
    if (s <= 10 && l >= 90) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.white");
    } else if (s <= 10 && l <= 70 || s == 0) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.gray");
    } else if (l <= 15) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.black");
    } else if (h >= 0 && h <= 6 || h >= 350) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.red");
    } else if (h >= 7 && h <= 42) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.orange");
    } else if (h >= 43 && h <= 70) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.yellow");
    } else if (h >= 71 && h <= 156) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.green");
    } else if (h >= 157 && h <= 221) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.blue");
    } else if (h >= 222 && h <= 290) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.purple");
    } else if (h >= 291 && h <= 349) {
      return i18next__WEBPACK_IMPORTED_MODULE_0__["default"].t("engine.colors.pink");
    } else {
      return "???";
    }
  }
});

/***/ }),

/***/ "./src/ui/GridUI.js":
/*!**************************!*\
  !*** ./src/ui/GridUI.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GridUI; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _engine_Constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../engine/Constants */ "./src/engine/Constants.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jsgametools */ "./node_modules/jsgametools/lib/JSGameTools.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(jsgametools__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");
/* harmony import */ var _engine_Position__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../engine/Position */ "./src/engine/Position.js");







function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */





var GridUI = /*#__PURE__*/function (_Component) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(GridUI, _Component);

  var _super = _createSuper(GridUI);

  function GridUI(snakes, grid, speed, disableAnimation, graphicSkin, isFilterHueAvailable, headerHeight, imageLoader, currentPlayer, gameFinished, countBeforePlay, spectatorMode, ticks, gameOver) {
    var _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GridUI);

    _this = _super.call(this);
    _this.snakes = snakes;
    _this.grid = grid;
    _this.speed = speed;
    _this.disableAnimation = disableAnimation;
    _this.isFilterHueAvailable = isFilterHueAvailable;
    _this.headerHeight = headerHeight;
    _this.imageLoader = imageLoader;
    _this.graphicSkin = graphicSkin;
    _this.currentPlayer = currentPlayer;
    _this.gameFinished = gameFinished;
    _this.offsetFrame = 0;
    _this.countBeforePlay = countBeforePlay;
    _this.spectatorMode = spectatorMode;
    _this.ticks = ticks;
    _this.gameOver = gameOver;
    _this.canvasTmp = document.createElement("canvas");
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GridUI, [{
    key: "draw",
    value: function draw(context) {
      if (this.grid && this.grid.grid) {
        _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_2___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(GridUI.prototype), "draw", this).call(this, context);

        var canvas = context.canvas;
        var ctx = canvas.getContext("2d");
        this.canvasTmp.width = canvas.width;
        this.canvasTmp.height = canvas.height;
        ctx.save();
        var caseHeight = Math.floor((canvas.height - this.headerHeight) / this.grid.height);
        var caseWidth = Math.floor(canvas.width / this.grid.width);
        caseHeight = caseHeight > caseWidth ? caseWidth : caseHeight;
        caseWidth = caseWidth > caseHeight ? caseHeight : caseWidth;
        var totalWidth = caseWidth * this.grid.width;
        var totalHeight = caseHeight * this.grid.height;
        this.width = totalWidth;
        this.height = totalHeight;

        for (var i = 0; i < this.grid.height; i++) {
          for (var j = 0; j < this.grid.width; j++) {
            var caseX = Math.floor(j * caseWidth + (canvas.width - totalWidth) / 2);
            var caseY = this.headerHeight + i * caseHeight;

            if (i == 0 && j == 0) {
              this.x = caseX;
              this.y = caseY;
            }

            if (i % 2 == 0 && j % 2 == 0 || i % 2 == 1 && j % 2 == 1) {
              ctx.fillStyle = "rgba(127, 140, 141, 0.75)";
            } else {
              ctx.fillStyle = "rgba(44, 62, 80, 0.75)";
            }

            ctx.fillRect(caseX, caseY, caseWidth, caseHeight);
            jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawImage(ctx, this.imageLoader.get("assets/images/skin/" + this.graphicSkin + "/" + this.grid.getImageCase(new _engine_Position__WEBPACK_IMPORTED_MODULE_9__["default"](j, i)), Math.round(caseWidth), Math.round(caseHeight)), Math.round(caseX), Math.round(caseY), Math.round(caseWidth), Math.round(caseHeight));
          }
        }

        this.drawSnake(ctx, caseWidth, caseHeight, totalWidth, this.currentPlayer);
        this.canvasTmp.width = 0;
        this.canvasTmp.height = 0;
        ctx.restore();
      }
    }
  }, {
    key: "drawSnake",
    value: function drawSnake(ctx, caseWidth, caseHeight, totalWidth, currentPlayer) {
      if (this.snakes != null) {
        var canvas = this.canvasTmp;
        var ctxTmp = this.canvasTmp.getContext("2d");

        for (var j = 0; j < this.snakes.length; j++) {
          ctxTmp.clearRect(0, 0, this.canvasTmp.width, this.canvasTmp.height);

          if (this.snakes[j].color != undefined) {
            ctxTmp.filter = "hue-rotate(" + this.snakes[j].color + "deg)";
          }

          for (var i = this.snakes[j].length() - 1; i >= -1 && this.snakes[j].length() > 1 || i >= 0; i--) {
            // -1 == tail
            var position = void 0;

            if (i == -1) {
              position = this.snakes[j].get(this.snakes[j].length() - 1);
            } else {
              position = this.snakes[j].get(i);
            }

            var caseX = 0;
            var caseY = 0;
            var direction = position.direction;
            var angle = 0;
            var imageLoc = "";
            var eraseBelow = true;

            if (i == 0) {
              direction = this.snakes[j].getHeadPosition().direction;
            } else if (i == -1) {
              if (!this.disableAnimation && !this.snakes[j].gameOver && !this.snakes[j].scoreMax && !this.gameFinished && this.snakes[j].lastTailMoved) {
                direction = this.snakes[j].getTailPosition().direction;
              } else {
                direction = this.snakes[j].get(this.snakes[j].length() - 2).direction;
              }
            } else {
              direction = this.snakes[j].getGraphicDirection(i);
            } // Animation


            if (!this.disableAnimation && (i == 0 || i == -1 && this.snakes[j].lastTailMoved) && !this.snakes[j].scoreMax && (!this.gameFinished && !this.gameOver || this.snakes[j].gameOver) && (!this.snakes[j].gameOver || this.snakes[j].gameOver && this.ticks < this.snakes[j].ticksDead + 2)) {
              var offset = this.offsetFrame / (this.speed * _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Setting.TIME_MULTIPLIER); // Percentage of the animation

              if (this.snakes[j].gameOver && this.snakes[j].ticksDead) {
                if (this.ticks <= this.snakes[j].ticksDead) {
                  offset = 1 - offset; // Dead animation

                  offset = jsgametools__WEBPACK_IMPORTED_MODULE_7__["EasingFunctions"].easeInCubic(offset);
                } else {
                  offset = jsgametools__WEBPACK_IMPORTED_MODULE_7__["EasingFunctions"].easeOutBounce(offset);
                }
              }

              offset = Math.max(0, Math.min(1, offset));
              var offsetX = caseWidth * offset - caseWidth;
              var offsetY = caseHeight * offset - caseHeight;
              var currentPosition = position;
              var graphicDirection = void 0;

              if (i == 0) {
                if (this.snakes[j].length() > 1) {
                  graphicDirection = this.snakes[j].getGraphicDirection(1);
                } else {
                  graphicDirection = this.snakes[j].getGraphicDirection(0);
                }
              } else if (i == -1) {
                graphicDirection = this.snakes[j].getGraphicDirectionFor(this.snakes[j].getTailPosition(), this.snakes[j].lastTail, this.snakes[j].get(this.snakes[j].length() - 2));
              }

              if (i == -1 && this.snakes[j].length() > 1) {
                currentPosition = this.snakes[j].get(this.snakes[j].length() - 1);
              }

              if ((i == 0 || i == -1) && (graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_1 || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_2 || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_3 || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_4)) {
                if (i == 0) {
                  angle = -90;
                }

                if (i == 0) {
                  angle += -128.073 * Math.pow(offset, 2) + 222.332 * offset - 5.47066; // Interpolated rotation animation
                } else if (i == -1) {
                  angle += 126.896 * Math.pow(offset, 2) + -33.6471 * offset + 1.65942; // Interpolated rotation animation tail
                }

                if (i == 0 && (graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_4 && direction == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.UP || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_1 && direction == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.LEFT || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_2 && direction == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.BOTTOM || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_3 && direction == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.RIGHT)) {
                  angle = -angle;
                } else if (i == -1 && (graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_4 && direction == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.RIGHT || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_3 && direction == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.BOTTOM || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_1 && direction == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.UP || graphicDirection == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_2 && direction == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.LEFT)) {
                  angle = -angle;
                }

                eraseBelow = false;
              }

              switch (currentPosition.direction) {
                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.UP:
                  caseY -= offsetY;
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.BOTTOM:
                  caseY += offsetY;
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.RIGHT:
                  caseX += offsetX;
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.LEFT:
                  caseX -= offsetX;
                  break;
              }
            }

            if (i == this.snakes[j].length() - 1) {
              direction = this.snakes[j].getGraphicDirectionFor(position, this.snakes[j].get(i - 1), this.snakes[j].lastTail);
            }

            var posX = position.x;
            var posY = position.y;
            caseX += Math.floor(posX * caseWidth + (canvas.width - totalWidth) / 2);
            caseY += this.headerHeight + posY * caseHeight;

            if (i == 0) {
              if (this.snakes[j].gameOver && !this.snakes[j].scoreMax) {
                switch (direction) {
                  case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.BOTTOM:
                    imageLoc = "assets/images/skin/" + this.graphicSkin + "/snake_dead.png";
                    break;

                  case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.RIGHT:
                    imageLoc = "assets/images/skin/" + this.graphicSkin + "/snake_dead_2.png";
                    break;

                  case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.UP:
                    imageLoc = "assets/images/skin/" + this.graphicSkin + "/snake_dead_3.png";
                    break;

                  case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.LEFT:
                    imageLoc = "assets/images/skin/" + this.graphicSkin + "/snake_dead_4.png";
                    break;
                }
              } else {
                switch (direction) {
                  case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.BOTTOM:
                    imageLoc = "assets/images/skin/" + this.graphicSkin + "/snake.png";
                    break;

                  case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.RIGHT:
                    imageLoc = "assets/images/skin/" + this.graphicSkin + "/snake_2.png";
                    break;

                  case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.UP:
                    imageLoc = "assets/images/skin/" + this.graphicSkin + "/snake_3.png";
                    break;

                  case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.LEFT:
                    imageLoc = "assets/images/skin/" + this.graphicSkin + "/snake_4.png";
                    break;
                }
              }
            } else if (i == -1) {
              switch (direction) {
                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.BOTTOM:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_end.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.RIGHT:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_2_end.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.UP:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_3_end.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.LEFT:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_4_end.png";
                  break;
              }
            } else {
              switch (direction) {
                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.UP:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.BOTTOM:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.RIGHT:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_2.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.LEFT:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_2.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_1:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_angle_1.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_2:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_angle_2.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_3:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_angle_3.png";
                  break;

                case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.ANGLE_4:
                  imageLoc = "assets/images/skin/" + this.graphicSkin + "/body_angle_4.png";
                  break;
              }
            }

            jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawImage(ctxTmp, this.imageLoader.get(imageLoc, Math.round(caseWidth), Math.round(caseHeight)), Math.round(caseX), Math.round(caseY), Math.round(caseWidth), Math.round(caseHeight), null, null, null, null, eraseBelow, Math.round(angle));
          }

          jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawImageData(ctx, this.canvasTmp, Math.round((canvas.width - totalWidth) / 2), this.headerHeight, totalWidth, Math.round(caseHeight * this.grid.height), Math.floor((canvas.width - totalWidth) / 2), this.headerHeight, totalWidth, Math.round(caseHeight * this.grid.height));
          ctxTmp.filter = "none";
        }

        if (this.snakes.length > 1) {
          this.drawSnakeInfos(ctx, totalWidth, caseWidth, caseHeight, currentPlayer);
        }
      }
    }
  }, {
    key: "drawSnakeInfos",
    value: function drawSnakeInfos(ctx, totalWidth, caseWidth, caseHeight, currentPlayer) {
      var numPlayer = 0;
      var numAI = 0;

      for (var i = 0; i < this.snakes.length; i++) {
        if (this.snakes[i].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].PlayerType.HUMAN || this.snakes[i].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].PlayerType.HYBRID_HUMAN_AI) {
          numPlayer++;
        } else {
          numAI++;
        }

        var position = this.snakes[i].get(0);

        if (position != null) {
          var posX = position.x;
          var posY = position.y;
          var caseX = Math.floor(posX * caseWidth + (this.canvasTmp.width - totalWidth) / 2);
          var caseY = this.headerHeight + posY * caseHeight;

          if (!this.disableAnimation && !this.snakes[i].gameOver && !this.gameFinished && !this.gameOver) {
            var offset = this.offsetFrame / (this.speed * _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Setting.TIME_MULTIPLIER);
            offset = offset > 1 ? 1 : offset;
            var offsetX = caseWidth * offset - caseWidth;
            var offsetY = caseHeight * offset - caseHeight;

            switch (position.direction) {
              case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.UP:
                caseY -= offsetY;
                break;

              case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.BOTTOM:
                caseY += offsetY;
                break;

              case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.RIGHT:
                caseX += offsetX;
                break;

              case _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Direction.LEFT:
                caseX -= offsetX;
                break;
            }
          }

          jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawText(ctx, (this.snakes[i].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].PlayerType.HUMAN || this.snakes[i].player == _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].PlayerType.HYBRID_HUMAN_AI ? i18next__WEBPACK_IMPORTED_MODULE_8__["default"].t("engine.playerMin") + numPlayer : i18next__WEBPACK_IMPORTED_MODULE_8__["default"].t("engine.aiMin") + numAI) + "\n× " + this.snakes[i].score, "rgb(255, 255, 255)", Math.round(caseHeight / 2), _engine_Constants__WEBPACK_IMPORTED_MODULE_6__["default"].Setting.FONT_FAMILY, null, null, caseX, caseY - Math.round(caseHeight / 1.75), false, true);

          if (!this.spectatorMode && currentPlayer == i && this.countBeforePlay >= 0 && (currentPlayer != null || this.isFilterHueAvailable && this.snakes.length > 2 || !this.isFilterHueAvailable && this.snakes.length > 1)) {
            jsgametools__WEBPACK_IMPORTED_MODULE_7__["Utils"].drawArrow(ctx, Math.round(caseX + caseWidth / 2), Math.round(caseY - caseHeight * 2), Math.round(caseX + caseWidth / 2), Math.round(caseY - 5));
          }
        }
      }
    }
  }, {
    key: "set",
    value: function set(snakes, grid, speed, offsetFrame, headerHeight, imageLoader, currentPlayer, gameFinished, countBeforePlay, spectatorMode, ticks, gameOver) {
      this.snakes = snakes;
      this.grid = grid;
      this.speed = speed;
      this.headerHeight = headerHeight;
      this.imageLoader = imageLoader;
      this.currentPlayer = currentPlayer;
      this.gameFinished = gameFinished;
      this.offsetFrame = offsetFrame;
      this.countBeforePlay = countBeforePlay;
      this.spectatorMode = spectatorMode;
      this.ticks = ticks;
      this.gameOver = gameOver;
    }
  }]);

  return GridUI;
}(jsgametools__WEBPACK_IMPORTED_MODULE_7__["Component"]);



/***/ }),

/***/ "./src/ui/Header.js":
/*!**************************!*\
  !*** ./src/ui/Header.js ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Header; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/assertThisInitialized */ "./node_modules/@babel/runtime/helpers/assertThisInitialized.js");
/* harmony import */ var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _babel_runtime_helpers_set__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/set */ "./node_modules/@babel/runtime/helpers/set.js");
/* harmony import */ var _babel_runtime_helpers_set__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_set__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/inherits */ "./node_modules/@babel/runtime/helpers/inherits.js");
/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime/helpers/possibleConstructorReturn */ "./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");
/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/get */ "./node_modules/@babel/runtime/helpers/get.js");
/* harmony import */ var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime/helpers/getPrototypeOf */ "./node_modules/@babel/runtime/helpers/getPrototypeOf.js");
/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jsgametools */ "./node_modules/jsgametools/lib/JSGameTools.js");
/* harmony import */ var jsgametools__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(jsgametools__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _engine_Constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../engine/Constants */ "./src/engine/Constants.js");
/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! i18next */ "./node_modules/i18next/dist/esm/i18next.js");









function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

/*
 * Copyright (C) 2019-2020 Eliastik (eliastiksofts.com)
 *
 * This file is part of "SnakeIA".
 *
 * "SnakeIA" is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * "SnakeIA" is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with "SnakeIA".  If not, see <http://www.gnu.org/licenses/>.
 */




var Header = /*#__PURE__*/function (_Row) {
  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(Header, _Row);

  var _super = _createSuper(Header);

  function Header(height, backgroundColor, snakes, enablePause, btnFullScreen, btnPause, btnRank, gameRanking, bestScoreToDisplay, numFruit, imageLoader) {
    var _thisSuper, _this;

    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, Header);

    _this = _super.call(this, 0, 0, null, null, new jsgametools__WEBPACK_IMPORTED_MODULE_8__["Style"]({
      "backgroundColor": backgroundColor || "#27AE60"
    }));
    _this.rowButtons = new jsgametools__WEBPACK_IMPORTED_MODULE_8__["Row"](null, null, null, null, new jsgametools__WEBPACK_IMPORTED_MODULE_8__["Style"]({
      "alignement": "right",
      "spaceBetweenComponents": 5,
      "verticalAlignement": "center"
    }));
    _this.fruitImage = new jsgametools__WEBPACK_IMPORTED_MODULE_8__["ImageContainer"]("assets/images/skin/flat/fruit.png", null, null, null, null, new jsgametools__WEBPACK_IMPORTED_MODULE_8__["Style"]({
      "alignement": "left",
      "verticalAlignement": "center"
    }), imageLoader);
    _this.labelScore = new jsgametools__WEBPACK_IMPORTED_MODULE_8__["Label"]("", null, null, new jsgametools__WEBPACK_IMPORTED_MODULE_8__["Style"]({
      "verticalAlignement": "center"
    }));

    _this.setButtons(btnFullScreen, btnPause, btnRank);

    _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default()((_thisSuper = _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2___default()(_this), _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Header.prototype)), "addAll", _thisSuper).call(_thisSuper, _this.fruitImage, _this.labelScore, _this.rowButtons);

    _this.minHeight = height;
    _this.snakes = snakes;
    _this.btnFullScreen = btnFullScreen;
    _this.btnPause = btnPause;
    _this.btnRank = btnRank;
    _this.enablePause = enablePause;
    _this.gameRanking = gameRanking;
    _this.bestScoreToDisplay = bestScoreToDisplay;
    _this.numFruit = numFruit;
    _this.imageLoader = imageLoader;
    return _this;
  }

  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(Header, [{
    key: "draw",
    value: function draw(context) {
      var canvas = context.canvas;
      var ctx = canvas.getContext("2d");
      ctx.save();
      this.minWidth = canvas.width;

      if (this.fruitImage) {
        this.fruitImage.width = this.height;
      }

      if (this.btnPause) {
        this.btnPause.width = this.height * 0.85;
        this.btnPause.height = this.height * 0.85;
        this.btnPause.style.set("verticalAlignement", "center");
      }

      if (this.btnFullScreen) {
        this.btnFullScreen.width = this.height * 0.85;
        this.btnFullScreen.height = this.height * 0.85;
        this.btnFullScreen.style.set("verticalAlignement", "center");
      }

      if (this.btnRank) {
        this.btnRank.width = this.height * 0.85;
        this.btnRank.height = this.height * 0.85;
        this.btnRank.style.set("verticalAlignement", "center");
      }

      if (this.gameRanking && (this.gameRanking.closing || this.gameRanking.closed)) {
        this.btnRank.style.set("backgroundColor", "rgba(0, 0, 0, 0)");
      } else {
        this.btnRank.style.set("backgroundColor", this.btnRank.style.backgroundColorDown);
      }

      this.fruitImage.loadImage(this.imageLoader);
      /*Utils.drawImage(ctx, this.imageLoader.get("assets/images/skin/flat/fruit.png", Math.round(this.height * 0.85 * (this.bestScoreToDisplay ? 0.5 : 1)), Math.round(this.height * 0.85 * (this.bestScoreToDisplay ? 0.5 : 1))), 5, 5, Math.round(this.height * 0.85 * (this.bestScoreToDisplay ? 0.5 : 1)), Math.round(this.height * 0.85 * (this.bestScoreToDisplay ? 0.5 : 1)));*/

      if (this.snakes != null && this.snakes.length == 1) {
        this.labelScore.text = "× " + this.snakes[0].score;
        this.labelScore.style.set("fontSize", Math.round(this.height * 0.43 * (this.bestScoreToDisplay ? 0.75 : 1)));
      } else {
        this.labelScore.text = i18next__WEBPACK_IMPORTED_MODULE_10__["default"].t("engine.num") + (this.numFruit != null ? this.numFruit : "???");
        this.labelScore.style.set("fontSize", Math.round(this.height * 0.43 * (this.bestScoreToDisplay ? 0.75 : 1)));
      }

      if (this.bestScoreToDisplay) {
        jsgametools__WEBPACK_IMPORTED_MODULE_8__["Utils"].drawImage(ctx, this.imageLoader.get("assets/images/trophy.png", Math.round(this.height * 0.425), Math.round(this.height * 0.425)), 5, Math.round(8 + this.height * 0.425), Math.round(this.height * 0.425), Math.round(this.height * 0.425));
        jsgametools__WEBPACK_IMPORTED_MODULE_8__["Utils"].drawText(ctx, this.bestScoreToDisplay, "black", Math.round(this.height * 0.43 * (this.bestScoreToDisplay ? 0.75 : 1)), _engine_Constants__WEBPACK_IMPORTED_MODULE_9__["default"].Setting.FONT_FAMILY, "default", "default", Math.round(this.height * 0.9 * (this.bestScoreToDisplay ? 0.58 : 1)), Math.round(this.height * 0.425 + this.height * 0.67 * (this.bestScoreToDisplay ? 0.63 : 1)));
      }

      _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Header.prototype), "draw", this).call(this, context);

      ctx.restore();
    }
  }, {
    key: "set",
    value: function set(snakes, imageLoader, bestScoreToDisplay, height, numFruit, enablePause) {
      this.enablePause = enablePause;
      this.snakes = snakes;
      this.imageLoader = imageLoader;
      this.bestScoreToDisplay = bestScoreToDisplay;
      this.minHeight = height;
      this.numFruit = numFruit;
    }
  }, {
    key: "setButtons",
    value: function setButtons(btnFullScreen, btnPause, btnRank) {
      this.rowButtons.clear();
      this.btnFullScreen = btnFullScreen;
      this.btnPause = btnPause;
      this.btnRank = btnRank;
      if (btnRank) this.rowButtons.add(btnRank);
      if (btnPause) this.rowButtons.add(btnPause);
      if (btnFullScreen) this.rowButtons.add(btnFullScreen);
    }
  }, {
    key: "minHeight",
    set: function set(minHeight) {
      _babel_runtime_helpers_set__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Header.prototype), "minHeight", minHeight, this, true);

      _babel_runtime_helpers_set__WEBPACK_IMPORTED_MODULE_3___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Header.prototype), "maxHeight", minHeight, this, true);
    }
  }, {
    key: "height",
    get: function get() {
      return this.minHeight || this.maxHeight || _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_7___default()(Header.prototype), "height", this) || 0;
    }
  }]);

  return Header;
}(jsgametools__WEBPACK_IMPORTED_MODULE_8__["Row"]);



/***/ }),

/***/ 0:
/*!************************!*\
  !*** crypto (ignored) ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 1:
/*!********************!*\
  !*** ws (ignored) ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9TbmFrZUlBL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9TbmFrZUlBL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1NuYWtlSUEvLi9hc3NldHMvbG9jYWxlcy9lbmdpbmUuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL2Fzc2V0cy9sb2NhbGVzL2luaXQuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL2Fzc2V0cy9sb2NhbGVzL21lbnUuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL2xpYnMvbG93bGlnaHQuYXN0YXIubWluLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9tYWluLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9nZXQuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2dldFByb3RvdHlwZU9mLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2V0LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9zZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc3VwZXJQcm9wQmFzZS5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvYWZ0ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9hcnJheWJ1ZmZlci5zbGljZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2JhY2tvMi9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2Jhc2U2NC1hcnJheWJ1ZmZlci9saWIvYmFzZTY0LWFycmF5YnVmZmVyLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvYmxvYi9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2NvbXBvbmVudC1iaW5kL2luZGV4LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvY29tcG9uZW50LWVtaXR0ZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9jb21wb25lbnQtaW5oZXJpdC9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL2dsb2JhbFRoaXMuYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL2luZGV4LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvc29ja2V0LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdHJhbnNwb3J0LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9saWIvdHJhbnNwb3J0cy9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvcG9sbGluZy1qc29ucC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3RyYW5zcG9ydHMvcG9sbGluZy14aHIuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3BvbGxpbmcuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2xpYi90cmFuc3BvcnRzL3dlYnNvY2tldC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvbGliL3htbGh0dHByZXF1ZXN0LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvZGVidWcuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tcGFyc2VyL2xpYi9icm93c2VyLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9saWIva2V5cy5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvbGliL3V0ZjguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9oYXMtYmluYXJ5Mi9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2hhcy1iaW5hcnkyL25vZGVfbW9kdWxlcy9pc2FycmF5L2luZGV4LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvaGFzLWNvcnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9pMThuZXh0LWJyb3dzZXItbGFuZ3VhZ2VkZXRlY3Rvci9kaXN0L2VzbS9pMThuZXh0QnJvd3Nlckxhbmd1YWdlRGV0ZWN0b3IuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9pMThuZXh0L2Rpc3QvZXNtL2kxOG5leHQuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvaW5kZXhvZi9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9qc2dhbWV0b29scy9saWIvSlNHYW1lVG9vbHMuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3BhcnNlcXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9wYXJzZXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9zZWVkcmFuZG9tL2xpYi9hbGVhLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIvdHljaGVpLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIveG9yMTI4LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIveG9yNDA5Ni5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vbGliL3hvcnNoaWZ0Ny5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vbGliL3hvcndvdy5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vc2VlZHJhbmRvbS5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvbGliL2luZGV4LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9saWIvbWFuYWdlci5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1jbGllbnQvbGliL29uLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9saWIvc29ja2V0LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9saWIvdXJsLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvZGVidWcuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2JpbmFyeS5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2lzLWJ1ZmZlci5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2RlYnVnLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9ub2RlX21vZHVsZXMvaXNhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vbm9kZV9tb2R1bGVzL3RvLWFycmF5L2luZGV4LmpzIiwid2VicGFjazovL1NuYWtlSUEvKHdlYnBhY2spL2J1aWxkaW4vYW1kLWRlZmluZS5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLyh3ZWJwYWNrKS9idWlsZGluL2FtZC1vcHRpb25zLmpzIiwid2VicGFjazovL1NuYWtlSUEvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL1NuYWtlSUEvKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9ub2RlX21vZHVsZXMveWVhc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL3NyYy9TaGltLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvU3RvcmFnZUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL3NyYy9UaW1lcnMuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL3NyYy9lbmdpbmUvQ29uc3RhbnRzLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL0V2ZW50LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL0dhbWVDb250cm9sbGVyLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL0dhbWVDb250cm9sbGVyU29ja2V0LmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL0dhbWVDb250cm9sbGVyV29ya2VyLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL0dhbWVFbmdpbmUuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL3NyYy9lbmdpbmUvR2FtZUdyb3VwLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL0dhbWVVdGlscy5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vc3JjL2VuZ2luZS9HcmlkLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL09ubGluZUNsaWVudC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vc3JjL2VuZ2luZS9Qb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vc3JjL2VuZ2luZS9SZWFjdG9yLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL1NuYWtlLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL2FpL1NuYWtlQUkuanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL3NyYy9lbmdpbmUvYWkvU25ha2VBSUhpZ2guanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL3NyYy9lbmdpbmUvYWkvU25ha2VBSUxvdy5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vc3JjL2VuZ2luZS9haS9TbmFrZUFJTW9jay5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vc3JjL2VuZ2luZS9haS9TbmFrZUFJTm9ybWFsLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvZW5naW5lL2FpL1NuYWtlQUlSYW5kb20uanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL3NyYy9lbmdpbmUvYWkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vU25ha2VJQS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vc3JjL3VpL0dhbWVSYW5raW5nLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvdWkvR2FtZVVJLmpzIiwid2VicGFjazovL1NuYWtlSUEvLi9zcmMvdWkvR3JhcGhpY3NVdGlscy5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vc3JjL3VpL0dyaWRVSS5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBLy4vc3JjL3VpL0hlYWRlci5qcyIsIndlYnBhY2s6Ly9TbmFrZUlBL2NyeXB0byAoaWdub3JlZCkiLCJ3ZWJwYWNrOi8vU25ha2VJQS93cyAoaWdub3JlZCkiXSwibmFtZXMiOlsiaTE4bmV4dCIsImFkZFJlc291cmNlQnVuZGxlIiwidXNlIiwiaTE4bmV4dEJyb3dzZXJMYW5ndWFnZURldGVjdG9yIiwiaW5pdCIsImZhbGxiYWNrTG5nIiwibG9hZCIsImRldGVjdGlvbiIsIm9yZGVyIiwibG9va3VwUXVlcnlzdHJpbmciLCJsb29rdXBMb2NhbFN0b3JhZ2UiLCJjYWNoZXMiLCJ3aW5kb3ciLCJTT0xPX0FJIiwiU09MT19QTEFZRVIiLCJQTEFZRVJfVlNfQUkiLCJBSV9WU19BSSIsIkJBVFRMRV9ST1lBTEUiLCJCQVRUTEVfUk9ZQUxFX09OTElORSIsIlVQREFURVJfVVJJIiwiU0VSVkVSU19MSVNUX1VSSSIsIkxFVkVMX1JFQUNIX1NDT1JFIiwiTEVWRUxfUkVBQ0hfTUFYX1NDT1JFIiwiTEVWRUxfTVVMVElfQkVTVF9TQ09SRSIsIkxFVkVMX01VTFRJX1JFQUNIX1NDT1JFX0ZJUlNUIiwiTEVWRUxfUkVBQ0hfU0NPUkVfT05fVElNRSIsIkxFVkVMX01BWkVfV0lOIiwiREVGQVVMVF9MRVZFTCIsIkRPV05MT0FERURfTEVWRUwiLCJERUZBVUxUX0xFVkVMU19TT0xPX1BMQVlFUiIsInNldHRpbmdzIiwidHlwZSIsInR5cGVWYWx1ZSIsInZlcnNpb24iLCJHYW1lQ29uc3RhbnRzIiwiU2V0dGluZyIsIkFQUF9WRVJTSU9OIiwiU09MT19QTEFZRVJfU0FWRSIsIkRFRkFVTFRfTEVWRUxTX1NPTE9fQUkiLCJTT0xPX0FJX1NBVkUiLCJET1dOTE9BRF9ERUZBVUxUX1VSSSIsIlNPTE9fUExBWUVSX0RPV05MT0FEX0xFVkVMU19UTyIsIlNPTE9fQUlfRE9XTkxPQURfTEVWRUxTX1RPIiwib25saW5lQ2xpZW50IiwiT25saW5lQ2xpZW50Iiwic3RvcmFnZUdsb2JhbCIsIlN0b3JhZ2VGYWN0b3J5Iiwic2VsZWN0ZWRNb2RlIiwiY3VzdG9tU2V0dGluZ3MiLCJ3b3JrZXJzQXZhaWxhYmxlIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsIkRBVEVfVkVSU0lPTiIsIlN0cmluZyIsInByb3RvdHlwZSIsInN0cmNtcCIsInN0ciIsImlzU3VwcG9ydGVkIiwic3R5bGUiLCJkaXNwbGF5IiwiV29ya2Vyc0F2YWlsYWJsZSIsInJlc3VsdCIsInNob3dTZXR0aW5ncyIsInJlc3RvcmVTZXR0aW5ncyIsImVuYWJsZUFuaW1hdGlvbnMiLCJvbmxpbmVFbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnMiLCJyZW5kZXJCbHVyIiwiZW5hYmxlTXVsdGl0aHJlYWRpbmciLCJzaG93RGVidWdJbmZvIiwidGV4dE91dHB1dCIsImdyYXBoaWNTa2luIiwibWF4RlBTIiwidW5sb2NrQWxsTGV2ZWxzIiwic2F2ZVNldHRpbmdzIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRTZXR0aW5ncyIsImdldEl0ZW0iLCJwYXJzZSIsImNoZWNrZWQiLCJ2YWx1ZSIsImRpc2FibGVkIiwiaXNOYU4iLCJvbmNoYW5nZSIsIm9uY2xpY2siLCJvbmlucHV0IiwiY2hlY2tVcGRhdGUiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhcHBlbmRDaGlsZCIsInVwZGF0ZUNhbGxiYWNrIiwiZGF0YSIsIm5ld1ZlcnNpb25UZXN0IiwidGV4dENvbnRlbnQiLCJhcHBVcGRhdGVEYXRlIiwiZGF0ZSIsImRvd25sb2FkVVJMIiwidXJsIiwib3BlbiIsInByb21wdCIsInQiLCJjaGFuZ2VzIiwiYWxlcnQiLCJ0cmFuc2xhdGVDb250ZW50IiwibG9hZFNlcnZlckxpc3QiLCJsaXN0U2VydmVyc0NhbGxiYWNrIiwibGVuZ3RoIiwiaSIsInBvcnQiLCJuYW1lIiwibGlua1NlcnZlciIsImNsYXNzTGlzdCIsImFkZCIsInUiLCJwIiwiY29ubmVjdFRvU2VydmVyIiwiYmluZCIsInNlcnZlckFkZHJlc3MiLCJ0cmltIiwibm9TZXJ2ZXJGb3VuZCIsImNvbm5lY3QiLCJzdWNjZXNzIiwiaWQiLCJFcnJvciIsIkFVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEIiwiQkFOTkVEIiwiYXV0aGVudF9mcmFtZSIsImdldFVSTCIsImxhbmd1YWdlIiwic3Vic3RyIiwiaHJlZiIsImRpc3BsYXlBdXRoZW50aWNhdGlvbiIsIkRJU0NPTk5FQ1RFRCIsImRpc3BsYXlTZXJ2ZXJMaXN0IiwiZGlzcGxheVJvb21zTGlzdCIsImRpc2Nvbm5lY3QiLCJkaXNwbGF5Um9vbXMiLCJyb29tcyIsIk9iamVjdCIsImtleXMiLCJyb29tIiwiY29kZSIsImxpbmtSb29tIiwibnVtYmVyIiwic3RhdGUiLCJHYW1lU3RhdGUiLCJTRUFSQ0hJTkdfUExBWUVSUyIsIlNUQVJUSU5HIiwiU1RBUlRFRCIsImpvaW5Sb29tIiwiZ2FtZUluZm9zIiwid2lkdGgiLCJoZWlnaHQiLCJzcGVlZCIsImdhbWVJbmZvc1NlY29uZCIsImJvcmRlcldhbGxzIiwiZ2FtZUluZm9zVGhpcmQiLCJnZW5lcmF0ZVdhbGxzIiwiZ2FtZUluZm9zUGxheWVycyIsImNvdW50IiwicGxheWVycyIsIm1heCIsIm1heFBsYXllcnMiLCJzcGVjdGF0b3JzIiwiZ2FtZUluZm9zU3BlY3RhdG9ycyIsIm5vUm9vbUZvdW5kIiwiZW5naW5lU2VydmVyVmVyc2lvbiIsInNlcnZlclZlcnNpb24iLCJzZXJ2ZXJfdmVyc2lvbiIsImNsaWVudF92ZXJzaW9uIiwidWkiLCJHYW1lVUkiLCJnYW1lIiwiZ2V0R2FtZSIsImNhbnZhcyIsInVuZGVmaW5lZCIsInNjcm9sbEludG9WaWV3Iiwib25FeGl0Iiwic3RvcEdhbWUiLCJvbktpbGwiLCJjb25maXJtIiwiZXJyb3JDb2RlIiwiZXJyb3JDb2RlX3RleHQiLCJST09NX05PVF9GT1VORCIsIlJPT01fQUxSRUFEWV9KT0lORUQiLCJBTFJFQURZX0NSRUFURURfUk9PTSIsInNlbGVjdE1vZGUiLCJtb2RlIiwic2VydmVyU2V0dGluZ3MiLCJlbmFibGVBSSIsImRpc3BsYXlTZXR0aW5ncyIsImRpc3BsYXlNZW51IiwicmVzZXRGb3JtIiwiZGlzcGxheU90aGVyc1NldHRpbmdzIiwiZSIsImNvbGxhcHNlIiwiY29udGFpbnMiLCJyZW1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImRpc3BsYXlMZXZlbExpc3QiLCJwbGF5ZXIiLCJQTEFZRVJfSFVNQU4iLCJnZXRMaXN0TGV2ZWwiLCJnZXROdW1iZXJGcnVpdHMiLCJnZXRMaXN0Qm9udXMiLCJQTEFZRVJfQUkiLCJjaGVja1NhbWVHcmlkIiwiY2hlY2tHYW1lU3BlZWQiLCJjaGVja1BsYXllciIsImNoZWNrTWF6ZUdyaWQiLCJjaGVja0VuYWJsZUFJIiwiZ2FtZUNhbkZhaWxUb0luaXQiLCJoZWlnaHRHcmlkIiwid2lkdGhHcmlkIiwibnVtYmVyUGxheWVycyIsInBhcnNlSW50IiwibnVtYmVyRW1wdHlDYXNlcyIsIm5lZWRlZENhc2VzIiwiY2hlY2tGYWlsU2V0dGluZ3MiLCJ2YWxpZGF0ZVNldHRpbmdzIiwic2FtZUdyaWQiLCJudW1iZXJJQSIsImJhdHRsZUFnYWluc3RBSXMiLCJyZXNldFZhbHVlcyIsInJlc2V0U2VlZHMiLCJzZWVkcmFuZG9tIiwiRGF0ZSIsIm5vdyIsImludDMyIiwicmV0dXJuVmFsaWRhdGlvbiIsIm1hemVHcmlkIiwicHJvZ3Jlc3NpdmVTcGVlZCIsImN1c3RvbVNwZWVkIiwiYWlMZXZlbCIsImF1dG9SZXRyeSIsInNlZWRHcmlkIiwic2VlZEdhbWUiLCJwbGF5ZXJIdW1hblR5cGUiLCJtaW5HcmlkU2l6ZSIsIm1heEdyaWRTaXplIiwibWluU3BlZWQiLCJtYXhTcGVlZCIsIm1pbiIsIlBMQVlFUl9IWUJSSURfSFVNQU5fQUkiLCJmb3JtVmFsaWRhdGVkIiwiQUlfTEVWRUxfUkFORE9NIiwiQUlfTEVWRUxfTE9XIiwiQUlfTEVWRUxfREVGQVVMVCIsIkFJX0xFVkVMX0hJR0giLCJBSV9MRVZFTF9VTFRSQSIsImNyZWF0ZVJvb20iLCJsZXZlbEFJIiwiY29ubmVjdGlvbl9lcnJvciIsIklOVkFMSURfU0VUVElOR1MiLCJNQVhfUk9PTV9MSU1JVF9SRUFDSEVEIiwidGl0bGVHYW1lIiwiZ2FtZXMiLCJncmlkIiwiR3JpZCIsInNuYWtlIiwiU25ha2UiLCJSSUdIVCIsInB1c2giLCJHYW1lIiwic25ha2UyIiwiZ3JpZDIiLCJzbmFrZXMiLCJncm91cCIsIkdhbWVHcm91cCIsInNldERpc3BsYXlGUFMiLCJzdGFydCIsInNldE5vdGlmaWNhdGlvbiIsIk5vdGlmaWNhdGlvbk1lc3NhZ2UiLCJJTkZPX05PVElGX0NPTE9SIiwia2lsbEFsbCIsIm9uU3RvcCIsImVycm9yT2NjdXJyZWQiLCJyZXN1bHRNZXNzYWdlIiwid2lubmVycyIsImdldFdpbm5lcnMiLCJpbmRleCIsIm51bVdpbm5lciIsInNjb3JlIiwicGxheWVyV2lubmVyQmF0dGxlUm95YWxlIiwib25SZXNldCIsImNsb3NlTm90aWZpY2F0aW9uIiwibGV2ZWxzQm9udXNEYXRhIiwiUGxheWVyVHlwZSIsIkhVTUFOIiwiQUkiLCJnZXRUaXRsZVNhdmUiLCJnZXRTYXZlIiwiaW5pdFNhdmVMZXZlbCIsInJlcyIsImdldExldmVsU2F2ZSIsImxldmVsIiwic2V0TGV2ZWxTYXZlIiwic2F2ZSIsIml0ZW0iLCJsZXZlbHMiLCJnZXRMZXZlbHMiLCJBcnJheSIsImlzQXJyYXkiLCJzZXRBZGRGcnVpdExldmVsU2F2ZSIsImZvcmNlIiwiU3RvcmFnZSIsIm51bUZydWl0cyIsImN1cnJlbnRCb251cyIsImNhblBsYXkiLCJsZXZlbENvbXBhdGlibGUiLCJsZXZlbFR5cGUiLCJwcmludFJlc3VsdExldmVsIiwic2hvcnRWZXJzaW9uIiwidmFsIiwicmVzdWx0TGV2ZWwiLCJNYXRoIiwicm91bmQiLCJwbGF5TGV2ZWwiLCJsZXZlbFNhdmUiLCJib251cyIsImluaXRHb2FsIiwibGFzdFNjb3JlUGxheWVyIiwicGxheWVyR2FtZSIsIm9uU2NvcmVJbmNyZWFzZWQiLCJsZXZlbFR5cGVWYWx1ZSIsInNldEJlc3RTY29yZSIsIm5vdGlmaWNhdGlvbkVuZERpc3BsYXllZCIsIm5vdGlmRXJyb3JDb2xvciIsImxldmVsVGltZXIiLCJUaW1lciIsInNldFRpbWVUb0Rpc3BsYXkiLCJzdG9wQWxsIiwiVGltZXJJbnRlcnZhbCIsImdldFRpbWUiLCJvblN0YXJ0IiwicmVzdW1lIiwib25QYXVzZSIsInBhdXNlIiwicmVzZXQiLCJzdG9wIiwic2NvcmVNYXgiLCJ3b24iLCJ0aW1lIiwidGltZXJJbnRlcnZhbCIsImoiLCJkaXNwbGF5SW5mb3NHb2FsIiwidGV4dFRvRGlzcGxheUdvYWwiLCJyZXBsYWNlIiwibGV2ZWxTZWxlY3RlZCIsImxldmVsU2V0dGluZ3MiLCJsZXZlbFZlcnNpb24iLCJidXlCb251cyIsImdlbmVyYXRlTWF6ZSIsImN1c3RvbUdyaWQiLCJtYXplRm9yY2VBdXRvIiwiZGVzdHJveUFpcyIsInBsYXllclNuYWtlIiwiSFlCUklEX0hVTUFOX0FJIiwiY2xvc2VSYW5raW5nIiwibm90aWZpY2F0aW9uU3RhcnREaXNwbGF5ZWQiLCJFUlJPUl9OT1RJRl9DT0xPUiIsIm5vdGlmSW5mb3NDb2xvciIsIm5vdGlmSW5mbyIsImRlc3Ryb3lTbmFrZXMiLCJlZGl0RG93bmxvYWRVUkwiLCJkb3dubG9hZExldmVscyIsImJ1dHRvbiIsImNhbmNlbGVkIiwiYnV0dG9uRGVibG9jayIsImRlYmxvY2tCdXR0b24iLCJyZW1vdmVDaGlsZCIsImVtcHR5Iiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJkaXYiLCJwU3Ryb25nIiwidGV4dCIsInNlbGxCb251c0xpbmsiLCJhZGRFdmVudExpc3RlbmVyIiwic2VsbEJvbnVzIiwic2V0QXR0cmlidXRlIiwiY3Vyc29yIiwic2VsbEJvbnVzU3BhbiIsInN1YkRpdiIsImRpdkJ0bkdyb3VwIiwiYXBwbGljYWJsZVRvIiwiaW5kZXhPZiIsInByaWNlIiwiYnV0dG9uSW5mbyIsImluZm9ybWF0aW9uIiwiaWNvbkluZm8iLCJidXR0b25QcmljZSIsImltYWdlIiwic3BhbjIiLCJsaXN0VHJhbnNsYXRpb25zIiwibGFuZ3VhZ2VzIiwiaTE4bkxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwibCIsImRhdGFzZXQiLCJpMThuIiwiSW50bCIsIkRhdGVUaW1lRm9ybWF0IiwiZm9ybWF0IiwicGxhY2Vob2xkZXIiLCJmb3JFYWNoIiwiY2hhbmdlTGFuZ3VhZ2UiLCJlcnIiLCJzZXRUaW1lb3V0IiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlZ2lzdGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtb3pDYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwibXNDYW5jZWxBbmltYXRpb25GcmFtZSIsIm9DYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJtb3pGdWxsU2NyZWVuRWxlbWVudCIsIm1zRnVsbHNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsIm9GdWxsc2NyZWVuRWxlbWVudCIsImV4aXRGdWxsc2NyZWVuIiwibW96Q2FuY2VsRnVsbFNjcmVlbiIsIndlYmtpdEV4aXRGdWxsc2NyZWVuIiwibXNFeGl0RnVsbHNjcmVlbiIsImNhbGxiYWNrIiwiV29ya2VyIiwidGVzdFdvcmtlciIsInBvc3RNZXNzYWdlIiwib25tZXNzYWdlIiwidGVybWluYXRlIiwiYXBwZW5kVG8iLCJlbmFibGVQYXVzZSIsImVuYWJsZVJldHJ5IiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJkaXNwbGF5RlBTIiwib3V0cHV0VHlwZSIsIm9ubGluZU1vZGUiLCJjb250cm9sbGVyIiwiZW5naW5lIiwiR2FtZUVuZ2luZSIsIkdhbWVDb250cm9sbGVyV29ya2VyIiwiR2FtZUNvbnRyb2xsZXIiLCJnYW1lVUkiLCJ0ZXh0Q29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkZWxheUJlZm9yZUNsb3NpbmciLCJhbmltYXRpb25EZWxheSIsImZvbnRTaXplIiwiZm9udEZhbWlseSIsImZvcmVHcm91bmQiLCJkaXNhYmxlQW5pbWF0aW9uIiwiY2xvc2VCdXR0b24iLCJOb3RpZmljYXRpb24iLCJTdHlsZSIsIkxhYmVsIiwiQWlMZXZlbCIsIlJBTkRPTSIsIkxPVyIsIkRFRkFVTFQiLCJISUdIIiwiVUxUUkEiLCJVUCIsIkRpcmVjdGlvbiIsIkJPVFRPTSIsIkxFRlQiLCJBTkdMRV8xIiwiQU5HTEVfMiIsIkFOR0xFXzMiLCJBTkdMRV80Iiwic3RvcmFnZSIsImluTWVtb3J5U3RvcmFnZSIsIl9pc1N1cHBvcnRlZCIsImxvY2FsU3RvcmFnZSIsInRlc3RLZXkiLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJkZWxheSIsInJlbWFpbmluZyIsInRpbWVySWQiLCJjbGVhclRpbWVvdXQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIkNhc2VUeXBlIiwiRU1QVFkiLCJTTkFLRSIsIkZSVUlUIiwiV0FMTCIsIlNOQUtFX0RFQUQiLCJTVVJST1VOREVEIiwiRlJVSVRfR09MRCIsIkNST1NTRUQiLCJDVVNUT00iLCJNT0NLIiwiT3V0cHV0VHlwZSIsIlRFWFQiLCJHUkFQSElDQUwiLCJDQU5WQVNfV0lEVEgiLCJDQU5WQVNfSEVJR0hUIiwiRk9OVF9GQU1JTFkiLCJGT05UX1NJWkUiLCJIRUFERVJfSEVJR0hUX0RFRkFVTFQiLCJUQVJHRVRfRlBTIiwiVElNRV9NVUxUSVBMSUVSIiwiSU1BR0VfU05BS0VfSFVFIiwiSU1BR0VfU05BS0VfU0FUVVJBVElPTiIsIklNQUdFX1NOQUtFX1ZBTFVFIiwiQ0FSU19UT19QUkVSRU5ERVIiLCJQUk9CX0dPTERfRlJVSVRfMV9QTEFZRVIiLCJQUk9CX0dPTERfRlJVSVRfTVVMVElQTEVfUExBWUVSUyIsIlRPUCIsIkRPV04iLCJLZXkiLCJFTlRFUiIsIkFVVEhFTlRJQ0FUSU9OX1NVQ0NFU1MiLCJFdmVudCIsImNhbGxiYWNrcyIsImdhbWVFbmdpbmUiLCJsYXN0S2V5IiwicGF1c2VkIiwiaXNSZXNldGVkIiwiZXhpdGVkIiwiZ2FtZU92ZXIiLCJzdGFydGluZyIsImdhbWVGaW5pc2hlZCIsImNsaWVudFNpZGVQcmVkaWN0aW9uc01vZGUiLCJjdXJyZW50UGxheWVyIiwicmVhY3RvciIsIlJlYWN0b3IiLCJyZWdpc3RlckV2ZW50IiwidXBkYXRlIiwibnVtRnJ1aXQiLCJ0aWNrcyIsImdhbWVNYXplV2luIiwiaW5pdGlhbFNwZWVkIiwiYWlTdHVjayIsImRpc3BhdGNoRXZlbnQiLCJjb3VudEJlZm9yZVBsYXkiLCJvbkNvbnRpbnVlIiwia2lsbGVkIiwib25VcGRhdGUiLCJvblVwZGF0ZUNvdW50ZXIiLCJmaW5pc2giLCJraWxsIiwidGljayIsImV4aXQiLCJmb3JjZVN0YXJ0Iiwibm90aWZpY2F0aW9uIiwiZ2FtZVJhbmtpbmciLCJmb3JjZUNsb3NlIiwiZXhjZXB0aW9uSWRzIiwidHlwZXMiLCJnZXRDdXJyZW50UGxheWVyIiwibmJQbGF5ZXJzIiwiZ2V0TkJQbGF5ZXIiLCJuYlBsYXllcnNIeWJyaWQiLCJudW1QbGF5ZXIiLCJudW0iLCJtZXNzYWdlIiwidXBkYXRlRW5naW5lIiwiZGF0YUtleXMiLCJjYWxsIiwicm5nR2FtZSIsInJuZ0dyaWQiLCJzZXRLaWxsIiwiR2FtZUNvbnRyb2xsZXJTb2NrZXQiLCJzb2NrZXQiLCJlbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnMiLCJwaW5nTGF0ZW5jeSIsIm0iLCJkIiwiYXNzaWduIiwicXVldWUiLCJQb3NpdGlvbiIsIm9uIiwicGFyc2VEYXRhIiwib2Zmc2V0RnJhbWUiLCJkdXJhdGlvbiIsImZvcmVncm91bmQiLCJvbmNlIiwiZW1pdCIsIndvcmtlciIsIndvcmtlclJlYWR5IiwibWVzc2FnZVF1ZXVlIiwicGFzc1F1ZXVlZE1lc3NhZ2VzIiwicGFzc01lc3NhZ2UiLCJhaVN0dWNrTGltaXQiLCJpbml0aWFsU3BlZWRVbnRvdWNoZWQiLCJmaXJzdFN0YXJ0IiwiaW50ZXJ2YWxQbGF5IiwibWF6ZSIsImluaXRHcmlkQW5kU25ha2VzIiwic3RhcnRIdWUiLCJHYW1lVXRpbHMiLCJyYW5kUmFuZ2UiLCJhZGRIdWUiLCJjb2xvciIsInNldEZydWl0IiwiY2xlYXJJbnRlcnZhbFBsYXkiLCJlcnJvckluaXQiLCJzZXRHYW1lT3ZlciIsImRvVGljayIsImxhc3RUaW1lIiwic2NvcmVJbmNyZWFzZWQiLCJzZXRGcnVpdEVycm9yIiwiZ2V0UGxheWVyIiwiaW5pdGlhbERpcmVjdGlvbiIsImRpcmVjdGlvbiIsImdvbGRGcnVpdCIsImxhc3RUYWlsTW92ZWQiLCJtb3ZlVG8iLCJhaSIsImhlYWRTbmFrZVBvcyIsImdldEhlYWRQb3NpdGlvbiIsImlzRGVhZFBvc2l0aW9uIiwiZ2V0TmV4dFBvc2l0aW9uIiwic2V0IiwiZnJ1aXRQb3MiLCJmcnVpdFBvc0dvbGQiLCJpbnNlcnQiLCJoYXNNYXhTY29yZSIsImNlaWwiLCJkZXRlY3RDb3JyaWRvciIsImlzRnJ1aXRTdXJyb3VuZGVkIiwibmJPdmVyIiwiZW5kR2FtZUFJU3R1Y2siLCJrIiwiaXNBSVN0dWNrIiwiZW5hYmxlS2V5TWVudSIsInBhdXNlQWxsIiwic3RhcnRBbGwiLCJjaGVja0V4aXQiLCJjaGVja1N0b3AiLCJyZXNldEFsbCIsImNoZWNrT25TY29yZUluY3JlYXNlZCIsImFsbEV4aXRlZCIsImFsbFN0b3BwZWQiLCJmaW5pc2hlZCIsImNvcHkiLCJtYXhTY29yZSIsImlkeCIsInJuZyIsImZsb29yIiwicmFuZG9tIiwiaHVlIiwic2h1ZmZsZSIsImEiLCJ4IiwibWlsbGlzZWNvbmRzRm9ybWF0IiwibWlsbGlzZWNvbmRzIiwidHJ1bmMiLCJzbGljZSIsInNlY29uZHNGb3JtYXQiLCJzZWNvbmRzIiwicHJvYkdvbGRGcnVpdEluY3JlYXNlIiwibWF6ZUZpcnN0UG9zaXRpb24iLCJpbml0aWFsR3JpZCIsImdyaWRUb0NvcHkiLCJmaXhXYWxscyIsInN0YXJ0WSIsInN0YXJ0WCIsImVuZFkiLCJlbmRYIiwiY3VycmVudFBvcyIsInVwcGVyQ2FzZSIsInVwcGVyTGVmdENhc2UiLCJ1cHBlclJpZ2h0Q2FzZSIsImRvd25DYXNlIiwiZG93bkxlZnRDYXNlIiwiZG93blJpZ2h0Q2FzZSIsInIiLCJjIiwiZGlyZWN0aW9ucyIsIm1hemVfcmVjdXJzaW9uIiwicG9zaXRpb24iLCJ5IiwiaWdub3JlU25ha2VQb3MiLCJnb2xkIiwidHJpZWQiLCJnZXRUb3RhbCIsInJhbmRvbVBvcyIsImlzQ29ycmlkb3IiLCJnZXRSYW5kb21Qb3NpdGlvbiIsInRlc3RGcnVpdE1hemUiLCJnZXRHcmFwaCIsImdyYXBoIiwiTG93bGlnaHQiLCJDb25maWd1cmF0aW9uIiwidG9ydXMiLCJkaWFnb25hbHMiLCJjdXR0aW5nIiwiY29zdCIsImIiLCJwYXRoIiwiZmlsbCIsImZvdW5kVmFscyIsImZvcmJpZGRlblZhbHMiLCJncmlkQ29weSIsImNoZWNrTGlzdCIsImN1cnJlbnRQb3NpdGlvbiIsInNoaWZ0Iiwic3Vycm91bmRlZCIsImlzQ2FzZVN1cnJvdW5kZWQiLCJwb3NUb3AiLCJwb3NCb3R0b20iLCJwb3NSaWdodCIsInBvc0xlZnQiLCJpc0RlYWRQb3NpdGlvblRvcCIsImlzRGVhZFBvc2l0aW9uQm90dG9tIiwiaXNEZWFkUG9zaXRpb25SaWdodCIsImlzRGVhZFBvc2l0aW9uTGVmdCIsIm51bURlYWRQb3NpdGlvbkFycm91bmQiLCJjb3JyaWRvclRvcCIsImNvcnJpZG9yQm90dG9tIiwiY29ycmlkb3JMZWZ0IiwiY29ycmlkb3JSaWdodCIsImxpbmUiLCJ0b3QiLCJnZXRPbkxpbmUiLCJvbGRQb3MiLCJuZXdEaXJlY3Rpb24iLCJvdGhlclBvc2l0aW9uIiwiZXF1YWxzIiwiZXhjbHVkZVNuYWtlIiwiaW5jbHVkZVN1cnJvdW5kZWQiLCJ2YWxUb0NoYXIiLCJ0b2tlbiIsImN1cnJlbnRSb29tIiwiaW50ZXJ2YWxSZWNvbm5lY3QiLCJkaXNjb25uZWN0ZWQiLCJjcmVhdGluZ1Jvb20iLCJqb2luaW5nUm9vbSIsImxvYWRpbmdSb29tcyIsImNoYXJBdCIsInN1YnN0cmluZyIsImlvIiwibXMiLCJjbG9zZSIsImlvUm9vbXMiLCJpb0NyZWF0ZSIsImV2ZW50cyIsImV2ZW50TmFtZSIsImV2ZW50QXJncyIsInJlZ2lzdGVyQ2FsbGJhY2siLCJjdXN0b21BSSIsImluaXRpYWxMZW5ndGgiLCJpbml0VHJpZWREaXJlY3Rpb25zIiwibGFzdFRhaWwiLCJ0aWNrc0RlYWQiLCJzbmFrZUFJIiwiU25ha2VBSSIsInRpY2tzV2l0aG91dEFjdGlvbiIsImluaXRBSSIsInNwYWNlTGluZUF2YWlsYWJsZSIsInNwYWNlQ29sQXZhaWxhYmxlIiwiZW1wdHlPbkxpbmUiLCJlbXB0eU9uQ29sIiwicG9zTm90VmFsaWRhdGVkIiwicG9zaXRpb25zVG9BZGQiLCJzdGFydFBvcyIsIm5lYXJEZWFkUG9zaXRpb24iLCJmaXJzdFBvc2l0aW9uIiwiaW52ZXJ0RGlyZWN0aW9uIiwiU25ha2VBSVJhbmRvbSIsIlNuYWtlQUlMb3ciLCJTbmFrZUFJTm9ybWFsIiwiU25ha2VBSUhpZ2giLCJTbmFrZUFJTW9jayIsImFpRnJ1aXRHb2FsIiwidW5zaGlmdCIsImxhc3QiLCJwb3AiLCJrZXlUb0RpcmVjdGlvbiIsImdldERpcmVjdGlvblRvIiwiY3VycmVudCIsIm5leHQiLCJwcmVjIiwiZGlyZWN0aW9uVG9QcmVjIiwiZGlyZWN0aW9uVG9OZXh0IiwiZ2V0R3JhcGhpY0RpcmVjdGlvbkZvciIsImVsZW0iLCJhY3Rpb24iLCJ3aWR0aExpbWl0IiwiaGVpZ2h0TGltaXQiLCJhaUxldmVsVGV4dCIsIl9haUxldmVsVGV4dCIsImRpc3RGcnVpdCIsImFicyIsImRpc3RGcnVpdEdvbGQiLCJhaUxvdyIsImRpcmVjdGlvbk5leHQiLCJuZXh0UG9zaXRpb24iLCJjdXJyZW50RGlyZWN0aW9uIiwiZmlyc3REaWZmZXJlbnREaXJlY3Rpb24iLCJjb252ZXJ0VG9LZXlEaXJlY3Rpb24iLCJlbmFibGVUb3J1cyIsImZydWl0VGFyZ2V0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwiR2FtZVJhbmtpbmciLCJoZWFkZXJIZWlnaHQiLCJzY3JvbGxCYXJDb2xvciIsImltYWdlTG9hZGVyIiwic3BlY3RhdG9yTW9kZSIsImNsb3NlZCIsImNsb3NpbmciLCJvcGVuaW5nIiwiZm9yY2VDbG9zaW5nIiwib3ZlcmZsb3ciLCJiYWNrIiwibGFzdExpbmUiLCJ0aW1lTGFzdEZyYW1lIiwib2Zmc2V0WCIsInRvdGFsVGltZVgiLCJ0b3RhbFRpbWUiLCJjYW52YXNUbXAiLCJhZGRTY3JvbGxBY3Rpb24iLCJkZWx0YVgiLCJkZWx0YVkiLCJvZmZzZXRTY3JvbGxZIiwiY29udGV4dCIsImN0eCIsImdldENvbnRleHQiLCJ0aXRsZSIsIm1heFNpemVOYW1lIiwibWVhc3VyZVRleHQiLCJzY29yZXMiLCJudW1BSSIsImZvbnQiLCJzaXplTnVtYmVyIiwic2l6ZVRleHQiLCJ1c2VybmFtZSIsInJhbmsiLCJsYXN0U2NvcmUiLCJFYXNpbmdGdW5jdGlvbnMiLCJlYXNlSW5PdXRDdWJpYyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwieVRpdGxlIiwibWF4SGVpZ2h0IiwiY2xpZW50SGVpZ2h0Iiwic2Nyb2xsQXJlYVNpemUiLCJwZXJjZW50U2Nyb2xsYmFyIiwiVXRpbHMiLCJkcmF3VGV4dCIsInJhbmtpbmciLCJzb3J0IiwiY3VycmVudFkiLCJwZXJmb3JtYW5jZSIsIm9mZnNldFRpbWUiLCJudW1iZXJSYW5rRHJhd24iLCJkcmF3SW1hZ2UiLCJkcmF3SW1hZ2VEYXRhIiwicmVzdG9yZSIsIkNvbXBvbmVudCIsIkNvbnN0YW50cyIsIkRJU0FCTEVfRVhQRVJJTUVOVEFMX09QVElNSVpBVElPTlMiLCJJbWFnZUxvYWRlciIsImFzc2V0c0xvYWRlZCIsImZyYW1lIiwibGFzdEZyYW1lIiwibGFzdEZyYW1lVGltZSIsImN1cnJlbnRGUFMiLCJlbmdpbmVMb2FkaW5nIiwidG91Y2hFdmVudFN0YXJ0WCIsInRvdWNoRXZlbnRTdGFydFkiLCJ0b3VjaEV2ZW50U3RhcnRUaW1lc3RhbXAiLCJ0b3VjaEV2ZW50T2Zmc2V0WCIsInRvdWNoRXZlbnRPZmZzZXRZIiwicHJlY0FpU3R1Y2siLCJmdWxsc2NyZWVuIiwiZW5hYmxlUmV0cnlQYXVzZU1lbnUiLCJzZWFyY2hpbmdQbGF5ZXJzIiwicGxheWVyTnVtYmVyIiwidGltZVN0YXJ0Iiwib25saW5lTWFzdGVyIiwibWVudSIsIk1lbnUiLCJjb25maXJtUmVzZXQiLCJjb25maXJtRXhpdCIsImdldEluZm9zIiwiZ2V0SW5mb3NHYW1lIiwiZ2V0QWR2YW5jZWRJbmZvc0dhbWUiLCJ0aW1lb3V0QXV0b1JldHJ5IiwiaXNGaWx0ZXJIdWVBdmFpbGFibGUiLCJoZWFkZXIiLCJIZWFkZXIiLCJiZXN0U2NvcmVUb0Rpc3BsYXkiLCJncmlkVUkiLCJHcmlkVUkiLCJwcm9ncmVzc0JhckxvYWRpbmciLCJQcm9ncmVzc0JhciIsImJveCIsIkJveCIsInNjZW5lIiwiU2NlbmUiLCJub3RpZmljYXRpb25NZXNzYWdlIiwibGFiZWxNZW51cyIsInRleHRhcmVhIiwiY2FudmFzQ3R4IiwidGltZXJUb0Rpc3BsYXkiLCJpbnRlcnZhbENvdW50RlBTIiwiYnRuRnVsbFNjcmVlbiIsImJ0blBhdXNlIiwiYnRuQ29udGludWUiLCJidG5SZXRyeSIsImJ0blF1aXQiLCJidG5ZZXMiLCJidG5ObyIsImJ0bk9LIiwiYnRuQWJvdXQiLCJidG5BZHZhbmNlZCIsImJ0bkluZm9zR2FtZSIsImJ0blRvcEFycm93IiwiYnRuUmlnaHRBcnJvdyIsImJ0bkxlZnRBcnJvdyIsImJ0bkJvdHRvbUFycm93IiwiYnRuRXhpdEZ1bGxTY3JlZW4iLCJidG5FbnRlckZ1bGxTY3JlZW4iLCJidG5TdGFydEdhbWUiLCJidG5SYW5rIiwiRVJST1JfTUVTU0FHRV9DQU5WQVMiLCJFUlJPUl9NRVNTQUdFX0NBTlZBU19MQUJFTCIsIlJFVFJZIiwiQ2FudmFzIiwiQnV0dG9uSW1hZ2UiLCJidXR0b25TdHlsZSIsImxhYmVsU3R5bGUiLCJCdXR0b24iLCJzZXRCdXR0b25zIiwic2V0Q2xpY2tBY3Rpb24iLCJ0b2dnbGVGdWxsc2NyZWVuIiwiZXZlbnQiLCJjaGFuZ2VkVG91Y2hlcyIsImdldFRvdWNoUG9zIiwiaG92ZXJlZCIsInRvdWNoU3dpcGVFdmVudCIsInNldEludGVydmFsQ291bnRGUFMiLCJldnQiLCJrZXlDb2RlIiwibGFzdEtleU1lbnUiLCJhdXRvUmVzaXplQ2FudmFzIiwibG9hZEFzc2V0cyIsInN0YXJ0RHJhdyIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwiY2xpZW50WSIsImNsZWFySW50ZXJ2YWxDb3VudEZQUyIsImNvdW50RlBTIiwiY2xlYXJSZWN0Iiwib25mdWxsc2NyZWVuY2hhbmdlIiwic2NyZWVuIiwib3JpZW50YXRpb24iLCJsb2NrIiwib25tc2Z1bGxzY3JlZW5jaGFuZ2UiLCJvbm1vemZ1bGxzY3JlZW5jaGFuZ2UiLCJvbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLCJvbm9raXRmdWxsc2NyZWVuY2hhbmdlIiwib25vZnVsbHNjcmVlbmNoYW5nZSIsImhhc0Vycm9yIiwibG9hZEltYWdlIiwiYmVmb3JlRHJhdyIsImhhc0ZvY3VzIiwib2Zmc2V0IiwiZHJhdyIsInRvU3RyaW5nIiwibWluSGVpZ2h0Iiwic2l6ZSIsImZvbnRTaXplSW5pdGlhbCIsImVhc2luZ0Z1bmN0aW9uIiwiZGlzYWJsZSIsInNpemVzVGltZXIiLCJwZXJjZW50TG9hZGVkIiwiaW1hZ2VzIiwibmJJbWFnZXNUb0xvYWQiLCJwZXJjZW50IiwiZGlzYWJsZUFsbEJ1dHRvbnMiLCJuZXh0R2FtZVRleHQiLCJnZXRBSUxldmVsVGV4dCIsImludGVycG9sYXRpb24iLCJlc2NhcGVWYWx1ZSIsInBsYXllckh1bWFuIiwiY29sb3JOYW1lIiwiY29sb3JSZ2IiLCJHcmFwaGljc1V0aWxzIiwiaHNsVG9OYW1lIiwiaHN2VG9SZ2IiLCJlbmFibGUiLCJlbmFibGVDbG9zZUJ1dHRvbiIsImdldERlYnVnVGV4dCIsImRpc2FibGVDbG9zZUJ1dHRvbiIsImgiLCJzIiwidiIsImciLCJmIiwicSIsImNhc2VIZWlnaHQiLCJjYXNlV2lkdGgiLCJ0b3RhbFdpZHRoIiwidG90YWxIZWlnaHQiLCJjYXNlWCIsImNhc2VZIiwiZ2V0SW1hZ2VDYXNlIiwiZHJhd1NuYWtlIiwiY3R4VG1wIiwiZmlsdGVyIiwiYW5nbGUiLCJpbWFnZUxvYyIsImVyYXNlQmVsb3ciLCJnZXRUYWlsUG9zaXRpb24iLCJnZXRHcmFwaGljRGlyZWN0aW9uIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Qm91bmNlIiwib2Zmc2V0WSIsImdyYXBoaWNEaXJlY3Rpb24iLCJwb3ciLCJwb3NYIiwicG9zWSIsImRyYXdTbmFrZUluZm9zIiwiZHJhd0Fycm93Iiwicm93QnV0dG9ucyIsIlJvdyIsImZydWl0SW1hZ2UiLCJJbWFnZUNvbnRhaW5lciIsImxhYmVsU2NvcmUiLCJtaW5XaWR0aCIs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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7Ozs7QUMxRFc7O0FBRVo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtDQUFrQyxTQUFTO0FBQzNDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWEsU0FBUztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsVUFBVTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7O0FDdkpBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLHlEQUF5RDtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7Ozs7QUNuR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRVk7O0FBRVosYUFBYSxtQkFBTyxDQUFDLG9EQUFXO0FBQ2hDLGNBQWMsbUJBQU8sQ0FBQyxnREFBUztBQUMvQixjQUFjLG1CQUFPLENBQUMsZ0RBQVM7O0FBRS9CO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbURBQW1EO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsVUFBVTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLHVDQUF1QyxTQUFTO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaUJBQWlCO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxpQkFBaUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixTQUFTO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELEVBQUU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQSxxQkFBcUIsZUFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLFNBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixTQUFTO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQsT0FBTztBQUM5RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELE9BQU87QUFDOUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLFFBQVE7QUFDN0I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixTQUFTO0FBQzVCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlCQUFpQjtBQUNoQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixZQUFZO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGdCQUFnQjtBQUNqQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzV2REE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLGdCQUFnQjtBQUMzQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDckJBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLElBQTZCO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsU0FBUztBQUNwQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxNQUFNO0FBQ2pCLFlBQVk7QUFDWjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzdLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRTs7Ozs7Ozs7Ozs7QUNOQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gscUNBQXFDO0FBQ3JDO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7OztBQ1BELGlCQUFpQixtQkFBTyxDQUFDLCtEQUFVOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbUJBQU8sQ0FBQyx3RUFBa0I7Ozs7Ozs7Ozs7OztBQ1RsRDtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLG1CQUFPLENBQUMsbUZBQW9CO0FBQzdDLGNBQWMsbUJBQU8sQ0FBQyxvRUFBbUI7QUFDekMsWUFBWSxtQkFBTyxDQUFDLGdGQUFPO0FBQzNCLFlBQVksbUJBQU8sQ0FBQyxnREFBUztBQUM3QixhQUFhLG1CQUFPLENBQUMsd0VBQWtCO0FBQ3ZDLGVBQWUsbUJBQU8sQ0FBQyxrREFBVTtBQUNqQyxjQUFjLG1CQUFPLENBQUMsZ0RBQVM7O0FBRS9CO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkY7O0FBRTNGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQ0FBa0M7O0FBRWxDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMscUVBQWE7QUFDeEMsb0JBQW9CLG1CQUFPLENBQUMsbUZBQW9CO0FBQ2hELGdCQUFnQixtQkFBTyxDQUFDLHdFQUFrQjs7QUFFMUM7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhDQUE4QyxXQUFXO0FBQ3pEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLDhCQUE4QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSwyQkFBMkIsa0JBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU87QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEIsV0FBVyxPQUFPO0FBQ2xCLFlBQVksT0FBTztBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FB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QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCwyREFBMkQ7QUFDM0Q7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0hBQStIO0FBQy9IO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxnR0FBZ0c7QUFDaEc7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUNqTkE7O0FBRUE7QUFD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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLElBQUkseUZBQWU7O0FBRW5CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxzRkFBWTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FB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OztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFlBQVksUUFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFFBQVE7QUFDcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksT0FBTztBQUNuQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7Ozs7Ozs7Ozs7Ozs7QUNqTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQyxzQ0FBSTs7QUFFL0I7QUFDQTtBQUNB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Ozs7Ozs7OztBQ3RCcEMsZTs7Ozs7Ozs7Ozs7QUNBQSxlIiwiZmlsZSI6IlNuYWtlSUEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJTbmFrZUlBXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlNuYWtlSUFcIl0gPSBmYWN0b3J5KCk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9pbmRleC5qc1wiKTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IGkxOG5leHQgZnJvbSBcImkxOG5leHRcIjtcblxuLy8gRnJlbmNoXG5pMThuZXh0LmFkZFJlc291cmNlQnVuZGxlKFwiZnJcIiwgXCJ0cmFuc2xhdGlvblwiLCB7XG4gIFwiZW5naW5lXCI6IHtcbiAgICBcInNjb3JlXCI6IFwiU2NvcmVcIixcbiAgICBcIm51bVwiOiBcIm7CsFwiLFxuICAgIFwiaW5pdEZhaWxlZFwiOiBcIsOJY2hlYyBkZSBsJ2luaXRpYWxpc2F0aW9uIGR1IGpldSA6IGxlIFNuYWtlIGVzdCBwbHVzIGdyYW5kIHF1ZSBsYSBncmlsbGVcIixcbiAgICBcImNvbnRpbnVlXCI6IFwiUmVwcmVuZHJlXCIsXG4gICAgXCJyZXNldFwiOiBcIlJlY29tbWVuY2VyIGxhIHBhcnRpZVwiLFxuICAgIFwicmV0cnlJbml0XCI6IFwiUsOpZXNzYXllclwiLFxuICAgIFwiZXhpdFwiOiBcIlF1aXR0ZXJcIixcbiAgICBcInllc1wiOiBcIk91aVwiLFxuICAgIFwibm9cIjogXCJOb25cIixcbiAgICBcIm9rXCI6IFwiT0tcIixcbiAgICBcImFib3V0XCI6IFwiw4AgcHJvcG9z4oCmXCIsXG4gICAgXCJpbmZvc0dhbWVcIjogXCJJbmZvcyBwYXJ0aWVcIixcbiAgICBcInBsYXllclwiOiBcIkpvdWV1ciA6XCIsXG4gICAgXCJwbGF5ZXJIdW1hblwiOiBcIlZvdXNcIixcbiAgICBcInBsYXllckFJXCI6IFwiSUFcIixcbiAgICBcImFpTGV2ZWxcIjogXCJOaXZlYXUgZGUgbCdJQSA6XCIsXG4gICAgXCJhaUxldmVsTGlzdFwiOiB7XG4gICAgICBcInJhbmRvbVwiOiBcIkF1IGhhc2FyZFwiLFxuICAgICAgXCJsb3dcIjogXCJGYWlibGVcIixcbiAgICAgIFwibm9ybWFsXCI6IFwiTm9ybWFsXCIsXG4gICAgICBcImhpZ2hcIjogXCLDiWxldsOpXCIsXG4gICAgICBcInVsdHJhXCI6IFwiVWx0cmFcIixcbiAgICAgIFwiY3VzdG9tXCI6IFwiUGVyc29ubmFsaXPDqVwiLFxuICAgICAgXCJtb2NrXCI6IFwiTW9ja1wiXG4gICAgfSxcbiAgICBcInNpemVHcmlkXCI6IFwiVGFpbGxlIGRlIGxhIGdyaWxsZSA6XCIsXG4gICAgXCJjdXJyZW50U3BlZWRcIjogXCJWaXRlc3NlIGFjdHVlbGxlIDpcIixcbiAgICBcInByb2dyZXNzaXZlU3BlZWRcIjogXCJWaXRlc3NlIHByb2dyZXNzaXZlXCIsXG4gICAgXCJsb2FkaW5nXCI6IFwiQ2hhcmdlbWVudCBkZXMgcmVzc291cmNlc+KAplwiLFxuICAgIFwiZXhpdGVkXCI6IFwiQ2V0dGUgcGFydGllIGEgw6l0w6kgZMOpZmluaXRpdmVtZW50IHF1aXR0w6llLiBFbiBhdHRlbnRlIGRlIGxhIGZpbiBkZXMgYXV0cmVzIHBhcnRpZXPigKZcIixcbiAgICBcImVycm9yXCI6IFwiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUgIVwiLFxuICAgIFwiZXJyb3JMb2FkaW5nXCI6IFwiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUgbG9ycyBkdSBjaGFyZ2VtZW50IGRlcyByZXNzb3VyY2VzLiBWw6lyaWZpZXogdm90cmUgY29ubmV4aW9uIEludGVybmV0LlwiLFxuICAgIFwiZXhpdENvbmZpcm1cIjogXCLDinRlcy12b3VzIHPDu3IgZGUgdm91bG9pciBxdWl0dGVyIGxhIHBhcnRpZSA/XCIsXG4gICAgXCJyZXNldENvbmZpcm1cIjogXCLDinRlcy12b3VzIHPDu3IgZGUgdm91bG9pciByZWNvbW1lbmNlciBsYSBwYXJ0aWUgP1wiLFxuICAgIFwic2NvcmVNYXhcIjogXCJTY29yZSBtYXhpbWFsIGF0dGVpbnQgIVwiLFxuICAgIFwiZ2FtZU92ZXJcIjogXCJHYW1lIE92ZXIgIVwiLFxuICAgIFwiZ2FtZUZpbmlzaGVkXCI6IFwiUGFydGllIHRlcm1pbsOpZSAhXCIsXG4gICAgXCJwYXVzZVwiOiBcIlBhdXNlXCIsXG4gICAgXCJwbGF5ZXJNaW5cIjogXCJKXCIsXG4gICAgXCJhaU1pblwiOiBcIklBXCIsXG4gICAgXCJhYm91dFNjcmVlblwiOiB7XG4gICAgICBcInRpdGxlXCI6IFwiU25ha2VJQSBwYXIgRWxpYXN0aWtcIixcbiAgICAgIFwidmVyc2lvbkFuZERhdGVcIjogXCJWZXJzaW9uIHt7dmVyc2lvbn19ICh7e2RhdGUsIEREL01NL1lZWVl9fSlcIlxuICAgIH0sXG4gICAgXCJkZWJ1Z1wiOiB7XG4gICAgICBcImZwc1wiOiBcIklQUyA6XCIsXG4gICAgICBcImZyYW1lc1wiOiBcIkltYWdlcyA6XCIsXG4gICAgICBcInRpY2tzXCI6IFwiVG91cnMgOlwiLFxuICAgICAgXCJzcGVlZFwiOiBcIlZpdC4gOlwiLFxuICAgICAgXCJwYXVzZWRcIjogXCJFbiBwYXVzZVwiXG4gICAgfSxcbiAgICBcImNvbG9yc1wiOiB7XG4gICAgICBcIndoaXRlXCI6IFwiQmxhbmNcIixcbiAgICAgIFwiZ3JheVwiOiBcIkdyaXNcIixcbiAgICAgIFwiYmxhY2tcIjogXCJOb2lyXCIsXG4gICAgICBcInJlZFwiOiBcIlJvdWdlXCIsXG4gICAgICBcImJyb3duXCI6IFwiTWFycm9uXCIsXG4gICAgICBcIm9yYW5nZVwiOiBcIk9yYW5nZVwiLFxuICAgICAgXCJ5ZWxsb3dcIjogXCJKYXVuZVwiLFxuICAgICAgXCJncmVlblwiOiBcIlZlcnRcIixcbiAgICAgIFwiYmx1ZVwiOiBcIkJsZXVcIixcbiAgICAgIFwicHVycGxlXCI6IFwiTWF1dmVcIixcbiAgICAgIFwicGlua1wiOiBcIlJvc2VcIlxuICAgIH0sXG4gICAgXCJjb2xvclBsYXllclwiOiBcIlZvdXMgw6p0ZXMgbGUgU25ha2VcXG5lbiB7e2NvbG9yfX1cIixcbiAgICBcImFycm93UGxheWVyXCI6IFwiVm91cyDDqnRlcyBsZSBTbmFrZVxcbmluZGlxdcOpIHBhciBsYVxcbmZsw6hjaGVcIixcbiAgICBcInJlYWR5XCI6IFwiUGFydGV6ICFcIixcbiAgICBcImFzc2lzdEFJXCI6IFwiQXNzaXN0YW50IElBXCIsXG4gICAgXCJleGl0RnVsbFNjcmVlblwiOiBcIlF1aXR0ZXIgcGxlaW4tw6ljcmFuXCIsXG4gICAgXCJlbnRlckZ1bGxTY3JlZW5cIjogXCJNb2RlIHBsZWluLcOpY3JhblwiLFxuICAgIFwibWF6ZU1vZGVcIjogXCJNb2RlIGxhYnlyaW50aGUgISBUcm91dmV6IGxlIGNoZW1pbiB2ZXJzIGxhIHBvbW1lIHBvdXIgcsOpdXNzaXIgbGEgcGFydGllLlxcbkxlIFNuYWtlIG4nYXZhbmNlIHBhcyBhdXRvbWF0aXF1ZW1lbnQuXCIsXG4gICAgXCJtYXplV2luXCI6IFwiQmllbiBqb3XDqSAhXCIsXG4gICAgXCJtYXplTW9kZU1pblwiOiBcIk1vZGUgbGFieXJpbnRoZVwiLFxuICAgIFwib25saW5lTW9kZVwiOiBcIkpldSBlbiBsaWduZVwiLFxuICAgIFwicmFua2luZ1wiOiBcIkNsYXNzZW1lbnRcIixcbiAgICBcImluZm9zR2FtZUFkdmFuY2VkXCI6IFwiQXZhbmPDqeKAplwiLFxuICAgIFwic2VlZEdyaWRcIjogXCJWYWxldXIgYWzDqWF0b2lyZSBncmlsbGUgOlwiLFxuICAgIFwic2VlZEdhbWVcIjogXCJWYWxldXIgYWzDqWF0b2lyZSBqZXUgOlwiLFxuICAgIFwicGluZ1wiOiBcIlBpbmcgOlwiLFxuICAgIFwiYWlTdHVja1wiOiBcIlRvdXRlcyBsZXMgSUFzIHNvbnQgYmxvcXXDqWVzLiBMYSBwYXJ0aWUgc2UgdGVybWluZXJhIHNpIGxlcyBJQXMgcmVzdGVudCBibG9xdcOpZXMuXCIsXG4gICAgXCJzZXJ2ZXJzXCI6IHtcbiAgICAgIFwiZXJyb3JDb25uZWN0aW9uXCI6IFwiVW5lIGVycmV1ciBlc3Qgc3VydmVudWUgbG9ycyBkZSBsYSBjb25uZXhpb24gYXUgc2VydmV1ci5cIixcbiAgICAgIFwid2FpdGluZ1BsYXllcnNcIjogXCJFbiBhdHRlbnRlIGRlIGpvdWV1cnPigKZcIixcbiAgICAgIFwiZ2FtZVN0YXJ0XCI6IFwiRMOpYnV0IGRlIGxhIHBhcnRpZVxcbmRhbnNcIixcbiAgICAgIFwibmV4dEdhbWVTdGFydFwiOiBcIlByb2NoYWluZSBwYXJ0aWVcXG5kYW5zXCIsXG4gICAgICBcInNwZWN0YXRvck1vZGVcIjogXCJNb2RlIHNwZWN0YXRldXJcIixcbiAgICAgIFwic3RhcnRHYW1lXCI6IFwiQ29tbWVuY2VyIGxhIHBhcnRpZVwiXG4gICAgfSxcbiAgICBcImxvYWRpbmdXb3JrZXJcIjogXCJDaGFyZ2VtZW504oCmXCIsXG4gICAgXCJlcnJvckpTR2FtZVRvb2xzQ29uc29sZVwiOiBcIlVuZSBlcnJldXIgZmF0YWxlIGVzdCBzdXJ2ZW51ZSBhdSBuaXZlYXUgZHUgbW90ZXVyIEpTR2FtZVRvb2xzLlwiLFxuICAgIFwiZXJyb3JKU0dhbWVUb29sc1wiOiBcIjonKFxcblVuZSBlcnJldXIgZmF0YWxlIGVzdCBzdXJ2ZW51ZSBhdSBuaXZlYXUgZHUgbW90ZXVyIEpTR2FtZVRvb2xzLlwiXG4gIH1cbn0sIHRydWUsIGZhbHNlKTtcblxuLy8gRW5nbGlzaFxuaTE4bmV4dC5hZGRSZXNvdXJjZUJ1bmRsZShcImVuXCIsIFwidHJhbnNsYXRpb25cIiwge1xuICBcImVuZ2luZVwiOiB7XG4gICAgXCJzY29yZVwiOiBcIlNjb3JlXCIsXG4gICAgXCJudW1cIjogXCJuwrBcIixcbiAgICBcImluaXRGYWlsZWRcIjogXCJHYW1lIGluaXQgZmFpbGVkOiB0aGUgU25ha2UgaXMgYmlnZ2VyIHRoYW4gdGhlIGdyaWRcIixcbiAgICBcImNvbnRpbnVlXCI6IFwiQ29udGludWVcIixcbiAgICBcInJlc2V0XCI6IFwiUmVzZXQgdGhlIGdhbWVcIixcbiAgICBcInJldHJ5SW5pdFwiOiBcIlJldHJ5XCIsXG4gICAgXCJleGl0XCI6IFwiRXhpdFwiLFxuICAgIFwieWVzXCI6IFwiWWVzXCIsXG4gICAgXCJub1wiOiBcIk5vXCIsXG4gICAgXCJva1wiOiBcIk9LXCIsXG4gICAgXCJhYm91dFwiOiBcIkFib3V04oCmXCIsXG4gICAgXCJpbmZvc0dhbWVcIjogXCJHYW1lIGluZm9zXCIsXG4gICAgXCJwbGF5ZXJcIjogXCJQbGF5ZXI6XCIsXG4gICAgXCJwbGF5ZXJIdW1hblwiOiBcIllvdVwiLFxuICAgIFwicGxheWVyQUlcIjogXCJBSVwiLFxuICAgIFwiYWlMZXZlbFwiOiBcIkFJIGxldmVsOlwiLFxuICAgIFwiYWlMZXZlbExpc3RcIjoge1xuICAgICAgXCJyYW5kb21cIjogXCJSYW5kb21cIixcbiAgICAgIFwibG93XCI6IFwiTG93XCIsXG4gICAgICBcIm5vcm1hbFwiOiBcIk5vcm1hbFwiLFxuICAgICAgXCJoaWdoXCI6IFwiSGlnaFwiLFxuICAgICAgXCJ1bHRyYVwiOiBcIlVsdHJhXCIsXG4gICAgICBcImN1c3RvbVwiOiBcIkN1c3RvbVwiLFxuICAgICAgXCJtb2NrXCI6IFwiTW9ja1wiXG4gICAgfSxcbiAgICBcInNpemVHcmlkXCI6IFwiR3JpZCBzaXplOlwiLFxuICAgIFwiY3VycmVudFNwZWVkXCI6IFwiQ3VycmVudCBzcGVlZDpcIixcbiAgICBcInByb2dyZXNzaXZlU3BlZWRcIjogXCJQcm9ncmVzc2l2ZSBzcGVlZFwiLFxuICAgIFwibG9hZGluZ1wiOiBcIkxvYWRpbmcgcmVzb3VyY2Vz4oCmXCIsXG4gICAgXCJleGl0ZWRcIjogXCJUaGlzIGdhbWUgaGFzIGJlZW4gZGVmaW5pdGl2ZWx5IGV4aXRlZC4gV2FpdGluZyBmb3IgdGhlIGVuZCBvZiB0aGUgb3RoZXIgZ2FtZXPigKZcIixcbiAgICBcImVycm9yXCI6IFwiQW4gZXJyb3IgaGFzIG9jY3VycmVkIVwiLFxuICAgIFwiZXJyb3JMb2FkaW5nXCI6IFwiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgbG9hZGluZyByZXNvdXJjZXMuIENoZWNrIHlvdXIgSW50ZXJuZXQgY29ubmVjdGlvbi5cIixcbiAgICBcImV4aXRDb25maXJtXCI6IFwiQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gZXhpdCB0aGUgZ2FtZT9cIixcbiAgICBcInJlc2V0Q29uZmlybVwiOiBcIkFyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIHJlc2V0IHRoZSBnYW1lP1wiLFxuICAgIFwic2NvcmVNYXhcIjogXCJNYXhpbXVtIHNjb3JlIHJlYWNoZWQhXCIsXG4gICAgXCJnYW1lRmluaXNoZWRcIjogXCJHYW1lIGZpbmlzaGVkIVwiLFxuICAgIFwiZ2FtZU92ZXJcIjogXCJHYW1lIE92ZXIhXCIsXG4gICAgXCJwYXVzZVwiOiBcIlBhdXNlXCIsXG4gICAgXCJwbGF5ZXJNaW5cIjogXCJQXCIsXG4gICAgXCJhaU1pblwiOiBcIkFJXCIsXG4gICAgXCJhYm91dFNjcmVlblwiOiB7XG4gICAgICBcInRpdGxlXCI6IFwiU25ha2VJQSBieSBFbGlhc3Rpa1wiLFxuICAgICAgXCJ2ZXJzaW9uQW5kRGF0ZVwiOiBcIlZlcnNpb24ge3t2ZXJzaW9ufX0gKHt7ZGF0ZSwgTU0vREQvWVlZWX19KVwiXG4gICAgfSxcbiAgICBcImRlYnVnXCI6IHtcbiAgICAgIFwiZnBzXCI6IFwiRlBTOlwiLFxuICAgICAgXCJmcmFtZXNcIjogXCJGcmFtZXM6XCIsXG4gICAgICBcInRpY2tzXCI6IFwiVGlja3M6XCIsXG4gICAgICBcInNwZWVkXCI6IFwiU3BlZWQ6XCIsXG4gICAgICBcInBhdXNlZFwiOiBcIlBhdXNlZFwiXG4gICAgfSxcbiAgICBcImNvbG9yc1wiOiB7XG4gICAgICBcIndoaXRlXCI6IFwiV2hpdGVcIixcbiAgICAgIFwiZ3JheVwiOiBcIkdyYXlcIixcbiAgICAgIFwiYmxhY2tcIjogXCJCbGFja1wiLFxuICAgICAgXCJyZWRcIjogXCJSZWRcIixcbiAgICAgIFwiYnJvd25cIjogXCJCcm93blwiLFxuICAgICAgXCJvcmFuZ2VcIjogXCJPcmFuZ2VcIixcbiAgICAgIFwieWVsbG93XCI6IFwiWWVsbG93XCIsXG4gICAgICBcImdyZWVuXCI6IFwiR3JlZW5cIixcbiAgICAgIFwiYmx1ZVwiOiBcIkJsdWVcIixcbiAgICAgIFwicHVycGxlXCI6IFwiUHVycGxlXCIsXG4gICAgICBcInBpbmtcIjogXCJQaW5rXCJcbiAgICB9LFxuICAgIFwiY29sb3JQbGF5ZXJcIjogXCJZb3UgYXJlIHRoZSBTbmFrZVxcbmluIHt7Y29sb3J9fVwiLFxuICAgIFwiYXJyb3dQbGF5ZXJcIjogXCJZb3UgYXJlIHRoZSBTbmFrZVxcbnBvaW50ZWQgYnkgdGhlXFxuYXJyb3dcIixcbiAgICBcInJlYWR5XCI6IFwiR28hXCIsXG4gICAgXCJhc3Npc3RBSVwiOiBcIkFJIGFzc2lzdGFudFwiLFxuICAgIFwiZXhpdEZ1bGxTY3JlZW5cIjogXCJFeGl0IGZ1bGxzY3JlZW5cIixcbiAgICBcImVudGVyRnVsbFNjcmVlblwiOiBcIkZ1bGxzY3JlZW4gbW9kZVwiLFxuICAgIFwibWF6ZU1vZGVcIjogXCJNYXplIG1vZGUhIEZpbmQgdGhlIHBhdGggdG8gdGhlIGFwcGxlIHRvIGZpbmlzaCB0aGlzIGdhbWUuXFxuVGhlIFNuYWtlIGRvZXNuJ3QgbW92ZSBhdXRvbWF0aWNhbGx5LlwiLFxuICAgIFwibWF6ZVdpblwiOiBcIkdvb2QgZ2FtZSFcIixcbiAgICBcIm1hemVNb2RlTWluXCI6IFwiTWF6ZSBtb2RlXCIsXG4gICAgXCJvbmxpbmVNb2RlXCI6IFwiT25saW5lIGdhbWVcIixcbiAgICBcInJhbmtpbmdcIjogXCJSYW5raW5nXCIsXG4gICAgXCJpbmZvc0dhbWVBZHZhbmNlZFwiOiBcIkFkdmFuY2Vk4oCmXCIsXG4gICAgXCJzZWVkR3JpZFwiOiBcIkdyaWQgcmFuZG9tIHZhbHVlOlwiLFxuICAgIFwic2VlZEdhbWVcIjogXCJHYW1lIHJhbmRvbSB2YWx1ZTpcIixcbiAgICBcInBpbmdcIjogXCJQaW5nOlwiLFxuICAgIFwiYWlTdHVja1wiOiBcIkFsbCB0aGUgQUlzIGFyZSBzdHVjay4gVGhlIGdhbWUgd2lsbCBlbmQgaWYgdGhlIEFJcyByZW1haW4gc3R1Y2suXCIsXG4gICAgXCJzZXJ2ZXJzXCI6IHtcbiAgICAgIFwiZXJyb3JDb25uZWN0aW9uXCI6IFwiQW4gZXJyb3IgaGFzIG9jY3VycmVkIHdoZW4gY29ubmVjdGluZyB0byB0aGUgc2VydmVyLlwiLFxuICAgICAgXCJ3YWl0aW5nUGxheWVyc1wiOiBcIldhaXRpbmcgZm9yIHBsYXllcnPigKZcIixcbiAgICAgIFwiZ2FtZVN0YXJ0XCI6IFwiU3RhcnQgb2YgdGhlIGdhbWVcXG5pblwiLFxuICAgICAgXCJuZXh0R2FtZVN0YXJ0XCI6IFwiTmV4dCBnYW1lXFxuaW5cIixcbiAgICAgIFwic3BlY3RhdG9yTW9kZVwiOiBcIlNwZWN0YXRvciBtb2RlXCIsXG4gICAgICBcInN0YXJ0R2FtZVwiOiBcIlN0YXJ0IHRoZSBnYW1lXCJcbiAgICB9LFxuICAgIFwibG9hZGluZ1dvcmtlclwiOiBcIkxvYWRpbmfigKZcIixcbiAgICBcImVycm9ySlNHYW1lVG9vbHNDb25zb2xlXCI6IFwiQSBmYXRhbCBlcnJvciBoYXMgb2NjdXJyZWQgYXQgdGhlIEpTR2FtZVRvb2xzIGVuZ2luZSBsZXZlbC5cIixcbiAgICBcImVycm9ySlNHYW1lVG9vbHNcIjogXCI6JyhcXG5BIGZhdGFsIGVycm9yIGhhcyBvY2N1cnJlZCBhdCB0aGUgSlNHYW1lVG9vbHMgZW5naW5lIGxldmVsLlwiXG4gIH1cbn0sIHRydWUsIGZhbHNlKTsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE5LTIwMjAgRWxpYXN0aWsgKGVsaWFzdGlrc29mdHMuY29tKVxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFwiU25ha2VJQVwiLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggXCJTbmFrZUlBXCIuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbmltcG9ydCBpMThuZXh0IGZyb20gXCJpMThuZXh0XCI7XG5pbXBvcnQgaTE4bmV4dEJyb3dzZXJMYW5ndWFnZURldGVjdG9yIGZyb20gXCJpMThuZXh0LWJyb3dzZXItbGFuZ3VhZ2VkZXRlY3RvclwiO1xuXG5pMThuZXh0LnVzZShpMThuZXh0QnJvd3Nlckxhbmd1YWdlRGV0ZWN0b3IpLmluaXQoe1xuICBmYWxsYmFja0xuZzogWydlbicsICdmciddLFxuICBsb2FkOiAnbGFuZ3VhZ2VPbmx5JyxcbiAgZGV0ZWN0aW9uOiB7XG4gICAgb3JkZXI6IFsnbG9jYWxTdG9yYWdlJywgJ3F1ZXJ5c3RyaW5nJywgJ25hdmlnYXRvcicsICdodG1sVGFnJ10sXG4gICAgbG9va3VwUXVlcnlzdHJpbmc6ICdsbmcnLFxuICAgIGxvb2t1cExvY2FsU3RvcmFnZTogJ2kxOG5leHRMbmcnLFxuICAgIGNhY2hlczogWydsb2NhbFN0b3JhZ2UnXSxcbiAgfSxcbn0pOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IGkxOG5leHQgZnJvbSBcImkxOG5leHRcIjtcblxuLy8gRnJlbmNoXG5pMThuZXh0LmFkZFJlc291cmNlQnVuZGxlKFwiZnJcIiwgXCJ0cmFuc2xhdGlvblwiLCB7XG4gIFwiZGVidWdNb2RlRW5hYmxlZFwiOiBcIk1vZGUgZGUgZGVidWcgYWN0aXbDqVwiLFxuICBcImxhbmdcIjoge1xuICAgIFwiZnJcIjogXCJGcmFuw6dhaXNcIixcbiAgICBcImVuXCI6IFwiRW5nbGlzaFwiXG4gIH0sXG4gIFwidXBkYXRlXCI6IHtcbiAgICBcInVwZGF0ZUF2YWlsYWJsZVwiOiBcIlVuZSBtaXNlIMOgIGpvdXIgZHUgamV1IGVzdCBkaXNwb25pYmxlXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiVmVyc2lvblwiLFxuICAgIFwib2ZcIjogXCJkdVwiLFxuICAgIFwiY3VycmVudFwiOiBcIlZvdXMgZGlzcG9zZXogYWN0dWVsbGVtZW50IGRlIGxhIHZlcnNpb25cIixcbiAgICBcInZlcnNpb25EYXRlXCI6IFwie3tkYXRlLCBERC9NTS9ZWVlZfX1cIixcbiAgICBcImRvd25sb2FkXCI6IFwiVMOpbMOpY2hhcmdlciBsYSBtaXNlIMOgIGpvdXJcIixcbiAgICBcImdldFVSTFwiOiBcIk9idGVuaXIgbCdhZHJlc3NlIFVSTCBkdSB0w6lsw6ljaGFyZ2VtZW50XCIsXG4gICAgXCJnZXRDaGFuZ2VzXCI6IFwiT2J0ZW5pciBsYSBsaXN0ZSBkZXMgY2hhbmdlbWVudHNcIixcbiAgICBcIlVSTFRvRG93bmxvYWRcIjogXCJBZHJlc3NlIFVSTCBtZW5hbnQgYXUgdMOpbMOpY2hhcmdlbWVudCA6XCIsXG4gICAgXCJub0NoYW5nZXNcIjogXCJBdWN1biBjaGFuZ2VtZW50IHJlbnNlaWduw6kuXCIsXG4gICAgXCJjaGFuZ2VzXCI6IFwiQ2hhbmdlbWVudHMgZGUgbGEgbm91dmVsbGUgdmVyc2lvbiA6XCJcbiAgfSxcbiAgXCJtZW51XCI6IHtcbiAgICBcInNlbGVjdEdhbWVcIjogXCJTw6lsZWN0aW9ubmV6IHVuIG1vZGUgZGUgamV1IDpcIixcbiAgICBcInNvbG9BaVwiOiBcIklBIHNvbG9cIixcbiAgICBcInNvbG9QbGF5ZXJcIjogXCJKb3VldXIgc29sb1wiLFxuICAgIFwicGxheWVyVnNBaVwiOiBcIkpvdWV1ciBWUyBJQVwiLFxuICAgIFwiYWlWc0FpXCI6IFwiSUEgVlMgSUFcIixcbiAgICBcImJhdHRsZVJveWFsZVwiOiBcIkJhdHRsZSBSb3lhbGVcIixcbiAgICBcIm9ubGluZUJhdHRsZVJveWFsZVwiOiBcIkJhdHRsZSBSb3lhbGUgZW4gbGlnbmVcIixcbiAgICBcImxldmVsc1NvbG9QbGF5ZXJcIjogXCJOaXZlYXV4IChqb3VldXIgc29sbylcIixcbiAgICBcImxldmVsc1NvbG9BSVwiOiBcIk5pdmVhdXggKElBIHNvbG8pXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiVmVyc2lvblwiLFxuICAgIFwidmVyc2lvbkRhdGVcIjogXCJ7e2RhdGUsIEREL01NL1lZWVl9fVwiLFxuICAgIFwiYnlcIjogXCJQYXJcIixcbiAgICBcImluZm9zXCI6IFwiUGx1cyBkJ2luZm9zXCIsXG4gICAgXCJyZWFkbWVcIjogXCJGaWNoaWVyIExpc2V6LW1vaVwiLFxuICAgIFwic291cmNlXCI6IFwiVMOpbMOpY2hhcmdlciBsYSBzb3VyY2VcIixcbiAgICBcImxhbmd1YWdlXCI6IFwiTGFuZ3VlIDpcIixcbiAgICBcIm90aGVyc1NldHRpbmdzXCI6IFwiUGFyYW3DqHRyZXNcIixcbiAgICBcImVuYWJsZUFuaW1hdGlvbnNcIjogXCJBY3RpdmVyIGxlcyBhbmltYXRpb25zXCIsXG4gICAgXCJzaG93RGVidWdJbmZvXCI6IFwiQWN0aXZlciBsZSBtb2RlIGRlIGTDqWJvZ2FnZVwiLFxuICAgIFwicmVuZGVyQmx1clwiOiBcIkFjdGl2ZXIgbGUgcmVuZHUgZGUgZmxvdVwiLFxuICAgIFwiZW5hYmxlTXVsdGl0aHJlYWRpbmdcIjogXCJBY3RpdmVyIGxlIG11bHRpLXRocmVhZGluZ1wiLFxuICAgIFwib25saW5lRW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zXCI6IFwiQWN0aXZlciBsZXMgcHLDqWRpY3Rpb25zIGPDtHTDqSBjbGllbnQgcG91ciBsZSBqZXUgZW4gbGlnbmVcIixcbiAgICBcInNldHRpbmdOb3RBdmFpbGFibGVcIjogXCJDZSBwYXJhbcOodHJlIGVzdCBhY3R1ZWxsZW1lbnQgaW5kaXNwb25pYmxlLlwiLFxuICAgIFwibXVsdGl0aHJlYWRpbmdJbmZvc1wiOiBcIlNpIGFjdGl2w6ksIGxlIG1vdGV1ciBkZSBqZXUgZXQgbGUgbW90ZXVyIGdyYXBoaXF1ZSBzZXJvbnQgZXjDqWN1dMOpcyBkZSBtYW5pw6hyZSBpbmTDqXBlbmRhbnRlIGNlIHF1aSBhbcOpbGlvcmVyYSBsZXMgcGVyZm9ybWFuY2VzIGR1IGpldS5cIixcbiAgICBcIm9ubGluZUVuYWJsZUNsaWVudFNpZGVQcmVkaWN0aW9uc0luZm9zXCI6IFwiU2kgYWN0aXbDqSwgbGVzIHBlcmZvcm1hbmNlcyBkdSBtb2RlIGRlIGpldSBlbiBsaWduZSBzZXJvbnQgcGx1cyBzdGFibGVzLiBGb25jdGlvbm5hbGl0w6kgZXhww6lyaW1lbnRhbGUuXCIsXG4gICAgXCJ0ZXh0T3V0cHV0XCI6IFwiQWN0aXZlciBsZSByZW5kdSBlbiBtb2RlIHRleHRlXCIsXG4gICAgXCJncmFwaGljU2tpblwiOiBcIlNraW4gZ3JhcGhpcXVlIDpcIixcbiAgICBcImZsYXRcIjogXCJGbGF0IChwYXIgZMOpZmF1dClcIixcbiAgICBcInRyb3BpY2FsXCI6IFwiVHJvcGljYWxcIixcbiAgICBcInBpeGVsXCI6IFwiUGl4ZWxcIixcbiAgICBcIm1heEZQU1wiOiBcIkZQUyBtYXhpbXVtIDpcIlxuICB9LFxuICBcInNldHRpbmdzXCI6IHtcbiAgICBcInRpdGxlXCI6IFwiUGFyYW3DqHRyZXMgZGUgbGEgcGFydGllIDpcIixcbiAgICBcInBvc3NpYmxlRmFpbEluaXRHYW1lXCI6IFwiSWwgZXN0IHBvc3NpYmxlIHF1ZSBsJ2luaXRpYWxpc2F0aW9uIGRlIGxhIHBhcnRpZSDDqWNob3VlIGF2ZWMgdm9zIHBhcmFtw6h0cmVzIGNhciBpbCBuJ3kgYXVyYSBwYXMgYXNzZXogZCdlc3BhY2UgcG91ciBwbGFjZXIgdG91cyBsZXMgU25ha2UuIERhbnMgY2UgY2FzLCB1biBtZXNzYWdlIMKrIFVuZSBlcnJldXIgZXN0IHN1cnZlbnVlIMK7IHBldXQgcydhZmZpY2hlci4gRXNzYXlleiBhdmVjIGQnYXV0cmVzIHBhcmFtw6h0cmVzLlwiLFxuICAgIFwiZ3JpZFNpemVcIjogXCJUYWlsbGUgZGUgbGEgZ3JpbGxlIDpcIixcbiAgICBcInBsYWNlaG9sZGVySGVpZ2h0XCI6IFwiSGF1dGV1clwiLFxuICAgIFwicGxhY2Vob2xkZXJXaWR0aFwiOiBcIkxhcmdldXJcIixcbiAgICBcImludmFsaWRTaXplXCI6IFwiQ2V0dGUgdmFsZXVyIGRvaXQgw6p0cmUgY29tcHJpc2UgZW50cmUge3ttaW59fSBldCB7e21heH19XCIsXG4gICAgXCJvcHRpb25zXCI6IFwiQXV0cmVzIG9wdGlvbnMgOlwiLFxuICAgIFwiYm9yZGVyV2FsbHNcIjogXCJFbnRvdXJlciBsYSBncmlsbGUgZGUgbXVyc1wiLFxuICAgIFwiZ2VuZXJhdGVXYWxsc1wiOiBcIkfDqW7DqXJlciBkZXMgbXVycyDDoCBkZXMgcG9zaXRpb25zIGFsw6lhdG9pcmVzXCIsXG4gICAgXCJtYXplR3JpZFwiOiBcIkfDqW7DqXJlciB1biBsYWJ5cmludGhlXCIsXG4gICAgXCJzYW1lR3JpZFwiOiBcIlBhcnRpZSBzdXIgbGEgbcOqbWUgZ3JpbGxlXCIsXG4gICAgXCJzcGVlZFwiOiBcIlZpdGVzc2UgZHUgamV1IDpcIixcbiAgICBcInNwZWVkU2VsZWN0XCI6IHtcbiAgICAgIFwiMVwiOiBcIjEg4oCTIExhIHBsdXMgcmFwaWRlXCIsXG4gICAgICBcIjNcIjogXCIzIOKAkyBSYXBpZGVcIixcbiAgICAgIFwiNVwiOiBcIjUg4oCTIE1veWVubmVcIixcbiAgICAgIFwiOFwiOiBcIjgg4oCTIE5vcm1hbGVcIixcbiAgICAgIFwiMTBcIjogXCIxMCDigJMgQXNzZXogbGVudGVcIixcbiAgICAgIFwiMTVcIjogXCIxNSDigJMgTGVudGVcIixcbiAgICAgIFwiMjBcIjogXCIyMCDigJMgVHLDqHMgbGVudGVcIixcbiAgICAgIFwiMjVcIjogXCIyNSDigJMgRXh0csOqbWVtZW50IGxlbnRlXCIsXG4gICAgICBcImN1c3RvbVwiOiBcIlZpdGVzc2UgcGVyc29ubmFsaXPDqWXigKZcIlxuICAgIH0sXG4gICAgXCJpbnZhbGlkU3BlZWRcIjogXCJDZXR0ZSB2YWxldXIgZG9pdCDDqnRyZSBjb21wcmlzZSBlbnRyZSB7e21pbn19IGV0IHt7bWF4fX1cIixcbiAgICBcInByb2dyZXNzaXZlU3BlZWRcIjogXCJBdWdtZW50ZXIgbGEgdml0ZXNzZSBwcm9ncmVzc2l2ZW1lbnRcIixcbiAgICBcImN1c3RvbVNwZWVkXCI6IFwiVml0ZXNzZSBwZXJzb25uYWxpc8OpZSA6XCIsXG4gICAgXCJwbGFjZWhvbGRlckN1c3RvbVNwZWVkXCI6IFwiRW50cmV6IGxhIHZpdGVzc2XigKZcIixcbiAgICBcImN1c3RvbVNwZWVkSGVscFwiOiBcIlBsdXMgbGUgbm9tYnJlIGVzdCDDqWxldsOpLCBwbHVzIGxhIHZpdGVzc2UgZHUgamV1IGVzdCBsZW50ZSwgZXQgaW52ZXJzZW1lbnRcIixcbiAgICBcInBsYXllclNldHRpbmdzXCI6IFwiT3B0aW9ucyBkdSBqb3VldXIgOlwiLFxuICAgIFwiYWlBc3Npc3RhbnRcIjogXCJBY3RpdmVyIGwnYXNzaXN0YW50IElBXCIsXG4gICAgXCJhaUFzc2lzdGFudEluZm9zXCI6IFwiRW4gYWN0aXZhbnQgY2V0dGUgb3B0aW9uLCB1bmUgSUEgdGVudGVyYSBkZSBjb3JyaWdlciB2b3RyZSB0cmFqZWN0b2lyZSBzaSB2b3VzIMOqdGVzIHN1ciBsZSBwb2ludCBkZSB2b3VzIMOpY3Jhc2VyIHN1ciB1biBvYnN0YWNsZS4gUsOpZHVpdCBsYSBkaWZmaWN1bHTDqSBkdSBqZXUuXCIsXG4gICAgXCJhaUxldmVsXCI6IFwiTml2ZWF1IGRlIGwnSUEgOlwiLFxuICAgIFwiYWlMZXZlbFNlbGVjdFwiOiB7XG4gICAgICBcInJhbmRvbVwiOiBcIkF1IGhhc2FyZFwiLFxuICAgICAgXCJsb3dcIjogXCJGYWlibGVcIixcbiAgICAgIFwibm9ybWFsXCI6IFwiTm9ybWFsXCIsXG4gICAgICBcImhpZ2hcIjogXCLDiWxldsOpXCIsXG4gICAgICBcInVsdHJhXCI6IFwiVWx0cmFcIlxuICAgIH0sXG4gICAgXCJpbnZhbGlkYWlMZXZlbFwiOiBcIkNldHRlIHZhbGV1ciBlc3QgaW52YWxpZGVcIixcbiAgICBcImF1dG9SZXRyeVwiOiBcIkZhaXJlIHF1ZSBsJ0lBIHJlY29tbWVuY2UgYXV0byBzYSBwYXJ0aWUgYXByw6hzIHVuIEdhbWUgT3ZlclwiLFxuICAgIFwibnVtYmVySUFcIjogXCJOb21icmUgZCdJQSA6XCIsXG4gICAgXCJwbGFjZWhvbGRlck51bWJlcklBXCI6IFwiRW50cmV6IGxlIG5vbWJyZeKAplwiLFxuICAgIFwiaW52YWxpZElBTnVtYmVyXCI6IFwiQ2V0dGUgdmFsZXVyIGRvaXQgw6p0cmUgY29tcHJpc2UgZW50cmUgMiBldCAxMDBcIixcbiAgICBcImJhdHRsZUFnYWluc3RBSXNcIjogXCJKb3VlciBjb250cmUgbGVzIElBXCIsXG4gICAgXCJ2YWxpZGF0ZVwiOiBcIlZhbGlkZXJcIixcbiAgICBcInJlc2V0XCI6IFwiUsOpaW5pdGlhbGlzZXJcIixcbiAgICBcImJhY2tUb01lbnVcIjogXCJSZXRvdXIgYXUgbWVudVwiLFxuICAgIFwicHJpdmF0ZUdhbWVcIjogXCJHYXJkZXIgbGEgcGFydGllIHByaXbDqWVcIixcbiAgICBcImVuYWJsZUFJXCI6IFwiQWN0aXZlciBsZXMgSUFcIixcbiAgICBcInNlZWRHcmlkXCI6IFwiVmFsZXVyIGFsw6lhdG9pcmUgZ3JpbGxlIDpcIixcbiAgICBcInNlZWRHYW1lXCI6IFwiVmFsZXVyIGFsw6lhdG9pcmUgamV1IDpcIixcbiAgICBcImFkdmFuY2VkU2V0dGluZ3NcIjogXCJQYXJhbcOodHJlcyBhdmFuY8Opc+KAplwiLFxuICAgIFwiaW52YWxpZFZhbHVlXCI6IFwiQ2V0dGUgdmFsZXVyIGVzdCBpbnZhbGlkZS5cIlxuICB9LFxuICBcImdhbWVcIjoge1xuICAgIFwiYmFja1RvTWVudVwiOiBcIlJldG91ciBhdSBtZW51XCIsXG4gICAgXCJjdXJyZW50TW9kZVwiOiBcIk1vZGUgZGUgamV1IGFjdHVlbCA6XCIsXG4gICAgXCJjb25maXJtUXVpdFwiOiBcIsOKdGVzLXZvdXMgc8O7ciBkZSB2b3Vsb2lyIHJldG91cm5lciBhdSBtZW51ID9cIixcbiAgICBcImVxdWFsaXR5UGxheWVyVlNBSVwiOiBcIlZvdXMgYXZleiBmaW5pIGV4LWFlcXVvIGF2ZWMgbCdJQSAhXCIsXG4gICAgXCJ3aW5QbGF5ZXJWU0FJXCI6IFwiQnJhdm8sIHZvdXMgYXZleiBnYWduw6kgIVwiLFxuICAgIFwibG9zZVBsYXllclZTQUlcIjogXCJEb21tYWdlLCBsJ0lBIHZvdXMgYSBiYXR0dSBhdmVjIHVuIHNjb3JlIHN1cMOpcmlldXIgIVwiLFxuICAgIFwib25lV2lubmVyQUlWU0FJXCI6IFwiTCdJQSBuwrB7e251bVdpbm5lcn19IGEgZ2FnbsOpICFcIixcbiAgICBcImVxdWFsaXR5QUlWU0FJXCI6IFwiTGVzIGRldXggSUEgb250IGZpbmkgZXgtYWVxdW8gIVwiLFxuICAgIFwib25lV2lubmVyQmF0dGxlUm95YWxlXCI6IFwiTCdJQSBuwrB7e251bVdpbm5lcn19IGEgZ2FnbsOpIGF2ZWMgdW4gc2NvcmUgZGUge3tzY29yZX19ICFcIixcbiAgICBcIndpbm5lcnNCYXR0bGVSb3lhbGVcIjogXCJMZXMgSUFcIixcbiAgICBcIndpbm5lckFJQmF0dGxlUm95YWxlXCI6IFwiTCdJQVwiLFxuICAgIFwid2lubmVyc051bUJhdHRsZVJveWFsZVwiOiBcIm7CsHt7bnVtV2lubmVyfX1cIixcbiAgICBcImFuZFdpbm5lcnNCYXR0bGVSb3lhbGVcIjogXCJldFwiLFxuICAgIFwiYW5kUGxheWVyV2lubmVyc0JhdHRsZVJveWFsZVwiOiBcImFpbnNpIHF1ZSB2b3VzXCIsXG4gICAgXCJ3aW5TY29yZUJhdHRsZVJveWFsZVwiOiBcIm9udCBnYWduw6kgYXZlYyB1biBzY29yZSBkZSB7e3Njb3JlfX0gIVwiLFxuICAgIFwid2luUGxheWVyU2NvcmVCYXR0bGVSb3lhbGVcIjogXCJhdmV6IGdhZ27DqSBhdmVjIHVuIHNjb3JlIGRlIHt7c2NvcmV9fSAhXCIsXG4gICAgXCJwbGF5ZXJXaW5uZXJCYXR0bGVSb3lhbGVcIjogXCJWb3VzIGF2ZXogZ2FnbsOpIGF2ZWMgdW4gc2NvcmUgZGUge3tzY29yZX19ICFcIlxuICB9LFxuICBcImxldmVsc1wiOiB7XG4gICAgXCJkZWZhdWx0XCI6IFwiTml2ZWF1eCBwYXIgZMOpZmF1dFwiLFxuICAgIFwiZG93bmxvYWRlZFwiOiBcIk5pdmVhdXggdMOpbMOpY2hhcmfDqXNcIixcbiAgICBcInRpdGxlUGxheWVyXCI6IFwiTml2ZWF1eCAoam91ZXVyIHNvbG8pXCIsXG4gICAgXCJ0aXRsZUFJXCI6IFwiTml2ZWF1eCAoSUEgc29sbylcIixcbiAgICBcImVtcHR5TGlzdFwiOiBcIkF1Y3VuIG5pdmVhdSB0cm91dsOp4oCmXCIsXG4gICAgXCJkb3dubG9hZFwiOiBcIlTDqWzDqWNoYXJnZXIgZGVzIG5pdmVhdXhcIixcbiAgICBcImRvd25sb2FkTGlua1wiOiBcIkxlcyBuaXZlYXV4IHNlcm9udCB0w6lsw6ljaGFyZ8OpcyBkZXB1aXMge3t1cmx9fVwiLFxuICAgIFwiZWRpdERvd25sb2FkVVJMXCI6IFwiTW9kaWZpZXIgbCdVUkwgZGUgdMOpbMOpY2hhcmdlbWVudFwiLFxuICAgIFwiZWRpdERvd25sb2FkVVJMUHJvbXB0XCI6IFwiRW50cmV6IGwnVVJMIGRlIHTDqWzDqWNoYXJnZW1lbnQgZGVzIG5pdmVhdXguXFxuKiBWYXJpYWJsZXMgZGlzcG9uaWJsZXMgOlxcbntwbGF5ZXJ9IC0gdHlwZSBkZSBqb3VldXIgKGh1bWFpbiwgSUEpXFxue2FwcFZlcnNpb259IC0gdmVyc2lvbiBkZSBsJ2FwcGxpY2F0aW9uLlxcblxcbkxhIG1vZGlmaWNhdGlvbiBkZSBjZSBwYXJhbcOodHJlIHBldXQgZmFpcmUgcGxhbnRlciBsZSBqZXUgb3Ugdm91cyBleHBvc2VyIMOgIGRlcyBwcm9ibMOobWVzIGRlIHPDqWN1cml0w6kuIE5lIGxhIG1vZGlmaWV6IHF1ZSBzaSB2b3VzIHNhdmV6IGNlIHF1ZSB2b3VzIGZhaXRlcy4gQ2UgcGFyYW3DqHRyZSBuJ2VzdCBwYXMgcGVyc2lzdGFudCBldCBzZXJhIGVmZmFjw6kgc2kgdm91cyByZWNoYXJnZXogbCdhcHBsaWNhdGlvbi5cIixcbiAgICBcImRvd25sb2FkaW5nXCI6IFwiVMOpbMOpY2hhcmdlbWVudCBlbiBjb3VycywgdmV1aWxsZXogcGF0aWVudGVy4oCmIFNpIGxlIGJvdXRvbiByZXN0ZSBncmlzw6kgYXByw6hzIHBsdXMgZGUgMTAgc2Vjb25kZXMsIGNsaXF1ZXogc3VyIGxlIGJvdXRvbiBjaS1kZXNzb3VzIHBvdXIgbGUgZMOpYmxvcXVlciBldCByw6llc3NheWVyIGxlIHTDqWzDqWNoYXJnZW1lbnQgOlwiLFxuICAgIFwiYnV0dG9uRGVibG9ja1wiOiBcIkTDqWJsb3F1ZXIgbGUgdMOpbMOpY2hhcmdlbWVudFwiLFxuICAgIFwiZGlzYWJsZWRMZXZlbFwiOiBcIk5pdmVhdSBibG9xdcOpLiBUZXJtaW5leiBsZXMgbml2ZWF1eCBwcsOpY8OpZGVudHMgcG91ciBsZSBkw6libG9xdWVyLlwiLFxuICAgIFwibm90Q29tcGF0aWJsZVwiOiBcIkNlIG5pdmVhdSBuJ2VzdCBwYXMgY29tcGF0aWJsZSBhdmVjIGNldHRlIHZlcnNpb24gZHUgamV1LiBNZXR0ZXotbGUgw6Agam91ci5cIixcbiAgICBcImdvYWxBY2hpZXZlZFwiOiBcIk9iamVjdGlmIGF0dGVpbnQgISBWb3VzIHBvdXZleiBwYXNzZXIgYXUgcHJvY2hhaW4gbml2ZWF1LlwiLFxuICAgIFwiZ29hbE5vdEFjaGlldmVkXCI6IFwiT2JqZWN0aWYgcmF0w6kgISBFc3NheWV6IMOgIG5vdXZlYXUuXCIsXG4gICAgXCJsZXZlbFwiOiBcIk5pdmVhdVwiLFxuICAgIFwicmVhY2hTY29yZVwiOiBcIkF0dGVpZ25leiBhdSBtb2lucyBsZSBzY29yZSBkZSB7e3ZhbHVlfX0gcG91ciBwYXNzZXIgY2Ugbml2ZWF1ICFcIixcbiAgICBcInJlYWNoU2NvcmVUaW1lXCI6IFwiQXR0ZWlnbmV6IGxlIHNjb3JlIGRlIHt7dmFsdWV9fSBlbiBtb2lucyBkZSB7e2NvdW50fX0gc2Vjb25kZSAhXCIsXG4gICAgXCJyZWFjaFNjb3JlVGltZV9wbHVyYWxcIjogXCJBdHRlaWduZXogbGUgc2NvcmUgZGUge3t2YWx1ZX19IGVuIG1vaW5zIGRlIHt7Y291bnR9fSBzZWNvbmRlcyAhXCIsXG4gICAgXCJyZWFjaE1heFNjb3JlXCI6IFwiQXR0ZWlnbmV6IGxlIHNjb3JlIG1heGltYWwgcG91ciBjZXR0ZSBncmlsbGUgcG91ciBwYXNzZXIgY2Ugbml2ZWF1ICFcIixcbiAgICBcIm11bHRpQmVzdFNjb3JlXCI6IFwiVGVybWluZXogY2V0dGUgcGFydGllIGVuIG9idGVuYW50IHVuIG1laWxsZXVyIHNjb3JlIHF1ZSBsJ2FkdmVyc2FpcmUgcG91ciBwYXNzZXIgY2Ugbml2ZWF1ICFcIixcbiAgICBcIm11bHRpQmVzdFNjb3JlX3BsdXJhbFwiOiBcIlRlcm1pbmV6IGNldHRlIHBhcnRpZSBlbiBvYnRlbmFudCB1biBtZWlsbGV1ciBzY29yZSBxdWUgbGVzIGFkdmVyc2FpcmVzIHBvdXIgcGFzc2VyIGNlIG5pdmVhdSAhXCIsXG4gICAgXCJtdWx0aVJlYWNoU2NvcmVGaXJzdFwiOiBcIkF0dGVpZ25leiBsZSBzY29yZSBkZSB7e3ZhbHVlfX0gYXZhbnQgbCdhZHZlcnNhaXJlIHBvdXIgcGFzc2VyIGNlIG5pdmVhdSAhXCIsXG4gICAgXCJtdWx0aVJlYWNoU2NvcmVGaXJzdF9wbHVyYWxcIjogXCJBdHRlaWduZXogbGUgc2NvcmUgZGUge3t2YWx1ZX19IGF2YW50IGxlcyBhZHZlcnNhaXJlcyBwb3VyIHBhc3NlciBjZSBuaXZlYXUgIVwiLFxuICAgIFwibWF6ZU1vZGVcIjogXCJNb2RlIGxhYnlyaW50aGUgISBUcm91dmV6IGxlIGNoZW1pbiB2ZXJzIGxhIHBvbW1lIHBvdXIgcGFzc2VyIGNlIG5pdmVhdS5cXG5MZSBTbmFrZSBuJ2F2YW5jZSBwYXMgYXV0b21hdGlxdWVtZW50LlwiLFxuICAgIFwiYmVzdFNjb3JlXCI6IFwiTWVpbGxldXIgc2NvcmUgOiB7e2NvdW50fX1cIixcbiAgICBcImJlc3RUaW1lXCI6IFwiTWVpbGxldXIgdGVtcHMgOiB7e2NvdW50fX0gc2Vjb25kZVwiLFxuICAgIFwiYmVzdFRpbWVfcGx1cmFsXCI6IFwiTWVpbGxldXIgdGVtcHMgOiB7e2NvdW50fX0gc2Vjb25kZXNcIixcbiAgICBcImJlc3RTY29yZVNob3J0XCI6IFwiw5cge3tjb3VudH19XCIsXG4gICAgXCJiZXN0VGltZVNob3J0XCI6IFwie3tjb3VudH19IHNlY29uZGVcIixcbiAgICBcImJlc3RUaW1lU2hvcnRfcGx1cmFsXCI6IFwie3tjb3VudH19IHNlY29uZGVzXCIsXG4gICAgXCJ0aW1lclJlbWFpbmluZ1wiOiBcIklsIHJlc3RlIHt7Y291bnR9fSBzZWNvbmRlXCIsXG4gICAgXCJ0aW1lclJlbWFpbmluZ19wbHVyYWxcIjogXCJJbCByZXN0ZSB7e2NvdW50fX0gc2Vjb25kZXNcIixcbiAgICBcImxvY2Fsc3RvcmFnZURpc2FibGVkXCI6IFwiTGVzIGNvb2tpZXMgc29udCBkw6lzYWN0aXbDqXMgc3VyIHZvdHJlIG5hdmlnYXRldXIuIFZvdXMgcGVyZHJleiB2b3RyZSBwcm9ncmVzc2lvbiBhdSBwcm9jaGFpbiByZWNoYXJnZW1lbnQgZGUgbGEgcGFnZS4gQWN0aXZlei1sZXMgcHVpcyByZWNoYXJnZXogbGEgcGFnZSBwb3VyIMOpdml0ZXIgY2VsYS5cIixcbiAgICBcImRpZmZpY3VsdHlcIjogXCJEaWZmaWN1bHTDqSA6XCIsXG4gICAgXCJsZXZlbEJvbnVzU2hvcFwiOiBcIkJvdXRpcXVlIGRlcyBib251c1wiLFxuICAgIFwiZGlzcGxheUJvbnVzU2hvcFwiOiBcIkFmZmljaGVyIGxhIGJvdXRpcXVl4oCmXCIsXG4gICAgXCJib251c05vdEFwcGxpY2FibGVcIjogXCJDZSBib251cyBuJ2VzdCBwYXMgYXBwbGljYWJsZS5cIixcbiAgICBcIm5vdEVub3VnaEZydWl0c1wiOiBcIlZvdXMgbidhdmV6IHBhcyBhc3NleiBkZSBjcsOpZGl0IHBvdXIgYWNoZXRlciBjZSBib251cy5cIixcbiAgICBcImJvbnVzQWxyZWFkeUVxdWlwcGVkXCI6IFwiVm91cyDDqnRlcyBkw6lqw6Agw6lxdWlww6kgZCd1biBib251cy4gVXRpbGlzZXotbGUgZW4gam91YW50IMOgIHVuIG5pdmVhdSBvdSB2ZW5kZXotbGUuXCIsXG4gICAgXCJib251c0VxdWlwcGVkXCI6IFwiQm9udXMgw6lxdWlww6kgOlwiLFxuICAgIFwibm9uZVwiOiBcImF1Y3VuXCIsXG4gICAgXCJzZWxsQm9udXNcIjogXCJWZW5kcmUgbGUgYm9udXNcIixcbiAgICBcImJvbnVzXCI6IHtcbiAgICAgIFwicGFzc0xldmVsXCI6IFwiUGFzc2VyIHVuIG5pdmVhdVwiLFxuICAgICAgXCJwYXNzTGV2ZWxJbmZvXCI6IFwiQ2UgYm9udXMgdm91cyBwZXJtZXQgZGUgcGFzc2VyIHVuIG5pdmVhdS4gQWNoZXRlei1sZSwgcHVpcyBzw6lsZWN0aW9ubmV6IHVuIG5pdmVhdSA6IGNlbHVpLWNpIHNlcmEgYXV0b21hdGlxdWVtZW50IHBhc3PDqSwgY29tbWUgc2kgdm91cyBsJ2F2aWV6IHLDqXVzc2kuXCIsXG4gICAgICBcImFpQXNzaXN0YW50XCI6IFwiTW9kZSBhc3Npc3RhbnQgSUFcIixcbiAgICAgIFwiYWlBc3Npc3RhbnRJbmZvXCI6IFwiQ2UgYm9udXMgcGVybWV0IGQnYWN0aXZlciBsZSBtb2RlIGFzc2lzdGFudCBJQS4gQWNoZXRlei1sZSwgcHVpcyBzw6lsZWN0aW9ubmV6IHVuIG5pdmVhdSA6IGxlIG1vZGUgYXNzaXN0YW50IElBIHNlcmEgYWN0aXbDqS4gTmUgZm9uY3Rpb25uZSBwYXMgcG91ciBjZXJ0YWlucyBuaXZlYXV4LCBjb21tZSBsZXMgbGFieXJpbnRoZXMuXCIsXG4gICAgICBcInVubG9ja0FsbExldmVsc1wiOiBcIkTDqWJsb3F1ZXIgdG91cyBsZXMgbml2ZWF1eFwiLFxuICAgICAgXCJ1bmxvY2tBbGxMZXZlbHNJbmZvXCI6IFwiQ2UgYm9udXMgdm91cyBwZXJtZXQgZGUgZMOpYmxvcXVlciB0b3VzIGxlcyBuaXZlYXV4LCBxdSdpbHMgc29pZW50IHByw6lzZW50cyBvdSBmdXR1cnMuXCIsXG4gICAgICBcImluY3JlYXNlR29sZEZydWl0c1wiOiBcIkF1Z21lbnRlciBsYSBmcsOpcXVlbmNlIGQnYXBwYXJpdGlvbiBkZXMgcG9tbWVzIGRvcsOpZXNcIixcbiAgICAgIFwiaW5jcmVhc2VHb2xkRnJ1aXRzSW5mb1wiOiBcIkNlIGJvbnVzIHZvdXMgcGVybWV0IGQnYXVnbWVudGVyIGxhIGZyw6lxdWVuY2UgZCdhcHBhcml0aW9uIGRlcyBwb21tZXMgZG9yw6llcyA6IGxhIGNoYW5jZSBkJ2FwcGFyaXRpb24gcGFzc2UgZGUgMSBjaGFuY2Ugc3VyIDEwMCDDoCAxIGNoYW5jZSBzdXIgMy5cIixcbiAgICAgIFwiZGVzdHJveUFpc1wiOiBcIkTDqXRydWlyZSBsZXMgSUFzIGFkdmVyc2VzXCIsXG4gICAgICBcImRlc3Ryb3lBaXNJbmZvXCI6IFwiQ2UgYm9udXMgdm91cyBwZXJtZXQgZGUgZMOpdHJ1aXJlIGxlcyBJQXMgYWR2ZXJzZXMsIGNlIHF1aSByZW5kIGxlcyBuaXZlYXV4IGNvbnRlbmFudCBkZXMgSUFzIHBsdXMgZmFjaWxlcy5cIixcbiAgICAgIFwidW5rbm93blwiOiBcIkJvbnVzIGluY29ubnVcIixcbiAgICAgIFwidW5rbm93bkluZm9cIjogXCJDZSBib251cyBlc3QgaW5jb25udS4gUGV1dC3DqnRyZSBhLXQtaWwgw6l0w6kgYWNoZXTDqSBzdXIgdW5lIHZlcnNpb24gcGx1cyByw6ljZW50ZSBkdSBqZXUuIFZvdWxlei12b3VzIGxlIHZlbmRyZSBxdWFuZCBtw6ptZSwgc2FjaGFudCBxdWUgc29uIHByaXggZXN0IGluY29ubnUgPyBBdXRyZW1lbnQgZGl0LCB2b3VzIG5lIHNlcmV6IHBhcyByZW1ib3Vyc8OpLlwiLFxuICAgICAgXCJub1RpbWVMaW1pdFwiOiBcIlBhcyBkZSBsaW1pdGUgZGUgdGVtcHNcIixcbiAgICAgIFwibm9UaW1lTGltaXRJbmZvXCI6IFwiRMOpc2FjdGl2ZSBsYSBsaW1pdGUgZGUgdGVtcHMgcG91ciBsZXMgbml2ZWF1eCBxdWkgZW4gb250IHVuZS5cIlxuICAgIH1cbiAgfSxcbiAgXCJzZXJ2ZXJzXCI6IHtcbiAgICBcInNlcnZlckxpc3RcIjogXCJMaXN0ZSBkZXMgc2VydmV1cnNcIixcbiAgICBcInNlbGVjdEluZm9cIjogXCJTw6lsZWN0aW9ubmV6IHVuIHNlcnZldXIgOlwiLFxuICAgIFwibm9TZXJ2ZXJGb3VuZFwiOiBcIkF1Y3VuIHNlcnZldXIgdHJvdXbDqeKAplwiLFxuICAgIFwibG9hZGluZ0xpc3RcIjogXCJDaGFyZ2VtZW50IGRlIGxhIGxpc3RlIGRlcyBzZXJ2ZXVyc+KApiBWZXVpbGxleiBwYXRpZW50ZXIuXCIsXG4gICAgXCJub1Jvb21vdW5kXCI6IFwiQXVjdW5lIHNhbGxlIHRyb3V2w6ll4oCmXCIsXG4gICAgXCJpbmZvc1wiOiBcInt7d2lkdGh9fcOXe3toZWlnaHR9fSDigJMgVml0ZXNzZSA6IHt7c3BlZWR9fVwiLFxuICAgIFwiaW5mb3NCb3JkZXJXYWxsc1wiOiBcIkdyaWxsZSBlbnRvdXLDqWUgZGUgbXVyc1wiLFxuICAgIFwiaW5mb3NHZW5lcmF0ZVdhbGxzXCI6IFwiTXVycyBnw6luw6lyw6lzIGFsw6lhdG9pcmVtZW50XCIsXG4gICAgXCJpbmZvc1BsYXllcnNcIjogXCJ7e2NvdW50fX0gam91ZXVyL3t7bWF4fX1cIixcbiAgICBcImluZm9zUGxheWVyc19wbHVyYWxcIjogXCJ7e2NvdW50fX0gam91ZXVycy97e21heH19XCIsXG4gICAgXCJpbmZvc1NwZWN0YXRvcnNcIjogXCJ7e2NvdW50fX0gc3BlY3RhdGV1clwiLFxuICAgIFwiaW5mb3NTcGVjdGF0b3JzX3BsdXJhbFwiOiBcInt7Y291bnR9fSBzcGVjdGF0ZXVyc1wiLFxuICAgIFwiYmFja1RvTGlzdFwiOiBcIlJldG91ciDDoCBsYSBsaXN0ZSBkZXMgc2VydmV1cnNcIixcbiAgICBcInJvb21zTGlzdFRpdGxlXCI6IFwiTGlzdGUgZGVzIHNhbGxlc1wiLFxuICAgIFwicm9vbXNMaXN0SW5mb3NcIjogXCJTw6lsZWN0aW9ubmV6IHVuZSBzYWxsZSA6XCIsXG4gICAgXCJsb2FkaW5nUm9vbXNcIjogXCJDaGFyZ2VtZW50IGRlIGxhIGxpc3RlIGRlcyBzYWxsZXPigKYgVmV1aWxsZXogcGF0aWVudGVyLlwiLFxuICAgIFwiY3JlYXRlUm9vbVwiOiBcIkNyw6llciB1bmUgc2FsbGVcIixcbiAgICBcImNvbm5lY3Rpb25FcnJvclwiOiBcIlVuZSBlcnJldXIgZXN0IHN1cnZlbnVlIGxvcnMgZGUgbGEgY29ubmV4aW9uIGF1IHNlcnZldXIuIFZldWlsbGV6IHLDqWVzc2F5ZXIuXCIsXG4gICAgXCJlcnJvckxvYWRpbmdSb29tc1wiOiBcIlVuZSBlcnJldXIgZXN0IHN1cnZlbnVlIGxvcnMgZHUgY2hhcmdlbWVudCBkZSBsYSBsaXN0ZSBkZXMgc2FsbGVzLiBWZXVpbGxleiByw6llc3NheWVyLlwiLFxuICAgIFwiY3JlYXRpbmdSb29tXCI6IFwiQ3LDqWF0aW9uIGRlIGxhIHNhbGxl4oCmIFZldWlsbGV6IHBhdGllbnRlci5cIixcbiAgICBcInJvb21cIjogXCJTYWxsZSBuwrB7e251bWJlcn19XCIsXG4gICAgXCJlcnJvclJvb21DcmVhdGlvblwiOiBcIlVuZSBlcnJldXIgZXN0IHN1cnZlbnVlIGxvcnMgZGUgbGEgY3LDqWF0aW9uIGRlIGxhIHNhbGxlLiBWZXVpbGxleiByw6llc3NheWVyLlwiLFxuICAgIFwiam9pblByaXZhdGVSb29tXCI6IFwiUmVqb2luZHJlIHVuZSBzYWxsZSBwcml2w6llXCIsXG4gICAgXCJlbnRlckNvZGVcIjogXCJFbnRyZXogbGUgY29kZSBkZSBsYSBzYWxsZSA6XCIsXG4gICAgXCJjdXN0b21TZXJ2ZXJcIjogXCJTZXJ2ZXVyIHBlcnNvbm5hbGlzw6nigKZcIixcbiAgICBcImVudGVyQ3VzdG9tU2VydmVyXCI6IFwiRW50cmV6IGwnYWRyZXNzZSBkdSBzZXJ2ZXVyIDpcIixcbiAgICBcImNvbm5lY3RpbmdUb1NlcnZlclwiOiBcIkNvbm5leGlvbiBhdSBzZXJ2ZXVy4oCmIFZldWlsbGV6IHBhdGllbnRlci5cIixcbiAgICBcImNhbmNlbFwiOiBcIkFubnVsZXJcIixcbiAgICBcInJlZnJlc2hSb29tc1wiOiBcIkFjdHVhbGlzZXIgbGEgbGlzdGVcIixcbiAgICBcImpvaW5Sb29tXCI6IFwiQ29ubmV4aW9uIMOgIGxhIHNhbGxl4oCmIFZldWlsbGV6IHBhdGllbnRlci5cIixcbiAgICBcImVycm9yUm9vbUpvaW5cIjogXCJVbmUgZXJyZXVyIGVzdCBzdXJ2ZW51ZSBsb3JzIGRlIGxhIGNvbm5leGlvbiDDoCBsYSBzYWxsZS4gVmV1aWxsZXogcsOpZXNzYXllci5cIixcbiAgICBcImVycm9yUmVhc29uXCI6IFwiUmFpc29uIGRlIGwnZXJyZXVyIDpcIixcbiAgICBcImVycm9yUmVhc29uX3Vua25vd25cIjogXCJJbmNvbm51ZVwiLFxuICAgIFwiZXJyb3JSb29tSm9pblJlYXNvbl9yb29tTm90Rm91bmRcIjogXCJMYSBzYWxsZSBuJ2EgcGFzIMOpdMOpIHRyb3V2w6llLlwiLFxuICAgIFwiZXJyb3JSb29tSm9pblJlYXNvbl9yb29tQWxyZWFkeUpvaW5lZFwiOiBcIlZvdXMgYXZleiBkw6lqw6AgcmVqb2ludCBjZXR0ZSBzYWxsZS5cIixcbiAgICBcImVycm9yUm9vbUNyZWF0aW9uUmVhc29uX21heFJvb21MaW1pdFJlYWNoZWRcIjogXCJMZSBub21icmUgbWF4aW1hbCBkZSBzYWxsZXMgcXVlIGxlIHNlcnZldXIgcGV1dCBnw6lyZXIgYSDDqXTDqSBhdHRlaW50LlwiLFxuICAgIFwiZXJyb3JSb29tQ3JlYXRpb25SZWFzb25faW52YWxpZFNldHRpbmdzXCI6IFwiUGFyYW3DqHRyZXMgaW52YWxpZGVzLlwiLFxuICAgIFwiZXJyb3JSb29tQ3JlYXRpb25SZWFzb25fYWxyZWFkeUNyZWF0ZWRSb29tXCI6IFwiVm91cyBhdmV6IGTDqWrDoCBjcsOpw6kgdW5lIHNhbGxlIG91IHZvdXMgYXZleiBkw6lqw6AgcmVqb2ludCB1bmUgc2FsbGUuXCIsXG4gICAgXCJlcnJvclNlcnZlclZlcnNpb25cIjogXCJMYSB2ZXJzaW9uIGRlIGNlIHNlcnZldXIgKHt7c2VydmVyX3ZlcnNpb259fSkgZXN0IGRpZmbDqXJlbnRlIGRlIHZvdHJlIHZlcnNpb24gZHUgamV1ICh7e2NsaWVudF92ZXJzaW9ufX0pLiBWb3VzIHJpc3F1ZXogZGUgcmVuY29udHJlciBkZXMgcHJvYmzDqG1lcy5cIixcbiAgICBcImFkZHJlc3NMYWJlbFwiOiBcIkFkcmVzc2UgZHUgc2VydmV1ciA6XCIsXG4gICAgXCJyb29tQ29kZVwiOiBcIkNvZGUgZGUgbGEgc2FsbGUgOlwiLFxuICAgIFwidW50aXRsZWRcIjogXCJTYW5zIHRpdHJlXCIsXG4gICAgXCJzZWFyY2hpbmdQbGF5ZXJzXCI6IFwiKHJlY2hlcmNoZSBkZSBqb3VldXJzKVwiLFxuICAgIFwic3RhcnRlZFwiOiBcIihwYXJ0aWUgZMOpbWFycsOpZSlcIixcbiAgICBcInN0YXJ0aW5nXCI6IFwiKGTDqW1hcnJhZ2UgZW4gY291cnMpXCIsXG4gICAgXCJhdXRoZW50aWNhdGlvblNlcnZlclwiOiBcIkF1dGhlbnRpZmljYXRpb24gYXUgc2VydmV1clwiLFxuICAgIFwibGlua0F1dGhlbnRpY2F0aW9uU2VydmVyXCI6IFwiU2kgbGUgZm9ybXVsYWlyZSBuZSBzJ2FmZmljaGUgcGFzLCBjbGlxdWV6IGljaVwiLFxuICAgIFwiZGlzY29ubmVjdGVkRXJyb3JcIjogXCJWb3VzIGF2ZXogw6l0w6kgZMOpY29ubmVjdMOpIGR1IHNlcnZldXIuIFZldWlsbGV6IHLDqWVzc2F5ZXIuXCJcbiAgfVxufSwgdHJ1ZSwgZmFsc2UpO1xuXG4vLyBFbmdsaXNoXG5pMThuZXh0LmFkZFJlc291cmNlQnVuZGxlKFwiZW5cIiwgXCJ0cmFuc2xhdGlvblwiLCB7XG4gIFwiZGVidWdNb2RlRW5hYmxlZFwiOiBcIkRlYnVnIG1vZGUgZW5hYmxlZFwiLFxuICBcImxhbmdcIjoge1xuICAgIFwiZnJcIjogXCJGcmFuw6dhaXNcIixcbiAgICBcImVuXCI6IFwiRW5nbGlzaFwiXG4gIH0sXG4gIFwidXBkYXRlXCI6IHtcbiAgICBcInVwZGF0ZUF2YWlsYWJsZVwiOiBcIkFuIHVwZGF0ZSBvZiB0aGUgZ2FtZSBpcyBhdmFpbGFibGVcIixcbiAgICBcInZlcnNpb25cIjogXCJWZXJzaW9uXCIsXG4gICAgXCJvZlwiOiBcIm9mXCIsXG4gICAgXCJjdXJyZW50XCI6IFwiWW91IGN1cnJlbnRseSBoYXZlIHRoZSB2ZXJzaW9uXCIsXG4gICAgXCJ2ZXJzaW9uRGF0ZVwiOiBcInt7ZGF0ZSwgTU0vREQvWVlZWX19XCIsXG4gICAgXCJkb3dubG9hZFwiOiBcIkRvd25sb2FkIHRoZSB1cGRhdGVcIixcbiAgICBcImdldFVSTFwiOiBcIkdldCB0aGUgVVJMIHRvIHRoZSBkb3dubG9hZFwiLFxuICAgIFwiZ2V0Q2hhbmdlc1wiOiBcIkdldCB0aGUgbGlzdCBvZiBjaGFuZ2VzXCIsXG4gICAgXCJVUkxUb0Rvd25sb2FkXCI6IFwiRG93bmxvYWQgVVJMOlwiLFxuICAgIFwibm9DaGFuZ2VzXCI6IFwiTm8gY2hhbmdlIHByb3ZpZGVkLlwiLFxuICAgIFwiY2hhbmdlc1wiOiBcIkNoYW5nZXMgaW4gdGhlIG5ldyB2ZXJzaW9uOlwiXG4gIH0sXG4gIFwibWVudVwiOiB7XG4gICAgXCJzZWxlY3RHYW1lXCI6IFwiU2VsZWN0IGEgZ2FtZSBtb2RlOlwiLFxuICAgIFwic29sb0FpXCI6IFwiU2luZ2xlIEFJXCIsXG4gICAgXCJzb2xvUGxheWVyXCI6IFwiU2luZ2xlIHBsYXllclwiLFxuICAgIFwicGxheWVyVnNBaVwiOiBcIlBsYXllciBWUyBBSVwiLFxuICAgIFwiYWlWc0FpXCI6IFwiQUkgVlMgQUlcIixcbiAgICBcImJhdHRsZVJveWFsZVwiOiBcIkJhdHRsZSBSb3lhbGVcIixcbiAgICBcIm9ubGluZUJhdHRsZVJveWFsZVwiOiBcIk9ubGluZSBCYXR0bGUgUm95YWxlXCIsXG4gICAgXCJsZXZlbHNTb2xvUGxheWVyXCI6IFwiTGV2ZWxzIChzaW5nbGUgcGxheWVyKVwiLFxuICAgIFwibGV2ZWxzU29sb0FJXCI6IFwiTGV2ZWxzIChzaW5nbGUgQUkpXCIsXG4gICAgXCJ2ZXJzaW9uXCI6IFwiVmVyc2lvblwiLFxuICAgIFwidmVyc2lvbkRhdGVcIjogXCJ7e2RhdGUsIE1NL0REL1lZWVl9fVwiLFxuICAgIFwiYnlcIjogXCJCeVwiLFxuICAgIFwiaW5mb3NcIjogXCJNb3JlIGluZm9ybWF0aW9uc1wiLFxuICAgIFwicmVhZG1lXCI6IFwiUmVhZG1lIGZpbGVcIixcbiAgICBcInNvdXJjZVwiOiBcIkRvd25sb2FkIHRoZSBzb3VyY2VcIixcbiAgICBcImxhbmd1YWdlXCI6IFwiTGFuZ3VhZ2U6XCIsXG4gICAgXCJvdGhlcnNTZXR0aW5nc1wiOiBcIlNldHRpbmdzXCIsXG4gICAgXCJlbmFibGVBbmltYXRpb25zXCI6IFwiRW5hYmxlIHRoZSBhbmltYXRpb25zXCIsXG4gICAgXCJzaG93RGVidWdJbmZvXCI6IFwiRW5hYmxlIHRoZSBkZWJ1ZyBtb2RlXCIsXG4gICAgXCJyZW5kZXJCbHVyXCI6IFwiRW5hYmxlIHRoZSBibHVyIHJlbmRlcmluZ1wiLFxuICAgIFwiZW5hYmxlTXVsdGl0aHJlYWRpbmdcIjogXCJFbmFibGUgdGhlIG11bHRpdGhyZWFkaW5nXCIsXG4gICAgXCJvbmxpbmVFbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnNcIjogXCJFbmFibGUgdGhlIGNsaWVudC1zaWRlIHByZWRpY3Rpb25zIGZvciBvbmxpbmUgZ2FtZVwiLFxuICAgIFwic2V0dGluZ05vdEF2YWlsYWJsZVwiOiBcIlRoaXMgc2V0dGluZyBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUuXCIsXG4gICAgXCJtdWx0aXRocmVhZGluZ0luZm9zXCI6IFwiSWYgZW5hYmxlZCwgdGhlIGdhbWUgZW5naW5lIGFuZCB0aGUgZ3JhcGhpY3MgZW5naW5lIHdpbGwgcnVuIGluZGVwZW5kZW50bHkgd2hpY2ggd2lsbCBpbXByb3ZlIGdhbWUgcGVyZm9ybWFuY2UuXCIsXG4gICAgXCJvbmxpbmVFbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnNJbmZvc1wiOiBcIklmIGVuYWJsZWQsIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGUgb25saW5lIGdhbWUgbW9kZSB3aWxsIGJlIG1vcmUgc3RhYmxlLiBFeHBlcmltZW50YWwgZnVuY3Rpb25hbGl0eS5cIixcbiAgICBcInRleHRPdXRwdXRcIjogXCJFbmFibGUgdGhlIHRleHQgbW9kZSByZW5kZXJpbmdcIixcbiAgICBcImdyYXBoaWNTa2luXCI6IFwiR3JhcGhpYyBza2luOlwiLFxuICAgIFwiZmxhdFwiOiBcIkZsYXQgKGJ5IGRlZmF1bHQpXCIsXG4gICAgXCJ0cm9waWNhbFwiOiBcIlRyb3BpY2FsXCIsXG4gICAgXCJwaXhlbFwiOiBcIlBpeGVsXCIsXG4gICAgXCJtYXhGUFNcIjogXCJNYXhpbXVtIEZQUzpcIlxuICB9LFxuICBcInNldHRpbmdzXCI6IHtcbiAgICBcInRpdGxlXCI6IFwiR2FtZSBzZXR0aW5nczpcIixcbiAgICBcInBvc3NpYmxlRmFpbEluaXRHYW1lXCI6IFwiSXQncyBwb3NzaWJsZSB0aGF0IHRoZSBpbml0aWFsaXphdGlvbiBvZiB0aGUgZ2FtZSBmYWlscyB3aXRoIHlvdXIgc2V0dGluZ3MgYmVjYXVzZSB0aGVyZSB3aWxsIG5vdCBiZSBlbm91Z2ggc3BhY2UgdG8gcGxhY2UgYWxsIHRoZSBTbmFrZS4gSW4gdGhpcyBjYXNlLCBhIG1lc3NhZ2UgXFxcIkFuIGVycm9yIGhhcyBvY2N1cnJlZFxcXCIgbWF5IGJlIGRpc3BsYXllZC4gVHJ5IHdpdGggb3RoZXIgc2V0dGluZ3MuXCIsXG4gICAgXCJncmlkU2l6ZVwiOiBcIkdyaWQgc2l6ZTpcIixcbiAgICBcInBsYWNlaG9sZGVySGVpZ2h0XCI6IFwiSGVpZ2h0XCIsXG4gICAgXCJwbGFjZWhvbGRlcldpZHRoXCI6IFwiV2lkdGhcIixcbiAgICBcImludmFsaWRTaXplXCI6IFwiVGhpcyB2YWx1ZSBtdXN0IGJlIGJldHdlZW4ge3ttaW59fSBhbmQge3ttYXh9fVwiLFxuICAgIFwib3B0aW9uc1wiOiBcIk90aGVycyBvcHRpb25zOlwiLFxuICAgIFwiYm9yZGVyV2FsbHNcIjogXCJTdXJyb3VuZCB0aGUgZ3JpZCB3aXRoIHdhbGxzXCIsXG4gICAgXCJnZW5lcmF0ZVdhbGxzXCI6IFwiR2VuZXJhdGUgd2FsbHMgYXQgcmFuZG9tIHBvc2l0aW9uc1wiLFxuICAgIFwibWF6ZUdyaWRcIjogXCJHZW5lcmF0ZSBhIG1hemVcIixcbiAgICBcInNhbWVHcmlkXCI6IFwiR2FtZSBvbiB0aGUgc2FtZSBncmlkXCIsXG4gICAgXCJzcGVlZFwiOiBcIlNwZWVkOlwiLFxuICAgIFwic3BlZWRTZWxlY3RcIjoge1xuICAgICAgXCIxXCI6IFwiMSDigJMgRmFzdGVzdFwiLFxuICAgICAgXCIzXCI6IFwiMyDigJMgRmFzdFwiLFxuICAgICAgXCI1XCI6IFwiNSDigJMgTWVkaXVtXCIsXG4gICAgICBcIjhcIjogXCI4IOKAkyBOb3JtYWxcIixcbiAgICAgIFwiMTBcIjogXCIxMCDigJMgUXVpdGUgc2xvd1wiLFxuICAgICAgXCIxNVwiOiBcIjE1IOKAkyBTbG93XCIsXG4gICAgICBcIjIwXCI6IFwiMjAg4oCTIFZlcnkgc2xvd1wiLFxuICAgICAgXCIyNVwiOiBcIjI1IOKAkyBFeHRyZW1lbHkgc2xvd1wiLFxuICAgICAgXCJjdXN0b21cIjogXCJDdXN0b20gc3BlZWTigKZcIlxuICAgIH0sXG4gICAgXCJpbnZhbGlkU3BlZWRcIjogXCJUaGlzIHZhbHVlIG11c3QgYmUgYmV0d2VlbiB7e21pbn19IGFuZCB7e21heH19XCIsXG4gICAgXCJwcm9ncmVzc2l2ZVNwZWVkXCI6IFwiSW5jcmVhc2UgdGhlIHNwZWVkIHByb2dyZXNzaXZlbHlcIixcbiAgICBcImN1c3RvbVNwZWVkXCI6IFwiQ3VzdG9tIHNwZWVkOlwiLFxuICAgIFwicGxhY2Vob2xkZXJDdXN0b21TcGVlZFwiOiBcIkVudGVyIHRoZSBzcGVlZOKAplwiLFxuICAgIFwiY3VzdG9tU3BlZWRIZWxwXCI6IFwiVGhlIGhpZ2hlciB0aGUgbnVtYmVyLCB0aGUgc2xvd2VyIHRoZSBnYW1lIHNwZWVkLCBhbmQgdmljZSB2ZXJzYVwiLFxuICAgIFwicGxheWVyU2V0dGluZ3NcIjogXCJQbGF5ZXIgb3B0aW9uczpcIixcbiAgICBcImFpQXNzaXN0YW50XCI6IFwiRW5hYmxlIHRoZSBBSSBhc3Npc3RhbnRcIixcbiAgICBcImFpQXNzaXN0YW50SW5mb3NcIjogXCJCeSBlbmFibGluZyB0aGlzIG9wdGlvbiwgYW4gQUkg4oCL4oCLd2lsbCB0cnkgdG8gY29ycmVjdCB5b3VyIHRyYWplY3RvcnkgaWYgeW91IGFyZSBhYm91dCB0byBjcmFzaCBpbnRvIGFuIG9ic3RhY2xlLiBSZWR1Y2VzIHRoZSBkaWZmaWN1bHR5IG9mIHRoZSBnYW1lLlwiLFxuICAgIFwiYWlMZXZlbFwiOiBcIkFJIGxldmVsOlwiLFxuICAgIFwiYWlMZXZlbFNlbGVjdFwiOiB7XG4gICAgICBcInJhbmRvbVwiOiBcIlJhbmRvbVwiLFxuICAgICAgXCJsb3dcIjogXCJMb3dcIixcbiAgICAgIFwibm9ybWFsXCI6IFwiTm9ybWFsXCIsXG4gICAgICBcImhpZ2hcIjogXCJIaWdoXCIsXG4gICAgICBcInVsdHJhXCI6IFwiVWx0cmFcIlxuICAgIH0sXG4gICAgXCJpbnZhbGlkYWlMZXZlbFwiOiBcIlRoaXMgdmFsdWUgaXMgaW52YWxpZFwiLFxuICAgIFwiYXV0b1JldHJ5XCI6IFwiTWFrZSB0aGUgQUkgcmVzdGFydHMgaXRzIGdhbWUgYWZ0ZXIgYSBHYW1lIE92ZXJcIixcbiAgICBcIm51bWJlcklBXCI6IFwiTnVtYmVyIG9mIEFJOlwiLFxuICAgIFwicGxhY2Vob2xkZXJOdW1iZXJJQVwiOiBcIkVudGVyIHRoZSBudW1iZXLigKZcIixcbiAgICBcImludmFsaWRJQU51bWJlclwiOiBcIlRoaXMgdmFsdWUgbXVzdCBiZSBiZXR3ZWVuIDIgYW5kIDEwMFwiLFxuICAgIFwiYmF0dGxlQWdhaW5zdEFJc1wiOiBcIlBsYXkgYWdhaW5zdCBBSXNcIixcbiAgICBcInZhbGlkYXRlXCI6IFwiVmFsaWRhdGVcIixcbiAgICBcInJlc2V0XCI6IFwiUmVzZXRcIixcbiAgICBcImJhY2tUb01lbnVcIjogXCJCYWNrIHRvIHRoZSBtZW51XCIsXG4gICAgXCJwcml2YXRlR2FtZVwiOiBcIktlZXAgdGhlIGdhbWUgcHJpdmF0ZVwiLFxuICAgIFwiZW5hYmxlQUlcIjogXCJFbmFibGUgdGhlIEFJc1wiLFxuICAgIFwic2VlZEdyaWRcIjogXCJHcmlkIHJhbmRvbSB2YWx1ZTpcIixcbiAgICBcInNlZWRHYW1lXCI6IFwiR2FtZSByYW5kb20gdmFsdWU6XCIsXG4gICAgXCJhZHZhbmNlZFNldHRpbmdzXCI6IFwiQWR2YW5jZWQgc2V0dGluZ3PigKZcIixcbiAgICBcImludmFsaWRWYWx1ZVwiOiBcIlRoaXMgdmFsdWUgaXMgaW52YWxpZC5cIlxuICB9LFxuICBcImdhbWVcIjoge1xuICAgIFwiYmFja1RvTWVudVwiOiBcIkJhY2sgdG8gdGhlIG1lbnVcIixcbiAgICBcImN1cnJlbnRNb2RlXCI6IFwiQ3VycmVudCBnYW1lIG1vZGU6XCIsXG4gICAgXCJjb25maXJtUXVpdFwiOiBcIkFyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIGdvIGJhY2sgdG8gdGhlIG1lbnU/XCIsXG4gICAgXCJlcXVhbGl0eVBsYXllclZTQUlcIjogXCJZb3UgZmluaXNoZWQgdGllZCB3aXRoIEFJIVwiLFxuICAgIFwid2luUGxheWVyVlNBSVwiOiBcIkNvbmdyYXR1bGF0aW9ucywgeW91IHdvbiFcIixcbiAgICBcImxvc2VQbGF5ZXJWU0FJXCI6IFwiVG9vIGJhZCwgdGhlIEFJIOKAi+KAi2JlYXQgeW91IHdpdGggYSBoaWdoZXIgc2NvcmUhXCIsXG4gICAgXCJvbmVXaW5uZXJBSVZTQUlcIjogXCJUaGUgQUkgbsKwe3tudW1XaW5uZXJ9fSB3b24hXCIsXG4gICAgXCJlcXVhbGl0eUFJVlNBSVwiOiBcIlRoZSB0d28gQUlzIGZpbmlzaGVkIHRpZWQhXCIsXG4gICAgXCJvbmVXaW5uZXJCYXR0bGVSb3lhbGVcIjogXCJUaGUgQUkgbsKwe3tudW1XaW5uZXJ9fSB3b24gd2l0aCBhIHNjb3JlIG9mIHt7c2NvcmV9fSFcIixcbiAgICBcIndpbm5lcnNCYXR0bGVSb3lhbGVcIjogXCJUaGUgQUlzXCIsXG4gICAgXCJ3aW5uZXJBSUJhdHRsZVJveWFsZVwiOiBcIlRoZSBBSVwiLFxuICAgIFwid2lubmVyc051bUJhdHRsZVJveWFsZVwiOiBcIm7CsHt7bnVtV2lubmVyfX1cIixcbiAgICBcImFuZFdpbm5lcnNCYXR0bGVSb3lhbGVcIjogXCJhbmRcIixcbiAgICBcImFuZFBsYXllcldpbm5lcnNCYXR0bGVSb3lhbGVcIjogXCJhcyB3ZWxsIGFzIHlvdVwiLFxuICAgIFwid2luU2NvcmVCYXR0bGVSb3lhbGVcIjogXCJ3b24gd2l0aCBhIHNjb3JlIG9mIHt7c2NvcmV9fSFcIixcbiAgICBcIndpblBsYXllclNjb3JlQmF0dGxlUm95YWxlXCI6IFwid29uIHdpdGggYSBzY29yZSBvZiB7e3Njb3JlfX0hXCIsXG4gICAgXCJwbGF5ZXJXaW5uZXJCYXR0bGVSb3lhbGVcIjogXCJZb3Ugd29uIHdpdGggYSBzY29yZSBvZiB7e3Njb3JlfX0hXCJcbiAgfSxcbiAgXCJsZXZlbHNcIjoge1xuICAgIFwiZGVmYXVsdFwiOiBcIkRlZmF1bHQgbGV2ZWxzXCIsXG4gICAgXCJkb3dubG9hZGVkXCI6IFwiRG93bmxvYWRlZCBsZXZlbHNcIixcbiAgICBcInRpdGxlUGxheWVyXCI6IFwiTGV2ZWxzIChzaW5nbGUgcGxheWVyKVwiLFxuICAgIFwidGl0bGVBSVwiOiBcIkxldmVscyAoc2luZ2xlIEFJKVwiLFxuICAgIFwiZW1wdHlMaXN0XCI6IFwiTm8gbGV2ZWwgZm91bmTigKZcIixcbiAgICBcImRvd25sb2FkXCI6IFwiRG93bmxvYWQgbGV2ZWxzXCIsXG4gICAgXCJkb3dubG9hZExpbmtcIjogXCJUaGUgbGV2ZWxzIHdpbGwgYmUgZG93bmxvYWRlZCBmcm9tIHt7dXJsfX1cIixcbiAgICBcImVkaXREb3dubG9hZFVSTFwiOiBcIkVkaXQgdGhlIGRvd25sb2FkIFVSTFwiLFxuICAgIFwiZWRpdERvd25sb2FkVVJMUHJvbXB0XCI6IFwiRW50ZXIgdGhlIGRvd25sb2FkIFVSTCBvZiB0aGUgbGV2ZWxzLlxcbiogQXZhaWxhYmxlIHZhcmlhYmxlczpcXG57cGxheWVyfSAtIHBsYXllciB0eXBlIChodW1hbiwgQUkpXFxue2FwcFZlcnNpb259IC0gdmVyc2lvbiBvZiB0aGUgYXBwbGljYXRpb24uXFxuXFxuQ2hhbmdpbmcgdGhpcyBzZXR0aW5nIG1heSBjYXVzZSB0aGUgZ2FtZSB0byBjcmFzaCBvciBleHBvc2UgeW91IHRvIHNlY3VyaXR5IGlzc3Vlcy4gT25seSBjaGFuZ2UgaXQgaWYgeW91IGtub3cgd2hhdCB5b3UgYXJlIGRvaW5nLiBUaGlzIHNldHRpbmcgaXMgbm90IHBlcnNpc3RlbnQgYW5kIHdpbGwgYmUgZXJhc2VkIGlmIHlvdSByZWxvYWQgdGhlIGFwcGxpY2F0aW9uLlwiLFxuICAgIFwiZG93bmxvYWRpbmdcIjogXCJEb3dubG9hZGluZywgcGxlYXNlIHdhaXTigKYgSWYgdGhlIGJ1dHRvbiByZW1haW5zIGdyYXkgYWZ0ZXIgbW9yZSB0aGFuIDEwIHNlY29uZHMsIGNsaWNrIG9uIHRoZSBidXR0b24gYmVsb3cgdG8gdW5ibG9jayBhbmQgdHJ5IGFnYWluOlwiLFxuICAgIFwiYnV0dG9uRGVibG9ja1wiOiBcIlVubG9jayB0aGUgZG93bmxvYWRcIixcbiAgICBcImRpc2FibGVkTGV2ZWxcIjogXCJMZXZlbCBsb2NrZWQuIENvbXBsZXRlIHRoZSBwcmV2aW91cyBsZXZlbHMgdG8gdW5sb2NrIGl0LlwiLFxuICAgIFwibm90Q29tcGF0aWJsZVwiOiBcIlRoaXMgbGV2ZWwgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGlzIHZlcnNpb24gb2YgdGhlIGdhbWUuIFVwZGF0ZSBpdC5cIixcbiAgICBcImdvYWxBY2hpZXZlZFwiOiBcIkdvYWwgYWNoaWV2ZWQhIFlvdSBjYW4gbW92ZSB0byB0aGUgbmV4dCBsZXZlbC5cIixcbiAgICBcImdvYWxOb3RBY2hpZXZlZFwiOiBcIkdvYWwgbWlzc2VkISBUcnkgYWdhaW4uXCIsXG4gICAgXCJsZXZlbFwiOiBcIkxldmVsXCIsXG4gICAgXCJyZWFjaFNjb3JlXCI6IFwiUmVhY2ggYXQgbGVhc3QgdGhlIHNjb3JlIG9mIHt7dmFsdWV9fSB0byBwYXNzIHRoaXMgbGV2ZWwhXCIsXG4gICAgXCJyZWFjaFNjb3JlVGltZVwiOiBcIlJlYWNoIHRoZSBzY29yZSBvZiB7e3ZhbHVlfX0gaW4gbGVzcyB0aGFuIHt7Y291bnR9fSBzZWNvbmQhXCIsXG4gICAgXCJyZWFjaFNjb3JlVGltZV9wbHVyYWxcIjogXCJSZWFjaCB0aGUgc2NvcmUgb2Yge3t2YWx1ZX19IGluIGxlc3MgdGhhbiB7e2NvdW50fX0gc2Vjb25kcyFcIixcbiAgICBcInJlYWNoTWF4U2NvcmVcIjogXCJSZWFjaCB0aGUgbWF4aW11bSBzY29yZSBmb3IgdGhpcyBncmlkIHRvIHBhc3MgdGhpcyBsZXZlbCFcIixcbiAgICBcIm11bHRpQmVzdFNjb3JlXCI6IFwiRmluaXNoIHRoaXMgZ2FtZSBieSBnZXR0aW5nIGEgYmV0dGVyIHNjb3JlIHRoYW4gdGhlIG9wcG9uZW50IHRvIHBhc3MgdGhpcyBsZXZlbCFcIixcbiAgICBcIm11bHRpQmVzdFNjb3JlX3BsdXJhbFwiOiBcIkZpbmlzaCB0aGlzIGdhbWUgYnkgZ2V0dGluZyBhIGJldHRlciBzY29yZSB0aGFuIHRoZSBvcHBvbmVudHMgdG8gcGFzcyB0aGlzIGxldmVsIVwiLFxuICAgIFwibXVsdGlSZWFjaFNjb3JlRmlyc3RcIjogXCJSZWFjaCB0aGUgc2NvcmUgb2Yge3t2YWx1ZX19IGJlZm9yZSB0aGUgb3Bwb25lbnQgdG8gcGFzcyB0aGlzIGxldmVsIVwiLFxuICAgIFwibXVsdGlSZWFjaFNjb3JlRmlyc3RfcGx1cmFsXCI6IFwiUmVhY2ggdGhlIHNjb3JlIG9mIHt7dmFsdWV9fSBiZWZvcmUgdGhlIG9wcG9uZW50cyB0byBwYXNzIHRoaXMgbGV2ZWwhXCIsXG4gICAgXCJtYXplTW9kZVwiOiBcIk1hemUgbW9kZSEgRmluZCB0aGUgcGF0aCB0byB0aGUgYXBwbGUgdG8gcGFzcyB0aGlzIGxldmVsLlxcblRoZSBTbmFrZSBkb2Vzbid0IG1vdmUgYXV0b21hdGljYWxseS5cIixcbiAgICBcImJlc3RTY29yZVwiOiBcIkJlc3Qgc2NvcmU6IHt7Y291bnR9fVwiLFxuICAgIFwiYmVzdFRpbWVcIjogXCJCZXN0IHRpbWU6IHt7Y291bnR9fSBzZWNvbmRcIixcbiAgICBcImJlc3RUaW1lX3BsdXJhbFwiOiBcIkJlc3QgdGltZToge3tjb3VudH19IHNlY29uZHNcIixcbiAgICBcInRpbWVyUmVtYWluaW5nXCI6IFwie3tjb3VudH19IHNlY29uZCBsZWZ0XCIsXG4gICAgXCJ0aW1lclJlbWFpbmluZ19wbHVyYWxcIjogXCJ7e2NvdW50fX0gc2Vjb25kcyBsZWZ0XCIsXG4gICAgXCJiZXN0U2NvcmVTaG9ydFwiOiBcIsOXIHt7Y291bnR9fVwiLFxuICAgIFwiYmVzdFRpbWVTaG9ydFwiOiBcInt7Y291bnR9fSBzZWNvbmRcIixcbiAgICBcImJlc3RUaW1lU2hvcnRfcGx1cmFsXCI6IFwie3tjb3VudH19IHNlY29uZHNcIixcbiAgICBcImxvY2Fsc3RvcmFnZURpc2FibGVkXCI6IFwiQ29va2llcyBhcmUgZGlzYWJsZWQgb24geW91ciBicm93c2VyLiBZb3Ugd2lsbCBsb3NlIHlvdXIgcHJvZ3Jlc3MgdGhlIG5leHQgdGltZSB5b3UgcmVsb2FkIHRoZSBwYWdlLiBBY3RpdmF0ZSB0aGVtIGFuZCByZWxvYWQgdGhlIHBhZ2UgdG8gYXZvaWQgdGhpcy5cIixcbiAgICBcImRpZmZpY3VsdHlcIjogXCJEaWZmaWN1bHR5IDpcIixcbiAgICBcImxldmVsQm9udXNTaG9wXCI6IFwiQm9udXMgc2hvcFwiLFxuICAgIFwiZGlzcGxheUJvbnVzU2hvcFwiOiBcIkRpc3BsYXkgdGhlIHNob3DigKZcIixcbiAgICBcImJvbnVzTm90QXBwbGljYWJsZVwiOiBcIlRoaXMgYm9udXMgaXMgbm90IGFwcGxpY2FibGUuXCIsXG4gICAgXCJub3RFbm91Z2hGcnVpdHNcIjogXCJZb3UgZG9uJ3QgaGF2ZSBlbm91Z2ggY3JlZGl0IHRvIGJ1eSB0aGlzIGJvbnVzLlwiLFxuICAgIFwiYm9udXNBbHJlYWR5RXF1aXBwZWRcIjogXCJZb3UgYXJlIGFscmVhZHkgZXF1aXBwZWQgd2l0aCBhIGJvbnVzLiBVc2UgaXQgd2hpbGUgcGxheWluZyBhIGxldmVsIG9yIHNlbGwgaXQuXCIsXG4gICAgXCJib251c0VxdWlwcGVkXCI6IFwiRXF1aXBwZWQgYm9udXM6XCIsXG4gICAgXCJub25lXCI6IFwibm9uZVwiLFxuICAgIFwic2VsbEJvbnVzXCI6IFwiU2VsbCB0aGUgYm9udXNcIixcbiAgICBcImJvbnVzXCI6IHtcbiAgICAgIFwicGFzc0xldmVsXCI6IFwiUGFzcyBhIGxldmVsXCIsXG4gICAgICBcInBhc3NMZXZlbEluZm9cIjogXCJUaGlzIGJvbnVzIGFsbG93cyB5b3UgdG8gcGFzcyBhIGxldmVsLiBCdXkgaXQsIHRoZW4gc2VsZWN0IGEgbGV2ZWw6IGl0IHdpbGwgYmUgYXV0b21hdGljYWxseSBwYXNzZWQsIGFzIGlmIHlvdSBoYWQgc3VjY2VlZGVkIGl0LlwiLFxuICAgICAgXCJhaUFzc2lzdGFudFwiOiBcIkFzc2lzdGFudCBBSSBtb2RlXCIsXG4gICAgICBcImFpQXNzaXN0YW50SW5mb1wiOiBcIlRoaXMgYm9udXMgZW5hYmxlcyB0aGUgQUkg4oCL4oCLYXNzaXN0YW50IG1vZGUgdG8gYmUgYWN0aXZhdGVkLiBCdXkgaXQsIHRoZW4gc2VsZWN0IGEgbGV2ZWw6IEFJIGFzc2lzdGFudCBtb2RlIHdpbGwgYmUgYWN0aXZhdGVkLiBEb2VzIG5vdCB3b3JrIGZvciBzb21lIGxldmVscywgbGlrZSBtYXplcy5cIixcbiAgICAgIFwidW5sb2NrQWxsTGV2ZWxzXCI6IFwiVW5sb2NrIGFsbCBsZXZlbHNcIixcbiAgICAgIFwidW5sb2NrQWxsTGV2ZWxzSW5mb1wiOiBcIlRoaXMgYm9udXMgYWxsb3dzIHlvdSB0byB1bmxvY2sgYWxsIGxldmVscywgd2hldGhlciBwcmVzZW50IG9yIGZ1dHVyZS5cIixcbiAgICAgIFwiaW5jcmVhc2VHb2xkRnJ1aXRzXCI6IFwiSW5jcmVhc2UgdGhlIGZyZXF1ZW5jeSBvZiBhcHBlYXJhbmNlIG9mIGdvbGRlbiBhcHBsZXNcIixcbiAgICAgIFwiaW5jcmVhc2VHb2xkRnJ1aXRzSW5mb1wiOiBcIlRoaXMgYm9udXMgYWxsb3dzIHlvdSB0byBpbmNyZWFzZSB0aGUgZnJlcXVlbmN5IG9mIGFwcGVhcmFuY2Ugb2YgZ29sZGVuIGFwcGxlczogdGhlIGNoYW5jZSBvZiBhcHBlYXJpbmcgaXMgcmVkdWNlZCBmcm9tIDEgaW4gMTAwIHRvIDEgaW4gMy5cIixcbiAgICAgIFwiZGVzdHJveUFpc1wiOiBcIkRlc3Ryb3kgb3Bwb25lbnQgQUlzXCIsXG4gICAgICBcImRlc3Ryb3lBaXNJbmZvXCI6IFwiVGhpcyBib251cyBhbGxvd3MgeW91IHRvIGRlc3Ryb3kgZW5lbXkgQUlzLCB3aGljaCBtYWtlcyBsZXZlbHMgd2l0aCBBSXMgZWFzaWVyLlwiLFxuICAgICAgXCJ1bmtub3duXCI6IFwiVW5rbm93biBib251c1wiLFxuICAgICAgXCJ1bmtub3duSW5mb1wiOiBcIlRoaXMgYm9udXMgaXMgdW5rbm93bi4gUGVyaGFwcyBpdCB3YXMgcHVyY2hhc2VkIG9uIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgZ2FtZS4gRG8geW91IHdhbnQgdG8gc2VsbCBpdCBhbnl3YXksIGtub3dpbmcgdGhhdCBpdHMgcHJpY2UgaXMgdW5rbm93bj8gSW4gb3RoZXIgd29yZHMsIHlvdSB3aWxsIG5vdCBiZSByZWZ1bmRlZC5cIixcbiAgICAgIFwibm9UaW1lTGltaXRcIjogXCJObyB0aW1lIGxpbWl0XCIsXG4gICAgICBcIm5vVGltZUxpbWl0SW5mb1wiOiBcIkRpc2FibGVzIHRoZSB0aW1lIGxpbWl0IGZvciBsZXZlbHMgdGhhdCBoYXZlIG9uZS5cIlxuICAgIH1cbiAgfSxcbiAgXCJzZXJ2ZXJzXCI6IHtcbiAgICBcInNlcnZlckxpc3RcIjogXCJTZXJ2ZXJzIGxpc3RcIixcbiAgICBcInNlbGVjdEluZm9cIjogXCJTZWxlY3QgYSBzZXJ2ZXI6XCIsXG4gICAgXCJub1NlcnZlckZvdW5kXCI6IFwiTm8gc2VydmVyIGZvdW5k4oCmXCIsXG4gICAgXCJsb2FkaW5nTGlzdFwiOiBcIkxvYWRpbmcgc2VydmVycyBsaXN04oCmIFBsZWFzZSB3YWl0LlwiLFxuICAgIFwibm9Sb29tb3VuZFwiOiBcIk5vIHJvb20gZm91bmTigKZcIixcbiAgICBcImluZm9zXCI6IFwie3t3aWR0aH19w5d7e2hlaWdodH19IOKAkyBTcGVlZDoge3tzcGVlZH19XCIsXG4gICAgXCJpbmZvc0JvcmRlcldhbGxzXCI6IFwiR3JpZCBib3JkZXJlZCBieSB3YWxsc1wiLFxuICAgIFwiaW5mb3NHZW5lcmF0ZVdhbGxzXCI6IFwiUmFuZG9tIHdhbGxzXCIsXG4gICAgXCJpbmZvc1BsYXllcnNcIjogXCJ7e2NvdW50fX0gcGxheWVyL3t7bWF4fX1cIixcbiAgICBcImluZm9zUGxheWVyc19wbHVyYWxcIjogXCJ7e2NvdW50fX0gcGxheWVycy97e21heH19XCIsXG4gICAgXCJpbmZvc1NwZWN0YXRvcnNcIjogXCJ7e2NvdW50fX0gc3BlY3RhdG9yXCIsXG4gICAgXCJpbmZvc1NwZWN0YXRvcnNfcGx1cmFsXCI6IFwie3tjb3VudH19IHNwZWN0YXRvcnNcIixcbiAgICBcImJhY2tUb0xpc3RcIjogXCJCYWNrIHRvIHRoZSBzZXJ2ZXJzIGxpc3RcIixcbiAgICBcInJvb21zTGlzdFRpdGxlXCI6IFwiUm9vbXMgbGlzdFwiLFxuICAgIFwicm9vbXNMaXN0SW5mb3NcIjogXCJTZWxlY3QgYSByb29tOlwiLFxuICAgIFwibG9hZGluZ1Jvb21zXCI6IFwiTG9hZGluZyB0aGUgcm9vbXMgbGlzdOKApiBQbGVhc2Ugd2FpdC5cIixcbiAgICBcImNyZWF0ZVJvb21cIjogXCJDcmVhdGUgYSByb29tXCIsXG4gICAgXCJjb25uZWN0aW9uRXJyb3JcIjogXCJBbiBlcnJvciBoYXMgb2NjdXJyZWQgd2hlbiBjb25uZWN0aW5nIHRvIHRoZSBzZXJ2ZXIuIFBsZWFzZSByZXRyeS5cIixcbiAgICBcImVycm9yTG9hZGluZ1Jvb21zXCI6IFwiQW4gZXJyb3IgaGFzIG9jY3VycmVkIHdoZW4gbG9hZGluZyB0aGUgcm9vbXMgbGlzdC4gUGxlYXNlIHJldHJ5LlwiLFxuICAgIFwiY3JlYXRpbmdSb29tXCI6IFwiQ3JlYXRpbmcgdGhlIHJvb23igKYgUGxlYXNlIHdhaXQuXCIsXG4gICAgXCJyb29tXCI6IFwiUm9vbSBuwrB7e251bWJlcn19XCIsXG4gICAgXCJlcnJvclJvb21DcmVhdGlvblwiOiBcIkFuIGVycm9yIGhhcyBvY2N1cnJlZCB3aGVuIGNyZWF0aW5nIHRoZSByb29tLiBQbGVhc2UgcmV0cnkuXCIsXG4gICAgXCJqb2luUHJpdmF0ZVJvb21cIjogXCJKb2luIGEgcHJpdmF0ZSByb29tXCIsXG4gICAgXCJlbnRlckNvZGVcIjogXCJFbnRlciB0aGUgY29kZSBvZiB0aGUgcm9vbTpcIixcbiAgICBcImN1c3RvbVNlcnZlclwiOiBcIkN1c3RvbSBzZXJ2ZXLigKZcIixcbiAgICBcImVudGVyQ3VzdG9tU2VydmVyXCI6IFwiRW50ZXIgdGhlIGFkZHJlc3Mgb2YgdGhlIHNlcnZlcjpcIixcbiAgICBcImNvbm5lY3RpbmdUb1NlcnZlclwiOiBcIkNvbm5lY3RpbmcgdG8gdGhlIHNlcnZlcuKApiBQbGVhc2Ugd2FpdC5cIixcbiAgICBcImNhbmNlbFwiOiBcIkNhbmNlbFwiLFxuICAgIFwicmVmcmVzaFJvb21zXCI6IFwiUmVmcmVzaCB0aGUgbGlzdFwiLFxuICAgIFwiam9pblJvb21cIjogXCJKb2luaW5nIHRoZSByb29t4oCmIFBsZWFzZSB3YWl0LlwiLFxuICAgIFwiZXJyb3JSb29tSm9pblwiOiBcIkFuIGVycm9yIGhhcyBvY2N1cnJlZCB3aGVuIGpvaW5pbmcgdGhlIHJvb20uIFBsZWFzZSByZXRyeS5cIixcbiAgICBcImVycm9yUmVhc29uXCI6IFwiRXJyb3IgcmVhc29uOlwiLFxuICAgIFwiZXJyb3JSZWFzb25fdW5rbm93blwiOiBcIlVua25vd25cIixcbiAgICBcImVycm9yUm9vbUpvaW5SZWFzb25fcm9vbU5vdEZvdW5kXCI6IFwiVGhlIHJvb20gd2FzIG5vdCBmb3VuZC5cIixcbiAgICBcImVycm9yUm9vbUpvaW5SZWFzb25fcm9vbUFscmVhZHlKb2luZWRcIjogXCJZb3UgYWxyZWFkeSBqb2luZWQgdGhpcyByb29tLlwiLFxuICAgIFwiZXJyb3JSb29tQ3JlYXRpb25SZWFzb25fbWF4Um9vbUxpbWl0UmVhY2hlZFwiOiBcIlRoZSBtYXhpbXVtIG51bWJlciBvZiByb29tcyB0aGUgc2VydmVyIGNhbiBtYW5hZ2UgaGFzIGJlZW4gcmVhY2hlZC5cIixcbiAgICBcImVycm9yUm9vbUNyZWF0aW9uUmVhc29uX2ludmFsaWRTZXR0aW5nc1wiOiBcIkludmFsaWQgc2V0dGluZ3MuXCIsXG4gICAgXCJlcnJvclJvb21DcmVhdGlvblJlYXNvbl9hbHJlYWR5Q3JlYXRlZFJvb21cIjogXCJZb3UgaGF2ZSBhbHJlYWR5IGNyZWF0ZWQgYSByb29tIG9yIHlvdSBoYXZlIGFscmVhZHkgam9pbmVkIGEgcm9vbS5cIixcbiAgICBcImVycm9yU2VydmVyVmVyc2lvblwiOiBcIlRoaXMgc2VydmVyIHZlcnNpb24gKHt7c2VydmVyX3ZlcnNpb259fSkgaXMgZGlmZmVyZW50IGZyb20geW91ciB2ZXJzaW9uIG9mIHRoZSBnYW1lICh7e2NsaWVudF92ZXJzaW9ufX0pLiBZb3UgbWF5IGVuY291bnRlciBpc3N1ZXMuXCIsXG4gICAgXCJhZGRyZXNzTGFiZWxcIjogXCJTZXJ2ZXIgYWRkcmVzczpcIixcbiAgICBcInJvb21Db2RlXCI6IFwiUm9vbSBjb2RlOlwiLFxuICAgIFwidW50aXRsZWRcIjogXCJVbnRpdGxlZFwiLFxuICAgIFwic2VhcmNoaW5nUGxheWVyc1wiOiBcIihzZWFyY2hpbmcgcGxheWVycylcIixcbiAgICBcInN0YXJ0ZWRcIjogXCIoZ2FtZSBzdGFydGVkKVwiLFxuICAgIFwic3RhcnRpbmdcIjogXCIoZ2FtZSBzdGFydGluZylcIixcbiAgICBcImF1dGhlbnRpY2F0aW9uU2VydmVyXCI6IFwiU2VydmVyIGF1dGhlbnRpY2F0aW9uXCIsXG4gICAgXCJsaW5rQXV0aGVudGljYXRpb25TZXJ2ZXJcIjogXCJJZiB0aGUgZm9ybSBkb2VzIG5vdCBhcHBlYXIsIGNsaWNrIGhlcmVcIixcbiAgICBcImRpc2Nvbm5lY3RlZEVycm9yXCI6IFwiWW91IGhhdmUgYmVlbiBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgc2VydmVyLiBQbGVhc2UgcmV0cnkuXCJcbiAgfVxufSwgdHJ1ZSwgZmFsc2UpOyIsIi8qKlxuQ29weXJpZ2h0IDIwMTcsIExlY29xIFNpbW9uIChsb3dsaWdodC5mcilcblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuKi9cbihmdW5jdGlvbihhKXt2YXIgYj1NYXRoLnNpZ24sYz1NYXRoLm1pbixkPU1hdGguYWJzO1widW5kZWZpbmVkXCI9PXR5cGVvZiBhLkxvd2xpZ2h0JiYoYS5Mb3dsaWdodD17fSksXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9YS5Mb3dsaWdodCk7Y2xhc3MgZXtjb25zdHJ1Y3Rvcigpe3RoaXMubm9kZXM9bmV3IE1hcH1pZChhKXtyZXR1cm4gYX1ub2RlKGEsYj0hMSl7cmV0dXJuIGI/dGhpcy5ub2Rlcy5nZXQodGhpcy5pZChhcmd1bWVudHNbMF0pKTp0aGlzLm5vZGVzLmdldChhKX1kYXRhKGEsYil7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiYoYS5ncmFwaC5nZXQodGhpcykuX2RhdGE9YiksYS5ncmFwaC5nZXQodGhpcykuX2RhdGF9YWRqYWNlbnQoYyxhKXtyZXR1cm4gYy5ncmFwaC5nZXQodGhpcykuaGFzKGEpfW5laWdoYm9ycyhhKXtyZXR1cm4gQXJyYXkuZnJvbShhLmdyYXBoLmdldCh0aGlzKS5rZXlzKCkpfWNvbm5lY3RlZChjLGEpe3JldHVybiBjLmdyYXBoLmdldCh0aGlzKS5fY29ubmVjdGl2aXR5PT09YS5ncmFwaC5nZXQodGhpcykuX2Nvbm5lY3Rpdml0eX1jb25uZWN0KCl7bGV0IGE9QXJyYXkuZnJvbSh0aGlzLm5vZGVzLnZhbHVlcygpKSxiPTA7Zm9yKGxldCBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5ncmFwaC5nZXQodGhpcykuX2Nvbm5lY3Rpdml0eT12b2lkIDA7Zm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspe2lmKHZvaWQgMCE9PWFbY10uZ3JhcGguZ2V0KHRoaXMpLl9jb25uZWN0aXZpdHkpY29udGludWU7bGV0IGQ9W2FbY11dO2ZvcihiKys7ZC5sZW5ndGg7KXtsZXQgYT1kLnNoaWZ0KCk7YS5ncmFwaC5nZXQodGhpcykuX2Nvbm5lY3Rpdml0eT1iLHRoaXMubmVpZ2hib3JzKGEpLm1hcCgoYSk9Pnt2b2lkIDA9PT1hLmdyYXBoLmdldCh0aGlzKS5fY29ubmVjdGl2aXR5JiYwPmQuaW5kZXhPZihhKSYmZC5wdXNoKGEpfSl9fX1hZGQoYSl7cmV0dXJuIDE8YXJndW1lbnRzLmxlbmd0aD9BcnJheS5mcm9tKGFyZ3VtZW50cykubWFwKChhKT0+dGhpcy5hZGQoYSkpOihhLmdyYXBoLnNldCh0aGlzLG5ldyBNYXApLHRoaXMubm9kZXMuc2V0KGEuaWQsYSksYSl9ZGVsZXRlKGEpe3JldHVybiAxPGFyZ3VtZW50cy5sZW5ndGg/QXJyYXkuZnJvbShhcmd1bWVudHMpLm1hcCgoYSk9PnRoaXMuZGVsZXRlKGEpKTooYS5ncmFwaC5kZWxldGUodGhpcyksdGhpcy5ub2Rlcy5kZWxldGUoYS5pZCksYSl9ZWRnZShjLGEsYj0xLGQ9MSl7aWYoIWMuZ3JhcGguaGFzKHRoaXMpfHwhYS5ncmFwaC5oYXModGhpcykpdGhyb3cgbmV3IEVycm9yKFwiTm9kZXMgbXVzdCBiZSBvbiB0aGUgc2FtZSBncmFwaFwiKTtyZXR1cm4gbnVsbD09PWI/Yy5ncmFwaC5nZXQodGhpcykuZGVsZXRlKGEpOmMuZ3JhcGguZ2V0KHRoaXMpLnNldChhLGIpLG51bGw9PT1kP2EuZ3JhcGguZ2V0KHRoaXMpLmRlbGV0ZShjKTphLmdyYXBoLmdldCh0aGlzKS5zZXQoYyxkKSx0aGlzfWNvc3QoYyxhKXtyZXR1cm4gdGhpcy5hZGphY2VudChjLGEpP2MuZ3JhcGguZ2V0KHRoaXMpLmdldChhKTpudWxsfX1lLmZyb21BcnJheT1mdW5jdGlvbihhLGI9e30pe2xldCBjPWUuZnJvbUFycmF5LlgoYSxiLm9yZGVyKSxkPWUuZnJvbUFycmF5LlkoYSxiLm9yZGVyKSxnPWUuZnJvbUFycmF5LmF0LmJpbmQobnVsbCxhLGIub3JkZXIpLGg9W10saj1udWxsO2ZvcihsZXQgayxsPTE7bDxNYXRoLm1heCgyLGFyZ3VtZW50cy5sZW5ndGgpO2wrKyl7az1uZXcgZSxoLnB1c2goayksYj1hcmd1bWVudHNbbF18fHt9O2xldCBhPWUuZnJvbUFycmF5LmlkLmJpbmQobnVsbCxjLGQsYi50b3J1cyksaT1iLmNvc3R8fGUuZnJvbUFycmF5LmNvc3Qsbj1lLmZyb21BcnJheS5lZGdlLmJpbmQobnVsbCxrLGkpO2ZvcihsZXQgYj0wO2I8YztiKyspZm9yKGxldCBjLGU9MDtlPGQ7ZSsrKWM9ay5hZGQoaj9qLmdldChhKGIsZSkpOm5ldyBmKGEoYixlKSkpLGMueD1iLGMueT1lLGMuZ3JhcGguZ2V0KGspLl9kYXRhPWcoYixlKSxuKGMsay5ub2Rlcy5nZXQoYShiLTEsZSkpKSxuKGMsay5ub2Rlcy5nZXQoYShiKzEsZSkpKSxuKGMsay5ub2Rlcy5nZXQoYShiLGUtMSkpKSxuKGMsay5ub2Rlcy5nZXQoYShiLGUrMSkpKTtpZihiLmRpYWdvbmFscylmb3IobGV0IGU9MDtlPGM7ZSsrKWZvcihsZXQgYz0wO2M8ZDtjKyspe2xldCBkPWsubm9kZXMuZ2V0KGEoZSxjKSksZj1rLmFkamFjZW50KGQsay5ub2Rlcy5nZXQoYShlLTEsYykpKSxnPWsuYWRqYWNlbnQoZCxrLm5vZGVzLmdldChhKGUrMSxjKSkpLGg9ay5hZGphY2VudChkLGsubm9kZXMuZ2V0KGEoZSxjLTEpKSksaT1rLmFkamFjZW50KGQsay5ub2Rlcy5nZXQoYShlLGMrMSkpKTtcInN0cmljdFwiPT09Yi5jdXR0aW5nPyhmJiZoJiZuKGQsay5ub2Rlcy5nZXQoYShlLTEsYy0xKSkpLGYmJmkmJm4oZCxrLm5vZGVzLmdldChhKGUtMSxjKzEpKSksZyYmaCYmbihkLGsubm9kZXMuZ2V0KGEoZSsxLGMtMSkpKSxnJiZpJiZuKGQsay5ub2Rlcy5nZXQoYShlKzEsYysxKSkpKTooKGZ8fGh8fGIuY3V0dGluZykmJm4oZCxrLm5vZGVzLmdldChhKGUtMSxjLTEpKSksKGZ8fGl8fGIuY3V0dGluZykmJm4oZCxrLm5vZGVzLmdldChhKGUtMSxjKzEpKSksKGd8fGh8fGIuY3V0dGluZykmJm4oZCxrLm5vZGVzLmdldChhKGUrMSxjLTEpKSksKGd8fGl8fGIuY3V0dGluZykmJm4oZCxrLm5vZGVzLmdldChhKGUrMSxjKzEpKSkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShrLFwiaWRcIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITAsdmFsdWUoYil7cmV0dXJuIGEoYi54LGIueSl9fSksay5jb25uZWN0KCksay5YPWMsay5ZPWQsay5UT1JVUz1iLnRvcnVzLGp8fChqPWsubm9kZXMpfXJldHVybiAxPGgubGVuZ3RoP2g6aFswXX0sZS5mcm9tQXJyYXkuWD1mdW5jdGlvbihhLGI9XCJ5eFwiKXtyZXR1cm5cInh5XCI9PT1iP2EubGVuZ3RoOlwieXhcIj09PWI/YVswXS5sZW5ndGg6MH0sZS5mcm9tQXJyYXkuWT1mdW5jdGlvbihhLGI9XCJ5eFwiKXtyZXR1cm5cInh5XCI9PT1iP2FbMF0ubGVuZ3RoOlwieXhcIj09PWI/YS5sZW5ndGg6MH0sZS5mcm9tQXJyYXkuYXQ9ZnVuY3Rpb24oYSxiPVwieXhcIixjLGQpe3JldHVyblwieHlcIj09PWI/YVtjXVtkXTphW2RdW2NdfSxlLmZyb21BcnJheS5pZD1mdW5jdGlvbihhPTAsYj0wLGM9ITEsZCxlKXtyZXR1cm4gYz8oZStiKSViKmErKGQrYSklYTowPD1kJiZkPGEmJjA8PWUmJmU8Yj9lKmErZDpudWxsfSxlLmZyb21BcnJheS5jb3N0PWZ1bmN0aW9uKCl7cmV0dXJuIDF9LGUuZnJvbUFycmF5LmVkZ2U9ZnVuY3Rpb24oYyxkLGUsYSl7YSYmYy5lZGdlKGUsYSxkKGMuZGF0YShlKSxjLmRhdGEoYSkpLGQoYy5kYXRhKGEpLGMuZGF0YShlKSkpfSxlLmZyb21BcnJheS51cGRhdGU9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJHcmFwaC5mcm9tQXJyYXkgaXNuJ3QgaW1wbGVtZW50ZWQgeWV0XCIpfTtjbGFzcyBme2NvbnN0cnVjdG9yKGEsYil7Zm9yKGxldCBjIGluIHRoaXMuaWQ9YSx0aGlzLmdyYXBoPW5ldyBNYXAsYilcImlkXCIhPWMmJlwiZ3JhcGhcIiE9YyYmKHRoaXNbY109YltjXSl9fWNsYXNzIGd7Y29uc3RydWN0b3IoYSl7dGhpcy5ub2Rlcz1bXSx0aGlzLnNjb3JlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGE/YTooYik9PitifWdldCBzaXplKCl7cmV0dXJuIHRoaXMubm9kZXMubGVuZ3RofWFkZChhKXtpZigxPGFyZ3VtZW50cy5sZW5ndGgpe2ZvcihsZXQgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspdGhpcy5hZGQoYXJndW1lbnRzW2FdKTtyZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5ub2Rlcy5wdXNoKGEpLHRoaXMuYnViYmxlKHRoaXMuc2l6ZS0xKX1zZXQoYSl7bGV0IGI9dGhpcy5ub2Rlcy5pbmRleE9mKGEpO3JldHVybn5iP3RoaXMuc2NvcmUoYSk8PXRoaXMuc2NvcmUodGhpcy5ub2Rlc1tiXSk/dGhpcy5idWJibGUodGhpcy5ub2Rlcy5pbmRleE9mKGEpKTp0aGlzLnNpbmsodGhpcy5ub2Rlcy5pbmRleE9mKGEpKTp0aGlzLmFkZChhKX1wb3AoKXtsZXQgYT10aGlzLm5vZGVzWzBdLGI9dGhpcy5ub2Rlcy5wb3AoKTtyZXR1cm4gMDx0aGlzLnNpemUmJih0aGlzLm5vZGVzWzBdPWIsdGhpcy5zaW5rKDApKSxhfXRvcCgpe3JldHVybiB0aGlzLm5vZGVzWzBdfWRlbGV0ZShhKXtpZigxPGFyZ3VtZW50cy5sZW5ndGgpe2ZvcihsZXQgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspdGhpcy5kZWxldGUoYXJndW1lbnRzW2FdKTtyZXR1cm4gdGhpc31mb3IobGV0IGI9MDtiPHRoaXMuc2l6ZTtiKyspe2lmKHRoaXMubm9kZXNbYl0hPWEpY29udGludWU7bGV0IGM9dGhpcy5ub2Rlcy5wb3AoKTtyZXR1cm4gYj09dGhpcy5zaXplLTE/dGhpczoodGhpcy5ub2Rlc1tiXT1jLHRoaXMuYnViYmxlKGIpLnNpbmsoYikpfX1idWJibGUoYSl7bGV0IGI9dGhpcy5ub2Rlc1thXSxjPXRoaXMuc2NvcmUoYik7Zm9yKDswPGE7KXtsZXQgZD1NYXRoLmZsb29yKChhKzEpLzIpLTEsZT10aGlzLm5vZGVzW2RdO2lmKGM+PXRoaXMuc2NvcmUoZSkpYnJlYWs7dGhpcy5ub2Rlc1tkXT1iLHRoaXMubm9kZXNbYV09ZSxhPWR9cmV0dXJuIHRoaXN9c2luayhhKXtsZXQgYj10aGlzLm5vZGVzW2FdLGM9dGhpcy5zY29yZShiKTtmb3IoOzspe2xldCBkPTIqKGErMSksZT1kLTEsZj1udWxsO2lmKGU8dGhpcy5zaXplJiZ0aGlzLnNjb3JlKHRoaXMubm9kZXNbZV0pPGMmJihmPWUpLGQ8dGhpcy5zaXplJiZ0aGlzLnNjb3JlKHRoaXMubm9kZXNbZF0pPChmP3RoaXMuc2NvcmUodGhpcy5ub2Rlc1tmXSk6YykmJihmPWQpLG51bGw9PT1mKWJyZWFrO3RoaXMubm9kZXNbYV09dGhpcy5ub2Rlc1tmXSx0aGlzLm5vZGVzW2ZdPWIsYT1mfXJldHVybiB0aGlzfX1sZXQgaD17bWFuaGF0dGFuOmZ1bmN0aW9uKGMsYSxiPXt9KXtsZXQgZT1kKGEueC1jLngpLGY9ZChhLnktYy55KTtyZXR1cm4oYi5tdWx0aXBsaWVyfHwxKSooZStmKX0sbWFuaGF0dGFuVG9ydXM6ZnVuY3Rpb24oZSxhLGI9e30pe2xldCBmPWMoZChhLngtZS54KSxhLngrKGIueHx8MCktZS54LGUueCsoYi54fHwwKS1hLngpLGc9YyhkKGEueS1lLnkpLGEueSsoYi55fHwwKS1lLnksZS55KyhiLnl8fDApLWEueSk7cmV0dXJuKGIubXVsdGlwbGllcnx8MSkqKGYrZyl9LGRpYWdvbmFsOmZ1bmN0aW9uKGUsYSxiPXt9KXtsZXQgZj1kKGEueC1lLngpLGc9ZChhLnktZS55KTtyZXR1cm4gbSooZitnKSsoZG0tMiptKSpjKGYsZyl9LGRpYWdvbmFsVG9ydXM6ZnVuY3Rpb24oZSxhLGI9e30pe2xldCBmPWMoZChhLngtZS54KSxhLngrKGIueHx8MCktZS54LGUueCsoYi54fHwwKS1hLngpLGc9YyhkKGEueS1lLnkpLGEueSsoYi55fHwwKS1lLnksZS55KyhiLnl8fDApLWEueSk7cmV0dXJuKGIubXVsdGlwbGllcnx8MSkqKGYrZykrKChiLmRpYWdvbmFsTXVsdGlwbGllcnx8MS40KS0yKihiLm11bHRpcGxpZXJ8fDEpKSpjKGYsZyl9LGV1Y2xpZGlhbjpmdW5jdGlvbihjLGEsYj17fSl7bGV0IGU9ZChhLngtYy54KSxmPWQoYS55LWMueSk7cmV0dXJuKGIubXVsdGlwbGllcnx8MSkqTWF0aC5zcXJ0KGUqZStmKmYpfSxldWNsaWRpYW5Ub3J1czpmdW5jdGlvbihlLGEsYj17fSl7bGV0IGY9YyhkKGEueC1lLngpLGEueCsoYi54fHwwKS1lLngsZS54KyhiLnh8fDApLWEueCksZz1jKGQoYS55LWUueSksYS55KyhiLnl8fDApLWUueSxlLnkrKGIueXx8MCktYS55KTtyZXR1cm4oYi5tdWx0aXBsaWVyfHwxKSooZitnKSsoKGIuZGlhZ29uYWxNdWx0aXBsaWVyfHwxLjQpLTIqKGIubXVsdGlwbGllcnx8MSkpKmMoZixnKX19O2NsYXNzIGkgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihhKXtzdXBlcihhKSx0aGlzLm5hbWU9XCJXb3JrZXJFcnJvclwifX1jbGFzcyBqe2NvbnN0cnVjdG9yKGEsYj17fSl7aWYodGhpcy5ncmFwaHM9W10sdGhpcy5oZXVyaXN0aWM9Yi5oZXVyaXN0aWN8fFwibWFuaGF0dGFuXCIsdGhpcy5oZXVyaXN0aWNPcHRpb25zPWIuaGV1cmlzdGljT3B0aW9uc3x8e30sQXJyYXkuaXNBcnJheShhKSYmKHRoaXMuaGV1cmlzdGljPWIuaGV1cmlzdGljIGluIGg/Yi5oZXVyaXN0aWM6Yi5kaWFnb25hbHM/Yi50b3J1cz9cImRpYWdvbmFsVG9ydXNcIjpcImRpYWdvbmFsXCI6Yi50b3J1cz9cIm1hbmhhdHRhblRvcnVzXCI6XCJtYW5oYXR0YW5cIix0aGlzLmhldXJpc3RpY09wdGlvbnMueD1lLmZyb21BcnJheS5YKGEsYi5vcmRlciksdGhpcy5oZXVyaXN0aWNPcHRpb25zLnk9ZS5mcm9tQXJyYXkuWShhLGIub3JkZXIpLHRoaXMuZ3JhcGhzPWUuZnJvbUFycmF5LmFwcGx5KHRoaXMsYXJndW1lbnRzKSwhQXJyYXkuaXNBcnJheSh0aGlzLmdyYXBocykmJih0aGlzLmdyYXBocz1bdGhpcy5ncmFwaHNdKSksYi50aHJlYWQmJihcInVuZGVmaW5lZFwiPT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGV8fCEoc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlKSkpe3RoaXMud29ya2VyPW51bGw7dHJ5e3RoaXMud29ya2VyPW5ldyBXb3JrZXIoYi50aHJlYWQpfWNhdGNoKGEpe3Rocm93XCJmaWxlOlwiPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiZjb25zb2xlLndhcm4oXCJXZWJXb3JrZXJzIGluIGxvY2FsIGZpbGVzIG1heSBub3QgYmUgc3VwcG9ydGVkIGJ5IHlvdXIgYnJvd3Nlci5cIiksbmV3IGkoYCR7Yi50aHJlYWR9IGNvdWxkbid0IGJlIG9wZW5lZC5gKX1cImNvc3RcImluIGImJihiLmNvc3Q9Yi5jb3N0LnRvU3RyaW5nKCkpLHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKFtcImNvbnN0cnVjdG9yXCIsYSxiXSksdGhpcy5wYXRoPShhLGIsYz17fSk9Pnt0aGlzLl93b3JrZXJfcGF0aF9jYWxsYmFjaz1jLmNhbGxiYWNrLGRlbGV0ZSBjLmNhbGxiYWNrLHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKFtcInBhdGhcIixhLGIsY10pfSx0aGlzLndvcmtlci5vbm1lc3NhZ2U9KGEpPT57bGV0IGI9SlNPTi5wYXJzZShhLmRhdGEpO3N3aXRjaChiWzBdKXtjYXNlXCJwYXRoXCI6dGhpcy5fd29ya2VyX3BhdGhfY2FsbGJhY2soYlsxXSk7fX19fXBhdGgoYSxiLGM9e30pe2lmKGMuanBzKXJldHVybiB0aGlzLmpwcyhhLGIsYyk7bGV0IGQ9bmV3IGcoKGEpPT5hLmVzdGltYXRlZCksZT1uZXcgTWFwLGY9dGhpcy5ncmFwaHNbYy5sYXllcnx8MF07aWYoYT1mLm5vZGUoYSwhMCksYj1mLm5vZGUoYiwhMCksZC5hZGQoe25vZGU6YSxlc3RpbWF0ZWQ6MH0pLGUuc2V0KGEse3Njb3JlOjAsZnJvbTpudWxsfSksIWMuc3RhdGljfHxmLmNvbm5lY3RlZChhLGIpKWZvcig7ZC5zaXplOyl7bGV0IGE9ZC5wb3AoKS5ub2RlO2lmKGE9PT1iKWJyZWFrO2YubmVpZ2hib3JzKGEpLm1hcCgoZyk9PntsZXQgaT0oZS5oYXMoYSk/ZS5nZXQoYSkuc2NvcmU6MCkrZi5jb3N0KGEsZyk7aTwoZS5oYXMoZyk/ZS5nZXQoZykuc2NvcmU6SW5maW5pdHkpJiYoZS5zZXQoZyx7c2NvcmU6aSxmcm9tOmF9KSxkLnNldCh7bm9kZTpnLGVzdGltYXRlZDppK2hbYy5oZXVyaXN0aWN8fHRoaXMuaGV1cmlzdGljXShnLGIsYy5oZXVyaXN0aWNPcHRpb25zfHx0aGlzLmhldXJpc3RpY09wdGlvbnMpfSkpfSksZC5kZWxldGUoYSl9bGV0IGk9W107aWYoZS5oYXMoYikpe2xldCBhPWI7Zm9yKGkucHVzaChiKTtudWxsIT09KGE9ZS5nZXQoYSkuZnJvbSk7KWkucHVzaChhKTtpPWkucmV2ZXJzZSgpfXJldHVybiBjLmNhbGxiYWNrJiZjLmNhbGxiYWNrKGksZSksaX19aWYoai5KUFM9Y2xhc3N7Y29uc3RydWN0b3IoKXt9c3RhdGljIGFjY2VzcyhjLGQsYSxiKXtyZXR1cm4gYy5hZGphY2VudChkLGI/Yy5ub2RlKGEsITApOmEpfXN0YXRpYyBuZWlnaGJvcmhvb2QoYSxjLGQsZSl7bGV0IGY9W10sZz1kLmdldChlKS5mcm9tfHxudWxsO2lmKG51bGwhPT1nKXtsZXQgaD17eDpiKGUueC1nLngpLHk6YihlLnktZy55KX07aWYoMCE9aC54JiYwIT1oLnkpe2xldCBiPWEoZSx7eDplLngraC54LHk6ZS55fSwhMCksZD1hKGUse3g6ZS54LHk6ZS55K2gueX0sITApOyhifHxkKSYmKGYucHVzaChjLm5vZGUoe3g6ZS54K2gueCx5OmUueStoLnl9LCEwKSksYiYmKGYucHVzaChjLm5vZGUoe3g6ZS54K2gueCx5OmUueX0sITApKSwhYShlLHt4OmUueCx5OmUueS1oLnl9LCEwKSYmZi5wdXNoKGMubm9kZSh7eDplLngraC54LHk6ZS55LWgueX0sITApKSksZCYmKGYucHVzaChjLm5vZGUoe3g6ZS54LHk6ZS55K2gueX0sITApKSwhYShlLHt4OmUueC1oLngseTplLnl9LCEwKSYmZi5wdXNoKGMubm9kZSh7eDplLngtaC54LHk6ZS55K2gueX0sITApKSkpfWVsc2UgYShlLHt4OmUueCtoLngseTplLnkraC55fSwhMCkmJihmLnB1c2goYy5ub2RlKHt4OmUueCtoLngseTplLnkraC55fSwhMCkpLDA9PWgueD8wIT1oLnkmJighYShlLHt4OmUueC0xLHk6ZS55fSwhMCkmJmYucHVzaChjLm5vZGUoe3g6ZS54LTEseTplLnkraC55fSwhMCkpLCFhKGUse3g6ZS54KzEseTplLnl9LCEwKSYmZi5wdXNoKGMubm9kZSh7eDplLngrMSx5OmUueStoLnl9LCEwKSkpOighYShlLHt4OmUueCx5OmUueS0xfSwhMCkmJmYucHVzaChjLm5vZGUoe3g6ZS54K2gueCx5OmUueS0xfSwhMCkpLCFhKGUse3g6ZS54LHk6ZS55KzF9LCEwKSYmZi5wdXNoKGMubm9kZSh7eDplLngraC54LHk6ZS55KzF9LCEwKSkpKX1lbHNlIHJldHVybiBjLm5laWdoYm9ycyhlKTtyZXR1cm4gZi5maWx0ZXIoKGEpPT5hKX1zdGF0aWMganVtcChhLGMsZSxmLGcsaCl7Zm9yKDs7KXtpZighYShoLGcpKXJldHVybiBudWxsO2lmKGcueD09PWYueCYmZy55PT09Zi55KXJldHVybiBnO2xldCBpPXt4OmIoZy54LWgueCkseTpiKGcueS1oLnkpfTtpZigwIT1pLngmJjAhPWkueSl7aWYoIWEoZyx7eDpnLngtaS54LHk6Zy55fSwhMCkmJmEoZyx7eDpnLngtaS54LHk6Zy55K2kueX0sITApfHwhYShnLHt4OmcueCx5OmcueS1pLnl9LCEwKSYmYShnLHt4OmcueCtpLngseTpnLnktaS55fSwhMCkpcmV0dXJuIGc7bGV0IGI9ai5KUFMuanVtcC5iaW5kKHRoaXMsYSxjLGUsZik7aWYobnVsbCE9PWIoYy5ub2RlKHt4OmcueCtpLngseTpnLnl9LCEwKSxnKXx8bnVsbCE9PWIoYy5ub2RlKHt4OmcueCx5OmcueStpLnl9LCEwKSxnKSlyZXR1cm4gZ31lbHNlIGlmKDAhPWkueCl7aWYoIWEoZyx7eDpnLngseTpnLnktMX0sITApJiZhKGcse3g6Zy54K2kueCx5OmcueS0xfSwhMCl8fCFhKGcse3g6Zy54LHk6Zy55KzF9LCEwKSYmYShnLHt4OmcueCtpLngseTpnLnkrMX0sITApKXJldHVybiBnO31lbHNlIGlmKDAhPWkueSYmKCFhKGcse3g6Zy54LTEseTpnLnl9LCEwKSYmYShnLHt4OmcueC0xLHk6Zy55K2kueX0sITApfHwhYShnLHt4OmcueCsxLHk6Zy55fSwhMCkmJmEoZyx7eDpnLngrMSx5OmcueStpLnl9LCEwKSkpcmV0dXJuIGc7aD1nLGc9Yy5ub2RlKHt4OmcueCtpLngseTpnLnkraS55fSwhMCl9cmV0dXJuIG51bGx9fSxqLnByb3RvdHlwZS5qcHM9ZnVuY3Rpb24oYSxjLGQ9e30pe2lmKHRoaXMuZ3JhcGhzW2QubGF5ZXJ8fDBdLlRPUlVTKXJldHVybiBjb25zb2xlLndhcm4oXCJUb3J1cyBtYXAgYXJlbid0IHlldCBzdXBwb3J0ZWQgYnkgSlBTXCIpLGQuY2FsbGJhY2smJmQuY2FsbGJhY2soW10sbmV3IE1hcCksW107bGV0IGU9bmV3IGcoKGEpPT5hLmVzdGltYXRlZCksZj1uZXcgTWFwLGk9dGhpcy5ncmFwaHNbZC5sYXllcnx8MF0saz1udWxsO2E9aS5ub2RlKGEsITApLGM9aS5ub2RlKGMsITApLGUuYWRkKHtub2RlOmEsZXN0aW1hdGVkOjB9KSxmLnNldChhLHtzY29yZTowLGZyb206bnVsbH0pO2xldCBsPWouSlBTLmFjY2Vzcy5iaW5kKHRoaXMsaSksbj1qLkpQUy5uZWlnaGJvcmhvb2QuYmluZCh0aGlzLGwsaSxmKSxvPWouSlBTLmp1bXAuYmluZCh0aGlzLGwsaSxmLGMpO2lmKCFkLnN0YXRpY3x8aS5jb25uZWN0ZWQoYSxjKSlmb3IoO2Uuc2l6ZTspe2xldCBhPWUucG9wKCkubm9kZTtpZihhPT09YylicmVhaztuKGEpLm1hcCgoYik9PntpZihudWxsIT09KGs9byhiLGEpKSl7bGV0IGI9KGYuaGFzKGEpP2YuZ2V0KGEpLnNjb3JlOjApK2kuY29zdChhLGspO2I8KGYuaGFzKGspP2YuZ2V0KGspLnNjb3JlOkluZmluaXR5KSYmKGYuc2V0KGsse3Njb3JlOmIsZnJvbTphLGp1bXBlZDohMH0pLGUuc2V0KHtub2RlOmssZXN0aW1hdGVkOmIraFtkLmhldXJpc3RpY3x8dGhpcy5oZXVyaXN0aWNdKGssYyxkLmhldXJpc3RpY09wdGlvbnN8fHRoaXMuaGV1cmlzdGljT3B0aW9ucyl9KSl9fSksZS5kZWxldGUoYSl9bGV0IHA9W107aWYoZi5oYXMoYykpe2xldCBkPWM7Zm9yKDtkLnghPWEueHx8ZC55IT1hLnk7KWZvcihsZXQgYT1mLmdldChkKS5mcm9tO2QueCE9YS54fHxkLnkhPWEueTspcC5wdXNoKGQpLGQ9aS5ub2RlKHt4OmQueCtiKGEueC1kLngpLHk6ZC55K2IoYS55LWQueSl9LCEwKTtwLnB1c2goZCkscC5yZXZlcnNlKCl9cmV0dXJuIGQuY2FsbGJhY2smJmQuY2FsbGJhY2socCxmKSxwfSxcInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSl7bGV0IGE7b25tZXNzYWdlPWZ1bmN0aW9uKGIpe2xldCBjPWIuZGF0YTtzd2l0Y2goY1swXSl7Y2FzZVwiY29uc3RydWN0b3JcIjppZihcImNvc3RcImluIGNbMl0pe2xldCBhPS9eXFwoKC4qPylcXClcXHMqPT5cXHMqey8udGVzdChjWzJdLmNvc3QpLGI9L15mdW5jdGlvbiAvLnRlc3QoY1syXS5jb3N0KTtjWzJdLmNvc3Q9ZXZhbChgKCR7YXx8Yj9cIlwiOlwiZnVuY3Rpb24gXCJ9JHtjWzJdLmNvc3R9KWApfWE9bmV3IGooY1sxXSxjWzJdKTticmVhaztjYXNlXCJwYXRoXCI6cG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoW1wicGF0aFwiLGEucGF0aChjWzFdLGNbMl0sY1szXSldKSk7fX19YS5Mb3dsaWdodC5Bc3Rhcj17R3JhcGg6ZSxOb2RlOmYsQmluYXJ5SGVhcDpnLEhldXJpc3RpYzpoLENvbmZpZ3VyYXRpb246aixXb3JrZXJFcnJvcjppfX0pKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/dGhpczp3aW5kb3cpOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IGkxOG5leHQgZnJvbSBcImkxOG5leHRcIjtcbmltcG9ydCB7IEdhbWUsIFdvcmtlcnNBdmFpbGFibGUsIE5vdGlmaWNhdGlvbk1lc3NhZ2UgfSBmcm9tIFwiLi9zcmMvU2hpbVwiO1xuaW1wb3J0IEdhbWVDb25zdGFudHMgZnJvbSBcIi4vc3JjL2VuZ2luZS9Db25zdGFudHNcIjtcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi9zcmMvZW5naW5lL1NuYWtlXCI7XG5pbXBvcnQgR3JpZCBmcm9tIFwiLi9zcmMvZW5naW5lL0dyaWRcIjtcbmltcG9ydCBHYW1lR3JvdXAgZnJvbSBcIi4vc3JjL2VuZ2luZS9HYW1lR3JvdXBcIjtcbmltcG9ydCBPbmxpbmVDbGllbnQgZnJvbSBcIi4vc3JjL2VuZ2luZS9PbmxpbmVDbGllbnRcIjtcbmltcG9ydCBHYW1lVUkgZnJvbSBcIi4vc3JjL3VpL0dhbWVVSS5qc1wiO1xuaW1wb3J0IHNlZWRyYW5kb20gZnJvbSBcInNlZWRyYW5kb21cIjtcbmltcG9ydCBTdG9yYWdlRmFjdG9yeSBmcm9tIFwiLi9zcmMvU3RvcmFnZUZhY3RvcnlcIjtcbmltcG9ydCB7IFRpbWVyLCBUaW1lckludGVydmFsIH0gZnJvbSBcIi4vc3JjL1RpbWVyc1wiO1xuXG4vLyBNb2RlcyA6XG53aW5kb3cuU09MT19BSSA9IFwiU09MT19BSVwiO1xud2luZG93LlNPTE9fUExBWUVSID0gXCJTT0xPX1BMQVlFUlwiO1xud2luZG93LlBMQVlFUl9WU19BSSA9IFwiUExBWUVSX1ZTX0FJXCI7XG53aW5kb3cuQUlfVlNfQUkgPSBcIkFJX1ZTX0FJXCI7XG53aW5kb3cuQkFUVExFX1JPWUFMRSA9IFwiQkFUVExFX1JPWUFMRVwiO1xud2luZG93LkJBVFRMRV9ST1lBTEVfT05MSU5FID0gXCJCQVRUTEVfUk9ZQUxFX09OTElORVwiO1xuLy8gVVJJcyA6XG53aW5kb3cuVVBEQVRFUl9VUkkgPSBcImh0dHBzOi8vd3d3LmVsaWFzdGlrc29mdHMuY29tL3NuYWtlaWEvdXBkYXRlL1wiO1xud2luZG93LlNFUlZFUlNfTElTVF9VUkkgPSBcImh0dHBzOi8vd3d3LmVsaWFzdGlrc29mdHMuY29tL3NuYWtlaWEvc2VydmVyc0xpc3QvXCI7XG4vLyBMZXZlbHMgdHlwZXMgOlxud2luZG93LkxFVkVMX1JFQUNIX1NDT1JFID0gXCJMRVZFTF9SRUFDSF9TQ09SRVwiO1xud2luZG93LkxFVkVMX1JFQUNIX01BWF9TQ09SRSA9IFwiTEVWRUxfUkVBQ0hfTUFYX1NDT1JFXCI7XG53aW5kb3cuTEVWRUxfTVVMVElfQkVTVF9TQ09SRSA9IFwiTEVWRUxfTVVMVElfQkVTVF9TQ09SRVwiO1xud2luZG93LkxFVkVMX01VTFRJX1JFQUNIX1NDT1JFX0ZJUlNUID0gXCJMRVZFTF9NVUxUSV9SRUFDSF9TQ09SRV9GSVJTVFwiO1xud2luZG93LkxFVkVMX1JFQUNIX1NDT1JFX09OX1RJTUUgPSBcIkxFVkVMX1JFQUNIX1NDT1JFX09OX1RJTUVcIjtcbndpbmRvdy5MRVZFTF9NQVpFX1dJTiA9IFwiTEVWRUxfTUFaRV9XSU5cIjtcbndpbmRvdy5ERUZBVUxUX0xFVkVMID0gXCJERUZBVUxUX0xFVkVMXCI7XG53aW5kb3cuRE9XTkxPQURFRF9MRVZFTCA9IFwiRE9XTkxPQURFRF9MRVZFTFwiO1xuLy8gRGVmYXVsdCBsZXZlbHMgOlxuLy8gTGV2ZWwgbW9kZWwgOiB7IHNldHRpbmdzOiBbaGVpZ2h0R3JpZCwgd2lkdGhHcmlkLCBib3JkZXJXYWxscywgZ2VuZXJhdGVXYWxscywgc2FtZUdyaWQsIHNwZWVkLCBwcm9ncmVzc2l2ZVNwZWVkLCBhaUxldmVsLCBudW1iZXJJQSwgZ2VuZXJhdGVNYXplLCBjdXN0b21HcmlkLCBtYXplRm9yY2VBdXRvLCBzZWVkR3JpZCwgc2VlZEdhbWVdLCB0eXBlOiBsZXZlbFR5cGUoc2VlIGJlbG93KSwgdHlwZVZhbHVlOiBsZXZlbFR5cGVWYWx1ZShzY29yZSwgdGltZSwgLi4uKSwgdmVyc2lvbjogKHZlcnNpb24gbWluIHRvIHBsYXkgdGhlIGxldmVsKSB9XG53aW5kb3cuREVGQVVMVF9MRVZFTFNfU09MT19QTEFZRVIgPSB7XG4gIDE6IHsgc2V0dGluZ3M6IFsyMCwgMjAsIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgbnVsbCwgZmFsc2UsIG51bGwsIDBdLCB0eXBlOiBMRVZFTF9SRUFDSF9TQ09SRSwgdHlwZVZhbHVlOiAyMCwgdmVyc2lvbjogR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OIH0sXG4gIDI6IHsgc2V0dGluZ3M6IFsyMCwgMjAsIHRydWUsIGZhbHNlLCB0cnVlLCBudWxsLCBmYWxzZSwgbnVsbCwgMF0sIHR5cGU6IExFVkVMX1JFQUNIX1NDT1JFLCB0eXBlVmFsdWU6IDIwLCB2ZXJzaW9uOiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT04gfSxcbiAgMzogeyBzZXR0aW5nczogWzIwLCAyMCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgMTUsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfU0NPUkUsIHR5cGVWYWx1ZTogMTUsIHZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiB9LFxuICA0OiB7IHNldHRpbmdzOiBbMjAsIDIwLCBmYWxzZSwgZmFsc2UsIHRydWUsIG51bGwsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfU0NPUkVfT05fVElNRSwgdHlwZVZhbHVlOiBbMjAsIDYwXSwgdmVyc2lvbjogR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OIH0sXG4gIDU6IHsgc2V0dGluZ3M6IFsxMCwgMTAsIHRydWUsIGZhbHNlLCB0cnVlLCAxNSwgZmFsc2UsIG51bGwsIDBdLCB0eXBlOiBMRVZFTF9SRUFDSF9TQ09SRSwgdHlwZVZhbHVlOiAyMCwgdmVyc2lvbjogR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OIH0sXG4gIDY6IHsgc2V0dGluZ3M6IFsxNSwgMTUsIHRydWUsIHRydWUsIHRydWUsIDE1LCBmYWxzZSwgbnVsbCwgMF0sIHR5cGU6IExFVkVMX1JFQUNIX1NDT1JFLCB0eXBlVmFsdWU6IDIwLCB2ZXJzaW9uOiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT04gfSxcbiAgNzogeyBzZXR0aW5nczogWzE1LCAxNSwgZmFsc2UsIGZhbHNlLCB0cnVlLCBudWxsLCBmYWxzZSwgbnVsbCwgMF0sIHR5cGU6IExFVkVMX1JFQUNIX1NDT1JFX09OX1RJTUUsIHR5cGVWYWx1ZTogWzIwLCA0NV0sIHZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiB9LFxuICA4OiB7IHNldHRpbmdzOiBbMjAsIDIwLCBmYWxzZSwgZmFsc2UsIHRydWUsIG51bGwsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfU0NPUkUsIHR5cGVWYWx1ZTogMzUsIHZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiB9LFxuICA5OiB7IHNldHRpbmdzOiBbMTUsIDE1LCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBudWxsLCBmYWxzZSwgbnVsbCwgMV0sIHR5cGU6IExFVkVMX01VTFRJX0JFU1RfU0NPUkUsIHR5cGVWYWx1ZTogbnVsbCwgdmVyc2lvbjogR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OIH0sXG4gIDEwOiB7IHNldHRpbmdzOiBbMTAsIDEwLCBmYWxzZSwgZmFsc2UsIHRydWUsIG51bGwsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfU0NPUkVfT05fVElNRSwgdHlwZVZhbHVlOiBbMTAsIDE1XSwgdmVyc2lvbjogR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OIH0sXG4gIDExOiB7IHNldHRpbmdzOiBbMjAsIDIwLCBmYWxzZSwgZmFsc2UsIHRydWUsIG51bGwsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfU0NPUkUsIHR5cGVWYWx1ZTogNTAsIHZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiB9LFxuICAxMjogeyBzZXR0aW5nczogWzIwLCAyMCwgdHJ1ZSwgZmFsc2UsIHRydWUsIG51bGwsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfU0NPUkUsIHR5cGVWYWx1ZTogNTAsIHZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiB9LFxuICAxMzogeyBzZXR0aW5nczogWzIwLCAyMCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgMTUsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfU0NPUkVfT05fVElNRSwgdHlwZVZhbHVlOiBbMTUsIDYwXSwgdmVyc2lvbjogR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OIH0sXG4gIDE0OiB7IHNldHRpbmdzOiBbMjAsIDIwLCB0cnVlLCBmYWxzZSwgdHJ1ZSwgNSwgdHJ1ZSwgbnVsbCwgMF0sIHR5cGU6IExFVkVMX1JFQUNIX1NDT1JFLCB0eXBlVmFsdWU6IDMwLCB2ZXJzaW9uOiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT04gfSxcbiAgMTU6IHsgc2V0dGluZ3M6IFsxNSwgMTUsIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgbnVsbCwgZmFsc2UsIG51bGwsIDFdLCB0eXBlOiBMRVZFTF9SRUFDSF9TQ09SRV9PTl9USU1FLCB0eXBlVmFsdWU6IFsxNSwgNjBdLCB2ZXJzaW9uOiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT04gfSxcbiAgMTY6IHsgc2V0dGluZ3M6IFsyMCwgMjAsIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgbnVsbCwgZmFsc2UsIG51bGwsIDBdLCB0eXBlOiBMRVZFTF9SRUFDSF9TQ09SRSwgdHlwZVZhbHVlOiA3NSwgdmVyc2lvbjogR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OIH0sXG4gIDE3OiB7IHNldHRpbmdzOiBbMTUsIDE1LCB0cnVlLCBmYWxzZSwgdHJ1ZSwgMTUsIGZhbHNlLCBudWxsLCAyXSwgdHlwZTogTEVWRUxfTVVMVElfQkVTVF9TQ09SRSwgdHlwZVZhbHVlOiBudWxsLCB2ZXJzaW9uOiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT04gfSxcbiAgMTg6IHsgc2V0dGluZ3M6IFs1LCA1LCB0cnVlLCBmYWxzZSwgdHJ1ZSwgMjUsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfTUFYX1NDT1JFLCB0eXBlVmFsdWU6IG51bGwsIHZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiB9LFxuICAxOTogeyBzZXR0aW5nczogWzUsIDUsIGZhbHNlLCB0cnVlLCB0cnVlLCAxMCwgZmFsc2UsIG51bGwsIDBdLCB0eXBlOiBMRVZFTF9SRUFDSF9TQ09SRSwgdHlwZVZhbHVlOiAxMCwgdmVyc2lvbjogR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OIH0sXG4gIDIwOiB7IHNldHRpbmdzOiBbMjAsIDIwLCBmYWxzZSwgdHJ1ZSwgdHJ1ZSwgMTUsIGZhbHNlLCBudWxsLCAwXSwgdHlwZTogTEVWRUxfUkVBQ0hfU0NPUkUsIHR5cGVWYWx1ZTogNTAsIHZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiB9XG59O1xud2luZG93LlNPTE9fUExBWUVSX1NBVkUgPSBcInNuYWtlaWFfc29sb19wbGF5ZXJfXCI7XG53aW5kb3cuREVGQVVMVF9MRVZFTFNfU09MT19BSSA9IERFRkFVTFRfTEVWRUxTX1NPTE9fUExBWUVSO1xud2luZG93LlNPTE9fQUlfU0FWRSA9IFwic25ha2VpYV9zb2xvX2FpX1wiO1xuLy8gRG93bmxvYWRhYmxlIGxldmVscyA6XG53aW5kb3cuRE9XTkxPQURfREVGQVVMVF9VUkkgPSBcImh0dHBzOi8vd3d3LmVsaWFzdGlrc29mdHMuY29tL3NuYWtlaWEvZG93bmxvYWRMZXZlbHMvP3BsYXllcj17cGxheWVyfSZ2ZXI9e2FwcFZlcnNpb259XCI7XG53aW5kb3cuU09MT19QTEFZRVJfRE9XTkxPQURfTEVWRUxTX1RPID0gXCJzbmFrZWlhX3NvbG9fcGxheWVyX2Rvd25sb2FkZWRMZXZlbHNcIjtcbndpbmRvdy5TT0xPX0FJX0RPV05MT0FEX0xFVkVMU19UTyA9IFwic25ha2VpYV9zb2xvX2FpX2Rvd25sb2FkZWRMZXZlbHNcIjtcblxuY29uc3Qgb25saW5lQ2xpZW50ID0gbmV3IE9ubGluZUNsaWVudCgpO1xuY29uc3Qgc3RvcmFnZUdsb2JhbCA9IG5ldyBTdG9yYWdlRmFjdG9yeSgpO1xuXG5sZXQgc2VsZWN0ZWRNb2RlID0gU09MT19BSTtcbmxldCBjdXN0b21TZXR0aW5ncyA9IHt9O1xubGV0IHdvcmtlcnNBdmFpbGFibGUgPSBmYWxzZTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZXJzaW9uVHh0XCIpLmlubmVySFRNTCA9IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTjtcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwVmVyc2lvblwiKS5pbm5lckhUTUwgPSBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT047XG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVUeHRcIikuaW5uZXJIVE1MID0gREFURV9WRVJTSU9OO1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBVcGRhdGVEYXRlXCIpLmlubmVySFRNTCA9IERBVEVfVkVSU0lPTjtcblxuLy8gTGlic1xuU3RyaW5nLnByb3RvdHlwZS5zdHJjbXAgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuICgodGhpcyA9PSBzdHIpID8gMCA6ICgodGhpcyA+IHN0cikgPyAxIDogLTEpKTtcbn07XG5cbmlmKCFzdG9yYWdlR2xvYmFsLmlzU3VwcG9ydGVkKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9jYWxzdG9yYWdlRGlzYWJsZWRcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbn1cblxuLy8gU2V0dGluZ3MgaGFuZGxpbmdcbldvcmtlcnNBdmFpbGFibGUocmVzdWx0ID0+IHtcbiAgd29ya2Vyc0F2YWlsYWJsZSA9IHJlc3VsdDsgXG4gIHNob3dTZXR0aW5ncygpO1xufSk7XG5cbmZ1bmN0aW9uIHJlc3RvcmVTZXR0aW5ncygpIHtcbiAgY3VzdG9tU2V0dGluZ3MgPSB7XG4gICAgZW5hYmxlQW5pbWF0aW9uczogdHJ1ZSxcbiAgICBvbmxpbmVFbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnM6IGZhbHNlLFxuICAgIHJlbmRlckJsdXI6IGZhbHNlLFxuICAgIGVuYWJsZU11bHRpdGhyZWFkaW5nOiB0cnVlLFxuICAgIHNob3dEZWJ1Z0luZm86IGZhbHNlLFxuICAgIHRleHRPdXRwdXQ6IGZhbHNlLFxuICAgIGdyYXBoaWNTa2luOiBcImZsYXRcIixcbiAgICBtYXhGUFM6IC0xLFxuICAgIHVubG9ja0FsbExldmVsczogZmFsc2VcbiAgfTtcbn1cblxuZnVuY3Rpb24gc2F2ZVNldHRpbmdzKCkge1xuICBzdG9yYWdlR2xvYmFsLnNldEl0ZW0oXCJzbmFrZWlhX3NldHRpbmdzXCIsIEpTT04uc3RyaW5naWZ5KGN1c3RvbVNldHRpbmdzKSk7XG4gIHNob3dTZXR0aW5ncygpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXR0aW5ncygpIHtcbiAgcmV0dXJuIChzdG9yYWdlR2xvYmFsLmdldEl0ZW0oXCJzbmFrZWlhX3NldHRpbmdzXCIpICYmIEpTT04ucGFyc2Uoc3RvcmFnZUdsb2JhbC5nZXRJdGVtKFwic25ha2VpYV9zZXR0aW5nc1wiKSkpIHx8IGN1c3RvbVNldHRpbmdzO1xufVxuXG5mdW5jdGlvbiBzaG93U2V0dGluZ3MoKSB7XG4gIGNvbnN0IHNldHRpbmdzID0gZ2V0U2V0dGluZ3MoKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVuYWJsZUFuaW1hdGlvbnNcIikuY2hlY2tlZCA9IGZhbHNlO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmRlckJsdXJcIikuY2hlY2tlZCA9IGZhbHNlO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVuYWJsZU11bHRpdGhyZWFkaW5nXCIpLmNoZWNrZWQgPSBmYWxzZTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvbmxpbmVFbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnNcIikuY2hlY2tlZCA9IGZhbHNlO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob3dEZWJ1Z0luZm9cIikuY2hlY2tlZCA9IGZhbHNlO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRleHRPdXRwdXRcIikuY2hlY2tlZCA9IGZhbHNlO1xuXG4gIGlmKHNldHRpbmdzLmVuYWJsZUFuaW1hdGlvbnMpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5hYmxlQW5pbWF0aW9uc1wiKS5jaGVja2VkID0gdHJ1ZTtcbiAgaWYoc2V0dGluZ3MucmVuZGVyQmx1cikgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZW5kZXJCbHVyXCIpLmNoZWNrZWQgPSB0cnVlO1xuICBpZihzZXR0aW5ncy5lbmFibGVNdWx0aXRocmVhZGluZyAmJiB3b3JrZXJzQXZhaWxhYmxlKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVuYWJsZU11bHRpdGhyZWFkaW5nXCIpLmNoZWNrZWQgPSB0cnVlO1xuICBpZihzZXR0aW5ncy5vbmxpbmVFbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnMpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib25saW5lRW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zXCIpLmNoZWNrZWQgPSB0cnVlO1xuICBpZihzZXR0aW5ncy5zaG93RGVidWdJbmZvKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNob3dEZWJ1Z0luZm9cIikuY2hlY2tlZCA9IHRydWU7XG4gIGlmKHNldHRpbmdzLnRleHRPdXRwdXQpIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGV4dE91dHB1dFwiKS5jaGVja2VkID0gdHJ1ZTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmFwaGljU2tpblwiKS52YWx1ZSA9IHNldHRpbmdzLmdyYXBoaWNTa2luO1xuXG4gIGlmKCF3b3JrZXJzQXZhaWxhYmxlKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmFibGVNdWx0aXRocmVhZGluZ1wiKS5kaXNhYmxlZCA9IHRydWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtdWx0aXRocmVhZGluZ05vdEF2YWlsYWJsZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVuYWJsZU11bHRpdGhyZWFkaW5nXCIpLmRpc2FibGVkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtdWx0aXRocmVhZGluZ05vdEF2YWlsYWJsZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH1cblxuICBpZihzZXR0aW5ncy5tYXhGUFMgJiYgIWlzTmFOKHNldHRpbmdzLm1heEZQUykpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1heEZQU1wiKS52YWx1ZSA9IHNldHRpbmdzLm1heEZQUztcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1heEZQU1wiKS52YWx1ZSA9IC0xO1xuICB9XG59XG5cbnJlc3RvcmVTZXR0aW5ncygpO1xuY3VzdG9tU2V0dGluZ3MgPSBnZXRTZXR0aW5ncygpO1xuc2hvd1NldHRpbmdzKCk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5hYmxlQW5pbWF0aW9uc1wiKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICBjdXN0b21TZXR0aW5ncy5lbmFibGVBbmltYXRpb25zID0gdGhpcy5jaGVja2VkO1xuICBzYXZlU2V0dGluZ3MoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVuZGVyQmx1clwiKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICBjdXN0b21TZXR0aW5ncy5yZW5kZXJCbHVyID0gdGhpcy5jaGVja2VkO1xuICBzYXZlU2V0dGluZ3MoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5hYmxlTXVsdGl0aHJlYWRpbmdcIikub25jaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgY3VzdG9tU2V0dGluZ3MuZW5hYmxlTXVsdGl0aHJlYWRpbmcgPSB0aGlzLmNoZWNrZWQ7XG4gIHNhdmVTZXR0aW5ncygpO1xufTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvbmxpbmVFbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnNcIikub25jaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgY3VzdG9tU2V0dGluZ3Mub25saW5lRW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zID0gdGhpcy5jaGVja2VkO1xuICBzYXZlU2V0dGluZ3MoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvd0RlYnVnSW5mb1wiKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICBjdXN0b21TZXR0aW5ncy5zaG93RGVidWdJbmZvID0gdGhpcy5jaGVja2VkO1xuICBzYXZlU2V0dGluZ3MoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGV4dE91dHB1dFwiKS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG4gIGN1c3RvbVNldHRpbmdzLnRleHRPdXRwdXQgPSB0aGlzLmNoZWNrZWQ7XG4gIHNhdmVTZXR0aW5ncygpO1xufTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJncmFwaGljU2tpblwiKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICBjdXN0b21TZXR0aW5ncy5ncmFwaGljU2tpbiA9IHRoaXMudmFsdWU7XG4gIHNhdmVTZXR0aW5ncygpO1xufTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXhGUFNcIikub25pbnB1dCA9IGZ1bmN0aW9uKCkge1xuICBjdXN0b21TZXR0aW5ncy5tYXhGUFMgPSB0aGlzLnZhbHVlO1xuICBzYXZlU2V0dGluZ3MoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXRQYXJhbWV0ZXJzXCIpLm9uY2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgcmVzdG9yZVNldHRpbmdzKCk7XG4gIHNhdmVTZXR0aW5ncygpO1xufTtcblxuLy8gVXBkYXRlclxuZnVuY3Rpb24gY2hlY2tVcGRhdGUoKSB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gIHNjcmlwdC5zcmMgPSBVUERBVEVSX1VSSTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59XG5cbndpbmRvdy51cGRhdGVDYWxsYmFjayA9IGRhdGEgPT4ge1xuICBpZih0eXBlb2YoZGF0YSkgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSAhPT0gbnVsbCAmJiB0eXBlb2YoZGF0YS52ZXJzaW9uKSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhLnZlcnNpb24gIT09IG51bGwpIHtcbiAgICBjb25zdCBuZXdWZXJzaW9uVGVzdCA9IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTi5zdHJjbXAoZGF0YS52ZXJzaW9uKTtcblxuICAgIGlmKG5ld1ZlcnNpb25UZXN0IDwgMCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1cGRhdGVBdmFpbGFibGVcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwVXBkYXRlVmVyc2lvblwiKS50ZXh0Q29udGVudCA9IGRhdGEudmVyc2lvbjtcblxuICAgICAgbGV0IGFwcFVwZGF0ZURhdGUgPSBEQVRFX1ZFUlNJT047XG5cbiAgICAgIGlmKHR5cGVvZihkYXRhLmRhdGUpICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEuZGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIGFwcFVwZGF0ZURhdGUgPSBkYXRhLmRhdGU7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwVXBkYXRlRGF0ZVwiKS50ZXh0Q29udGVudCA9IGFwcFVwZGF0ZURhdGU7XG5cbiAgICAgIGxldCBkb3dubG9hZFVSTCA9IFwiaHR0cDovL2VsaWFzdGlrc29mdHMuY29tL3NuYWtlaWEvZG93bmxvYWRzL1wiO1xuXG4gICAgICBpZih0eXBlb2YoZGF0YS51cmwpICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEudXJsICE9PSBudWxsKSB7XG4gICAgICAgICAgZG93bmxvYWRVUkwgPSBkYXRhLnVybDtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBEb3dubG9hZExpbmtcIikub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICB3aW5kb3cub3Blbihkb3dubG9hZFVSTCwgJ19ibGFuaycpO1xuICAgICAgfTtcblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBEb3dubG9hZFVSTEdldFwiKS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgIHByb21wdChpMThuZXh0LnQoXCJ1cGRhdGUuVVJMVG9Eb3dubG9hZFwiKSwgZG93bmxvYWRVUkwpO1xuICAgICAgfTtcblxuICAgICAgbGV0IGNoYW5nZXMgPSBpMThuZXh0LnQoXCJ1cGRhdGUubm9DaGFuZ2VzXCIpO1xuXG4gICAgICBpZih0eXBlb2YoZGF0YS5jaGFuZ2VzKSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhLmNoYW5nZXMgIT09IG51bGwpIHtcbiAgICAgICAgICBjaGFuZ2VzID0gZGF0YS5jaGFuZ2VzO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFVwZGF0ZUNoYW5nZXNcIikub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgICBhbGVydChpMThuZXh0LnQoXCJ1cGRhdGUuY2hhbmdlc1wiKSArIFwiXFxuXCIgKyBjaGFuZ2VzKTtcbiAgICAgIH07XG5cbiAgICAgIHRyYW5zbGF0ZUNvbnRlbnQoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gTG9hZCBzZXJ2ZXIgbGlzdFxuZnVuY3Rpb24gbG9hZFNlcnZlckxpc3QoKSB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gIHNjcmlwdC5zcmMgPSBTRVJWRVJTX0xJU1RfVVJJO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nU2VydmVyc0xpc3RcIikuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VydmVyTGlzdEdyb3VwXCIpLmlubmVySFRNTCA9IFwiXCI7XG59XG5cbndpbmRvdy5saXN0U2VydmVyc0NhbGxiYWNrID0gZGF0YSA9PiB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VydmVyTGlzdEdyb3VwXCIpLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgaWYoZGF0YSAhPSBudWxsICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZihkYXRhW2ldW1widXJsXCJdICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgdXJsID0gZGF0YVtpXVtcInVybFwiXTtcbiAgICAgICAgY29uc3QgcG9ydCA9IGRhdGFbaV1bXCJwb3J0XCJdO1xuICAgICAgICBjb25zdCBuYW1lID0gZGF0YVtpXVtcIm5hbWVcIl07XG5cbiAgICAgICAgY29uc3QgbGlua1NlcnZlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICBsaW5rU2VydmVyLmNsYXNzTGlzdC5hZGQoXCJsaXN0LWdyb3VwLWl0ZW1cIik7XG4gICAgICAgIGxpbmtTZXJ2ZXIuY2xhc3NMaXN0LmFkZChcImxpc3QtZ3JvdXAtaXRlbS1hY3Rpb25cIik7XG5cbiAgICAgICAgaWYobmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgbGlua1NlcnZlci50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGlua1NlcnZlci50ZXh0Q29udGVudCA9IGkxOG5leHQudChcInNlcnZlcnMudW50aXRsZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5rU2VydmVyLm9uY2xpY2sgPSAoKCh1LCBwKSA9PiB7XG4gICAgICAgICAgY29ubmVjdFRvU2VydmVyKHUsIHApO1xuICAgICAgICB9KS5iaW5kKG51bGwsIHVybCwgcG9ydCkpO1xuICBcbiAgICAgICAgY29uc3Qgc2VydmVyQWRkcmVzcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNlcnZlckFkZHJlc3MuY2xhc3NMaXN0LmFkZChcInNtYWxsXCIpO1xuICAgICAgICBzZXJ2ZXJBZGRyZXNzLmNsYXNzTGlzdC5hZGQoXCJ0ZXh0LW11dGVkXCIpO1xuXG4gICAgICAgIGlmKHBvcnQgIT0gbnVsbCAmJiBwb3J0LnRyaW0oKSAhPSBcIlwiKSB7XG4gICAgICAgICAgc2VydmVyQWRkcmVzcy50ZXh0Q29udGVudCA9IHVybCArIFwiOlwiICsgcG9ydDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXJ2ZXJBZGRyZXNzLnRleHRDb250ZW50ID0gdXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlua1NlcnZlci5hcHBlbmRDaGlsZChzZXJ2ZXJBZGRyZXNzKTtcbiAgXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VydmVyTGlzdEdyb3VwXCIpLmFwcGVuZENoaWxkKGxpbmtTZXJ2ZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBub1NlcnZlckZvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiKTtcbiAgICBub1NlcnZlckZvdW5kLnRleHRDb250ZW50ID0gaTE4bmV4dC50KFwic2VydmVycy5ub1NlcnZlckZvdW5kXCIpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXJ2ZXJMaXN0R3JvdXBcIikuYXBwZW5kQ2hpbGQobm9TZXJ2ZXJGb3VuZCk7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmdTZXJ2ZXJzTGlzdFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGlua0N1c3RvbVNlcnZlclwiKS5vbmNsaWNrID0gKCkgPT4ge1xuICBjb25zdCB1cmwgPSBwcm9tcHQoaTE4bmV4dC50KFwic2VydmVycy5lbnRlckN1c3RvbVNlcnZlclwiKSwgXCJodHRwOi8vXCIpO1xuXG4gIGlmKHVybCAhPSBudWxsICYmIHVybC50cmltKCkgIT0gXCJcIikge1xuICAgIGNvbm5lY3RUb1NlcnZlcih1cmwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjb25uZWN0VG9TZXJ2ZXIodXJsLCBwb3J0KSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlcnZlckxpc3RDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb21zT25saW5lTGlzdENvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVDcmVhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JSb29tQ3JlYXRpb25cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25uZWN0aW5nVG9TZXJ2ZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc09ubGluZUpvaW5cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dGhlbnRpY2F0aW9uU2VydmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICBvbmxpbmVDbGllbnQuY29ubmVjdCh1cmwsIHBvcnQsIChzdWNjZXNzLCBkYXRhLCBpZCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29ubmVjdGluZ1RvU2VydmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgIGlmKCFzdWNjZXNzKSB7XG4gICAgICBpZihkYXRhID09IEdhbWVDb25zdGFudHMuRXJyb3IuQVVUSEVOVElDQVRJT05fUkVRVUlSRUQgfHwgZGF0YSA9PSBHYW1lQ29uc3RhbnRzLkVycm9yLkJBTk5FRCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dGhlbnRpY2F0aW9uU2VydmVyQ29udGFpbmVyXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGNvbnN0IGF1dGhlbnRfZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICBhdXRoZW50X2ZyYW1lLmlkID0gXCJhdXRoZW50X2ZyYW1lXCI7XG4gICAgICAgIGF1dGhlbnRfZnJhbWUuc3JjID0gb25saW5lQ2xpZW50LmdldFVSTCgpICsgXCIvYXV0aGVudGljYXRpb24/bGFuZz1cIiArIGkxOG5leHQubGFuZ3VhZ2Uuc3Vic3RyKDAsIDIpICsgKGlkID8gXCImaWQ9XCIgKyBpZCA6IFwiXCIpO1xuICAgICAgICBhdXRoZW50X2ZyYW1lLmNsYXNzTGlzdC5hZGQoXCJmcmFtZS1yZXNwb25zaXZlXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dGhlbnRpY2F0aW9uU2VydmVyQ29udGFpbmVyXCIpLmFwcGVuZENoaWxkKGF1dGhlbnRfZnJhbWUpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpbmtBdXRoZW50aWNhdGlvblNlcnZlclwiKS5ocmVmID0gb25saW5lQ2xpZW50LmdldFVSTCgpICsgXCIvYXV0aGVudGljYXRpb24/bGFuZz1cIiArIGkxOG5leHQubGFuZ3VhZ2Uuc3Vic3RyKDAsIDIpICsgKGlkID8gXCImaWQ9XCIgKyBpZCA6IFwiXCIpO1xuXG4gICAgICAgIGRpc3BsYXlBdXRoZW50aWNhdGlvbigpO1xuICAgICAgfSBlbHNlIGlmKGRhdGEgPT0gR2FtZUNvbnN0YW50cy5FcnJvci5ESVNDT05ORUNURUQpIHtcbiAgICAgICAgYWxlcnQoaTE4bmV4dC50KFwic2VydmVycy5kaXNjb25uZWN0ZWRFcnJvclwiKSk7XG4gICAgICAgIGRpc3BsYXlTZXJ2ZXJMaXN0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydChpMThuZXh0LnQoXCJzZXJ2ZXJzLmNvbm5lY3Rpb25FcnJvclwiKSk7XG4gICAgICAgIGRpc3BsYXlTZXJ2ZXJMaXN0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpc3BsYXlSb29tc0xpc3QoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbmNlbENvbm5lY3RpbmdUb1NlcnZlclwiKS5vbmNsaWNrID0gKCkgPT4ge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbm5lY3RpbmdUb1NlcnZlclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIG9ubGluZUNsaWVudC5kaXNjb25uZWN0KCk7XG4gIGRpc3BsYXlTZXJ2ZXJMaXN0KCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbmNlbEF1dGhlbnRpY2F0aW9uVG9TZXJ2ZXJcIikub25jbGljayA9ICgpID0+IHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdXRoZW50aWNhdGlvblNlcnZlckNvbnRhaW5lclwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbm5lY3RpbmdUb1NlcnZlclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIG9ubGluZUNsaWVudC5kaXNjb25uZWN0KCk7XG4gIGRpc3BsYXlTZXJ2ZXJMaXN0KCk7XG59O1xuXG5mdW5jdGlvbiBkaXNwbGF5Um9vbXMoKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZ1Jvb21zT25saW5lTGlzdFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc09ubGluZUxpc3RHcm91cFwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlZnJlc2hSb29tc1wiKS5kaXNhYmxlZCA9IFwiZGlzYWJsZWRcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclJvb21Kb2luXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclNlcnZlclZlcnNpb25cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gIG9ubGluZUNsaWVudC5kaXNwbGF5Um9vbXMoKHN1Y2Nlc3MsIGRhdGEpID0+IHsgLy8gUmVxdWVzdCByb29tcyBkYXRhXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc09ubGluZUxpc3RHcm91cFwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JSb29tc0xpc3RcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVmcmVzaFJvb21zXCIpLmRpc2FibGVkID0gXCJcIjtcbiAgXG4gICAgaWYoIXN1Y2Nlc3MpIHtcbiAgICAgIGlmKGRhdGEgPT0gR2FtZUNvbnN0YW50cy5FcnJvci5BVVRIRU5USUNBVElPTl9SRVFVSVJFRCkge1xuICAgICAgICBjb25uZWN0VG9TZXJ2ZXIob25saW5lQ2xpZW50LnVybCwgb25saW5lQ2xpZW50LnBvcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclJvb21zTGlzdFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZihkYXRhLnJvb21zICE9IG51bGwgJiYgT2JqZWN0LmtleXMoZGF0YS5yb29tcykubGVuZ3RoID4gMCkge1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IE9iamVjdC5rZXlzKGRhdGEucm9vbXMpLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHJvb20gPSBkYXRhLnJvb21zW09iamVjdC5rZXlzKGRhdGEucm9vbXMpW2ldXTtcbiAgICAgICAgY29uc3QgY29kZSA9IHJvb21bXCJjb2RlXCJdO1xuICBcbiAgICAgICAgY29uc3QgbGlua1Jvb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgbGlua1Jvb20uY2xhc3NMaXN0LmFkZChcImxpc3QtZ3JvdXAtaXRlbVwiKTtcbiAgICAgICAgbGlua1Jvb20uY2xhc3NMaXN0LmFkZChcImxpc3QtZ3JvdXAtaXRlbS1hY3Rpb25cIik7XG4gICAgICAgIGxpbmtSb29tLnRleHRDb250ZW50ID0gaTE4bmV4dC50KFwic2VydmVycy5yb29tXCIsIHsgbnVtYmVyOiAoaSArIDEpIH0pICsgKHJvb20uc3RhdGUgIT0gbnVsbCA/IFwiIFwiICsgKFxuICAgICAgICAgIHJvb20uc3RhdGUgPT0gR2FtZUNvbnN0YW50cy5HYW1lU3RhdGUuU0VBUkNISU5HX1BMQVlFUlMgPyBpMThuZXh0LnQoXCJzZXJ2ZXJzLnNlYXJjaGluZ1BsYXllcnNcIikgOlxuICAgICAgICAgIHJvb20uc3RhdGUgPT0gR2FtZUNvbnN0YW50cy5HYW1lU3RhdGUuU1RBUlRJTkcgPyBpMThuZXh0LnQoXCJzZXJ2ZXJzLnN0YXJ0aW5nXCIpIDpcbiAgICAgICAgICByb29tLnN0YXRlID09IEdhbWVDb25zdGFudHMuR2FtZVN0YXRlLlNUQVJURUQgPyBpMThuZXh0LnQoXCJzZXJ2ZXJzLnN0YXJ0ZWRcIikgOiBcIlwiXG4gICAgICAgICkgOiBcIlwiKTtcbiAgXG4gICAgICAgIGxpbmtSb29tLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgam9pblJvb20oY29kZSk7XG4gICAgICAgIH07XG4gIFxuICAgICAgICBjb25zdCBnYW1lSW5mb3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBnYW1lSW5mb3MuY2xhc3NMaXN0LmFkZChcInNtYWxsXCIpO1xuICAgICAgICBnYW1lSW5mb3MuY2xhc3NMaXN0LmFkZChcInRleHQtbXV0ZWRcIik7XG4gICAgICAgIGdhbWVJbmZvcy50ZXh0Q29udGVudCA9IGkxOG5leHQudChcInNlcnZlcnMuaW5mb3NcIiwgeyB3aWR0aCA6IHJvb20ud2lkdGgsIGhlaWdodDogcm9vbS5oZWlnaHQsIHNwZWVkOiByb29tLnNwZWVkIH0pO1xuICBcbiAgICAgICAgY29uc3QgZ2FtZUluZm9zU2Vjb25kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZ2FtZUluZm9zU2Vjb25kLmNsYXNzTGlzdC5hZGQoXCJzbWFsbFwiKTtcbiAgICAgICAgZ2FtZUluZm9zU2Vjb25kLmNsYXNzTGlzdC5hZGQoXCJ0ZXh0LW11dGVkXCIpO1xuICAgICAgICBnYW1lSW5mb3NTZWNvbmQudGV4dENvbnRlbnQgPSByb29tLmJvcmRlcldhbGxzID8gaTE4bmV4dC50KFwic2VydmVycy5pbmZvc0JvcmRlcldhbGxzXCIpIDogXCJcIjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGdhbWVJbmZvc1RoaXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZ2FtZUluZm9zVGhpcmQuY2xhc3NMaXN0LmFkZChcInNtYWxsXCIpO1xuICAgICAgICBnYW1lSW5mb3NUaGlyZC5jbGFzc0xpc3QuYWRkKFwidGV4dC1tdXRlZFwiKTtcbiAgICAgICAgZ2FtZUluZm9zVGhpcmQudGV4dENvbnRlbnQgPSByb29tLmdlbmVyYXRlV2FsbHMgPyBpMThuZXh0LnQoXCJzZXJ2ZXJzLmluZm9zR2VuZXJhdGVXYWxsc1wiKSA6IFwiXCI7XG4gIFxuICAgICAgICBjb25zdCBnYW1lSW5mb3NQbGF5ZXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgZ2FtZUluZm9zUGxheWVycy5jbGFzc0xpc3QuYWRkKFwic21hbGxcIik7XG4gICAgICAgIGdhbWVJbmZvc1BsYXllcnMuY2xhc3NMaXN0LmFkZChcInRleHQtbXV0ZWRcIik7XG4gICAgICAgIGdhbWVJbmZvc1BsYXllcnMudGV4dENvbnRlbnQgPSBpMThuZXh0LnQoXCJzZXJ2ZXJzLmluZm9zUGxheWVyc1wiLCB7IGNvdW50IDogcm9vbS5wbGF5ZXJzLCBtYXg6IHJvb20ubWF4UGxheWVycyB9KTtcbiAgXG4gICAgICAgIGxpbmtSb29tLmFwcGVuZENoaWxkKGdhbWVJbmZvcyk7XG4gICAgICAgIGxpbmtSb29tLmFwcGVuZENoaWxkKGdhbWVJbmZvc1NlY29uZCk7XG4gICAgICAgIGxpbmtSb29tLmFwcGVuZENoaWxkKGdhbWVJbmZvc1RoaXJkKTtcbiAgICAgICAgbGlua1Jvb20uYXBwZW5kQ2hpbGQoZ2FtZUluZm9zUGxheWVycyk7XG4gIFxuICAgICAgICBpZihyb29tLnNwZWN0YXRvcnMgPiAwKSB7XG4gICAgICAgICAgY29uc3QgZ2FtZUluZm9zU3BlY3RhdG9ycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgZ2FtZUluZm9zU3BlY3RhdG9ycy5jbGFzc0xpc3QuYWRkKFwic21hbGxcIik7XG4gICAgICAgICAgZ2FtZUluZm9zU3BlY3RhdG9ycy5jbGFzc0xpc3QuYWRkKFwidGV4dC1tdXRlZFwiKTtcbiAgICAgICAgICBnYW1lSW5mb3NTcGVjdGF0b3JzLnRleHRDb250ZW50ID0gaTE4bmV4dC50KFwic2VydmVycy5pbmZvc1NwZWN0YXRvcnNcIiwgeyBjb3VudCA6IHJvb20uc3BlY3RhdG9ycyB9KTtcbiAgICAgICAgICBsaW5rUm9vbS5hcHBlbmRDaGlsZChnYW1lSW5mb3NTcGVjdGF0b3JzKTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc09ubGluZUxpc3RHcm91cFwiKS5hcHBlbmRDaGlsZChsaW5rUm9vbSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5vUm9vbUZvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiKTtcbiAgICAgIG5vUm9vbUZvdW5kLnRleHRDb250ZW50ID0gaTE4bmV4dC50KFwic2VydmVycy5ub1Jvb21vdW5kXCIpO1xuICBcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVMaXN0R3JvdXBcIikuYXBwZW5kQ2hpbGQobm9Sb29tRm91bmQpO1xuICAgIH1cblxuICAgIGlmKGRhdGEgJiYgZGF0YS52ZXJzaW9uKSB7XG4gICAgICBvbmxpbmVDbGllbnQuZW5naW5lU2VydmVyVmVyc2lvbiA9IGRhdGEudmVyc2lvbjtcbiAgICAgIG9ubGluZUNsaWVudC5zZXJ2ZXJWZXJzaW9uID0gZGF0YS5zZXJ2ZXJWZXJzaW9uO1xuXG4gICAgICBpZihkYXRhLnZlcnNpb24gIT0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JTZXJ2ZXJWZXJzaW9uXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JTZXJ2ZXJWZXJzaW9uVGV4dFwiKS50ZXh0Q29udGVudCA9IGkxOG5leHQudChcInNlcnZlcnMuZXJyb3JTZXJ2ZXJWZXJzaW9uXCIsIHsgc2VydmVyX3ZlcnNpb246IGRhdGEudmVyc2lvbiwgY2xpZW50X3ZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgICBcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRpbmdSb29tc09ubGluZUxpc3RcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VydmVyQWRkcmVzc1wiKS50ZXh0Q29udGVudCA9IG9ubGluZUNsaWVudC51cmwgKyAob25saW5lQ2xpZW50LnBvcnQgIT0gbnVsbCAmJiBvbmxpbmVDbGllbnQucG9ydC50cmltKCkgIT0gXCJcIiA/IChcIjpcIiArIG9ubGluZUNsaWVudC5wb3J0KSA6IFwiXCIpO1xuICB9KTtcbn1cblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWZyZXNoUm9vbXNcIikub25jbGljayA9ICgpID0+IHtcbiAgZGlzcGxheVJvb21zKCk7XG59O1xuXG5mdW5jdGlvbiBqb2luUm9vbShjb2RlKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlcnZlckxpc3RDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb21zT25saW5lTGlzdENvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVDcmVhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JSb29tQ3JlYXRpb25cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25uZWN0aW5nVG9TZXJ2ZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb21zT25saW5lSm9pblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dGhlbnRpY2F0aW9uU2VydmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclJvb21Kb2luXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICBvbmxpbmVDbGllbnQuam9pblJvb20oY29kZSwgZGF0YSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc09ubGluZUpvaW5cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgaWYoZGF0YS5zdWNjZXNzKSB7XG4gICAgICBjb25zdCB1aSA9IG5ldyBHYW1lVUkobnVsbCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQ29udGFpbmVyXCIpLCBudWxsLCBudWxsLCAoY3VzdG9tU2V0dGluZ3Muc2hvd0RlYnVnSW5mbyA/IHRydWUgOiBmYWxzZSksIG51bGwsIGN1c3RvbVNldHRpbmdzKTtcbiAgICAgIGNvbnN0IGdhbWUgPSBvbmxpbmVDbGllbnQuZ2V0R2FtZSh1aSwgY3VzdG9tU2V0dGluZ3MpO1xuICAgICAgZ2FtZS5pbml0KCk7XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZUdhbWVcIikuaW5uZXJIVE1MID0gaTE4bmV4dC50KFwiZ2FtZS5jdXJyZW50TW9kZVwiKSArIFwiIFwiICsgaTE4bmV4dC50KFwibWVudS5vbmxpbmVCYXR0bGVSb3lhbGVcIik7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVPcmRlclwiKS50ZXh0Q29udGVudCA9IGkxOG5leHQudChcInNlcnZlcnMucm9vbUNvZGVcIikgKyBcIiBcIiArIGNvZGU7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTdGF0dXNcIikudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lU3RhdHVzRXJyb3JcIikudGV4dENvbnRlbnQgPSBcIlwiO1xuXG4gICAgICBpZih1aS5jYW52YXMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVpLmNhbnZhcy5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgfVxuXG4gICAgICBnYW1lLm9uRXhpdCgoKSA9PiB7XG4gICAgICAgIG9ubGluZUNsaWVudC5zdG9wR2FtZSgpO1xuICAgICAgICBkaXNwbGF5Um9vbXNMaXN0KCk7XG4gICAgICB9KTtcblxuICAgICAgZ2FtZS5vbktpbGwoKCkgPT4ge1xuICAgICAgICBvbmxpbmVDbGllbnQuc3RvcEdhbWUoKTtcbiAgICAgICAgZGlzcGxheVJvb21zTGlzdCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja1RvTWVudUdhbWVcIikub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgaWYoY29uZmlybShpMThuZXh0LnQoXCJnYW1lLmNvbmZpcm1RdWl0XCIpKSkge1xuICAgICAgICAgIG9ubGluZUNsaWVudC5zdG9wR2FtZSgpO1xuICAgICAgICAgIGRpc3BsYXlSb29tc0xpc3QoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3JDb2RlID0gZGF0YS5lcnJvckNvZGU7XG4gICAgICBsZXQgZXJyb3JDb2RlX3RleHQgPSBcIlwiO1xuXG4gICAgICBzd2l0Y2goZXJyb3JDb2RlKSB7XG4gICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5FcnJvci5ST09NX05PVF9GT1VORDpcbiAgICAgICAgICBlcnJvckNvZGVfdGV4dCA9IGkxOG5leHQudChcInNlcnZlcnMuZXJyb3JSb29tSm9pblJlYXNvbl9yb29tTm90Rm91bmRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5FcnJvci5ST09NX0FMUkVBRFlfSk9JTkVEOlxuICAgICAgICAgIGVycm9yQ29kZV90ZXh0ID0gaTE4bmV4dC50KFwic2VydmVycy5lcnJvclJvb21Kb2luUmVhc29uX3Jvb21BbHJlYWR5Sm9pbmVkXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRXJyb3IuQUxSRUFEWV9DUkVBVEVEX1JPT006XG4gICAgICAgICAgZXJyb3JDb2RlX3RleHQgPSBpMThuZXh0LnQoXCJzZXJ2ZXJzLmVycm9yUm9vbUNyZWF0aW9uUmVhc29uX2FscmVhZHlDcmVhdGVkUm9vbVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBlcnJvckNvZGVfdGV4dCA9IGkxOG5leHQudChcInNlcnZlcnMuZXJyb3JSZWFzb25fdW5rbm93blwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclJvb21Kb2luUmVhc29uXCIpLnRleHRDb250ZW50ID0gZXJyb3JDb2RlX3RleHQ7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yUm9vbUpvaW5cIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVKb2luXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVMaXN0Q29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuICB9KTtcbn1cblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJqb2luUHJpdmF0ZVJvb21cIikub25jbGljayA9ICgpID0+IHtcbiAgY29uc3QgY29kZSA9IHByb21wdChpMThuZXh0LnQoXCJzZXJ2ZXJzLmVudGVyQ29kZVwiKSk7XG5cbiAgaWYoY29kZSAhPSBudWxsKSB7XG4gICAgam9pblJvb20oY29kZSk7XG4gIH1cbn07XG5cbi8vIFNpbXBsZSBtb2Rlc1xuZnVuY3Rpb24gc2VsZWN0TW9kZShtb2RlKSB7XG4gIHNlbGVjdGVkTW9kZSA9IG1vZGU7XG5cbiAgaWYoc2VsZWN0ZWRNb2RlID09IFNPTE9fUExBWUVSKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpYVNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlhU2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfVxuXG4gIGlmKHNlbGVjdGVkTW9kZSA9PSBTT0xPX0FJKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdXRvUmV0cnlTZXR0aW5nc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXV0b1JldHJ5U2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG5cbiAgaWYoc2VsZWN0ZWRNb2RlID09IEJBVFRMRV9ST1lBTEUpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm51bWJlcklBU2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm51bWJlcklBU2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG5cbiAgaWYoc2VsZWN0ZWRNb2RlID09IFBMQVlFUl9WU19BSSB8fCBzZWxlY3RlZE1vZGUgPT0gQUlfVlNfQUkgfHwgc2VsZWN0ZWRNb2RlID09IEJBVFRMRV9ST1lBTEUpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhbWVHcmlkRGl2XCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYW1lR3JpZERpdlwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH1cblxuICBpZihzZWxlY3RlZE1vZGUgPT0gU09MT19BSSB8fCBzZWxlY3RlZE1vZGUgPT0gU09MT19QTEFZRVIpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hemVHcmlkRGl2XCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXplR3JpZERpdlwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH1cblxuICBpZihzZWxlY3RlZE1vZGUgPT0gQkFUVExFX1JPWUFMRV9PTkxJTkUpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhbWVHcmlkRGl2XCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hemVHcmlkRGl2XCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dG9SZXRyeVNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzaXZlU3BlZWREaXZcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJpdmF0ZUdhbWVEaXZcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlhU2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VlZFNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgIGlmKG9ubGluZUNsaWVudC5zZXJ2ZXJTZXR0aW5ncyAmJiBvbmxpbmVDbGllbnQuc2VydmVyU2V0dGluZ3MuZW5hYmxlQUkpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5hYmxlQUlEaXZcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmFibGVBSURpdlwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZ3Jlc3NpdmVTcGVlZERpdlwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VlZFNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcml2YXRlR2FtZURpdlwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmFibGVBSURpdlwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH1cblxuICBkaXNwbGF5U2V0dGluZ3MoKTtcbn1cblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb2xvQWlcIikub25jbGljayA9ICgpID0+IHtcbiAgc2VsZWN0TW9kZShTT0xPX0FJKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic29sb1BsYXllclwiKS5vbmNsaWNrID0gKCkgPT4ge1xuICBzZWxlY3RNb2RlKFNPTE9fUExBWUVSKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyVnNBaVwiKS5vbmNsaWNrID0gKCkgPT4ge1xuICBzZWxlY3RNb2RlKFBMQVlFUl9WU19BSSk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFpVnNBaVwiKS5vbmNsaWNrID0gKCkgPT4ge1xuICBzZWxlY3RNb2RlKEFJX1ZTX0FJKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmF0dGxlUm95YWxlXCIpLm9uY2xpY2sgPSAoKSA9PiB7XG4gIHNlbGVjdE1vZGUoQkFUVExFX1JPWUFMRSk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZVJvb21cIikub25jbGljayA9ICgpID0+IHtcbiAgc2VsZWN0TW9kZShCQVRUTEVfUk9ZQUxFX09OTElORSk7XG59O1xuXG5mdW5jdGlvbiBkaXNwbGF5TWVudSgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR0aW5nc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlcnZlckxpc3RDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb21zT25saW5lTGlzdENvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVDcmVhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JSb29tQ3JlYXRpb25cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnVcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25uZWN0aW5nVG9TZXJ2ZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb21zT25saW5lSm9pblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXV0aGVudGljYXRpb25TZXJ2ZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcmFtZXRlcnNcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5U2V0dGluZ3MoKSB7XG4gIGRpc3BsYXlNZW51KCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICByZXNldEZvcm0oZmFsc2UsIHRydWUpO1xuXG4gIGlmKHNlbGVjdGVkTW9kZSA9PSBCQVRUTEVfUk9ZQUxFX09OTElORSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja1RvTWVudVwiKS5vbmNsaWNrID0gKCkgPT4ge1xuICAgICAgZGlzcGxheVJvb21zTGlzdCgpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWNrVG9NZW51XCIpLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBkaXNwbGF5TWVudSgpO1xuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlzcGxheU90aGVyc1NldHRpbmdzKCkge1xuICBkaXNwbGF5TWVudSgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhcmFtZXRlcnNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbn1cblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWNrVG9NZW51XCIpLm9uY2xpY2sgPSAoKSA9PiB7XG4gIGRpc3BsYXlNZW51KCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhY2tUb01lbnVMZXZlbExpc3RcIikub25jbGljayA9ICgpID0+IHtcbiAgZGlzcGxheU1lbnUoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja1RvTWVudVBhcmFtZXRlcnNcIikub25jbGljayA9ICgpID0+IHtcbiAgZGlzcGxheU1lbnUoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3RoZXJzU2V0dGluZ3NcIikub25jbGljayA9ICgpID0+IHtcbiAgZGlzcGxheU90aGVyc1NldHRpbmdzKCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhY2tUb01lbnVTZXJ2ZXJMaXN0XCIpLm9uY2xpY2sgPSAoKSA9PiB7XG4gIG9ubGluZUNsaWVudC5kaXNjb25uZWN0KCk7XG4gIGRpc3BsYXlNZW51KCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbGxhcHNlU2VlZFNldHRpbmdzQnRuXCIpLm9uY2xpY2sgPSBlID0+IHtcbiAgY29uc3QgY29sbGFwc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbGxhcHNlU2VlZFNldHRpbmdzXCIpO1xuXG4gIGlmKGNvbGxhcHNlICYmIGNvbGxhcHNlLmNsYXNzTGlzdC5jb250YWlucyhcInNob3dcIikpIHtcbiAgICBjb2xsYXBzZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgfSBlbHNlIGlmKGNvbGxhcHNlKSB7XG4gICAgY29sbGFwc2UuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG4gIH1cblxuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbGxhcHNlTGV2ZWxCb251c1Nob3BMaW5rXCIpLm9uY2xpY2sgPSBlID0+IHtcbiAgY29uc3QgY29sbGFwc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbGxhcHNlTGV2ZWxCb251c1Nob3BcIik7XG5cbiAgaWYoY29sbGFwc2UgJiYgY29sbGFwc2UuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2hvd1wiKSkge1xuICAgIGNvbGxhcHNlLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICB9IGVsc2UgaWYoY29sbGFwc2UpIHtcbiAgICBjb2xsYXBzZS5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgfVxuXG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbn07XG5cbmZ1bmN0aW9uIGRpc3BsYXlTZXJ2ZXJMaXN0KCkge1xuICBzZWxlY3RNb2RlKEJBVFRMRV9ST1lBTEVfT05MSU5FKTtcbiAgZGlzcGxheU1lbnUoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXJ2ZXJMaXN0Q29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIGxvYWRTZXJ2ZXJMaXN0KCk7XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib25saW5lQmF0dGxlUm95YWxlXCIpLm9uY2xpY2sgPSAoKSA9PiB7XG4gIGRpc3BsYXlTZXJ2ZXJMaXN0KCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhY2tUb1NlcnZlcnNSb29tc0xpc3RcIikub25jbGljayA9ICgpID0+IHtcbiAgb25saW5lQ2xpZW50LmRpc2Nvbm5lY3QoKTtcbiAgZGlzcGxheVNlcnZlckxpc3QoKTtcbn07XG5cbmZ1bmN0aW9uIGRpc3BsYXlSb29tc0xpc3QoKSB7XG4gIGRpc3BsYXlNZW51KCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVMaXN0Q29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIGRpc3BsYXlSb29tcygpO1xufVxuXG5mdW5jdGlvbiBkaXNwbGF5QXV0aGVudGljYXRpb24oKSB7XG4gIGRpc3BsYXlNZW51KCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVudVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXV0aGVudGljYXRpb25TZXJ2ZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUxldmVsTGlzdChwbGF5ZXIpIHtcbiAgZGlzcGxheU1lbnUoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbENvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxEb3dubG9hZGluZ1wiKS5pbm5lckhUTUwgPSBcIlwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bkRlYmxvY2tEaXZcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib251c0xpc3RcIikuaW5uZXJIVE1MID0gXCJcIjtcblxuICBpZihwbGF5ZXIgPT0gUExBWUVSX0hVTUFOKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZUxldmVsTGlzdFwiKS5pbm5lckhUTUwgPSBpMThuZXh0LnQoXCJsZXZlbHMudGl0bGVQbGF5ZXJcIik7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbExpc3REZWZhdWx0XCIpLmlubmVySFRNTCA9IGdldExpc3RMZXZlbChQTEFZRVJfSFVNQU4sIERFRkFVTFRfTEVWRUwpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxMaXN0RG93bmxvYWRBSVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbExpc3REb3dubG9hZFBsYXllclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxMaXN0RG93bmxvYWRQbGF5ZXJcIikuaW5uZXJIVE1MID0gZ2V0TGlzdExldmVsKFBMQVlFUl9IVU1BTiwgRE9XTkxPQURFRF9MRVZFTCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmcnVpdE51bWJlckNvdW50XCIpLmlubmVySFRNTCA9IGdldE51bWJlckZydWl0cyhQTEFZRVJfSFVNQU4pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9udXNMaXN0XCIpLmFwcGVuZENoaWxkKGdldExpc3RCb251cyhQTEFZRVJfSFVNQU4pKTtcbiAgfSBlbHNlIGlmKHBsYXllciA9PSBQTEFZRVJfQUkpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlTGV2ZWxMaXN0XCIpLmlubmVySFRNTCA9IGkxOG5leHQudChcImxldmVscy50aXRsZUFJXCIpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxMaXN0RGVmYXVsdFwiKS5pbm5lckhUTUwgPSBnZXRMaXN0TGV2ZWwoUExBWUVSX0FJLCBERUZBVUxUX0xFVkVMKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsTGlzdERvd25sb2FkQUlcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsTGlzdERvd25sb2FkUGxheWVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsTGlzdERvd25sb2FkQUlcIikuaW5uZXJIVE1MID0gZ2V0TGlzdExldmVsKFBMQVlFUl9BSSwgRE9XTkxPQURFRF9MRVZFTCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmcnVpdE51bWJlckNvdW50XCIpLmlubmVySFRNTCA9IGdldE51bWJlckZydWl0cyhQTEFZRVJfQUkpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9udXNMaXN0XCIpLmFwcGVuZENoaWxkKGdldExpc3RCb251cyhQTEFZRVJfQUkpKTtcbiAgfVxufVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsc1NvbG9QbGF5ZXJcIikub25jbGljayA9ICgpID0+IHtcbiAgZGlzcGxheUxldmVsTGlzdChQTEFZRVJfSFVNQU4pO1xufTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbHNTb2xvQUlcIikub25jbGljayA9ICgpID0+IHtcbiAgZGlzcGxheUxldmVsTGlzdChQTEFZRVJfQUkpO1xufTtcblxuZnVuY3Rpb24gY2hlY2tTYW1lR3JpZCgpIHtcbiAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYW1lR3JpZFwiKS5jaGVja2VkICYmIChzZWxlY3RlZE1vZGUgPT0gUExBWUVSX1ZTX0FJIHx8IHNlbGVjdGVkTW9kZSA9PSBBSV9WU19BSSB8fCBzZWxlY3RlZE1vZGUgPT0gQkFUVExFX1JPWUFMRSkpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzaXZlU3BlZWRcIikuY2hlY2tlZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZ3Jlc3NpdmVTcGVlZFwiKS5kaXNhYmxlZCA9IHRydWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdXRvUmV0cnlcIikuY2hlY2tlZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXV0b1JldHJ5XCIpLmRpc2FibGVkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzaXZlU3BlZWRcIikuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dG9SZXRyeVwiKS5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrR2FtZVNwZWVkKCkge1xuICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTcGVlZFwiKS52YWx1ZSA9PSBcImN1c3RvbVwiKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21TcGVlZFNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIH0gZWxzZSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21TcGVlZFNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgfVxufVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTcGVlZFwiKS5vbmNoYW5nZSA9ICgpID0+IHtcbiAgY2hlY2tHYW1lU3BlZWQoKTtcbn07XG5cbmZ1bmN0aW9uIGNoZWNrUGxheWVyKCkge1xuICBpZihzZWxlY3RlZE1vZGUgPT0gU09MT19QTEFZRVIgfHwgc2VsZWN0ZWRNb2RlID09IFBMQVlFUl9WU19BSSB8fCAoc2VsZWN0ZWRNb2RlID09IEJBVFRMRV9ST1lBTEUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXR0bGVBZ2FpbnN0QUlzXCIpLmNoZWNrZWQpKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwbGF5ZXJTZXR0aW5nc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyU2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrTWF6ZUdyaWQoKSB7XG4gIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWF6ZUdyaWRcIikuY2hlY2tlZCAmJiAoc2VsZWN0ZWRNb2RlID09IFNPTE9fQUkgfHwgc2VsZWN0ZWRNb2RlID09IFNPTE9fUExBWUVSKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9yZGVyV2FsbHNcIikuY2hlY2tlZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9yZGVyV2FsbHNcIikuZGlzYWJsZWQgPSB0cnVlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2VuZXJhdGVXYWxsc1wiKS5jaGVja2VkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnZW5lcmF0ZVdhbGxzXCIpLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFpQXNzaXN0YW50XCIpLmNoZWNrZWQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFpQXNzaXN0YW50XCIpLmRpc2FibGVkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvcmRlcldhbGxzXCIpLmRpc2FibGVkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnZW5lcmF0ZVdhbGxzXCIpLmRpc2FibGVkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhaUFzc2lzdGFudFwiKS5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRW5hYmxlQUkoKSB7XG4gIGlmKChzZWxlY3RlZE1vZGUgPT0gQkFUVExFX1JPWUFMRV9PTkxJTkUgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmFibGVBSVwiKS5jaGVja2VkICYmIG9ubGluZUNsaWVudC5zZXJ2ZXJTZXR0aW5ncyAmJiBvbmxpbmVDbGllbnQuc2VydmVyU2V0dGluZ3MuZW5hYmxlQUkpIHx8IChzZWxlY3RlZE1vZGUgIT0gQkFUVExFX1JPWUFMRV9PTkxJTkUgJiYgc2VsZWN0ZWRNb2RlICE9IFNPTE9fUExBWUVSKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWFTZXR0aW5nc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaWFTZXR0aW5nc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2FtZUNhbkZhaWxUb0luaXQoaGVpZ2h0R3JpZCwgd2lkdGhHcmlkLCBib3JkZXJXYWxscywgZ2VuZXJhdGVXYWxscywgbnVtYmVyUGxheWVycykge1xuICBoZWlnaHRHcmlkID0gcGFyc2VJbnQoaGVpZ2h0R3JpZCk7XG4gIHdpZHRoR3JpZCA9IHBhcnNlSW50KHdpZHRoR3JpZCk7XG5cbiAgbGV0IG51bWJlckVtcHR5Q2FzZXMgPSBoZWlnaHRHcmlkICogd2lkdGhHcmlkO1xuXG4gIGlmKGJvcmRlcldhbGxzKSB7XG4gICAgbnVtYmVyRW1wdHlDYXNlcyAtPSAoKCh3aWR0aEdyaWQgKyBoZWlnaHRHcmlkKSAqIDIpIC0gNCk7XG4gIH1cblxuICBpZihnZW5lcmF0ZVdhbGxzKSB7XG4gICAgaWYoYm9yZGVyV2FsbHMpIHtcbiAgICAgIG51bWJlckVtcHR5Q2FzZXMgLT0gKChoZWlnaHRHcmlkICogd2lkdGhHcmlkKSAqIDAuMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG51bWJlckVtcHR5Q2FzZXMgLT0gKChoZWlnaHRHcmlkICogd2lkdGhHcmlkKSAqIDAuMTY3NSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbmVlZGVkQ2FzZXMgPSBudW1iZXJQbGF5ZXJzICogNTtcblxuICBpZihudW1iZXJFbXB0eUNhc2VzID49IG5lZWRlZENhc2VzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRmFpbFNldHRpbmdzKCkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvc3NpYmxlRmFpbEluaXRHYW1lXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICBpZih2YWxpZGF0ZVNldHRpbmdzKHRydWUpKSB7XG4gICAgY29uc3QgaGVpZ2h0R3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVpZ2h0R3JpZFwiKS52YWx1ZTtcbiAgICBjb25zdCB3aWR0aEdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpZHRoR3JpZFwiKS52YWx1ZTtcbiAgICBjb25zdCBib3JkZXJXYWxscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9yZGVyV2FsbHNcIikuY2hlY2tlZDtcbiAgICBjb25zdCBnZW5lcmF0ZVdhbGxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnZW5lcmF0ZVdhbGxzXCIpLmNoZWNrZWQ7XG4gICAgY29uc3Qgc2FtZUdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhbWVHcmlkXCIpLmNoZWNrZWQ7XG4gICAgY29uc3QgbnVtYmVySUEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm51bWJlcklBXCIpLnZhbHVlO1xuICAgIGNvbnN0IGJhdHRsZUFnYWluc3RBSXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhdHRsZUFnYWluc3RBSXNcIikuY2hlY2tlZDtcblxuICAgIGxldCBudW1iZXJQbGF5ZXJzID0gMTtcblxuICAgIGlmKHNlbGVjdGVkTW9kZSA9PSBQTEFZRVJfVlNfQUkgfHwgc2VsZWN0ZWRNb2RlID09IEFJX1ZTX0FJKSB7XG4gICAgICBpZihzYW1lR3JpZCkge1xuICAgICAgICBudW1iZXJQbGF5ZXJzID0gMjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYoc2VsZWN0ZWRNb2RlID09IEJBVFRMRV9ST1lBTEUpIHtcbiAgICAgIGlmKHNhbWVHcmlkKSB7XG4gICAgICAgIGlmKGJhdHRsZUFnYWluc3RBSXMpIHtcbiAgICAgICAgICBudW1iZXJQbGF5ZXJzID0gcGFyc2VJbnQobnVtYmVySUEpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBudW1iZXJQbGF5ZXJzID0gbnVtYmVySUE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihnYW1lQ2FuRmFpbFRvSW5pdChoZWlnaHRHcmlkLCB3aWR0aEdyaWQsIGJvcmRlcldhbGxzLCBnZW5lcmF0ZVdhbGxzLCBudW1iZXJQbGF5ZXJzKSkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3NzaWJsZUZhaWxJbml0R2FtZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH1cbiAgfVxufVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhlaWdodEdyaWRcIikub25jaGFuZ2UgPSAoKSA9PiB7XG4gIGNoZWNrRmFpbFNldHRpbmdzKCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpZHRoR3JpZFwiKS5vbmNoYW5nZSA9ICgpID0+IHtcbiAgY2hlY2tGYWlsU2V0dGluZ3MoKTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9yZGVyV2FsbHNcIikub25jaGFuZ2UgPSAoKSA9PiB7XG4gIGNoZWNrRmFpbFNldHRpbmdzKCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbmVyYXRlV2FsbHNcIikub25jaGFuZ2UgPSAoKSA9PiB7XG4gIGNoZWNrRmFpbFNldHRpbmdzKCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhbWVHcmlkXCIpLm9uY2hhbmdlID0gKCkgPT4ge1xuICBjaGVja1NhbWVHcmlkKCk7XG4gIGNoZWNrR2FtZVNwZWVkKCk7XG4gIGNoZWNrRmFpbFNldHRpbmdzKCk7XG59O1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm51bWJlcklBXCIpLm9uY2hhbmdlID0gKCkgPT4ge1xuICBjaGVja0ZhaWxTZXR0aW5ncygpO1xufTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYXR0bGVBZ2FpbnN0QUlzXCIpLm9uY2hhbmdlID0gKCkgPT4ge1xuICBjaGVja1BsYXllcigpO1xuICBjaGVja0ZhaWxTZXR0aW5ncygpO1xufTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXplR3JpZFwiKS5vbmNoYW5nZSA9ICgpID0+IHtcbiAgY2hlY2tNYXplR3JpZCgpO1xufTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmFibGVBSVwiKS5vbmNoYW5nZSA9ICgpID0+IHtcbiAgY2hlY2tFbmFibGVBSSgpO1xufTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNldFNlZWRzXCIpLm9uY2xpY2sgPSBlID0+IHtcbiAgcmVzZXRGb3JtKGZhbHNlLCB0cnVlKTtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBlLnN0b3BQcm9wYWdhdGlvbigpO1xufTtcblxuZnVuY3Rpb24gcmVzZXRGb3JtKHJlc2V0VmFsdWVzLCByZXNldFNlZWRzKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZEhlaWdodFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZFdpZHRoXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWlnaHRHcmlkXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1pbnZhbGlkXCIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpZHRoR3JpZFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtaW52YWxpZFwiKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lU3BlZWRcIikuY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZFNwZWVkXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21TcGVlZFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtaW52YWxpZFwiKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZhbGlkQ3VzdG9tU3BlZWRcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFpTGV2ZWxcIikuY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZGFpTGV2ZWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm51bWJlcklBXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1pbnZhbGlkXCIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludmFsaWRJQU51bWJlclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VlZEdyaWRcIikuY2xhc3NMaXN0LnJlbW92ZShcImlzLWludmFsaWRcIik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZFNlZWRHcmlkXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWVkR2FtZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtaW52YWxpZFwiKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZhbGlkU2VlZEdhbWVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0TGV2ZWxzXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVN0YXR1c1wiKS5pbm5lckhUTUwgPSBcIlwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVPcmRlclwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTdGF0dXNFcnJvclwiKS5pbm5lckhUTUwgPSBcIlwiO1xuXG4gIGlmKHJlc2V0U2VlZHMpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlZWRHcmlkXCIpLnZhbHVlID0gbmV3IHNlZWRyYW5kb20oRGF0ZS5ub3coKSkuaW50MzIoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlZWRHYW1lXCIpLnZhbHVlID0gbmV3IHNlZWRyYW5kb20oRGF0ZS5ub3coKSArIDEpLmludDMyKCk7XG4gIH1cblxuICBpZihyZXNldFZhbHVlcykge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVpZ2h0R3JpZFwiKS52YWx1ZSA9IDIwO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2lkdGhHcmlkXCIpLnZhbHVlID0gMjA7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib3JkZXJXYWxsc1wiKS5jaGVja2VkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnZW5lcmF0ZVdhbGxzXCIpLmNoZWNrZWQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hemVHcmlkXCIpLmNoZWNrZWQgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNhbWVHcmlkXCIpLmNoZWNrZWQgPSB0cnVlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVNwZWVkXCIpLnZhbHVlID0gODtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzaXZlU3BlZWRcIikuY2hlY2tlZCA9IGZhbHNlO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VzdG9tU3BlZWRcIikudmFsdWUgPSA4O1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3VzdG9tU3BlZWRTZXR0aW5nc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhaUxldmVsXCIpLnZhbHVlID0gXCJub3JtYWxcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dG9SZXRyeVwiKS5jaGVja2VkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJudW1iZXJJQVwiKS52YWx1ZSA9IDIwO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmF0dGxlQWdhaW5zdEFJc1wiKS5jaGVja2VkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhaUFzc2lzdGFudFwiKS5jaGVja2VkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcml2YXRlR2FtZVwiKS5jaGVja2VkID0gZmFsc2U7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbmFibGVBSVwiKS5jaGVja2VkID0gZmFsc2U7XG4gIH1cblxuICBjaGVja1NhbWVHcmlkKCk7XG4gIGNoZWNrR2FtZVNwZWVkKCk7XG4gIGNoZWNrUGxheWVyKCk7XG4gIGNoZWNrRmFpbFNldHRpbmdzKCk7XG4gIGNoZWNrTWF6ZUdyaWQoKTtcbiAgY2hlY2tFbmFibGVBSSgpO1xufVxuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc2V0U2V0dGluZ3NcIikub25jbGljayA9ICgpID0+IHtcbiAgcmVzZXRGb3JtKHRydWUsIHRydWUpO1xufTtcblxuZnVuY3Rpb24gdmFsaWRhdGVTZXR0aW5ncyhyZXR1cm5WYWxpZGF0aW9uKSB7XG4gIGlmKCFyZXR1cm5WYWxpZGF0aW9uKSB7XG4gICAgcmVzZXRGb3JtKGZhbHNlLCBmYWxzZSk7XG4gIH1cblxuICBsZXQgaGVpZ2h0R3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVpZ2h0R3JpZFwiKS52YWx1ZTtcbiAgbGV0IHdpZHRoR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2lkdGhHcmlkXCIpLnZhbHVlO1xuICBsZXQgYm9yZGVyV2FsbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvcmRlcldhbGxzXCIpLmNoZWNrZWQ7XG4gIGxldCBnZW5lcmF0ZVdhbGxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnZW5lcmF0ZVdhbGxzXCIpLmNoZWNrZWQ7XG4gIGxldCBtYXplR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWF6ZUdyaWRcIikuY2hlY2tlZDtcbiAgbGV0IHNhbWVHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzYW1lR3JpZFwiKS5jaGVja2VkO1xuICBsZXQgc3BlZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTcGVlZFwiKS52YWx1ZTtcbiAgbGV0IHByb2dyZXNzaXZlU3BlZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2dyZXNzaXZlU3BlZWRcIikuY2hlY2tlZDtcbiAgbGV0IGN1c3RvbVNwZWVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21TcGVlZFwiKS52YWx1ZTtcbiAgbGV0IGFpTGV2ZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFpTGV2ZWxcIikudmFsdWU7XG4gIGxldCBhdXRvUmV0cnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dG9SZXRyeVwiKS5jaGVja2VkO1xuICBsZXQgbnVtYmVySUEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm51bWJlcklBXCIpLnZhbHVlO1xuICBsZXQgYmF0dGxlQWdhaW5zdEFJcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmF0dGxlQWdhaW5zdEFJc1wiKS5jaGVja2VkO1xuICBsZXQgc2VlZEdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlZWRHcmlkXCIpLnZhbHVlO1xuICBsZXQgc2VlZEdhbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlZWRHYW1lXCIpLnZhbHVlO1xuICBsZXQgcGxheWVySHVtYW5UeXBlO1xuXG4gIGxldCBtaW5HcmlkU2l6ZSA9IDU7XG4gIGxldCBtYXhHcmlkU2l6ZSA9IDEwMDtcbiAgbGV0IG1pblNwZWVkID0gMTtcbiAgbGV0IG1heFNwZWVkID0gMTAwO1xuICBsZXQgZW5hYmxlQUkgPSB0cnVlO1xuXG4gIGlmKHNlbGVjdGVkTW9kZSA9PSBCQVRUTEVfUk9ZQUxFX09OTElORSAmJiBvbmxpbmVDbGllbnQuc2VydmVyU2V0dGluZ3MpIHtcbiAgICBjb25zdCBzZXJ2ZXJTZXR0aW5ncyA9IG9ubGluZUNsaWVudC5zZXJ2ZXJTZXR0aW5ncztcblxuICAgIG1pbkdyaWRTaXplID0gc2VydmVyU2V0dGluZ3MubWluR3JpZFNpemUgIT0gdW5kZWZpbmVkID8gc2VydmVyU2V0dGluZ3MubWluR3JpZFNpemUgOiBtaW5HcmlkU2l6ZTtcbiAgICBtYXhHcmlkU2l6ZSA9IHNlcnZlclNldHRpbmdzLm1heEdyaWRTaXplICE9IHVuZGVmaW5lZCA/IHNlcnZlclNldHRpbmdzLm1heEdyaWRTaXplIDogbWF4R3JpZFNpemU7XG4gICAgbWluU3BlZWQgPSBzZXJ2ZXJTZXR0aW5ncy5taW5TcGVlZCAhPSB1bmRlZmluZWQgPyBzZXJ2ZXJTZXR0aW5ncy5taW5TcGVlZCA6IG1pblNwZWVkO1xuICAgIG1heFNwZWVkID0gc2VydmVyU2V0dGluZ3MubWF4U3BlZWQgIT0gdW5kZWZpbmVkID8gc2VydmVyU2V0dGluZ3MubWF4U3BlZWQgOiBtYXhTcGVlZDtcbiAgICBlbmFibGVBSSA9IHNlcnZlclNldHRpbmdzLmVuYWJsZUFJO1xuICB9XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZhbGlkSGVpZ2h0XCIpLnRleHRDb250ZW50ID0gaTE4bmV4dC50KFwic2V0dGluZ3MuaW52YWxpZFNpemVcIiwgeyBtaW46IG1pbkdyaWRTaXplLCBtYXg6IG1heEdyaWRTaXplIH0pO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludmFsaWRXaWR0aFwiKS50ZXh0Q29udGVudCA9IGkxOG5leHQudChcInNldHRpbmdzLmludmFsaWRTaXplXCIsIHsgbWluOiBtaW5HcmlkU2l6ZSwgbWF4OiBtYXhHcmlkU2l6ZSB9KTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZhbGlkU3BlZWRcIikudGV4dENvbnRlbnQgPSBpMThuZXh0LnQoXCJzZXR0aW5ncy5pbnZhbGlkU3BlZWRcIiwgeyBtaW46IG1pblNwZWVkLCBtYXg6IG1heFNwZWVkIH0pO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludmFsaWRDdXN0b21TcGVlZFwiKS50ZXh0Q29udGVudCA9IGkxOG5leHQudChcInNldHRpbmdzLmludmFsaWRTcGVlZFwiLCB7IG1pbjogbWluU3BlZWQsIG1heDogbWF4U3BlZWQgfSk7XG5cbiAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhaUFzc2lzdGFudFwiKS5jaGVja2VkKSB7XG4gICAgcGxheWVySHVtYW5UeXBlID0gUExBWUVSX0hZQlJJRF9IVU1BTl9BSTtcbiAgfSBlbHNlIHtcbiAgICBwbGF5ZXJIdW1hblR5cGUgPSBQTEFZRVJfSFVNQU47XG4gIH1cblxuICBsZXQgZm9ybVZhbGlkYXRlZCA9IHRydWU7XG5cbiAgaWYoaGVpZ2h0R3JpZC50cmltKCkgPT0gXCJcIiB8fCBpc05hTihoZWlnaHRHcmlkKSB8fCBoZWlnaHRHcmlkIDwgbWluR3JpZFNpemUgfHwgaGVpZ2h0R3JpZCA+IG1heEdyaWRTaXplKSB7XG4gICAgZm9ybVZhbGlkYXRlZCA9IGZhbHNlO1xuXG4gICAgaWYoIXJldHVyblZhbGlkYXRpb24pIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaGVpZ2h0R3JpZFwiKS5jbGFzc0xpc3QuYWRkKFwiaXMtaW52YWxpZFwiKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZEhlaWdodFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBoZWlnaHRHcmlkID0gcGFyc2VJbnQoaGVpZ2h0R3JpZCk7XG4gIH1cblxuICBpZih3aWR0aEdyaWQudHJpbSgpID09IFwiXCIgfHwgaXNOYU4od2lkdGhHcmlkKSB8fCB3aWR0aEdyaWQgPCBtaW5HcmlkU2l6ZSB8fCB3aWR0aEdyaWQgPiBtYXhHcmlkU2l6ZSkge1xuICAgIGZvcm1WYWxpZGF0ZWQgPSBmYWxzZTtcblxuICAgIGlmKCFyZXR1cm5WYWxpZGF0aW9uKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpZHRoR3JpZFwiKS5jbGFzc0xpc3QuYWRkKFwiaXMtaW52YWxpZFwiKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZFdpZHRoXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdpZHRoR3JpZCA9IHBhcnNlSW50KHdpZHRoR3JpZCk7XG4gIH1cblxuICBpZihzcGVlZCAhPSBcImN1c3RvbVwiICYmIChzcGVlZC50cmltKCkgPT0gXCJcIiB8fCBpc05hTihzcGVlZCkgfHwgc3BlZWQgPCBtaW5TcGVlZCB8fCBzcGVlZCA+IG1heFNwZWVkKSkge1xuICAgIGZvcm1WYWxpZGF0ZWQgPSBmYWxzZTtcblxuICAgIGlmKCFyZXR1cm5WYWxpZGF0aW9uKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTcGVlZFwiKS5jbGFzc0xpc3QuYWRkKFwiaXMtaW52YWxpZFwiKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZFNwZWVkXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuICB9IGVsc2UgaWYoc3BlZWQgIT0gXCJjdXN0b21cIikge1xuICAgIHNwZWVkID0gcGFyc2VJbnQoc3BlZWQpO1xuICB9XG5cbiAgaWYoc3BlZWQgPT0gXCJjdXN0b21cIiAmJiAoY3VzdG9tU3BlZWQudHJpbSgpID09IFwiXCIgfHwgaXNOYU4oY3VzdG9tU3BlZWQpIHx8IGN1c3RvbVNwZWVkIDwgbWluU3BlZWQgfHwgY3VzdG9tU3BlZWQgPiBtYXhTcGVlZCkpIHtcbiAgICBmb3JtVmFsaWRhdGVkID0gZmFsc2U7XG5cbiAgICBpZighcmV0dXJuVmFsaWRhdGlvbikge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21TcGVlZFwiKS5jbGFzc0xpc3QuYWRkKFwiaXMtaW52YWxpZFwiKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW52YWxpZEN1c3RvbVNwZWVkXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuICB9IGVsc2UgaWYoc3BlZWQgPT0gXCJjdXN0b21cIikge1xuICAgIHNwZWVkID0gcGFyc2VJbnQoY3VzdG9tU3BlZWQpO1xuICB9XG5cbiAgaWYoc2VsZWN0ZWRNb2RlICE9IFNPTE9fUExBWUVSICYmIHNlbGVjdGVkTW9kZSAhPSBCQVRUTEVfUk9ZQUxFX09OTElORSAmJiAoYWlMZXZlbCAhPSBcImxvd1wiICYmIGFpTGV2ZWwgIT0gXCJub3JtYWxcIiAmJiBhaUxldmVsICE9IFwiaGlnaFwiICYmIGFpTGV2ZWwgIT0gXCJyYW5kb21cIikpIHtcbiAgICBmb3JtVmFsaWRhdGVkID0gZmFsc2U7XG5cbiAgICBpZighcmV0dXJuVmFsaWRhdGlvbikge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhaUxldmVsXCIpLmNsYXNzTGlzdC5hZGQoXCJpcy1pbnZhbGlkXCIpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZhbGlkYWlMZXZlbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH1cbiAgfSBlbHNlIGlmKChzZWxlY3RlZE1vZGUgIT0gU09MT19QTEFZRVIgJiYgc2VsZWN0ZWRNb2RlICE9IEJBVFRMRV9ST1lBTEVfT05MSU5FKSB8fCAoc2VsZWN0ZWRNb2RlID09IEJBVFRMRV9ST1lBTEVfT05MSU5FICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5hYmxlQUlcIikuY2hlY2tlZCkpIHtcbiAgICBzd2l0Y2goYWlMZXZlbCkge1xuICAgICAgY2FzZSBcInJhbmRvbVwiOlxuICAgICAgICBhaUxldmVsID0gQUlfTEVWRUxfUkFORE9NO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsb3dcIjpcbiAgICAgICAgYWlMZXZlbCA9IEFJX0xFVkVMX0xPVztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibm9ybWFsXCI6XG4gICAgICAgIGFpTGV2ZWwgPSBBSV9MRVZFTF9ERUZBVUxUO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJoaWdoXCI6XG4gICAgICAgIGFpTGV2ZWwgPSBBSV9MRVZFTF9ISUdIO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ1bHRyYVwiOlxuICAgICAgICBhaUxldmVsID0gQUlfTEVWRUxfVUxUUkE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYWlMZXZlbCA9IEFJX0xFVkVMX0RFRkFVTFQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmKHNlbGVjdGVkTW9kZSA9PSBCQVRUTEVfUk9ZQUxFICYmIChudW1iZXJJQS50cmltKCkgPT0gXCJcIiB8fCBpc05hTihudW1iZXJJQSkgfHwgbnVtYmVySUEgPCAyIHx8IG51bWJlcklBID4gMTAwKSkge1xuICAgIGZvcm1WYWxpZGF0ZWQgPSBmYWxzZTtcblxuICAgIGlmKCFyZXR1cm5WYWxpZGF0aW9uKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm51bWJlcklBXCIpLmNsYXNzTGlzdC5hZGQoXCJpcy1pbnZhbGlkXCIpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZhbGlkSUFOdW1iZXJcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG4gIH0gZWxzZSBpZihzZWxlY3RlZE1vZGUgPT0gQkFUVExFX1JPWUFMRSkge1xuICAgIG51bWJlcklBID0gcGFyc2VJbnQobnVtYmVySUEpO1xuICB9XG5cbiAgaWYoc2VsZWN0ZWRNb2RlICE9IEJBVFRMRV9ST1lBTEVfT05MSU5FICYmIChzZWVkR3JpZC50cmltKCkgPT0gXCJcIiB8fCBpc05hTihzZWVkR3JpZCkpKSB7XG4gICAgZm9ybVZhbGlkYXRlZCA9IGZhbHNlO1xuXG4gICAgaWYoIXJldHVyblZhbGlkYXRpb24pIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VlZEdyaWRcIikuY2xhc3NMaXN0LmFkZChcImlzLWludmFsaWRcIik7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludmFsaWRTZWVkR3JpZFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH1cbiAgfVxuXG4gIGlmKHNlbGVjdGVkTW9kZSAhPSBCQVRUTEVfUk9ZQUxFX09OTElORSAmJiAoc2VlZEdhbWUudHJpbSgpID09IFwiXCIgfHwgaXNOYU4oc2VlZEdhbWUpKSkge1xuICAgIGZvcm1WYWxpZGF0ZWQgPSBmYWxzZTtcblxuICAgIGlmKCFyZXR1cm5WYWxpZGF0aW9uKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlZWRHYW1lXCIpLmNsYXNzTGlzdC5hZGQoXCJpcy1pbnZhbGlkXCIpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnZhbGlkU2VlZEdhbWVcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG4gIH1cblxuICBpZihzZWxlY3RlZE1vZGUgIT0gU09MT19BSSkge1xuICAgIGF1dG9SZXRyeSA9IGZhbHNlO1xuICB9XG5cbiAgaWYocmV0dXJuVmFsaWRhdGlvbikge1xuICAgIHJldHVybiBmb3JtVmFsaWRhdGVkO1xuICB9XG5cbiAgaWYoZm9ybVZhbGlkYXRlZCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVDcmVhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JSb29tQ3JlYXRpb25cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgaWYoc2VsZWN0ZWRNb2RlID09IEJBVFRMRV9ST1lBTEVfT05MSU5FKSB7XG4gICAgICBvbmxpbmVDbGllbnQuY3JlYXRlUm9vbSh7XG4gICAgICAgIHNwZWVkOiBzcGVlZCxcbiAgICAgICAgaGVpZ2h0R3JpZDogaGVpZ2h0R3JpZCxcbiAgICAgICAgd2lkdGhHcmlkOiB3aWR0aEdyaWQsXG4gICAgICAgIGJvcmRlcldhbGxzOiBib3JkZXJXYWxscyxcbiAgICAgICAgZ2VuZXJhdGVXYWxsczogZ2VuZXJhdGVXYWxscyxcbiAgICAgICAgY3VzdG9tU3BlZWQ6IGN1c3RvbVNwZWVkLFxuICAgICAgICBwcml2YXRlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaXZhdGVHYW1lXCIpLmNoZWNrZWQsXG4gICAgICAgIGVuYWJsZUFJOiBlbmFibGVBSSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW5hYmxlQUlcIikuY2hlY2tlZCA6IGZhbHNlLFxuICAgICAgICBsZXZlbEFJOiBhaUxldmVsXG4gICAgICB9LCBkYXRhID0+IHtcbiAgICAgICAgY29uc3QgZXJyb3JDb2RlID0gZGF0YS5lcnJvckNvZGU7XG5cbiAgICAgICAgaWYoZGF0YS5jb25uZWN0aW9uX2Vycm9yKSB7XG4gICAgICAgICAgaWYoZXJyb3JDb2RlID09IEdhbWVDb25zdGFudHMuRXJyb3IuQVVUSEVOVElDQVRJT05fUkVRVUlSRUQpIHtcbiAgICAgICAgICAgIGNvbm5lY3RUb1NlcnZlcihvbmxpbmVDbGllbnQudXJsLCBvbmxpbmVDbGllbnQucG9ydCk7XG4gICAgICAgICAgfSBlbHNlIGlmKGRhdGEgPT0gR2FtZUNvbnN0YW50cy5FcnJvci5ESVNDT05ORUNURUQpIHtcbiAgICAgICAgICAgIGFsZXJ0KGkxOG5leHQudChcInNlcnZlcnMuZGlzY29ubmVjdGVkRXJyb3JcIikpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZlckxpc3QoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoaTE4bmV4dC50KFwic2VydmVycy5jb25uZWN0aW9uRXJyb3JcIikpO1xuICAgICAgICAgICAgZGlzcGxheVNlcnZlckxpc3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYoZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBqb2luUm9vbShkYXRhLmNvZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZihlcnJvckNvZGUgPT0gR2FtZUNvbnN0YW50cy5FcnJvci5BVVRIRU5USUNBVElPTl9SRVFVSVJFRCkge1xuICAgICAgICAgICAgICBjb25uZWN0VG9TZXJ2ZXIob25saW5lQ2xpZW50LnVybCwgb25saW5lQ2xpZW50LnBvcnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGV0IGVycm9yQ29kZV90ZXh0ID0gXCJcIjtcbiAgXG4gICAgICAgICAgICAgIHN3aXRjaChlcnJvckNvZGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRXJyb3IuSU5WQUxJRF9TRVRUSU5HUzpcbiAgICAgICAgICAgICAgICAgIGVycm9yQ29kZV90ZXh0ID0gaTE4bmV4dC50KFwic2VydmVycy5lcnJvclJvb21DcmVhdGlvblJlYXNvbl9pbnZhbGlkU2V0dGluZ3NcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRXJyb3IuTUFYX1JPT01fTElNSVRfUkVBQ0hFRDpcbiAgICAgICAgICAgICAgICAgIGVycm9yQ29kZV90ZXh0ID0gaTE4bmV4dC50KFwic2VydmVycy5lcnJvclJvb21DcmVhdGlvblJlYXNvbl9tYXhSb29tTGltaXRSZWFjaGVkXCIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkVycm9yLkFMUkVBRFlfQ1JFQVRFRF9ST09NOlxuICAgICAgICAgICAgICAgICAgZXJyb3JDb2RlX3RleHQgPSBpMThuZXh0LnQoXCJzZXJ2ZXJzLmVycm9yUm9vbUNyZWF0aW9uUmVhc29uX2FscmVhZHlDcmVhdGVkUm9vbVwiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBlcnJvckNvZGVfdGV4dCA9IGkxOG5leHQudChcInNlcnZlcnMuZXJyb3JSZWFzb25fdW5rbm93blwiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gIFxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yUm9vbUNyZWF0aW9uXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JSb29tQ3JlYXRpb25SZWFzb25cIikudGV4dENvbnRlbnQgPSBlcnJvckNvZGVfdGV4dDtcbiAgICAgICAgICAgICAgZGlzcGxheVJvb21zTGlzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3NcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZW51XCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXJ2ZXJMaXN0Q29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVMaXN0Q29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVDcmVhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yUm9vbUNyZWF0aW9uXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25uZWN0aW5nVG9TZXJ2ZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc09ubGluZUpvaW5cIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdXRoZW50aWNhdGlvblNlcnZlclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIGxldCB0aXRsZUdhbWUgPSBcIlwiO1xuXG4gICAgICBzd2l0Y2goc2VsZWN0ZWRNb2RlKSB7XG4gICAgICAgIGNhc2UgU09MT19BSTpcbiAgICAgICAgICB0aXRsZUdhbWUgPSBpMThuZXh0LnQoXCJtZW51LnNvbG9BaVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTT0xPX1BMQVlFUjpcbiAgICAgICAgICB0aXRsZUdhbWUgPSBpMThuZXh0LnQoXCJtZW51LnNvbG9QbGF5ZXJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUExBWUVSX1ZTX0FJOlxuICAgICAgICAgIHRpdGxlR2FtZSA9IGkxOG5leHQudChcIm1lbnUucGxheWVyVnNBaVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBSV9WU19BSTpcbiAgICAgICAgICB0aXRsZUdhbWUgPSBpMThuZXh0LnQoXCJtZW51LmFpVnNBaVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBCQVRUTEVfUk9ZQUxFOlxuICAgICAgICAgIHRpdGxlR2FtZSA9IGkxOG5leHQudChcIm1lbnUuYmF0dGxlUm95YWxlXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlR2FtZVwiKS5pbm5lckhUTUwgPSBpMThuZXh0LnQoXCJnYW1lLmN1cnJlbnRNb2RlXCIpICsgXCIgXCIgKyB0aXRsZUdhbWU7XG5cbiAgICAgIGNvbnN0IGdhbWVzID0gW107XG5cbiAgICAgIGlmKHNlbGVjdGVkTW9kZSA9PSBTT0xPX0FJKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZCh3aWR0aEdyaWQsIGhlaWdodEdyaWQsIGdlbmVyYXRlV2FsbHMsIGJvcmRlcldhbGxzLCBtYXplR3JpZCwgbnVsbCwgZmFsc2UsIHNlZWRHcmlkLCBzZWVkR2FtZSk7XG4gICAgICAgIGNvbnN0IHNuYWtlID0gbmV3IFNuYWtlKFJJR0hULCAzLCBncmlkLCBQTEFZRVJfQUksIGFpTGV2ZWwsIGF1dG9SZXRyeSk7XG5cbiAgICAgICAgZ2FtZXMucHVzaChuZXcgR2FtZShncmlkLCBzbmFrZSwgc3BlZWQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNvbnRhaW5lclwiKSwgdHJ1ZSwgdHJ1ZSwgcHJvZ3Jlc3NpdmVTcGVlZCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgY3VzdG9tU2V0dGluZ3MpKTtcbiAgICAgIH0gZWxzZSBpZihzZWxlY3RlZE1vZGUgPT0gU09MT19QTEFZRVIpIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkKHdpZHRoR3JpZCwgaGVpZ2h0R3JpZCwgZ2VuZXJhdGVXYWxscywgYm9yZGVyV2FsbHMsIG1hemVHcmlkLCBudWxsLCBmYWxzZSwgc2VlZEdyaWQsIHNlZWRHYW1lKTtcbiAgICAgICAgY29uc3Qgc25ha2UgPSBuZXcgU25ha2UoUklHSFQsIDMsIGdyaWQsIHBsYXllckh1bWFuVHlwZSk7XG5cbiAgICAgICAgZ2FtZXMucHVzaChuZXcgR2FtZShncmlkLCBzbmFrZSwgc3BlZWQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNvbnRhaW5lclwiKSwgdHJ1ZSwgdHJ1ZSwgcHJvZ3Jlc3NpdmVTcGVlZCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgY3VzdG9tU2V0dGluZ3MpKTtcbiAgICAgIH0gZWxzZSBpZihzZWxlY3RlZE1vZGUgPT0gUExBWUVSX1ZTX0FJKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZCh3aWR0aEdyaWQsIGhlaWdodEdyaWQsIGdlbmVyYXRlV2FsbHMsIGJvcmRlcldhbGxzLCBmYWxzZSwgbnVsbCwgZmFsc2UsIHNlZWRHcmlkLCBzZWVkR2FtZSk7XG4gICAgICAgIGNvbnN0IHNuYWtlID0gbmV3IFNuYWtlKFJJR0hULCAzLCBncmlkLCBwbGF5ZXJIdW1hblR5cGUpO1xuXG4gICAgICAgIGlmKHNhbWVHcmlkKSB7XG4gICAgICAgICAgY29uc3Qgc25ha2UyID0gbmV3IFNuYWtlKFJJR0hULCAzLCBncmlkLCBQTEFZRVJfQUksIGFpTGV2ZWwsIGF1dG9SZXRyeSk7XG4gICAgICAgICAgZ2FtZXMucHVzaChuZXcgR2FtZShncmlkLCBbc25ha2UsIHNuYWtlMl0sIHNwZWVkLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVDb250YWluZXJcIiksIHRydWUsIHRydWUsIHByb2dyZXNzaXZlU3BlZWQsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIGN1c3RvbVNldHRpbmdzKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZ3JpZDIgPSBuZXcgR3JpZCh3aWR0aEdyaWQsIGhlaWdodEdyaWQsIGdlbmVyYXRlV2FsbHMsIGJvcmRlcldhbGxzLCBmYWxzZSwgbnVsbCwgZmFsc2UsIHBhcnNlSW50KHNlZWRHcmlkKSArIDEsIHBhcnNlSW50KHNlZWRHYW1lKSArIDEpO1xuICAgICAgICAgIGNvbnN0IHNuYWtlMiA9IG5ldyBTbmFrZShSSUdIVCwgMywgZ3JpZDIsIFBMQVlFUl9BSSwgYWlMZXZlbCwgYXV0b1JldHJ5KTtcblxuICAgICAgICAgIGdhbWVzLnB1c2gobmV3IEdhbWUoZ3JpZCwgc25ha2UsIHNwZWVkLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVDb250YWluZXJcIiksIHRydWUsIHRydWUsIHByb2dyZXNzaXZlU3BlZWQsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIGN1c3RvbVNldHRpbmdzKSk7XG4gICAgICAgICAgZ2FtZXMucHVzaChuZXcgR2FtZShncmlkMiwgc25ha2UyLCBzcGVlZCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQ29udGFpbmVyXCIpLCBmYWxzZSwgZmFsc2UsIHByb2dyZXNzaXZlU3BlZWQsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIGN1c3RvbVNldHRpbmdzKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZihzZWxlY3RlZE1vZGUgPT0gQUlfVlNfQUkpIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkKHdpZHRoR3JpZCwgaGVpZ2h0R3JpZCwgZ2VuZXJhdGVXYWxscywgYm9yZGVyV2FsbHMsIGZhbHNlLCBudWxsLCBmYWxzZSwgc2VlZEdyaWQsIHNlZWRHYW1lKTtcbiAgICAgICAgY29uc3Qgc25ha2UgPSBuZXcgU25ha2UoUklHSFQsIDMsIGdyaWQsIFBMQVlFUl9BSSwgYWlMZXZlbCwgYXV0b1JldHJ5KTtcblxuICAgICAgICBpZihzYW1lR3JpZCkge1xuICAgICAgICAgIGNvbnN0IHNuYWtlMiA9IG5ldyBTbmFrZShSSUdIVCwgMywgZ3JpZCwgUExBWUVSX0FJLCBhaUxldmVsLCBhdXRvUmV0cnkpO1xuICAgICAgICAgIGdhbWVzLnB1c2gobmV3IEdhbWUoZ3JpZCwgW3NuYWtlLCBzbmFrZTJdLCBzcGVlZCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQ29udGFpbmVyXCIpLCB0cnVlLCB0cnVlLCBwcm9ncmVzc2l2ZVNwZWVkLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBjdXN0b21TZXR0aW5ncykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGdyaWQyID0gbmV3IEdyaWQod2lkdGhHcmlkLCBoZWlnaHRHcmlkLCBnZW5lcmF0ZVdhbGxzLCBib3JkZXJXYWxscywgZmFsc2UsIG51bGwsIGZhbHNlLCBwYXJzZUludChzZWVkR3JpZCkgKyAxLCBwYXJzZUludChzZWVkR2FtZSkgKyAxKTtcbiAgICAgICAgICBjb25zdCBzbmFrZTIgPSBuZXcgU25ha2UoUklHSFQsIDMsIGdyaWQyLCBQTEFZRVJfQUksIGFpTGV2ZWwsIGF1dG9SZXRyeSk7XG5cbiAgICAgICAgICBnYW1lcy5wdXNoKG5ldyBHYW1lKGdyaWQsIHNuYWtlLCBzcGVlZCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQ29udGFpbmVyXCIpLCB0cnVlLCB0cnVlLCBwcm9ncmVzc2l2ZVNwZWVkLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBjdXN0b21TZXR0aW5ncykpO1xuICAgICAgICAgIGdhbWVzLnB1c2gobmV3IEdhbWUoZ3JpZDIsIHNuYWtlMiwgc3BlZWQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNvbnRhaW5lclwiKSwgdHJ1ZSwgdHJ1ZSwgcHJvZ3Jlc3NpdmVTcGVlZCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgY3VzdG9tU2V0dGluZ3MpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmKHNlbGVjdGVkTW9kZSA9PSBCQVRUTEVfUk9ZQUxFKSB7XG4gICAgICAgIGlmKHNhbWVHcmlkKSB7XG4gICAgICAgICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkKHdpZHRoR3JpZCwgaGVpZ2h0R3JpZCwgZ2VuZXJhdGVXYWxscywgYm9yZGVyV2FsbHMsIGZhbHNlLCBudWxsLCBmYWxzZSwgc2VlZEdyaWQsIHNlZWRHYW1lKTtcbiAgICAgICAgICBjb25zdCBzbmFrZXMgPSBbXTtcblxuICAgICAgICAgIGlmKGJhdHRsZUFnYWluc3RBSXMpIHtcbiAgICAgICAgICAgIHNuYWtlcy5wdXNoKG5ldyBTbmFrZShSSUdIVCwgMywgZ3JpZCwgcGxheWVySHVtYW5UeXBlLCBhaUxldmVsLCBhdXRvUmV0cnkpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbnVtYmVySUE7IGkrKykge1xuICAgICAgICAgICAgc25ha2VzLnB1c2gobmV3IFNuYWtlKFJJR0hULCAzLCBncmlkLCBQTEFZRVJfQUksIGFpTGV2ZWwsIGF1dG9SZXRyeSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGdhbWVzLnB1c2gobmV3IEdhbWUoZ3JpZCwgc25ha2VzLCBzcGVlZCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQ29udGFpbmVyXCIpLCB0cnVlLCB0cnVlLCBwcm9ncmVzc2l2ZVNwZWVkLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBjdXN0b21TZXR0aW5ncykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmKGJhdHRsZUFnYWluc3RBSXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZCh3aWR0aEdyaWQsIGhlaWdodEdyaWQsIGdlbmVyYXRlV2FsbHMsIGJvcmRlcldhbGxzLCBmYWxzZSwgbnVsbCwgZmFsc2UsIHNlZWRHcmlkLCBzZWVkR2FtZSk7XG4gICAgICAgICAgICBjb25zdCBzbmFrZSA9IG5ldyBTbmFrZShSSUdIVCwgMywgZ3JpZCwgcGxheWVySHVtYW5UeXBlLCBhaUxldmVsLCBhdXRvUmV0cnkpO1xuXG4gICAgICAgICAgICBnYW1lcy5wdXNoKG5ldyBHYW1lKGdyaWQsIHNuYWtlLCBzcGVlZCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQ29udGFpbmVyXCIpLCB0cnVlLCBmYWxzZSwgcHJvZ3Jlc3NpdmVTcGVlZCwgMzUwLCAyNTAsIG51bGwsIG51bGwsIGN1c3RvbVNldHRpbmdzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG51bWJlcklBOyBpKyspIHtcbiAgICAgICAgICAgIHNlZWRHcmlkKys7XG4gICAgICAgICAgICBzZWVkR2FtZSsrO1xuXG4gICAgICAgICAgICBjb25zdCBncmlkID0gbmV3IEdyaWQod2lkdGhHcmlkLCBoZWlnaHRHcmlkLCBnZW5lcmF0ZVdhbGxzLCBib3JkZXJXYWxscywgZmFsc2UsIG51bGwsIGZhbHNlLCBzZWVkR3JpZCwgc2VlZEdhbWUpO1xuICAgICAgICAgICAgY29uc3Qgc25ha2UgPSBuZXcgU25ha2UoUklHSFQsIDMsIGdyaWQsIFBMQVlFUl9BSSwgYWlMZXZlbCwgYXV0b1JldHJ5KTtcblxuICAgICAgICAgICAgZ2FtZXMucHVzaChuZXcgR2FtZShncmlkLCBzbmFrZSwgc3BlZWQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNvbnRhaW5lclwiKSwgdHJ1ZSwgZmFsc2UsIHByb2dyZXNzaXZlU3BlZWQsIDM1MCwgMjUwLCBudWxsLCBudWxsLCBjdXN0b21TZXR0aW5ncykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBncm91cCA9IG5ldyBHYW1lR3JvdXAoZ2FtZXMpO1xuICAgICAgZ3JvdXAuc2V0RGlzcGxheUZQUyhjdXN0b21TZXR0aW5ncy5zaG93RGVidWdJbmZvID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICAgIGdyb3VwLnN0YXJ0KCk7XG5cbiAgICAgIGlmKGdyb3VwLmdhbWVzWzBdLmNhbnZhcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgZ3JvdXAuZ2FtZXNbMF0uY2FudmFzLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICB9XG5cbiAgICAgIGlmKG1hemVHcmlkICYmIChzZWxlY3RlZE1vZGUgPT0gU09MT19BSSB8fCBzZWxlY3RlZE1vZGUgPT0gU09MT19QTEFZRVIpKSB7XG4gICAgICAgIGdyb3VwLnNldE5vdGlmaWNhdGlvbihuZXcgTm90aWZpY2F0aW9uTWVzc2FnZShpMThuZXh0LnQoXCJlbmdpbmUubWF6ZU1vZGVcIiksIG51bGwsIEdhbWVDb25zdGFudHMuU2V0dGluZy5JTkZPX05PVElGX0NPTE9SLCA1LCBudWxsLCBudWxsLCBudWxsLCB0cnVlKSk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFja1RvTWVudUdhbWVcIikub25jbGljayA9ICgpID0+IHtcbiAgICAgICAgaWYoY29uZmlybShpMThuZXh0LnQoXCJnYW1lLmNvbmZpcm1RdWl0XCIpKSkge1xuICAgICAgICAgIGdyb3VwLmtpbGxBbGwoKTtcbiAgICAgICAgICBkaXNwbGF5TWVudSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBncm91cC5vblN0b3AoKCkgPT4ge1xuICAgICAgICBpZihzZWxlY3RlZE1vZGUgPT0gUExBWUVSX1ZTX0FJIHx8IHNlbGVjdGVkTW9kZSA9PSBBSV9WU19BSSB8fCBzZWxlY3RlZE1vZGUgPT0gQkFUVExFX1JPWUFMRSAmJiAhZ3JvdXAuZXJyb3JPY2N1cnJlZCgpKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdE1lc3NhZ2UgPSBcIlwiO1xuICAgICAgICAgIGNvbnN0IHdpbm5lcnMgPSBncm91cC5nZXRXaW5uZXJzKCk7XG5cbiAgICAgICAgICBpZihzZWxlY3RlZE1vZGUgPT0gUExBWUVSX1ZTX0FJKSB7XG4gICAgICAgICAgICBpZih3aW5uZXJzLmluZGV4Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgIHJlc3VsdE1lc3NhZ2UgPSBpMThuZXh0LnQoXCJnYW1lLmVxdWFsaXR5UGxheWVyVlNBSVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih3aW5uZXJzLmluZGV4WzBdID09IDApIHtcbiAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZSA9IGkxOG5leHQudChcImdhbWUud2luUGxheWVyVlNBSVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih3aW5uZXJzLmluZGV4WzBdID09IDEpIHtcbiAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZSA9IGkxOG5leHQudChcImdhbWUubG9zZVBsYXllclZTQUlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdGVkTW9kZSA9PSBBSV9WU19BSSkge1xuICAgICAgICAgICAgaWYod2lubmVycy5pbmRleC5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICByZXN1bHRNZXNzYWdlID0gaTE4bmV4dC50KFwiZ2FtZS5vbmVXaW5uZXJBSVZTQUlcIiwgeyBudW1XaW5uZXI6IHdpbm5lcnMuaW5kZXhbMF0gKyAxIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHdpbm5lcnMuaW5kZXgubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZSA9IGkxOG5leHQudChcImdhbWUuZXF1YWxpdHlBSVZTQUlcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmKHNlbGVjdGVkTW9kZSA9PSBCQVRUTEVfUk9ZQUxFKSB7XG4gICAgICAgICAgICBpZih3aW5uZXJzLmluZGV4Lmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgIGlmKGJhdHRsZUFnYWluc3RBSXMgJiYgd2lubmVycy5pbmRleFswXSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZSA9IGkxOG5leHQudChcImdhbWUucGxheWVyV2lubmVyQmF0dGxlUm95YWxlXCIsIHsgc2NvcmU6IHdpbm5lcnMuc2NvcmUgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZSA9IGkxOG5leHQudChcImdhbWUub25lV2lubmVyQmF0dGxlUm95YWxlXCIsIHsgbnVtV2lubmVyOiAoYmF0dGxlQWdhaW5zdEFJcyA/IHdpbm5lcnMuaW5kZXhbMF0gOiB3aW5uZXJzLmluZGV4WzBdICsgMSksIHNjb3JlOiB3aW5uZXJzLnNjb3JlIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYoYmF0dGxlQWdhaW5zdEFJcyAmJiB3aW5uZXJzLmluZGV4Lmxlbmd0aCA9PSAyICYmIHdpbm5lcnMuaW5kZXhbMF0gPT0gMCkge1xuICAgICAgICAgICAgICByZXN1bHRNZXNzYWdlID0gaTE4bmV4dC50KFwiZ2FtZS53aW5uZXJBSUJhdHRsZVJveWFsZVwiKSArIFwiIFwiICsgaTE4bmV4dC50KFwiZ2FtZS53aW5uZXJzTnVtQmF0dGxlUm95YWxlXCIsIHsgbnVtV2lubmVyOiB3aW5uZXJzLmluZGV4WzFdIH0pICsgXCIgXCIgKyBpMThuZXh0LnQoXCJnYW1lLmFuZFBsYXllcldpbm5lcnNCYXR0bGVSb3lhbGVcIikgKyBcIiBcIiArIGkxOG5leHQudChcImdhbWUud2luUGxheWVyU2NvcmVCYXR0bGVSb3lhbGVcIiwgeyBzY29yZTogd2lubmVycy5zY29yZSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih3aW5uZXJzLmluZGV4Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgbGV0IHBsYXllcldpbm5lckJhdHRsZVJveWFsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICByZXN1bHRNZXNzYWdlID0gaTE4bmV4dC50KFwiZ2FtZS53aW5uZXJzQmF0dGxlUm95YWxlXCIpICsgXCIgXCI7XG5cbiAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHdpbm5lcnMuaW5kZXgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZihiYXR0bGVBZ2FpbnN0QUlzICYmIHdpbm5lcnMuaW5kZXhbaV0gPT0gMCkge1xuICAgICAgICAgICAgICAgICAgcGxheWVyV2lubmVyQmF0dGxlUm95YWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZSA9IHJlc3VsdE1lc3NhZ2UgKyBpMThuZXh0LnQoXCJnYW1lLndpbm5lcnNOdW1CYXR0bGVSb3lhbGVcIiwgeyBudW1XaW5uZXI6IChiYXR0bGVBZ2FpbnN0QUlzID8gd2lubmVycy5pbmRleFtpXSA6IHdpbm5lcnMuaW5kZXhbaV0gKyAxKSB9KTtcblxuICAgICAgICAgICAgICAgICAgaWYoKGkgKyAxKSA8IHdpbm5lcnMuaW5kZXgubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRNZXNzYWdlID0gcmVzdWx0TWVzc2FnZSArIFwiLCBcIjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZigoaSArIDEpID09IHdpbm5lcnMuaW5kZXgubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRNZXNzYWdlID0gcmVzdWx0TWVzc2FnZSArIFwiIFwiICsgaTE4bmV4dC50KFwiZ2FtZS5hbmRXaW5uZXJzQmF0dGxlUm95YWxlXCIpICsgXCIgXCI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYoYmF0dGxlQWdhaW5zdEFJcyAmJiBwbGF5ZXJXaW5uZXJCYXR0bGVSb3lhbGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRNZXNzYWdlID0gcmVzdWx0TWVzc2FnZSArIFwiIFwiICsgaTE4bmV4dC50KFwiZ2FtZS5hbmRQbGF5ZXJXaW5uZXJzQmF0dGxlUm95YWxlXCIpICsgXCIgXCIgKyBpMThuZXh0LnQoXCJnYW1lLndpblBsYXllclNjb3JlQmF0dGxlUm95YWxlXCIsIHsgc2NvcmU6IHdpbm5lcnMuc2NvcmUgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0TWVzc2FnZSA9IHJlc3VsdE1lc3NhZ2UgKyBcIiBcIiArIGkxOG5leHQudChcImdhbWUud2luU2NvcmVCYXR0bGVSb3lhbGVcIiwgeyBzY29yZTogd2lubmVycy5zY29yZSB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKHJlc3VsdE1lc3NhZ2UudHJpbSgpICE9IFwiXCIpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZU9yZGVyXCIpLmlubmVySFRNTCA9IHJlc3VsdE1lc3NhZ2U7XG4gICAgICAgICAgICBncm91cC5zZXROb3RpZmljYXRpb24obmV3IE5vdGlmaWNhdGlvbk1lc3NhZ2UocmVzdWx0TWVzc2FnZSwgbnVsbCwgR2FtZUNvbnN0YW50cy5TZXR0aW5nLklORk9fTk9USUZfQ09MT1IsIDE1LCBudWxsLCBudWxsLCBudWxsLCB0cnVlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZ3JvdXAub25FeGl0KCgpID0+IHtcbiAgICAgICAgaWYoc2VsZWN0ZWRNb2RlID09IFNPTE9fQUkgfHwgc2VsZWN0ZWRNb2RlID09IFNPTE9fUExBWUVSIHx8IHNlbGVjdGVkTW9kZSA9PSBBSV9WU19BSSB8fCAoc2VsZWN0ZWRNb2RlID09IFBMQVlFUl9WU19BSSAmJiBzYW1lR3JpZCkgfHwgKHNlbGVjdGVkTW9kZSA9PSBCQVRUTEVfUk9ZQUxFICYmIHNhbWVHcmlkKSkge1xuICAgICAgICAgIGdyb3VwLmtpbGxBbGwoKTtcbiAgICAgICAgICBkaXNwbGF5TWVudSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZ3JvdXAub25SZXNldCgoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0TGV2ZWxzXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVN0YXR1c1wiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVPcmRlclwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTdGF0dXNFcnJvclwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBncm91cC5jbG9zZU5vdGlmaWNhdGlvbigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmFsaWRhdGVTZXR0aW5nc1wiKS5vbmNsaWNrID0gKCkgPT4ge1xuICB2YWxpZGF0ZVNldHRpbmdzKCk7XG59O1xuXG4vLyBMZXZlbHNcbmNvbnN0IGxldmVsc0JvbnVzRGF0YSA9IHtcbiAgXCJCT05VU19BSV9BU1NJU1RBTlRcIjoge1xuICAgIFwidGV4dFwiOiBcImxldmVscy5ib251cy5haUFzc2lzdGFudFwiLFxuICAgIFwiaW5mb3JtYXRpb25cIjogXCJsZXZlbHMuYm9udXMuYWlBc3Npc3RhbnRJbmZvXCIsXG4gICAgXCJwcmljZVwiOiAyNSxcbiAgICBcImFwcGxpY2FibGVUb1wiOiBbR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOXVxuICB9LFxuICBcIkJPTlVTX0lOQ1JFQVNFX0dPTERfRlJVSVRfUFJPQlwiOiB7XG4gICAgXCJ0ZXh0XCI6IFwibGV2ZWxzLmJvbnVzLmluY3JlYXNlR29sZEZydWl0c1wiLFxuICAgIFwiaW5mb3JtYXRpb25cIjogXCJsZXZlbHMuYm9udXMuaW5jcmVhc2VHb2xkRnJ1aXRzSW5mb1wiLFxuICAgIFwicHJpY2VcIjogNTAsXG4gICAgXCJhcHBsaWNhYmxlVG9cIjogW0dhbWVDb25zdGFudHMuUGxheWVyVHlwZS5BSSwgR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOXVxuICB9LFxuICBcIkJPTlVTX05PX1RJTUVfTElNSVRcIjoge1xuICAgIFwidGV4dFwiOiBcImxldmVscy5ib251cy5ub1RpbWVMaW1pdFwiLFxuICAgIFwiaW5mb3JtYXRpb25cIjogXCJsZXZlbHMuYm9udXMubm9UaW1lTGltaXRJbmZvXCIsXG4gICAgXCJwcmljZVwiOiA3NSxcbiAgICBcImFwcGxpY2FibGVUb1wiOiBbR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkFJLCBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFVNQU5dXG4gIH0sXG4gIFwiQk9OVVNfREVTVFJPWV9BSVNcIjoge1xuICAgIFwidGV4dFwiOiBcImxldmVscy5ib251cy5kZXN0cm95QWlzXCIsXG4gICAgXCJpbmZvcm1hdGlvblwiOiBcImxldmVscy5ib251cy5kZXN0cm95QWlzSW5mb1wiLFxuICAgIFwicHJpY2VcIjogNzUsXG4gICAgXCJhcHBsaWNhYmxlVG9cIjogW0dhbWVDb25zdGFudHMuUGxheWVyVHlwZS5BSSwgR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOXVxuICB9LFxuICBcIkJPTlVTX1BBU1NfTEVWRUxcIjoge1xuICAgIFwidGV4dFwiOiBcImxldmVscy5ib251cy5wYXNzTGV2ZWxcIixcbiAgICBcImluZm9ybWF0aW9uXCI6IFwibGV2ZWxzLmJvbnVzLnBhc3NMZXZlbEluZm9cIixcbiAgICBcInByaWNlXCI6IDEwMCxcbiAgICBcImFwcGxpY2FibGVUb1wiOiBbR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkFJLCBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFVNQU5dXG4gIH0sXG4gIFwiQk9OVVNfVU5MT0NLX0FMTF9MRVZFTFNcIjoge1xuICAgIFwidGV4dFwiOiBcImxldmVscy5ib251cy51bmxvY2tBbGxMZXZlbHNcIixcbiAgICBcImluZm9ybWF0aW9uXCI6IFwibGV2ZWxzLmJvbnVzLnVubG9ja0FsbExldmVsc0luZm9cIixcbiAgICBcInByaWNlXCI6IDEwMDAsXG4gICAgXCJhcHBsaWNhYmxlVG9cIjogW0dhbWVDb25zdGFudHMuUGxheWVyVHlwZS5BSSwgR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOXVxuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRUaXRsZVNhdmUocGxheWVyLCB0eXBlKSB7XG4gIGlmKHR5cGUgPT0gREVGQVVMVF9MRVZFTCkge1xuICAgIGlmKHBsYXllciA9PSBQTEFZRVJfSFVNQU4pIHtcbiAgICAgIHJldHVybiBTT0xPX1BMQVlFUl9TQVZFICsgXCJkZWZhdXRMZXZlbHNTYXZlXCI7XG4gICAgfSBlbHNlIGlmKHBsYXllciA9PSBQTEFZRVJfQUkpIHtcbiAgICAgIHJldHVybiBTT0xPX0FJX1NBVkUgKyBcImRlZmF1dExldmVsc1NhdmVcIjtcbiAgICB9XG4gIH0gZWxzZSBpZih0eXBlID09IERPV05MT0FERURfTEVWRUwpIHtcbiAgICBpZihwbGF5ZXIgPT0gUExBWUVSX0hVTUFOKSB7XG4gICAgICByZXR1cm4gU09MT19QTEFZRVJfU0FWRSArIFwiZG93bmxvYWRlZExldmVsc1NhdmVcIjtcbiAgICB9IGVsc2UgaWYocGxheWVyID09IFBMQVlFUl9BSSkge1xuICAgICAgcmV0dXJuIFNPTE9fQUlfU0FWRSArIFwiZG93bmxvYWRlZExldmVsc1NhdmVcIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gZ2V0U2F2ZShwbGF5ZXIsIHR5cGUpIHtcbiAgaWYoc3RvcmFnZUdsb2JhbC5nZXRJdGVtKGdldFRpdGxlU2F2ZShwbGF5ZXIsIHR5cGUpKSA9PSBudWxsKSB7XG4gICAgaW5pdFNhdmVMZXZlbChwbGF5ZXIsIHR5cGUsIGZhbHNlKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzID0gSlNPTi5wYXJzZShzdG9yYWdlR2xvYmFsLmdldEl0ZW0oZ2V0VGl0bGVTYXZlKHBsYXllciwgdHlwZSkpKTtcbiAgICByZXR1cm4gcmVzO1xuICB9IGNhdGNoKGUpIHtcbiAgICBpbml0U2F2ZUxldmVsKHBsYXllciwgdHlwZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIGdldFNhdmUocGxheWVyLCB0eXBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRMZXZlbFNhdmUobGV2ZWwsIHBsYXllciwgdHlwZSkge1xuICByZXR1cm4gZ2V0U2F2ZShwbGF5ZXIsIHR5cGUpW2xldmVsXTtcbn1cblxuZnVuY3Rpb24gc2V0TGV2ZWxTYXZlKHZhbHVlLCBsZXZlbCwgcGxheWVyLCB0eXBlLCBzY29yZSkge1xuICBjb25zdCBzYXZlID0gZ2V0VGl0bGVTYXZlKHBsYXllciwgdHlwZSk7XG4gIGNvbnN0IGl0ZW0gPSBnZXRTYXZlKHBsYXllciwgdHlwZSk7XG4gIGNvbnN0IGxldmVscyA9IGdldExldmVscyhwbGF5ZXIsIHR5cGUpO1xuXG4gIGlmKGl0ZW0gIT0gbnVsbCkge1xuICAgIGlmKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA+PSAyICYmIEFycmF5LmlzQXJyYXkoaXRlbVtsZXZlbF0pICYmIGl0ZW1bbGV2ZWxdLmxlbmd0aCA+PSAyICYmIGl0ZW1bbGV2ZWxdWzBdID09IHRydWUpIHtcbiAgICAgIGlmKGxldmVsc1tsZXZlbF1bXCJ0eXBlXCJdICE9IExFVkVMX1JFQUNIX1NDT1JFX09OX1RJTUUgJiYgbGV2ZWxzW2xldmVsXVtcInR5cGVcIl0gIT0gTEVWRUxfTVVMVElfUkVBQ0hfU0NPUkVfRklSU1QgJiYgbGV2ZWxzW2xldmVsXVtcInR5cGVcIl0gIT0gTEVWRUxfTUFaRV9XSU4pIHtcbiAgICAgICAgaWYodmFsdWVbMV0gPCBpdGVtW2xldmVsXVsxXSkge1xuICAgICAgICAgIHZhbHVlWzFdID0gaXRlbVtsZXZlbF1bMV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKHZhbHVlWzFdID4gaXRlbVtsZXZlbF1bMV0pIHtcbiAgICAgICAgICB2YWx1ZVsxXSA9IGl0ZW1bbGV2ZWxdWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaXRlbVtsZXZlbF0gPSB2YWx1ZTtcbiAgICBzdG9yYWdlR2xvYmFsLnNldEl0ZW0oc2F2ZSwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNldEFkZEZydWl0TGV2ZWxTYXZlKHBsYXllciwgc2NvcmUpIHtcbiAgY29uc3Qgc2F2ZSA9IGdldFRpdGxlU2F2ZShwbGF5ZXIsIERFRkFVTFRfTEVWRUwpO1xuICBjb25zdCBpdGVtID0gZ2V0U2F2ZShwbGF5ZXIsIERFRkFVTFRfTEVWRUwpO1xuXG4gIGlmKGl0ZW0gIT0gbnVsbCkge1xuICAgIGlmKCFpdGVtW1wibnVtRnJ1aXRzXCJdIHx8IGlzTmFOKGl0ZW1bXCJudW1GcnVpdHNcIl0pKSB7XG4gICAgICBpdGVtW1wibnVtRnJ1aXRzXCJdID0gMDtcbiAgICB9XG5cbiAgICBpdGVtW1wibnVtRnJ1aXRzXCJdICs9IHNjb3JlO1xuICAgIHN0b3JhZ2VHbG9iYWwuc2V0SXRlbShzYXZlLCBKU09OLnN0cmluZ2lmeShpdGVtKSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW5pdFNhdmVMZXZlbChwbGF5ZXIsIHR5cGUsIGZvcmNlKSB7XG4gIGlmKHR5cGVvZihTdG9yYWdlKSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IHNhdmUgPSBnZXRUaXRsZVNhdmUocGxheWVyLCB0eXBlKTtcbiAgICBjb25zdCBpdGVtID0gc3RvcmFnZUdsb2JhbC5nZXRJdGVtKHNhdmUpO1xuXG4gICAgaWYoaXRlbSA9PSBudWxsIHx8IGZvcmNlKSB7XG4gICAgICBzdG9yYWdlR2xvYmFsLnNldEl0ZW0oc2F2ZSwgSlNPTi5zdHJpbmdpZnkoeyB2ZXJzaW9uOiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT04sIG51bUZydWl0czogMCwgY3VycmVudEJvbnVzOiBudWxsLCB1bmxvY2tBbGxMZXZlbHM6IGZhbHNlIH0pKTtcbiAgICAgIHNldExldmVsU2F2ZShbZmFsc2UsIDBdLCAxLCBwbGF5ZXIsIHR5cGUpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0TGV2ZWxzKHBsYXllciwgdHlwZSkge1xuICBpZih0eXBlID09IERFRkFVTFRfTEVWRUwpIHtcbiAgICBpZihwbGF5ZXIgPT0gUExBWUVSX0hVTUFOKSB7XG4gICAgICByZXR1cm4gREVGQVVMVF9MRVZFTFNfU09MT19QTEFZRVI7XG4gICAgfSBlbHNlIGlmKHBsYXllciA9PSBQTEFZRVJfQUkpIHtcbiAgICAgIHJldHVybiBERUZBVUxUX0xFVkVMU19TT0xPX0FJO1xuICAgIH1cbiAgfSBlbHNlIGlmKHR5cGUgPT0gRE9XTkxPQURFRF9MRVZFTCkge1xuICAgIGlmKHBsYXllciA9PSBQTEFZRVJfSFVNQU4pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0b3JhZ2VHbG9iYWwuZ2V0SXRlbShTT0xPX1BMQVlFUl9ET1dOTE9BRF9MRVZFTFNfVE8pKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYocGxheWVyID09IFBMQVlFUl9BSSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RvcmFnZUdsb2JhbC5nZXRJdGVtKFNPTE9fQUlfRE9XTkxPQURfTEVWRUxTX1RPKSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGNhblBsYXkobGV2ZWwsIHBsYXllciwgdHlwZSkge1xuICBpZihjdXN0b21TZXR0aW5ncy51bmxvY2tBbGxMZXZlbHMpIHJldHVybiB0cnVlO1xuICBpZihnZXRTYXZlKHBsYXllciwgREVGQVVMVF9MRVZFTCkudW5sb2NrQWxsTGV2ZWxzKSByZXR1cm4gdHJ1ZTtcblxuICBsZXQgcmVzID0gdHJ1ZTtcbiAgY29uc3QgbGV2ZWxzID0gZ2V0TGV2ZWxzKHBsYXllciwgdHlwZSk7XG5cbiAgaWYobGV2ZWxzID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmb3IobGV0IGkgPSAxOyBpIDwgbGV2ZWw7IGkrKykge1xuICAgIGNvbnN0IHNhdmUgPSBnZXRMZXZlbFNhdmUoaSwgcGxheWVyLCB0eXBlKTtcblxuICAgIGlmKHNhdmUgPT0gbnVsbCB8fCAoIXNhdmVbMF0gJiYgbGV2ZWxDb21wYXRpYmxlKGxldmVsc1tpXVtcInR5cGVcIl0sIGxldmVsc1tpXVtcInZlcnNpb25cIl0pKSkge1xuICAgICAgcmVzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gbGV2ZWxDb21wYXRpYmxlKGxldmVsVHlwZSwgdmVyc2lvbikge1xuICBpZigobGV2ZWxUeXBlICE9IExFVkVMX1JFQUNIX1NDT1JFICYmIGxldmVsVHlwZSAhPSBMRVZFTF9SRUFDSF9NQVhfU0NPUkUgJiYgbGV2ZWxUeXBlICE9IExFVkVMX01VTFRJX0JFU1RfU0NPUkUgJiYgbGV2ZWxUeXBlICE9IExFVkVMX1JFQUNIX1NDT1JFX09OX1RJTUUgJiYgbGV2ZWxUeXBlICE9IExFVkVMX01VTFRJX1JFQUNIX1NDT1JFX0ZJUlNUICYmIGxldmVsVHlwZSAhPSBMRVZFTF9NQVpFX1dJTikgfHwgR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OLnN0cmNtcCh2ZXJzaW9uKSA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcHJpbnRSZXN1bHRMZXZlbChsZXZlbCwgcGxheWVyLCBsZXZlbFR5cGUsIHR5cGUsIHNob3J0VmVyc2lvbikge1xuICBsZXQgdmFsID0gXCJcIjtcbiAgbGV0IHJlc3VsdExldmVsID0gZ2V0TGV2ZWxTYXZlKGxldmVsLCBwbGF5ZXIsIHR5cGUpO1xuXG4gIGlmKHJlc3VsdExldmVsID09IG51bGwpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIHJlc3VsdExldmVsID0gcmVzdWx0TGV2ZWxbMV07XG5cbiAgaWYocmVzdWx0TGV2ZWwgPD0gMCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgaWYoc2hvcnRWZXJzaW9uKSB7XG4gICAgaWYobGV2ZWxUeXBlID09IExFVkVMX1JFQUNIX1NDT1JFIHx8IGxldmVsVHlwZSA9PSBMRVZFTF9SRUFDSF9NQVhfU0NPUkUgfHwgbGV2ZWxUeXBlID09IExFVkVMX01VTFRJX0JFU1RfU0NPUkUpIHtcbiAgICAgIHZhbCA9IGkxOG5leHQudChcImxldmVscy5iZXN0U2NvcmVTaG9ydFwiLCB7IGNvdW50OiByZXN1bHRMZXZlbCB9KTtcbiAgICB9IGVsc2UgaWYobGV2ZWxUeXBlID09IExFVkVMX1JFQUNIX1NDT1JFX09OX1RJTUUgfHwgbGV2ZWxUeXBlID09IExFVkVMX01VTFRJX1JFQUNIX1NDT1JFX0ZJUlNUIHx8IGxldmVsVHlwZSA9PSBMRVZFTF9NQVpFX1dJTikge1xuICAgICAgdmFsID0gaTE4bmV4dC50KFwibGV2ZWxzLmJlc3RUaW1lU2hvcnRcIiwgeyBjb3VudDogTWF0aC5yb3VuZChyZXN1bHRMZXZlbCkgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmKGxldmVsVHlwZSA9PSBMRVZFTF9SRUFDSF9TQ09SRSB8fCBsZXZlbFR5cGUgPT0gTEVWRUxfUkVBQ0hfTUFYX1NDT1JFIHx8IGxldmVsVHlwZSA9PSBMRVZFTF9NVUxUSV9CRVNUX1NDT1JFKSB7XG4gICAgICB2YWwgPSBpMThuZXh0LnQoXCJsZXZlbHMuYmVzdFNjb3JlXCIsIHsgY291bnQ6IHJlc3VsdExldmVsIH0pO1xuICAgIH0gZWxzZSBpZihsZXZlbFR5cGUgPT0gTEVWRUxfUkVBQ0hfU0NPUkVfT05fVElNRSB8fCBsZXZlbFR5cGUgPT0gTEVWRUxfTVVMVElfUkVBQ0hfU0NPUkVfRklSU1QgfHwgbGV2ZWxUeXBlID09IExFVkVMX01BWkVfV0lOKSB7XG4gICAgICB2YWwgPSBpMThuZXh0LnQoXCJsZXZlbHMuYmVzdFRpbWVcIiwgeyBjb3VudDogTWF0aC5yb3VuZChyZXN1bHRMZXZlbCkgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHZhbDtcbn1cblxud2luZG93LnBsYXlMZXZlbCA9IChsZXZlbCwgcGxheWVyLCB0eXBlKSA9PiB7XG4gIGNvbnN0IGxldmVsU2F2ZSA9IGdldExldmVsU2F2ZShsZXZlbCwgcGxheWVyLCB0eXBlKTtcbiAgY29uc3QgYm9udXMgPSBnZXRTYXZlKHBsYXllciwgREVGQVVMVF9MRVZFTClbXCJjdXJyZW50Qm9udXNcIl07XG4gIGNvbnN0IGxldmVscyA9IGdldExldmVscyhwbGF5ZXIsIHR5cGUpO1xuXG4gIGlmKGxldmVscyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYobGV2ZWxzW2xldmVsXSAhPSBudWxsKSB7XG4gICAgY29uc3QgbGV2ZWxTZWxlY3RlZCA9IGxldmVsc1tsZXZlbF07XG4gICAgY29uc3QgbGV2ZWxTZXR0aW5ncyA9IGxldmVsU2VsZWN0ZWRbXCJzZXR0aW5nc1wiXTtcbiAgICBjb25zdCBsZXZlbFR5cGUgPSBsZXZlbFNlbGVjdGVkW1widHlwZVwiXTtcbiAgICBsZXQgbGV2ZWxUeXBlVmFsdWUgPSBsZXZlbFNlbGVjdGVkW1widHlwZVZhbHVlXCJdO1xuICAgIGNvbnN0IGxldmVsVmVyc2lvbiA9IGxldmVsU2VsZWN0ZWRbXCJ2ZXJzaW9uXCJdO1xuXG4gICAgaWYoIWxldmVsQ29tcGF0aWJsZShsZXZlbFR5cGUsIGxldmVsVmVyc2lvbikpIHtcbiAgICAgIGFsZXJ0KGkxOG5leHQudChcImxldmVscy5ub3RDb21wYXRpYmxlXCIpKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZighY2FuUGxheShsZXZlbCwgcGxheWVyLCB0eXBlKSkge1xuICAgICAgYWxlcnQoaTE4bmV4dC50KFwibGV2ZWxzLmRpc2FibGVkTGV2ZWxcIikpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmKGJvbnVzID09IFwiQk9OVVNfUEFTU19MRVZFTFwiICYmICghbGV2ZWxTYXZlIHx8IGxldmVsU2F2ZVswXSAhPSB0cnVlKSkge1xuICAgICAgc2V0TGV2ZWxTYXZlKFt0cnVlLCBBcnJheS5pc0FycmF5KGxldmVsVHlwZVZhbHVlKSAmJiBsZXZlbFR5cGVWYWx1ZS5sZW5ndGggPj0gMiA/IGxldmVsVHlwZVZhbHVlWzFdIDogbGV2ZWxUeXBlVmFsdWVdLCBsZXZlbCwgcGxheWVyLCB0eXBlKTtcbiAgICAgIGJ1eUJvbnVzKG51bGwsIHBsYXllcik7XG4gICAgICBkaXNwbGF5TGV2ZWxMaXN0KHBsYXllcik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZihib251cyA9PSBcIkJPTlVTX05PX1RJTUVfTElNSVRcIiAmJiBsZXZlbFR5cGUgPT0gTEVWRUxfUkVBQ0hfU0NPUkVfT05fVElNRSkge1xuICAgICAgbGV2ZWxUeXBlVmFsdWUgPSBbbGV2ZWxUeXBlVmFsdWVbMF0sIC0xXTtcbiAgICAgIGJ1eUJvbnVzKG51bGwsIHBsYXllcik7XG4gICAgfVxuXG4gICAgY29uc3QgaGVpZ2h0R3JpZCA9IGxldmVsU2V0dGluZ3NbMF07XG4gICAgY29uc3Qgd2lkdGhHcmlkID0gbGV2ZWxTZXR0aW5nc1sxXTtcbiAgICBjb25zdCBib3JkZXJXYWxscyA9IGxldmVsU2V0dGluZ3NbMl07XG4gICAgY29uc3QgZ2VuZXJhdGVXYWxscyA9IGxldmVsU2V0dGluZ3NbM107XG4gICAgY29uc3Qgc2FtZUdyaWQgPSBsZXZlbFNldHRpbmdzWzRdO1xuICAgIGNvbnN0IHNwZWVkID0gbGV2ZWxTZXR0aW5nc1s1XTtcbiAgICBjb25zdCBwcm9ncmVzc2l2ZVNwZWVkID0gbGV2ZWxTZXR0aW5nc1s2XTtcbiAgICBjb25zdCBhaUxldmVsID0gbGV2ZWxTZXR0aW5nc1s3XTtcbiAgICBjb25zdCBudW1iZXJJQSA9IGxldmVsU2V0dGluZ3NbOF07XG4gICAgY29uc3QgZ2VuZXJhdGVNYXplID0gbGV2ZWxTZXR0aW5nc1s5XTtcbiAgICBjb25zdCBjdXN0b21HcmlkID0gbGV2ZWxTZXR0aW5nc1sxMF07XG4gICAgY29uc3QgbWF6ZUZvcmNlQXV0byA9IGxldmVsU2V0dGluZ3NbMTFdO1xuICAgIGNvbnN0IHNlZWRHcmlkID0gbGV2ZWxTZXR0aW5nc1sxMl07XG4gICAgY29uc3Qgc2VlZEdhbWUgPSBsZXZlbFNldHRpbmdzWzEzXTtcbiAgICBsZXQgZGVzdHJveUFpcyA9IGZhbHNlO1xuXG4gICAgY29uc3QgZ2FtZXMgPSBbXTtcblxuICAgIGNvbnN0IGdyaWQgPSBuZXcgR3JpZCh3aWR0aEdyaWQsIGhlaWdodEdyaWQsIGdlbmVyYXRlV2FsbHMsIGJvcmRlcldhbGxzLCBnZW5lcmF0ZU1hemUsIGN1c3RvbUdyaWQsIG1hemVGb3JjZUF1dG8sIHNlZWRHcmlkLCBzZWVkR2FtZSwgIWdlbmVyYXRlTWF6ZSAmJiBib251cyA9PSBcIkJPTlVTX0lOQ1JFQVNFX0dPTERfRlJVSVRfUFJPQlwiKTtcbiAgICBsZXQgcGxheWVyU25ha2U7XG4gICAgbGV0IHBsYXllckdhbWU7XG5cbiAgICBpZighZ2VuZXJhdGVNYXplICYmIGJvbnVzID09IFwiQk9OVVNfSU5DUkVBU0VfR09MRF9GUlVJVF9QUk9CXCIpIHtcbiAgICAgIGJ1eUJvbnVzKG51bGwsIHBsYXllcik7XG4gICAgfVxuXG4gICAgaWYocGxheWVyID09IFBMQVlFUl9BSSkge1xuICAgICAgcGxheWVyU25ha2UgPSBuZXcgU25ha2UoUklHSFQsIDMsIGdyaWQsIHBsYXllciwgQUlfTEVWRUxfSElHSCk7XG4gICAgfSBlbHNlIGlmKHBsYXllciA9PSBQTEFZRVJfSFVNQU4pIHtcbiAgICAgIGlmKGJvbnVzID09IFwiQk9OVVNfQUlfQVNTSVNUQU5UXCIgJiYgIWdlbmVyYXRlTWF6ZSkge1xuICAgICAgICBwbGF5ZXJTbmFrZSA9IG5ldyBTbmFrZShSSUdIVCwgMywgZ3JpZCwgR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSk7XG4gICAgICAgIGJ1eUJvbnVzKG51bGwsIHBsYXllcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwbGF5ZXJTbmFrZSA9IG5ldyBTbmFrZShSSUdIVCwgMywgZ3JpZCwgcGxheWVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihzYW1lR3JpZCkge1xuICAgICAgY29uc3Qgc25ha2VzID0gW3BsYXllclNuYWtlXTtcblxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG51bWJlcklBOyBpKyspIHtcbiAgICAgICAgc25ha2VzLnB1c2gobmV3IFNuYWtlKFJJR0hULCAzLCBncmlkLCBQTEFZRVJfQUksIGFpTGV2ZWwpKTtcbiAgICAgICAgZGVzdHJveUFpcyA9IGJvbnVzID09IFwiQk9OVVNfREVTVFJPWV9BSVNcIjtcbiAgICAgIH1cblxuICAgICAgcGxheWVyR2FtZSA9IG5ldyBHYW1lKGdyaWQsIHNuYWtlcywgc3BlZWQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNvbnRhaW5lclwiKSwgdHJ1ZSwgdHJ1ZSwgcHJvZ3Jlc3NpdmVTcGVlZCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgY3VzdG9tU2V0dGluZ3MpO1xuICAgICAgZ2FtZXMucHVzaChwbGF5ZXJHYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmKG51bWJlcklBICsgMSA8PSAyKSB7XG4gICAgICAgIHdpZHRoID0gbnVsbDtcbiAgICAgICAgaGVpZ2h0ID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpZHRoID0gMzUwO1xuICAgICAgICBoZWlnaHQgPSAyNTA7XG4gICAgICB9XG5cbiAgICAgIHBsYXllckdhbWUgPSBuZXcgR2FtZShncmlkLCBwbGF5ZXJTbmFrZSwgc3BlZWQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNvbnRhaW5lclwiKSwgdHJ1ZSwgdHJ1ZSwgcHJvZ3Jlc3NpdmVTcGVlZCwgd2lkdGgsIGhlaWdodCwgbnVsbCwgbnVsbCwgY3VzdG9tU2V0dGluZ3MpO1xuICAgICAgZ2FtZXMucHVzaChwbGF5ZXJHYW1lKTtcblxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IG51bWJlcklBOyBpKyspIHtcbiAgICAgICAgY29uc3QgZ3JpZCA9IG5ldyBHcmlkKHdpZHRoR3JpZCwgaGVpZ2h0R3JpZCwgZ2VuZXJhdGVXYWxscywgYm9yZGVyV2FsbHMsIGdlbmVyYXRlTWF6ZSwgY3VzdG9tR3JpZCwgbWF6ZUZvcmNlQXV0bywgc2VlZEdyaWQsIHNlZWRHYW1lKTtcbiAgICAgICAgY29uc3Qgc25ha2UgPSBuZXcgU25ha2UoUklHSFQsIDMsIGdyaWQsIFBMQVlFUl9BSSwgYWlMZXZlbCwgZmFsc2UpO1xuICAgICAgICBkZXN0cm95QWlzID0gYm9udXMgPT0gXCJCT05VU19ERVNUUk9ZX0FJU1wiO1xuXG4gICAgICAgIGdhbWVzLnB1c2gobmV3IEdhbWUoZ3JpZCwgc25ha2UsIHNwZWVkLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVDb250YWluZXJcIiksIGZhbHNlLCBmYWxzZSwgcHJvZ3Jlc3NpdmVTcGVlZCwgd2lkdGgsIGhlaWdodCwgbnVsbCwgbnVsbCwgY3VzdG9tU2V0dGluZ3MpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHRpbmdzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lbnVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VydmVyTGlzdENvbnRhaW5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb29tc09ubGluZUxpc3RDb250YWluZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVDcmVhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclJvb21DcmVhdGlvblwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQ29udGFpbmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25uZWN0aW5nVG9TZXJ2ZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vbXNPbmxpbmVKb2luXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1dGhlbnRpY2F0aW9uU2VydmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0TGV2ZWxzXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lU3RhdHVzXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lT3JkZXJcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTdGF0dXNFcnJvclwiKS5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZUdhbWVcIikuaW5uZXJIVE1MID0gaTE4bmV4dC50KFwibGV2ZWxzLmxldmVsXCIpICsgXCIgXCIgKyBsZXZlbDtcblxuICAgIGNvbnN0IGdyb3VwID0gbmV3IEdhbWVHcm91cChnYW1lcyk7XG4gICAgZ3JvdXAuc2V0RGlzcGxheUZQUyhjdXN0b21TZXR0aW5ncy5zaG93RGVidWdJbmZvID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICBncm91cC5zdGFydCgpO1xuICAgIGdyb3VwLmNsb3NlUmFua2luZygpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lT3JkZXJcIikuc2Nyb2xsSW50b1ZpZXcoKTtcblxuICAgIGxldCBsZXZlbFRpbWVyID0gbmV3IFRpbWVyKG51bGwsIDApO1xuICAgIGxldCBub3RpZmljYXRpb25FbmREaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICBsZXQgbm90aWZpY2F0aW9uU3RhcnREaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBub3RpZkVycm9yQ29sb3IgPSBHYW1lQ29uc3RhbnRzLlNldHRpbmcuRVJST1JfTk9USUZfQ09MT1I7XG4gICAgY29uc3Qgbm90aWZJbmZvc0NvbG9yID0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLklORk9fTk9USUZfQ09MT1I7XG4gICAgbGV0IG5vdGlmSW5mbztcbiAgICBsZXQgdGV4dFRvRGlzcGxheUdvYWw7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhY2tUb01lbnVHYW1lXCIpLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgICBpZihjb25maXJtKGkxOG5leHQudChcImdhbWUuY29uZmlybVF1aXRcIikpKSB7XG4gICAgICAgIGxldmVsVGltZXIucGF1c2UoKTtcbiAgICAgICAgZ3JvdXAua2lsbEFsbCgpO1xuICAgICAgICBkaXNwbGF5TGV2ZWxMaXN0KHBsYXllcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGluaXRHb2FsKCkge1xuICAgICAgbGV0IGxhc3RTY29yZVBsYXllciA9IDA7XG5cbiAgICAgIGlmKGxldmVsVHlwZSA9PSBMRVZFTF9SRUFDSF9TQ09SRSkge1xuICAgICAgICBwbGF5ZXJHYW1lLm9uU2NvcmVJbmNyZWFzZWQoKCkgPT4ge1xuICAgICAgICAgIHNldEFkZEZydWl0TGV2ZWxTYXZlKHBsYXllciwgcGxheWVyR2FtZS5zbmFrZXNbMF0uc2NvcmUgLSBsYXN0U2NvcmVQbGF5ZXIpO1xuICAgICAgICAgIGxhc3RTY29yZVBsYXllciA9IHBsYXllckdhbWUuc25ha2VzWzBdLnNjb3JlO1xuXG4gICAgICAgICAgaWYocGxheWVyR2FtZS5zbmFrZXNbMF0uc2NvcmUgPj0gbGV2ZWxUeXBlVmFsdWUpIHtcbiAgICAgICAgICAgIHNldExldmVsU2F2ZShbdHJ1ZSwgcGxheWVyR2FtZS5zbmFrZXNbMF0uc2NvcmVdLCBsZXZlbCwgcGxheWVyLCB0eXBlKTtcbiAgICAgICAgICAgIHBsYXllckdhbWUuc2V0QmVzdFNjb3JlKHByaW50UmVzdWx0TGV2ZWwobGV2ZWwsIHBsYXllciwgbGV2ZWxUeXBlLCB0eXBlLCB0cnVlKSk7XG5cbiAgICAgICAgICAgIGlmKCFub3RpZmljYXRpb25FbmREaXNwbGF5ZWQpIHtcbiAgICAgICAgICAgICAgcGxheWVyR2FtZS5zZXROb3RpZmljYXRpb24obmV3IE5vdGlmaWNhdGlvbk1lc3NhZ2UoaTE4bmV4dC50KFwibGV2ZWxzLmdvYWxBY2hpZXZlZFwiKSkpO1xuICAgICAgICAgICAgICBub3RpZmljYXRpb25FbmREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGxheWVyR2FtZS5vblN0b3AoKCkgPT4ge1xuICAgICAgICAgIGxhc3RTY29yZVBsYXllciA9IDA7XG5cbiAgICAgICAgICBpZihwbGF5ZXJHYW1lLnNuYWtlc1swXS5zY29yZSA8IGxldmVsVHlwZVZhbHVlKSB7XG4gICAgICAgICAgICBpZighbm90aWZpY2F0aW9uRW5kRGlzcGxheWVkKSB7XG4gICAgICAgICAgICAgIHBsYXllckdhbWUuc2V0Tm90aWZpY2F0aW9uKG5ldyBOb3RpZmljYXRpb25NZXNzYWdlKGkxOG5leHQudChcImxldmVscy5nb2FsTm90QWNoaWV2ZWRcIiksIG51bGwsIG5vdGlmRXJyb3JDb2xvciwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgdHJ1ZSkpO1xuICAgICAgICAgICAgICBub3RpZmljYXRpb25FbmREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGxheWVyR2FtZS5vblJlc2V0KCgpID0+IHtcbiAgICAgICAgICBsYXN0U2NvcmVQbGF5ZXIgPSAwO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZihsZXZlbFR5cGUgPT0gTEVWRUxfUkVBQ0hfU0NPUkVfT05fVElNRSkge1xuICAgICAgICBpZihsZXZlbFR5cGVWYWx1ZVsxXSA+PSAwKSB7XG4gICAgICAgICAgbGV2ZWxUaW1lciA9IG5ldyBUaW1lcigoKSA9PiB7XG4gICAgICAgICAgICBwbGF5ZXJHYW1lLnNldFRpbWVUb0Rpc3BsYXkoMCk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVTdGF0dXNcIikuaW5uZXJIVE1MID0gaTE4bmV4dC50KFwibGV2ZWxzLnRpbWVyUmVtYWluaW5nXCIsIHsgY291bnQ6IDAgfSk7XG4gIFxuICAgICAgICAgICAgaWYoIW5vdGlmaWNhdGlvbkVuZERpc3BsYXllZCkge1xuICAgICAgICAgICAgICBwbGF5ZXJHYW1lLnNldE5vdGlmaWNhdGlvbihuZXcgTm90aWZpY2F0aW9uTWVzc2FnZShpMThuZXh0LnQoXCJsZXZlbHMuZ29hbE5vdEFjaGlldmVkXCIpLCBudWxsLCBub3RpZkVycm9yQ29sb3IsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIHRydWUpKTtcbiAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRW5kRGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgICBncm91cC5zdG9wQWxsKHRydWUpO1xuICAgICAgICAgIH0sIGxldmVsVHlwZVZhbHVlWzFdICogMTAwMCAtIDEsIG5ldyBUaW1lckludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVN0YXR1c1wiKS5pbm5lckhUTUwgPSBpMThuZXh0LnQoXCJsZXZlbHMudGltZXJSZW1haW5pbmdcIiwgeyBjb3VudDogTWF0aC5yb3VuZChsZXZlbFRpbWVyLmdldFRpbWUoKSAvIDEwMDApIH0pO1xuICAgICAgICAgICAgcGxheWVyR2FtZS5zZXRUaW1lVG9EaXNwbGF5KE1hdGgucm91bmQobGV2ZWxUaW1lci5nZXRUaW1lKCkgLyAxMDAwKSk7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGxheWVyR2FtZS5vblN0YXJ0KCgpID0+IHtcbiAgICAgICAgICBsZXZlbFRpbWVyLnJlc3VtZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwbGF5ZXJHYW1lLm9uUGF1c2UoKCkgPT4ge1xuICAgICAgICAgIGxldmVsVGltZXIucGF1c2UoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGxheWVyR2FtZS5vblJlc2V0KCgpID0+IHtcbiAgICAgICAgICBsZXZlbFRpbWVyLnJlc2V0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsYXllckdhbWUub25TdG9wKCgpID0+IHtcbiAgICAgICAgICBsZXZlbFRpbWVyLnBhdXNlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsYXllckdhbWUub25TY29yZUluY3JlYXNlZCgoKSA9PiB7XG4gICAgICAgICAgaWYocGxheWVyR2FtZS5zbmFrZXNbMF0uc2NvcmUgPj0gbGV2ZWxUeXBlVmFsdWVbMF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3AgPSAobGV2ZWxUeXBlVmFsdWVbMV0gKiAxMDAwKSAtIGxldmVsVGltZXIuZ2V0VGltZSgpO1xuICAgICAgICAgICAgbGV2ZWxUaW1lci5yZXNldCgpO1xuICAgICAgICAgICAgZ3JvdXAuc3RvcEFsbCh0cnVlKTtcbiAgICAgICAgICAgIHNldExldmVsU2F2ZShbdHJ1ZSwgc3RvcCAvIDEwMDBdLCBsZXZlbCwgcGxheWVyLCB0eXBlKTtcbiAgICAgICAgICAgIHNldEFkZEZydWl0TGV2ZWxTYXZlKHBsYXllciwgcGxheWVyR2FtZS5zbmFrZXNbMF0uc2NvcmUpO1xuICAgICAgICAgICAgcGxheWVyR2FtZS5zZXRCZXN0U2NvcmUocHJpbnRSZXN1bHRMZXZlbChsZXZlbCwgcGxheWVyLCBsZXZlbFR5cGUsIHR5cGUsIHRydWUpKTtcblxuICAgICAgICAgICAgaWYoIW5vdGlmaWNhdGlvbkVuZERpc3BsYXllZCkge1xuICAgICAgICAgICAgICBwbGF5ZXJHYW1lLnNldE5vdGlmaWNhdGlvbihuZXcgTm90aWZpY2F0aW9uTWVzc2FnZShpMThuZXh0LnQoXCJsZXZlbHMuZ29hbEFjaGlldmVkXCIpLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCB0cnVlKSk7XG4gICAgICAgICAgICAgIG5vdGlmaWNhdGlvbkVuZERpc3BsYXllZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZihsZXZlbFR5cGUgPT0gTEVWRUxfUkVBQ0hfTUFYX1NDT1JFKSB7XG4gICAgICAgIHBsYXllckdhbWUub25TdG9wKCgpID0+IHtcbiAgICAgICAgICBpZihwbGF5ZXJHYW1lLnNjb3JlTWF4KSB7XG4gICAgICAgICAgICBzZXRMZXZlbFNhdmUoW3RydWUsIHBsYXllckdhbWUuc25ha2VzWzBdLnNjb3JlXSwgbGV2ZWwsIHBsYXllciwgdHlwZSk7XG4gICAgICAgICAgICBzZXRBZGRGcnVpdExldmVsU2F2ZShwbGF5ZXIsIHBsYXllckdhbWUuc25ha2VzWzBdLnNjb3JlKTtcbiAgICAgICAgICAgIHBsYXllckdhbWUuc2V0QmVzdFNjb3JlKHByaW50UmVzdWx0TGV2ZWwobGV2ZWwsIHBsYXllciwgbGV2ZWxUeXBlLCB0eXBlLCB0cnVlKSk7XG5cbiAgICAgICAgICAgIGlmKCFub3RpZmljYXRpb25FbmREaXNwbGF5ZWQpIHtcbiAgICAgICAgICAgICAgcGxheWVyR2FtZS5zZXROb3RpZmljYXRpb24obmV3IE5vdGlmaWNhdGlvbk1lc3NhZ2UoaTE4bmV4dC50KFwibGV2ZWxzLmdvYWxBY2hpZXZlZFwiKSwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgdHJ1ZSkpO1xuICAgICAgICAgICAgICBub3RpZmljYXRpb25FbmREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZighbm90aWZpY2F0aW9uRW5kRGlzcGxheWVkKSB7XG4gICAgICAgICAgICAgIHBsYXllckdhbWUuc2V0Tm90aWZpY2F0aW9uKG5ldyBOb3RpZmljYXRpb25NZXNzYWdlKGkxOG5leHQudChcImxldmVscy5nb2FsTm90QWNoaWV2ZWRcIiksIG51bGwsIG5vdGlmRXJyb3JDb2xvciwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgdHJ1ZSkpO1xuICAgICAgICAgICAgICBub3RpZmljYXRpb25FbmREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYobGV2ZWxUeXBlID09IExFVkVMX01VTFRJX0JFU1RfU0NPUkUpIHtcbiAgICAgICAgZ3JvdXAub25TdG9wKCgpID0+IHtcbiAgICAgICAgICBjb25zdCB3aW5uZXJzID0gZ3JvdXAuZ2V0V2lubmVycygpO1xuICAgICAgICAgIGxldCB3b24gPSBmYWxzZTtcblxuICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB3aW5uZXJzLndpbm5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHdpbm5lcnMud2lubmVyc1tpXSA9PSBwbGF5ZXJHYW1lLnNuYWtlc1swXSkge1xuICAgICAgICAgICAgICB3b24gPSB0cnVlO1xuICAgICAgICAgICAgICBzZXRMZXZlbFNhdmUoW3RydWUsIHBsYXllckdhbWUuc25ha2VzWzBdLnNjb3JlXSwgbGV2ZWwsIHBsYXllciwgdHlwZSk7XG4gICAgICAgICAgICAgIHNldEFkZEZydWl0TGV2ZWxTYXZlKHBsYXllciwgcGxheWVyR2FtZS5zbmFrZXNbMF0uc2NvcmUpO1xuICAgICAgICAgICAgICBwbGF5ZXJHYW1lLnNldEJlc3RTY29yZShwcmludFJlc3VsdExldmVsKGxldmVsLCBwbGF5ZXIsIGxldmVsVHlwZSwgdHlwZSwgdHJ1ZSkpO1xuXG4gICAgICAgICAgICAgIGlmKCFub3RpZmljYXRpb25FbmREaXNwbGF5ZWQpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJHYW1lLnNldE5vdGlmaWNhdGlvbihuZXcgTm90aWZpY2F0aW9uTWVzc2FnZShpMThuZXh0LnQoXCJsZXZlbHMuZ29hbEFjaGlldmVkXCIpLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRW5kRGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKCF3b24gJiYgIW5vdGlmaWNhdGlvbkVuZERpc3BsYXllZCkge1xuICAgICAgICAgICAgcGxheWVyR2FtZS5zZXROb3RpZmljYXRpb24obmV3IE5vdGlmaWNhdGlvbk1lc3NhZ2UoaTE4bmV4dC50KFwibGV2ZWxzLmdvYWxOb3RBY2hpZXZlZFwiKSwgbnVsbCwgbm90aWZFcnJvckNvbG9yLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCB0cnVlKSk7XG4gICAgICAgICAgICBub3RpZmljYXRpb25FbmREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYobGV2ZWxUeXBlID09IExFVkVMX01VTFRJX1JFQUNIX1NDT1JFX0ZJUlNUKSB7XG4gICAgICAgIGxldCB0aW1lID0gMDtcblxuICAgICAgICBjb25zdCB0aW1lckludGVydmFsID0gbmV3IFRpbWVySW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIHRpbWUrKztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcGxheWVyR2FtZS5vblN0YXJ0KCgpID0+IHtcbiAgICAgICAgICB0aW1lckludGVydmFsLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsYXllckdhbWUub25QYXVzZSgoKSA9PiB7XG4gICAgICAgICAgdGltZXJJbnRlcnZhbC5zdG9wKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsYXllckdhbWUub25SZXNldCgoKSA9PiB7XG4gICAgICAgICAgdGltZSA9IDA7XG4gICAgICAgICAgdGltZXJJbnRlcnZhbC5zdG9wKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsYXllckdhbWUub25TdG9wKCgpID0+IHtcbiAgICAgICAgICB0aW1lckludGVydmFsLnN0b3AoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ3JvdXAub25TY29yZUluY3JlYXNlZCgoKSA9PiB7XG4gICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGdyb3VwLmdhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgZ3JvdXAuZ2FtZXNbaV0uc25ha2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgIGlmKGdyb3VwLmdhbWVzW2ldLnNuYWtlc1tqXS5zY29yZSA+PSBsZXZlbFR5cGVWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmKGdyb3VwLmdhbWVzW2ldLnNuYWtlc1tqXSA9PSBwbGF5ZXJHYW1lLnNuYWtlc1swXSkge1xuICAgICAgICAgICAgICAgICAgZ3JvdXAuc3RvcEFsbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIHNldExldmVsU2F2ZShbdHJ1ZSwgdGltZV0sIGxldmVsLCBwbGF5ZXIsIHR5cGUpO1xuICAgICAgICAgICAgICAgICAgc2V0QWRkRnJ1aXRMZXZlbFNhdmUocGxheWVyLCBwbGF5ZXJHYW1lLnNuYWtlc1swXS5zY29yZSk7XG4gICAgICAgICAgICAgICAgICBwbGF5ZXJHYW1lLnNldEJlc3RTY29yZShwcmludFJlc3VsdExldmVsKGxldmVsLCBwbGF5ZXIsIGxldmVsVHlwZSwgdHlwZSwgdHJ1ZSkpO1xuXG4gICAgICAgICAgICAgICAgICBpZighbm90aWZpY2F0aW9uRW5kRGlzcGxheWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckdhbWUuc2V0Tm90aWZpY2F0aW9uKG5ldyBOb3RpZmljYXRpb25NZXNzYWdlKGkxOG5leHQudChcImxldmVscy5nb2FsQWNoaWV2ZWRcIiksIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRW5kRGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZ3JvdXAuc3RvcEFsbCh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgaWYoIW5vdGlmaWNhdGlvbkVuZERpc3BsYXllZCkge1xuICAgICAgICAgICAgICAgICAgICBwbGF5ZXJHYW1lLnNldE5vdGlmaWNhdGlvbihuZXcgTm90aWZpY2F0aW9uTWVzc2FnZShpMThuZXh0LnQoXCJsZXZlbHMuZ29hbE5vdEFjaGlldmVkXCIpLCBudWxsLCBub3RpZkVycm9yQ29sb3IsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uRW5kRGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmKGxldmVsVHlwZSA9PSBMRVZFTF9NQVpFX1dJTikge1xuICAgICAgICBsZXQgdGltZSA9IDA7XG5cbiAgICAgICAgY29uc3QgdGltZXJJbnRlcnZhbCA9IG5ldyBUaW1lckludGVydmFsKCgpID0+IHtcbiAgICAgICAgICB0aW1lKys7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsYXllckdhbWUub25TdGFydCgoKSA9PiB7XG4gICAgICAgICAgdGltZXJJbnRlcnZhbC5zdGFydCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwbGF5ZXJHYW1lLm9uUGF1c2UoKCkgPT4ge1xuICAgICAgICAgIHRpbWVySW50ZXJ2YWwuc3RvcCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwbGF5ZXJHYW1lLm9uUmVzZXQoKCkgPT4ge1xuICAgICAgICAgIHRpbWUgPSAwO1xuICAgICAgICAgIHRpbWVySW50ZXJ2YWwuc3RvcCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBwbGF5ZXJHYW1lLm9uU3RvcCgoKSA9PiB7XG4gICAgICAgICAgdGltZXJJbnRlcnZhbC5zdG9wKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHBsYXllckdhbWUub25TY29yZUluY3JlYXNlZCgoKSA9PiB7XG4gICAgICAgICAgaWYocGxheWVyR2FtZS5zbmFrZXNbMF0uc2NvcmUgPj0gMSkge1xuICAgICAgICAgICAgc2V0TGV2ZWxTYXZlKFt0cnVlLCB0aW1lXSwgbGV2ZWwsIHBsYXllciwgdHlwZSk7XG4gICAgICAgICAgICBzZXRBZGRGcnVpdExldmVsU2F2ZShwbGF5ZXIsIE1hdGgucm91bmQoKHBsYXllckdhbWUuZ3JpZC53aWR0aCAqIHBsYXllckdhbWUuZ3JpZC5oZWlnaHQpIC8gNTApKTtcbiAgICAgICAgICAgIHBsYXllckdhbWUuc2V0QmVzdFNjb3JlKHByaW50UmVzdWx0TGV2ZWwobGV2ZWwsIHBsYXllciwgbGV2ZWxUeXBlLCB0eXBlLCB0cnVlKSk7XG5cbiAgICAgICAgICAgIGlmKCFub3RpZmljYXRpb25FbmREaXNwbGF5ZWQpIHtcbiAgICAgICAgICAgICAgcGxheWVyR2FtZS5zZXROb3RpZmljYXRpb24obmV3IE5vdGlmaWNhdGlvbk1lc3NhZ2UoaTE4bmV4dC50KFwibGV2ZWxzLmdvYWxBY2hpZXZlZFwiKSwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgdHJ1ZSkpO1xuICAgICAgICAgICAgICBub3RpZmljYXRpb25FbmREaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlzcGxheUluZm9zR29hbCgpIHtcbiAgICAgIHBsYXllckdhbWUuc2V0QmVzdFNjb3JlKHByaW50UmVzdWx0TGV2ZWwobGV2ZWwsIHBsYXllciwgbGV2ZWxUeXBlLCB0eXBlLCB0cnVlKSk7XG5cbiAgICAgIGlmKGxldmVsVHlwZSA9PSBMRVZFTF9SRUFDSF9TQ09SRSkge1xuICAgICAgICB0ZXh0VG9EaXNwbGF5R29hbCA9IGkxOG5leHQudChcImxldmVscy5yZWFjaFNjb3JlXCIsIHsgdmFsdWU6IGxldmVsVHlwZVZhbHVlIH0pO1xuICAgICAgfSBlbHNlIGlmKGxldmVsVHlwZSA9PSBMRVZFTF9SRUFDSF9TQ09SRV9PTl9USU1FKSB7XG4gICAgICAgIHRleHRUb0Rpc3BsYXlHb2FsID0gaTE4bmV4dC50KFwibGV2ZWxzLnJlYWNoU2NvcmVUaW1lXCIsIHsgdmFsdWU6IGxldmVsVHlwZVZhbHVlWzBdLCBjb3VudDogbGV2ZWxUeXBlVmFsdWVbMV0gfSk7XG4gICAgICAgIGlmKGxldmVsVHlwZVZhbHVlWzFdID49IDApIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVN0YXR1c1wiKS5pbm5lckhUTUwgPSBpMThuZXh0LnQoXCJsZXZlbHMudGltZXJSZW1haW5pbmdcIiwgeyBjb3VudDogbGV2ZWxUeXBlVmFsdWVbMV0gfSk7XG4gICAgICAgIHBsYXllckdhbWUuc2V0VGltZVRvRGlzcGxheShsZXZlbFR5cGVWYWx1ZVsxXSk7XG4gICAgICB9IGVsc2UgaWYobGV2ZWxUeXBlID09IExFVkVMX1JFQUNIX01BWF9TQ09SRSkge1xuICAgICAgICB0ZXh0VG9EaXNwbGF5R29hbCA9IGkxOG5leHQudChcImxldmVscy5yZWFjaE1heFNjb3JlXCIpO1xuICAgICAgfSBlbHNlIGlmKGxldmVsVHlwZSA9PSBMRVZFTF9NVUxUSV9CRVNUX1NDT1JFKSB7XG4gICAgICAgIHRleHRUb0Rpc3BsYXlHb2FsID0gaTE4bmV4dC50KFwibGV2ZWxzLm11bHRpQmVzdFNjb3JlXCIsIHsgY291bnQ6IG51bWJlcklBIH0pO1xuICAgICAgfSBlbHNlIGlmKGxldmVsVHlwZSA9PSBMRVZFTF9NVUxUSV9SRUFDSF9TQ09SRV9GSVJTVCkge1xuICAgICAgICB0ZXh0VG9EaXNwbGF5R29hbCA9IGkxOG5leHQudChcImxldmVscy5tdWx0aVJlYWNoU2NvcmVGaXJzdFwiLCB7IHZhbHVlOiBsZXZlbFR5cGVWYWx1ZSwgY291bnQ6IG51bWJlcklBIH0pO1xuICAgICAgfSBlbHNlIGlmKGxldmVsVHlwZSA9PSBMRVZFTF9NQVpFX1dJTikge1xuICAgICAgICB0ZXh0VG9EaXNwbGF5R29hbCA9IGkxOG5leHQudChcImxldmVscy5tYXplTW9kZVwiLCB7IHZhbHVlOiBsZXZlbFR5cGVWYWx1ZSwgY291bnQ6IG51bWJlcklBIH0pO1xuICAgICAgfVxuXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVPcmRlclwiKS5pbm5lckhUTUwgPSB0ZXh0VG9EaXNwbGF5R29hbC5yZXBsYWNlKFwiXFxuXCIsIFwiPGJyIC8+XCIpO1xuICAgIH1cblxuICAgIGluaXRHb2FsKCk7XG4gICAgZGlzcGxheUluZm9zR29hbCgpO1xuXG4gICAgZ3JvdXAub25FeGl0KCgpID0+IHtcbiAgICAgIGxldmVsVGltZXIucGF1c2UoKTtcbiAgICAgIGdyb3VwLmtpbGxBbGwoKTtcbiAgICAgIGRpc3BsYXlMZXZlbExpc3QocGxheWVyKTtcbiAgICB9KTtcblxuICAgIGdyb3VwLm9uUmVzZXQoKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRMZXZlbHNcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVN0YXR1c1wiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lT3JkZXJcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZVN0YXR1c0Vycm9yXCIpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICBub3RpZmljYXRpb25FbmREaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgIG5vdGlmaWNhdGlvblN0YXJ0RGlzcGxheWVkID0gZmFsc2U7XG4gICAgICBkaXNwbGF5SW5mb3NHb2FsKCk7XG4gICAgfSk7XG5cbiAgICBwbGF5ZXJHYW1lLm9uU3RhcnQoKCkgPT4ge1xuICAgICAgaWYoIW5vdGlmaWNhdGlvbkVuZERpc3BsYXllZCAmJiAhbm90aWZpY2F0aW9uU3RhcnREaXNwbGF5ZWQpIHtcbiAgICAgICAgbm90aWZJbmZvID0gbmV3IE5vdGlmaWNhdGlvbk1lc3NhZ2UodGV4dFRvRGlzcGxheUdvYWwsIG51bGwsIG5vdGlmSW5mb3NDb2xvciwgMTApO1xuICAgICAgICBwbGF5ZXJHYW1lLnNldE5vdGlmaWNhdGlvbihub3RpZkluZm8pO1xuICAgICAgICBub3RpZmljYXRpb25TdGFydERpc3BsYXllZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmKGRlc3Ryb3lBaXMpIHtcbiAgICAgICAgZ3JvdXAuZGVzdHJveVNuYWtlcyhbMF0sIFtHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuQUldKTtcbiAgICAgICAgYnV5Qm9udXMobnVsbCwgcGxheWVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxud2luZG93LmVkaXREb3dubG9hZFVSTCA9ICgpID0+IHtcbiAgY29uc3QgdmFsdWUgPSB3aW5kb3cucHJvbXB0KGkxOG5leHQudChcImxldmVscy5lZGl0RG93bmxvYWRVUkxQcm9tcHRcIiksIERPV05MT0FEX0RFRkFVTFRfVVJJKTtcblxuICBpZih2YWx1ZSAhPSBudWxsKSB7XG4gICAgRE9XTkxPQURfREVGQVVMVF9VUkkgPSB2YWx1ZTtcbiAgfVxufVxuXG53aW5kb3cuZG93bmxvYWRMZXZlbHMgPSAocGxheWVyLCBidXR0b24pID0+IHtcbiAgbGV0IHVybCA9IERPV05MT0FEX0RFRkFVTFRfVVJJO1xuICB1cmwgPSB1cmwucmVwbGFjZShcIntwbGF5ZXJ9XCIsIHBsYXllcik7XG4gIHVybCA9IHVybC5yZXBsYWNlKFwie2FwcFZlcnNpb259XCIsIEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTik7XG5cbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgc2NyaXB0LnNyYyA9IHVybDtcblxuICBsZXQgY2FuY2VsZWQgPSBmYWxzZTtcblxuICB3aW5kb3dbXCJjYWxsYmFja0Rvd25sb2FkTGV2ZWxzXCJdID0gKHBsYXllciwgZGF0YSkgPT4ge1xuICAgIGlmKCFjYW5jZWxlZCkge1xuICAgICAgaWYocGxheWVyID09IFBMQVlFUl9IVU1BTikge1xuICAgICAgICBzdG9yYWdlR2xvYmFsLnNldEl0ZW0oU09MT19QTEFZRVJfRE9XTkxPQURfTEVWRUxTX1RPLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICB9IGVsc2UgaWYocGxheWVyID09IFBMQVlFUl9BSSkge1xuICAgICAgICBzdG9yYWdlR2xvYmFsLnNldEl0ZW0oU09MT19BSV9ET1dOTE9BRF9MRVZFTFNfVE8sIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgIH1cblxuICAgICAgZGlzcGxheUxldmVsTGlzdChwbGF5ZXIpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGV2ZWxEb3dubG9hZGluZ1wiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuRGVibG9ja0RpdlwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICB9O1xuXG4gIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgY29uc3QgYnV0dG9uRGVibG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGJ1dHRvbkRlYmxvY2suY2xhc3NMaXN0ID0gXCJidG4gYnRuLWxnIGJ0bi13YXJuaW5nXCI7XG4gIGJ1dHRvbkRlYmxvY2suaW5uZXJIVE1MID0gaTE4bmV4dC50KFwibGV2ZWxzLmJ1dHRvbkRlYmxvY2tcIik7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZXZlbERvd25sb2FkaW5nXCIpLmlubmVySFRNTCA9IFwiPHN0cm9uZz5cIiArIGkxOG5leHQudChcImxldmVscy5kb3dubG9hZGluZ1wiKSArIFwiPC9zdHJvbmc+XCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYnRuRGVibG9ja0RpdlwiKS5pbm5lckhUTUwgPSBcIlwiO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuICBidXR0b25EZWJsb2NrLm9uY2xpY2sgPSAoKSA9PiB7XG4gICAgY2FuY2VsZWQgPSB0cnVlO1xuICAgIGRlYmxvY2tCdXR0b24oYnV0dG9uLCBzY3JpcHQsIFwiY2FsbGJhY2tEb3dubG9hZExldmVsc1wiKTtcbiAgfTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJ0bkRlYmxvY2tEaXZcIikuYXBwZW5kQ2hpbGQoYnV0dG9uRGVibG9jayk7XG59XG5cbmZ1bmN0aW9uIGRlYmxvY2tCdXR0b24oYnV0dG9uLCBzY3JpcHQpIHtcbiAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIHNjcmlwdC5zcmMgPSBudWxsO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxldmVsRG93bmxvYWRpbmdcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJidG5EZWJsb2NrRGl2XCIpLmlubmVySFRNTCA9IFwiXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0ucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbn1cblxuZnVuY3Rpb24gZ2V0TnVtYmVyRnJ1aXRzKHBsYXllcikge1xuICBjb25zdCBpdGVtID0gZ2V0U2F2ZShwbGF5ZXIsIERFRkFVTFRfTEVWRUwpO1xuXG4gIGlmKGl0ZW0gIT0gbnVsbCkge1xuICAgIGlmKCFpdGVtW1wibnVtRnJ1aXRzXCJdIHx8IGlzTmFOKGl0ZW1bXCJudW1GcnVpdHNcIl0pKSB7XG4gICAgICBpdGVtW1wibnVtRnJ1aXRzXCJdID0gMDtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlbVtcIm51bUZydWl0c1wiXTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0TGlzdExldmVsKHBsYXllciwgdHlwZSkge1xuICBjb25zdCBsZXZlbHMgPSBnZXRMZXZlbHMocGxheWVyLCB0eXBlKTtcbiAgbGV0IHJlcyA9IFwiXCI7XG5cbiAgaWYodHlwZSA9PSBET1dOTE9BREVEX0xFVkVMKSB7XG4gICAgcmVzICs9ICc8ZGl2IGNsYXNzPVwicm93IG1iLTNcIj48ZGl2IGNsYXNzPVwiY29sIHRleHQtY2VudGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tbGcgYnRuLXdhcm5pbmdcIiBvbmNsaWNrPVwiZG93bmxvYWRMZXZlbHMoJyArIHBsYXllciArICcsIHRoaXMpO1wiPjxzcGFuIGNsYXNzPVwiZnVpLXBsdXMtY2lyY2xlXCI+PC9zcGFuPiZuYnNwOyAnICsgaTE4bmV4dC50KFwibGV2ZWxzLmRvd25sb2FkXCIpICsgJzwvYnV0dG9uPjxiciAvPjxhIGhyZWY9XCIjbnVsbFwiIG9uY2xpY2s9XCJlZGl0RG93bmxvYWRVUkwoKTtcIiBjbGFzcz1cInNtYWxsXCI+PHNwYW4gY2xhc3M9XCJmdWktbmV3XCI+PC9zcGFuPiZuYnNwOyAnICsgaTE4bmV4dC50KFwibGV2ZWxzLmVkaXREb3dubG9hZFVSTFwiKSArICc8L2E+PC9kaXY+PC9kaXY+JztcbiAgfVxuXG4gIGlmKGxldmVscyA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHJlcyArIFwiPHN0cm9uZz5cIiArIGkxOG5leHQudChcImxldmVscy5lbXB0eUxpc3RcIikgKyBcIjwvc3Ryb25nPlwiO1xuICB9XG5cbiAgbGV0IGluZGV4ID0gMTtcbiAgbGV0IGVtcHR5ID0gdHJ1ZTtcblxuICBmb3IobGV0IGtleSBpbiBsZXZlbHMpIHtcbiAgICBsZXQgYnV0dG9uO1xuXG4gICAgaWYobGV2ZWxzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGlmKCFjYW5QbGF5KGtleSwgcGxheWVyLCB0eXBlKSkge1xuICAgICAgICBidXR0b24gPSAnPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tbGcgYnRuLXByaW1hcnkgYnRuLWJsb2NrLTg1XCIgZGlzYWJsZWQgYXJpYS1sYWJlbD1cIicgKyBpMThuZXh0LnQoXCJsZXZlbHMuZGlzYWJsZWRMZXZlbFwiKSArICdcIiBkYXRhLWJhbGxvb24tbGVuZ3RoPVwiZml0XCIgZGF0YS1iYWxsb29uLXBvcz1cInVwXCI+JyArIGkxOG5leHQudChcImxldmVscy5sZXZlbFwiKSArICcgJyArIGluZGV4ICsgJzwvYnV0dG9uPic7XG4gICAgICB9IGVsc2UgaWYoIWxldmVsQ29tcGF0aWJsZShsZXZlbHNba2V5XVtcInR5cGVcIl0sIGxldmVsc1trZXldW1widmVyc2lvblwiXSkpIHtcbiAgICAgICAgYnV0dG9uID0gJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLWxnIGJ0bi1wcmltYXJ5IGJ0bi1ibG9jay04NVwiIGRpc2FibGVkIGFyaWEtbGFiZWw9XCInICsgaTE4bmV4dC50KFwibGV2ZWxzLm5vdENvbXBhdGlibGVcIikgKyAnXCIgZGF0YS1iYWxsb29uLWxlbmd0aD1cImZpdFwiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiPicgKyBpMThuZXh0LnQoXCJsZXZlbHMubGV2ZWxcIikgKyAnICcgKyBpbmRleCArICc8L2J1dHRvbj4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVzdWx0TGV2ZWwgPSBwcmludFJlc3VsdExldmVsKGtleSwgcGxheWVyLCBsZXZlbHNba2V5XVtcInR5cGVcIl0sIHR5cGUpO1xuXG4gICAgICAgIGJ1dHRvbiA9ICc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1sZyBidG4tcHJpbWFyeSBidG4tYmxvY2stODVcIiBvbmNsaWNrPVwicGxheUxldmVsKCcgKyBrZXkgKyAnLCAnICsgcGxheWVyICArICcsICcgKyB0eXBlICsgJyk7XCIgJyArIChyZXN1bHRMZXZlbC50cmltKCkgIT0gXCJcIiA/ICdhcmlhLWxhYmVsPVwiJyArIHByaW50UmVzdWx0TGV2ZWwoa2V5LCBwbGF5ZXIsIGxldmVsc1trZXldW1widHlwZVwiXSwgdHlwZSkgKyAnXCIgZGF0YS1iYWxsb29uLWxlbmd0aD1cImZpdFwiIGRhdGEtYmFsbG9vbi1wb3M9XCJ1cFwiJyA6ICcnKSArICc+JyArIGkxOG5leHQudChcImxldmVscy5sZXZlbFwiKSArICcgJyArIGluZGV4ICsgJzwvYnV0dG9uPic7XG4gICAgICB9XG5cbiAgICAgIGlmKGluZGV4ID09IDEpIHtcbiAgICAgICAgcmVzICs9ICc8ZGl2IGNsYXNzPVwicm93IG1iLTJcIj4nO1xuICAgICAgfVxuXG4gICAgICBpZihpbmRleCAlIDIgPT0gMCkge1xuICAgICAgICByZXMgKz0gJzxkaXYgY2xhc3M9XCJjb2wgcGwtMCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+JyArIGJ1dHRvbiArICc8L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwicm93IG1iLTJcIj4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzICs9ICc8ZGl2IGNsYXNzPVwiY29sIHByLTAganVzdGlmeS1jb250ZW50LWNlbnRlclwiPicgKyBidXR0b24gKyAnPC9kaXY+JztcbiAgICAgIH1cblxuICAgICAgZW1wdHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpbmRleCsrO1xuICB9XG5cbiAgaWYoZW1wdHkpIHtcbiAgICByZXR1cm4gcmVzICsgXCI8c3Ryb25nPlwiICsgaTE4bmV4dC50KFwibGV2ZWxzLmVtcHR5TGlzdFwiKSArIFwiPC9zdHJvbmc+XCI7XG4gIH1cblxuICBpZihpbmRleCAlIDIgPT0gMCkge1xuICAgIHJlcyArPSAnPGRpdiBjbGFzcz1cImNvbCBwci0wIGp1c3RpZnktY29udGVudC1jZW50ZXJcIj48L2Rpdj4nO1xuICB9XG5cbiAgcmV0dXJuIHJlcyArIFwiPC9kaXY+XCI7XG59XG5cbmZ1bmN0aW9uIGdldExpc3RCb251cyhwbGF5ZXIpIHtcbiAgY29uc3QgaXRlbSA9IGdldFNhdmUocGxheWVyLCBERUZBVUxUX0xFVkVMKTtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIHAuY2xhc3NMaXN0LmFkZChcIm1iLTFcIik7XG4gIGNvbnN0IHBTdHJvbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIpO1xuICBwU3Ryb25nLnRleHRDb250ZW50ID0gaTE4bmV4dC50KFwibGV2ZWxzLmJvbnVzRXF1aXBwZWRcIikgKyBcIiBcIjtcbiAgY29uc3QgYm9udXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgYm9udXMudGV4dENvbnRlbnQgPSBpdGVtW1wiY3VycmVudEJvbnVzXCJdID8gKGxldmVsc0JvbnVzRGF0YVtpdGVtW1wiY3VycmVudEJvbnVzXCJdXSA/IGkxOG5leHQudChsZXZlbHNCb251c0RhdGFbaXRlbVtcImN1cnJlbnRCb251c1wiXV0udGV4dCkgOiBpMThuZXh0LnQoXCJsZXZlbHMuYm9udXMudW5rbm93blwiKSkgOiBpMThuZXh0LnQoXCJsZXZlbHMubm9uZVwiKTtcblxuICBwLmFwcGVuZENoaWxkKHBTdHJvbmcpO1xuICBwLmFwcGVuZENoaWxkKGJvbnVzKTtcblxuICBpZihpdGVtW1wiY3VycmVudEJvbnVzXCJdKSB7XG4gICAgY29uc3Qgc2VsbEJvbnVzTGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIHNlbGxCb251c0xpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHNlbGxCb251cyhwbGF5ZXIpKTtcbiAgICBzZWxsQm9udXNMaW5rLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgaTE4bmV4dC50KFwibGV2ZWxzLnNlbGxCb251c1wiKSk7XG4gICAgc2VsbEJvbnVzTGluay5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJhbGxvb24tbGVuZ3RoXCIsIFwibWVkaXVtXCIpO1xuICAgIHNlbGxCb251c0xpbmsuY2xhc3NMaXN0LmFkZChcInRleHQtZGFuZ2VyXCIsIFwibWwtMlwiKTtcbiAgICBzZWxsQm9udXNMaW5rLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuXG4gICAgY29uc3Qgc2VsbEJvbnVzU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHNlbGxCb251c1NwYW4uY2xhc3NMaXN0LmFkZChcImZ1aS1jcm9zc1wiKTtcblxuICAgIHNlbGxCb251c0xpbmsuYXBwZW5kQ2hpbGQoc2VsbEJvbnVzU3Bhbik7XG4gICAgcC5hcHBlbmRDaGlsZChzZWxsQm9udXNMaW5rKTtcbiAgfVxuXG4gIGRpdi5hcHBlbmRDaGlsZChwKTtcblxuICBmb3IobGV0IGtleSBpbiBsZXZlbHNCb251c0RhdGEpIHtcbiAgICBjb25zdCBzdWJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHN1YkRpdi5jbGFzc0xpc3QuYWRkKFwibS0yXCIpO1xuXG4gICAgY29uc3QgZGl2QnRuR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdkJ0bkdyb3VwLmNsYXNzTGlzdC5hZGQoXCJidG4tZ3JvdXBcIiwgXCJmbGV4LXdyYXBcIik7XG5cbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYnRuXCIsIFwiYnRuLXByaW1hcnlcIik7XG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gaTE4bmV4dC50KGxldmVsc0JvbnVzRGF0YVtrZXldLnRleHQpO1xuICAgIGJ1dHRvbi5zdHlsZS53aWR0aCA9IFwiMjUwcHhcIjtcbiAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiZGF0YS1iYWxsb29uLWxlbmd0aFwiLCBcImxhcmdlXCIpO1xuXG4gICAgaWYobGV2ZWxzQm9udXNEYXRhW2tleV0uYXBwbGljYWJsZVRvLmluZGV4T2YocGxheWVyKSA8IDAgfHwgKGl0ZW1bXCJ1bmxvY2tBbGxMZXZlbHNcIl0gJiYgKGtleSA9PSBcIkJPTlVTX1VOTE9DS19BTExfTEVWRUxTXCIgfHwga2V5ID09IFwiQk9OVVNfUEFTU19MRVZFTFwiKSkpIHtcbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgaTE4bmV4dC50KFwibGV2ZWxzLmJvbnVzTm90QXBwbGljYWJsZVwiKSk7XG4gICAgfSBlbHNlIGlmKGxldmVsc0JvbnVzRGF0YVtrZXldLnByaWNlID4gZ2V0TnVtYmVyRnJ1aXRzKHBsYXllcikpIHtcbiAgICAgIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgaTE4bmV4dC50KFwibGV2ZWxzLm5vdEVub3VnaEZydWl0c1wiKSk7XG4gICAgfSBlbHNlIGlmKGl0ZW1bXCJjdXJyZW50Qm9udXNcIl0gIT0gbnVsbCkge1xuICAgICAgYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBpMThuZXh0LnQoXCJsZXZlbHMuYm9udXNBbHJlYWR5RXF1aXBwZWRcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGJ1eUJvbnVzKGtleSwgcGxheWVyKSk7XG4gICAgfVxuXG4gICAgY29uc3QgYnV0dG9uSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYnV0dG9uSW5mby5jbGFzc0xpc3QuYWRkKFwiYnRuXCIsIFwiYnRuLWluZm9cIik7XG4gICAgYnV0dG9uSW5mby5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGkxOG5leHQudChsZXZlbHNCb251c0RhdGFba2V5XS5pbmZvcm1hdGlvbikpO1xuICAgIGJ1dHRvbkluZm8uc2V0QXR0cmlidXRlKFwiZGF0YS1iYWxsb29uLWxlbmd0aFwiLCBcImxhcmdlXCIpO1xuICAgIGNvbnN0IGljb25JbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgaWNvbkluZm8uY2xhc3NMaXN0LmFkZChcImZ1aS1xdWVzdGlvbi1jaXJjbGVcIik7XG4gICAgYnV0dG9uSW5mby5hcHBlbmRDaGlsZChpY29uSW5mbyk7XG5cbiAgICBjb25zdCBidXR0b25QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYnV0dG9uUHJpY2Uuc3R5bGUud2lkdGggPSBcIjEyNXB4XCI7XG4gICAgY29uc3QgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoXCJhbGlnbi10ZXh0LWJvdHRvbVwiKTtcbiAgICBpbWFnZS5zcmMgPSBcImFzc2V0cy9pbWFnZXMvc2tpbi9mbGF0L2ZydWl0LnBuZ1wiO1xuICAgIGltYWdlLndpZHRoID0gMjQ7XG4gICAgaW1hZ2UuaGVpZ2h0ID0gMjQ7XG4gICAgY29uc3Qgc3BhbjIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBzcGFuMi50ZXh0Q29udGVudCA9IFwiIMOXIFwiICsgbGV2ZWxzQm9udXNEYXRhW2tleV0ucHJpY2U7XG4gICAgYnV0dG9uUHJpY2UuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgIGJ1dHRvblByaWNlLmFwcGVuZENoaWxkKHNwYW4yKTtcblxuICAgIGRpdkJ0bkdyb3VwLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgZGl2QnRuR3JvdXAuYXBwZW5kQ2hpbGQoYnV0dG9uSW5mbyk7XG4gICAgZGl2QnRuR3JvdXAuYXBwZW5kQ2hpbGQoYnV0dG9uUHJpY2UpO1xuXG4gICAgc3ViRGl2LmFwcGVuZENoaWxkKGRpdkJ0bkdyb3VwKTtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoc3ViRGl2KTtcbiAgfVxuXG4gIHJldHVybiBkaXY7XG59XG5cbmZ1bmN0aW9uIGJ1eUJvbnVzKGJvbnVzLCBwbGF5ZXIpIHtcbiAgY29uc3Qgc2F2ZSA9IGdldFRpdGxlU2F2ZShwbGF5ZXIsIERFRkFVTFRfTEVWRUwpO1xuICBjb25zdCBpdGVtID0gZ2V0U2F2ZShwbGF5ZXIsIERFRkFVTFRfTEVWRUwpO1xuXG4gIGlmKGJvbnVzID09IG51bGwpIHtcbiAgICBpdGVtW1wiY3VycmVudEJvbnVzXCJdID0gbnVsbDtcbiAgICBzdG9yYWdlR2xvYmFsLnNldEl0ZW0oc2F2ZSwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpO1xuICB9IGVsc2UgaWYobGV2ZWxzQm9udXNEYXRhW2JvbnVzXS5hcHBsaWNhYmxlVG8uaW5kZXhPZihwbGF5ZXIpIDwgMCB8fCAoaXRlbVtcInVubG9ja0FsbExldmVsc1wiXSAmJiAoYm9udXMgPT0gXCJCT05VU19VTkxPQ0tfQUxMX0xFVkVMU1wiIHx8IGJvbnVzID09IFwiQk9OVVNfUEFTU19MRVZFTFwiKSkpIHtcbiAgICBhbGVydChpMThuZXh0LnQoXCJsZXZlbHMuYm9udXNOb3RBcHBsaWNhYmxlXCIpKTtcbiAgfSBlbHNlIGlmKGxldmVsc0JvbnVzRGF0YVtib251c10ucHJpY2UgPiBnZXROdW1iZXJGcnVpdHMocGxheWVyKSkge1xuICAgIGFsZXJ0KGkxOG5leHQudChcImxldmVscy5ub3RFbm91Z2hGcnVpdHNcIikpO1xuICB9IGVsc2UgaWYoaXRlbVtcImN1cnJlbnRCb251c1wiXSAhPSBudWxsKSB7XG4gICAgYWxlcnQoaTE4bmV4dC50KFwibGV2ZWxzLmJvbnVzQWxyZWFkeUVxdWlwcGVkXCIpKTtcbiAgfSBlbHNlIHtcbiAgICBpdGVtW1wibnVtRnJ1aXRzXCJdIC09IGxldmVsc0JvbnVzRGF0YVtib251c10ucHJpY2U7XG5cbiAgICBpZihib251cyA9PSBcIkJPTlVTX1VOTE9DS19BTExfTEVWRUxTXCIpIHtcbiAgICAgIGl0ZW1bXCJ1bmxvY2tBbGxMZXZlbHNcIl0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtW1wiY3VycmVudEJvbnVzXCJdID0gYm9udXM7XG4gICAgfVxuXG4gICAgc3RvcmFnZUdsb2JhbC5zZXRJdGVtKHNhdmUsIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICBkaXNwbGF5TGV2ZWxMaXN0KHBsYXllcik7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2VsbEJvbnVzKHBsYXllcikge1xuICBjb25zdCBzYXZlID0gZ2V0VGl0bGVTYXZlKHBsYXllciwgREVGQVVMVF9MRVZFTCk7XG4gIGNvbnN0IGl0ZW0gPSBnZXRTYXZlKHBsYXllciwgREVGQVVMVF9MRVZFTCk7XG5cbiAgaWYoaXRlbVtcImN1cnJlbnRCb251c1wiXSAhPSBudWxsKSB7XG4gICAgaWYobGV2ZWxzQm9udXNEYXRhW2l0ZW1bXCJjdXJyZW50Qm9udXNcIl1dIHx8IGNvbmZpcm0oaTE4bmV4dC50KFwibGV2ZWxzLmJvbnVzLnVua25vd25JbmZvXCIpKSkge1xuICAgICAgaWYobGV2ZWxzQm9udXNEYXRhW2l0ZW1bXCJjdXJyZW50Qm9udXNcIl1dKSB7XG4gICAgICAgIGl0ZW1bXCJudW1GcnVpdHNcIl0gKz0gbGV2ZWxzQm9udXNEYXRhW2l0ZW1bXCJjdXJyZW50Qm9udXNcIl1dLnByaWNlO1xuICAgICAgfVxuXG4gICAgICBpdGVtW1wiY3VycmVudEJvbnVzXCJdID0gbnVsbDtcbiAgICAgIHN0b3JhZ2VHbG9iYWwuc2V0SXRlbShzYXZlLCBKU09OLnN0cmluZ2lmeShpdGVtKSk7XG4gICAgICBkaXNwbGF5TGV2ZWxMaXN0KHBsYXllcik7XG4gIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBMb2NhbGl6YXRpb25cbmZ1bmN0aW9uIGxpc3RUcmFuc2xhdGlvbnMobGFuZ3VhZ2VzKSB7XG4gIGlmKGxhbmd1YWdlcyAhPSBudWxsKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYW5ndWFnZVNlbGVjdFwiKS5kaXNhYmxlZCA9IHRydWU7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYW5ndWFnZVNlbGVjdFwiKS5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGxhbmd1YWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYW5ndWFnZVNlbGVjdFwiKS5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhbmd1YWdlU2VsZWN0XCIpLmlubmVySFRNTCArICc8b3B0aW9uIGRhdGEtaTE4bj1cImxhbmcuJyArIGxhbmd1YWdlc1tpXSArICdcIiB2YWx1ZT1cIicrIGxhbmd1YWdlc1tpXSArJ1wiPjwvb3B0aW9uPic7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYW5ndWFnZVNlbGVjdFwiKS52YWx1ZSA9IGkxOG5leHQubGFuZ3VhZ2Uuc3Vic3RyKDAsIDIpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGFuZ3VhZ2VTZWxlY3RcIikuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGVDb250ZW50KCkge1xuICBsaXN0VHJhbnNsYXRpb25zKGkxOG5leHQubGFuZ3VhZ2VzKTtcblxuICBjb25zdCBpMThuTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1pMThuXVwiKTtcblxuICBmb3IobGV0IGkgPSAwLCBsID0gaTE4bkxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaTE4bkxpc3RbaV0uaW5uZXJIVE1MID0gaTE4bmV4dC50KGkxOG5MaXN0W2ldLmRhdGFzZXQuaTE4bik7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRhdGVUeHRcIikuaW5uZXJIVE1MID0gaTE4bmV4dC50KFwibWVudS52ZXJzaW9uRGF0ZVwiLCB7IGRhdGU6IG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGkxOG5leHQubGFuZ3VhZ2Uuc3Vic3RyKDAsIDIpKS5mb3JtYXQobmV3IERhdGUoREFURV9WRVJTSU9OKSkgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJoZWlnaHRHcmlkXCIpLnBsYWNlaG9sZGVyID0gaTE4bmV4dC50KFwic2V0dGluZ3MucGxhY2Vob2xkZXJIZWlnaHRcIik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2lkdGhHcmlkXCIpLnBsYWNlaG9sZGVyID0gaTE4bmV4dC50KFwic2V0dGluZ3MucGxhY2Vob2xkZXJXaWR0aFwiKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXN0b21TcGVlZFwiKS5wbGFjZWhvbGRlciA9IGkxOG5leHQudChcInNldHRpbmdzLnBsYWNlaG9sZGVyQ3VzdG9tU3BlZWRcIik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibnVtYmVySUFcIikucGxhY2Vob2xkZXIgPSBpMThuZXh0LnQoXCJzZXR0aW5ncy5wbGFjZWhvbGRlck51bWJlcklBXCIpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwRG93bmxvYWRVUkxHZXRcIikuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBpMThuZXh0LnQoXCJ1cGRhdGUuZ2V0VVJMXCIpKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBVcGRhdGVDaGFuZ2VzXCIpLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgaTE4bmV4dC50KFwidXBkYXRlLmdldENoYW5nZXNcIikpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwVXBkYXRlRGF0ZUxvY2FsaXplZFwiKS5pbm5lckhUTUwgPSBpMThuZXh0LnQoXCJ1cGRhdGUudmVyc2lvbkRhdGVcIiwgeyBkYXRlOiBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChpMThuZXh0Lmxhbmd1YWdlLnN1YnN0cigwLCAyKSkuZm9ybWF0KG5ldyBEYXRlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwVXBkYXRlRGF0ZVwiKS5pbm5lckhUTUwpKSB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFpQXNzaXN0YW50SW5mb3NcIikuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBpMThuZXh0LnQoXCJzZXR0aW5ncy5haUFzc2lzdGFudEluZm9zXCIpKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtdWx0aXRocmVhZGluZ0luZm9zXCIpLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgaTE4bmV4dC50KFwibWVudS5tdWx0aXRocmVhZGluZ0luZm9zXCIpKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvbmxpbmVFbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnNJbmZvc1wiKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIGkxOG5leHQudChcIm1lbnUub25saW5lRW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zSW5mb3NcIikpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNldHRpbmdOb3RBdmFpbGFibGVcIikuZm9yRWFjaChlID0+IHtcbiAgICBlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgaTE4bmV4dC50KFwibWVudS5zZXR0aW5nTm90QXZhaWxhYmxlXCIpKTtcbiAgfSk7XG59XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGFuZ3VhZ2VTZWxlY3RcIikub25jaGFuZ2UgPSAoKSA9PiB7XG4gIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYW5ndWFnZVNlbGVjdFwiKS52YWx1ZSwgKGVyciwgdCkgPT4ge1xuICAgIHRyYW5zbGF0ZUNvbnRlbnQoKTtcbiAgfSk7XG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICB0cmFuc2xhdGVDb250ZW50KCk7XG4gICAgY2hlY2tVcGRhdGUoKTtcbiAgfSwgMjUwKTtcbn0pO1xuXG4vLyBJbnN0YWxsYWJsZSBhcHBcbmlmKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xuICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihcInNlcnZpY2Utd29ya2VyLmpzXCIpO1xufVxuIiwiZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gc2VsZjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXNzZXJ0VGhpc0luaXRpYWxpemVkOyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2NsYXNzQ2FsbENoZWNrOyIsImZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfY3JlYXRlQ2xhc3M7IiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2RlZmluZVByb3BlcnR5OyIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZikge1xuICBpZiAoc2VsZiA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIHNlbGY7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn0iLCJmdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufSIsImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2V0UHJvdG90eXBlT2ZcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG5cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn0iLCJpbXBvcnQgZGVmaW5lUHJvcGVydHkgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5XCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IE9iamVjdChhcmd1bWVudHNbaV0pIDoge307XG4gICAgdmFyIG93bktleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgaWYgKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvd25LZXlzID0gb3duS2V5cy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwgc3ltKS5lbnVtZXJhYmxlO1xuICAgICAgfSkpO1xuICAgIH1cblxuICAgIG93bktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn0iLCJpbXBvcnQgX3R5cGVvZiBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mXCI7XG5pbXBvcnQgYXNzZXJ0VGhpc0luaXRpYWxpemVkIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWRcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHtcbiAgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHtcbiAgICByZXR1cm4gY2FsbDtcbiAgfVxuXG4gIHJldHVybiBhc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuXG4gIHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiO1xuXG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikge1xuICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX3R5cGVvZihvYmopO1xufSIsInZhciBzdXBlclByb3BCYXNlID0gcmVxdWlyZShcIi4vc3VwZXJQcm9wQmFzZVwiKTtcblxuZnVuY3Rpb24gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlcikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIgJiYgUmVmbGVjdC5nZXQpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF9nZXQgPSBSZWZsZWN0LmdldDtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICB2YXIgYmFzZSA9IHN1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBpZiAoIWJhc2UpIHJldHVybjtcbiAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChyZWNlaXZlcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXNjLnZhbHVlO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX2dldCh0YXJnZXQsIHByb3BlcnR5LCByZWNlaXZlciB8fCB0YXJnZXQpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9nZXQ7IiwiZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2dldFByb3RvdHlwZU9mOyIsInZhciBzZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoXCIuL3NldFByb3RvdHlwZU9mXCIpO1xuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgfVxuXG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX2luaGVyaXRzOyIsInZhciBfdHlwZW9mID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mXCIpO1xuXG52YXIgYXNzZXJ0VGhpc0luaXRpYWxpemVkID0gcmVxdWlyZShcIi4vYXNzZXJ0VGhpc0luaXRpYWxpemVkXCIpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmIChjYWxsICYmIChfdHlwZW9mKGNhbGwpID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgcmV0dXJuIGNhbGw7XG4gIH1cblxuICByZXR1cm4gYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuOyIsInZhciBzdXBlclByb3BCYXNlID0gcmVxdWlyZShcIi4vc3VwZXJQcm9wQmFzZVwiKTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4vZGVmaW5lUHJvcGVydHlcIik7XG5cbmZ1bmN0aW9uIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3Quc2V0KSB7XG4gICAgc2V0ID0gUmVmbGVjdC5zZXQ7XG4gIH0gZWxzZSB7XG4gICAgc2V0ID0gZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgdmFyIGJhc2UgPSBzdXBlclByb3BCYXNlKHRhcmdldCwgcHJvcGVydHkpO1xuICAgICAgdmFyIGRlc2M7XG5cbiAgICAgIGlmIChiYXNlKSB7XG4gICAgICAgIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJhc2UsIHByb3BlcnR5KTtcblxuICAgICAgICBpZiAoZGVzYy5zZXQpIHtcbiAgICAgICAgICBkZXNjLnNldC5jYWxsKHJlY2VpdmVyLCB2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIWRlc2Mud3JpdGFibGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVjZWl2ZXIsIHByb3BlcnR5KTtcblxuICAgICAgaWYgKGRlc2MpIHtcbiAgICAgICAgaWYgKCFkZXNjLndyaXRhYmxlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVzYy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVjZWl2ZXIsIHByb3BlcnR5LCBkZXNjKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KHJlY2VpdmVyLCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHNldCh0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xufVxuXG5mdW5jdGlvbiBfc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlciwgaXNTdHJpY3QpIHtcbiAgdmFyIHMgPSBzZXQodGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUsIHJlY2VpdmVyIHx8IHRhcmdldCk7XG5cbiAgaWYgKCFzICYmIGlzU3RyaWN0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gc2V0IHByb3BlcnR5Jyk7XG4gIH1cblxuICByZXR1cm4gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3NldDsiLCJmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBtb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zZXRQcm90b3R5cGVPZjsiLCJ2YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKFwiLi9nZXRQcm90b3R5cGVPZlwiKTtcblxuZnVuY3Rpb24gX3N1cGVyUHJvcEJhc2Uob2JqZWN0LCBwcm9wZXJ0eSkge1xuICB3aGlsZSAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSkge1xuICAgIG9iamVjdCA9IGdldFByb3RvdHlwZU9mKG9iamVjdCk7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9zdXBlclByb3BCYXNlOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfdHlwZW9mKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX3R5cGVvZjsiLCJtb2R1bGUuZXhwb3J0cyA9IGFmdGVyXG5cbmZ1bmN0aW9uIGFmdGVyKGNvdW50LCBjYWxsYmFjaywgZXJyX2NiKSB7XG4gICAgdmFyIGJhaWwgPSBmYWxzZVxuICAgIGVycl9jYiA9IGVycl9jYiB8fCBub29wXG4gICAgcHJveHkuY291bnQgPSBjb3VudFxuXG4gICAgcmV0dXJuIChjb3VudCA9PT0gMCkgPyBjYWxsYmFjaygpIDogcHJveHlcblxuICAgIGZ1bmN0aW9uIHByb3h5KGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGlmIChwcm94eS5jb3VudCA8PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FmdGVyIGNhbGxlZCB0b28gbWFueSB0aW1lcycpXG4gICAgICAgIH1cbiAgICAgICAgLS1wcm94eS5jb3VudFxuXG4gICAgICAgIC8vIGFmdGVyIGZpcnN0IGVycm9yLCByZXN0IGFyZSBwYXNzZWQgdG8gZXJyX2NiXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGJhaWwgPSB0cnVlXG4gICAgICAgICAgICBjYWxsYmFjayhlcnIpXG4gICAgICAgICAgICAvLyBmdXR1cmUgZXJyb3IgY2FsbGJhY2tzIHdpbGwgZ28gdG8gZXJyb3IgaGFuZGxlclxuICAgICAgICAgICAgY2FsbGJhY2sgPSBlcnJfY2JcbiAgICAgICAgfSBlbHNlIGlmIChwcm94eS5jb3VudCA9PT0gMCAmJiAhYmFpbCkge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KVxuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub29wKCkge31cbiIsIi8qKlxuICogQW4gYWJzdHJhY3Rpb24gZm9yIHNsaWNpbmcgYW4gYXJyYXlidWZmZXIgZXZlbiB3aGVuXG4gKiBBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgaXMgbm90IHN1cHBvcnRlZFxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcnJheWJ1ZmZlciwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBhcnJheWJ1ZmZlci5ieXRlTGVuZ3RoO1xuICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gIGVuZCA9IGVuZCB8fCBieXRlcztcblxuICBpZiAoYXJyYXlidWZmZXIuc2xpY2UpIHsgcmV0dXJuIGFycmF5YnVmZmVyLnNsaWNlKHN0YXJ0LCBlbmQpOyB9XG5cbiAgaWYgKHN0YXJ0IDwgMCkgeyBzdGFydCArPSBieXRlczsgfVxuICBpZiAoZW5kIDwgMCkgeyBlbmQgKz0gYnl0ZXM7IH1cbiAgaWYgKGVuZCA+IGJ5dGVzKSB7IGVuZCA9IGJ5dGVzOyB9XG5cbiAgaWYgKHN0YXJ0ID49IGJ5dGVzIHx8IHN0YXJ0ID49IGVuZCB8fCBieXRlcyA9PT0gMCkge1xuICAgIHJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gIH1cblxuICB2YXIgYWJ2ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlidWZmZXIpO1xuICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoZW5kIC0gc3RhcnQpO1xuICBmb3IgKHZhciBpID0gc3RhcnQsIGlpID0gMDsgaSA8IGVuZDsgaSsrLCBpaSsrKSB7XG4gICAgcmVzdWx0W2lpXSA9IGFidltpXTtcbiAgfVxuICByZXR1cm4gcmVzdWx0LmJ1ZmZlcjtcbn07XG4iLCJcbi8qKlxuICogRXhwb3NlIGBCYWNrb2ZmYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tvZmY7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBiYWNrb2ZmIHRpbWVyIHdpdGggYG9wdHNgLlxuICpcbiAqIC0gYG1pbmAgaW5pdGlhbCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBbMTAwXVxuICogLSBgbWF4YCBtYXggdGltZW91dCBbMTAwMDBdXG4gKiAtIGBqaXR0ZXJgIFswXVxuICogLSBgZmFjdG9yYCBbMl1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBCYWNrb2ZmKG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIHRoaXMubXMgPSBvcHRzLm1pbiB8fCAxMDA7XG4gIHRoaXMubWF4ID0gb3B0cy5tYXggfHwgMTAwMDA7XG4gIHRoaXMuZmFjdG9yID0gb3B0cy5mYWN0b3IgfHwgMjtcbiAgdGhpcy5qaXR0ZXIgPSBvcHRzLmppdHRlciA+IDAgJiYgb3B0cy5qaXR0ZXIgPD0gMSA/IG9wdHMuaml0dGVyIDogMDtcbiAgdGhpcy5hdHRlbXB0cyA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBiYWNrb2ZmIGR1cmF0aW9uLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQmFja29mZi5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbigpe1xuICB2YXIgbXMgPSB0aGlzLm1zICogTWF0aC5wb3codGhpcy5mYWN0b3IsIHRoaXMuYXR0ZW1wdHMrKyk7XG4gIGlmICh0aGlzLmppdHRlcikge1xuICAgIHZhciByYW5kID0gIE1hdGgucmFuZG9tKCk7XG4gICAgdmFyIGRldmlhdGlvbiA9IE1hdGguZmxvb3IocmFuZCAqIHRoaXMuaml0dGVyICogbXMpO1xuICAgIG1zID0gKE1hdGguZmxvb3IocmFuZCAqIDEwKSAmIDEpID09IDAgID8gbXMgLSBkZXZpYXRpb24gOiBtcyArIGRldmlhdGlvbjtcbiAgfVxuICByZXR1cm4gTWF0aC5taW4obXMsIHRoaXMubWF4KSB8IDA7XG59O1xuXG4vKipcbiAqIFJlc2V0IHRoZSBudW1iZXIgb2YgYXR0ZW1wdHMuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5CYWNrb2ZmLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuYXR0ZW1wdHMgPSAwO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIG1pbmltdW0gZHVyYXRpb25cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkJhY2tvZmYucHJvdG90eXBlLnNldE1pbiA9IGZ1bmN0aW9uKG1pbil7XG4gIHRoaXMubXMgPSBtaW47XG59O1xuXG4vKipcbiAqIFNldCB0aGUgbWF4aW11bSBkdXJhdGlvblxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQmFja29mZi5wcm90b3R5cGUuc2V0TWF4ID0gZnVuY3Rpb24obWF4KXtcbiAgdGhpcy5tYXggPSBtYXg7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgaml0dGVyXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRKaXR0ZXIgPSBmdW5jdGlvbihqaXR0ZXIpe1xuICB0aGlzLmppdHRlciA9IGppdHRlcjtcbn07XG5cbiIsIi8qXG4gKiBiYXNlNjQtYXJyYXlidWZmZXJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9iYXNlNjQtYXJyYXlidWZmZXJcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTIgTmlrbGFzIHZvbiBIZXJ0emVuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cbihmdW5jdGlvbihjaGFycyl7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGV4cG9ydHMuZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHtcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShhcnJheWJ1ZmZlciksXG4gICAgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSBcIlwiO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSs9Mykge1xuICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdO1xuICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaV0gJiAzKSA8PCA0KSB8IChieXRlc1tpICsgMV0gPj4gNCldO1xuICAgICAgYmFzZTY0ICs9IGNoYXJzWygoYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIpIHwgKGJ5dGVzW2kgKyAyXSA+PiA2KV07XG4gICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdO1xuICAgIH1cblxuICAgIGlmICgobGVuICUgMykgPT09IDIpIHtcbiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgXCI9XCI7XG4gICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7XG4gICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArIFwiPT1cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gYmFzZTY0O1xuICB9O1xuXG4gIGV4cG9ydHMuZGVjb2RlID0gIGZ1bmN0aW9uKGJhc2U2NCkge1xuICAgIHZhciBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSxcbiAgICBsZW4gPSBiYXNlNjQubGVuZ3RoLCBpLCBwID0gMCxcbiAgICBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcblxuICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSBcIj1cIikge1xuICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gXCI9XCIpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFycmF5YnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCksXG4gICAgYnl0ZXMgPSBuZXcgVWludDhBcnJheShhcnJheWJ1ZmZlcik7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKz00KSB7XG4gICAgICBlbmNvZGVkMSA9IGNoYXJzLmluZGV4T2YoYmFzZTY0W2ldKTtcbiAgICAgIGVuY29kZWQyID0gY2hhcnMuaW5kZXhPZihiYXNlNjRbaSsxXSk7XG4gICAgICBlbmNvZGVkMyA9IGNoYXJzLmluZGV4T2YoYmFzZTY0W2krMl0pO1xuICAgICAgZW5jb2RlZDQgPSBjaGFycy5pbmRleE9mKGJhc2U2NFtpKzNdKTtcblxuICAgICAgYnl0ZXNbcCsrXSA9IChlbmNvZGVkMSA8PCAyKSB8IChlbmNvZGVkMiA+PiA0KTtcbiAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xuICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXlidWZmZXI7XG4gIH07XG59KShcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIik7XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsoXG4gICAgICB1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpXG4gICAgKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiLyoqXHJcbiAqIENyZWF0ZSBhIGJsb2IgYnVpbGRlciBldmVuIHdoZW4gdmVuZG9yIHByZWZpeGVzIGV4aXN0XHJcbiAqL1xyXG5cclxudmFyIEJsb2JCdWlsZGVyID0gdHlwZW9mIEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IEJsb2JCdWlsZGVyIDpcclxuICB0eXBlb2YgV2ViS2l0QmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gV2ViS2l0QmxvYkJ1aWxkZXIgOlxyXG4gIHR5cGVvZiBNU0Jsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1TQmxvYkJ1aWxkZXIgOlxyXG4gIHR5cGVvZiBNb3pCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNb3pCbG9iQnVpbGRlciA6IFxyXG4gIGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIEJsb2IgY29uc3RydWN0b3IgaXMgc3VwcG9ydGVkXHJcbiAqL1xyXG5cclxudmFyIGJsb2JTdXBwb3J0ZWQgPSAoZnVuY3Rpb24oKSB7XHJcbiAgdHJ5IHtcclxuICAgIHZhciBhID0gbmV3IEJsb2IoWydoaSddKTtcclxuICAgIHJldHVybiBhLnNpemUgPT09IDI7XHJcbiAgfSBjYXRjaChlKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59KSgpO1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIEJsb2IgY29uc3RydWN0b3Igc3VwcG9ydHMgQXJyYXlCdWZmZXJWaWV3c1xyXG4gKiBGYWlscyBpbiBTYWZhcmkgNiwgc28gd2UgbmVlZCB0byBtYXAgdG8gQXJyYXlCdWZmZXJzIHRoZXJlLlxyXG4gKi9cclxuXHJcbnZhciBibG9iU3VwcG9ydHNBcnJheUJ1ZmZlclZpZXcgPSBibG9iU3VwcG9ydGVkICYmIChmdW5jdGlvbigpIHtcclxuICB0cnkge1xyXG4gICAgdmFyIGIgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoWzEsMl0pXSk7XHJcbiAgICByZXR1cm4gYi5zaXplID09PSAyO1xyXG4gIH0gY2F0Y2goZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufSkoKTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBCbG9iQnVpbGRlciBpcyBzdXBwb3J0ZWRcclxuICovXHJcblxyXG52YXIgYmxvYkJ1aWxkZXJTdXBwb3J0ZWQgPSBCbG9iQnVpbGRlclxyXG4gICYmIEJsb2JCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmRcclxuICAmJiBCbG9iQnVpbGRlci5wcm90b3R5cGUuZ2V0QmxvYjtcclxuXHJcbi8qKlxyXG4gKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBtYXBzIEFycmF5QnVmZmVyVmlld3MgdG8gQXJyYXlCdWZmZXJzXHJcbiAqIFVzZWQgYnkgQmxvYkJ1aWxkZXIgY29uc3RydWN0b3IgYW5kIG9sZCBicm93c2VycyB0aGF0IGRpZG4ndFxyXG4gKiBzdXBwb3J0IGl0IGluIHRoZSBCbG9iIGNvbnN0cnVjdG9yLlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1hcEFycmF5QnVmZmVyVmlld3MoYXJ5KSB7XHJcbiAgcmV0dXJuIGFyeS5tYXAoZnVuY3Rpb24oY2h1bmspIHtcclxuICAgIGlmIChjaHVuay5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xyXG4gICAgICB2YXIgYnVmID0gY2h1bmsuYnVmZmVyO1xyXG5cclxuICAgICAgLy8gaWYgdGhpcyBpcyBhIHN1YmFycmF5LCBtYWtlIGEgY29weSBzbyB3ZSBvbmx5XHJcbiAgICAgIC8vIGluY2x1ZGUgdGhlIHN1YmFycmF5IHJlZ2lvbiBmcm9tIHRoZSB1bmRlcmx5aW5nIGJ1ZmZlclxyXG4gICAgICBpZiAoY2h1bmsuYnl0ZUxlbmd0aCAhPT0gYnVmLmJ5dGVMZW5ndGgpIHtcclxuICAgICAgICB2YXIgY29weSA9IG5ldyBVaW50OEFycmF5KGNodW5rLmJ5dGVMZW5ndGgpO1xyXG4gICAgICAgIGNvcHkuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZiwgY2h1bmsuYnl0ZU9mZnNldCwgY2h1bmsuYnl0ZUxlbmd0aCkpO1xyXG4gICAgICAgIGJ1ZiA9IGNvcHkuYnVmZmVyO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gYnVmO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjaHVuaztcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gQmxvYkJ1aWxkZXJDb25zdHJ1Y3RvcihhcnksIG9wdGlvbnMpIHtcclxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgdmFyIGJiID0gbmV3IEJsb2JCdWlsZGVyKCk7XHJcbiAgbWFwQXJyYXlCdWZmZXJWaWV3cyhhcnkpLmZvckVhY2goZnVuY3Rpb24ocGFydCkge1xyXG4gICAgYmIuYXBwZW5kKHBhcnQpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gKG9wdGlvbnMudHlwZSkgPyBiYi5nZXRCbG9iKG9wdGlvbnMudHlwZSkgOiBiYi5nZXRCbG9iKCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBCbG9iQ29uc3RydWN0b3IoYXJ5LCBvcHRpb25zKSB7XHJcbiAgcmV0dXJuIG5ldyBCbG9iKG1hcEFycmF5QnVmZmVyVmlld3MoYXJ5KSwgb3B0aW9ucyB8fCB7fSk7XHJcbn07XHJcblxyXG5pZiAodHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgQmxvYkJ1aWxkZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBCbG9iLnByb3RvdHlwZTtcclxuICBCbG9iQ29uc3RydWN0b3IucHJvdG90eXBlID0gQmxvYi5wcm90b3R5cGU7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKCkge1xyXG4gIGlmIChibG9iU3VwcG9ydGVkKSB7XHJcbiAgICByZXR1cm4gYmxvYlN1cHBvcnRzQXJyYXlCdWZmZXJWaWV3ID8gQmxvYiA6IEJsb2JDb25zdHJ1Y3RvcjtcclxuICB9IGVsc2UgaWYgKGJsb2JCdWlsZGVyU3VwcG9ydGVkKSB7XHJcbiAgICByZXR1cm4gQmxvYkJ1aWxkZXJDb25zdHJ1Y3RvcjtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbn0pKCk7XHJcbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG4gKiB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIHR5cGVkIGFycmF5cy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG4gKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG4gKlxuICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXlcbiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUICE9PSB1bmRlZmluZWRcbiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuLypcbiAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBhcnIuX19wcm90b19fID0ge19fcHJvdG9fXzogVWludDhBcnJheS5wcm90b3R5cGUsIGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfX1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcbiAgfVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICAgIH1cbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gZnJvbSAodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG4gIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gdGhhdFxuICB9XG5cbiAgaWYgKG9iaikge1xuICAgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIDApXG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG4gICAgfVxuXG4gICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqLmRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfVxuICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG4vLyBCdWZmZXIgaW5zdGFuY2VzLlxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgdmFyIGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiB1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCwgZW5jb2RpbmcpLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iLCIvKipcbiAqIFNsaWNlIHJlZmVyZW5jZS5cbiAqL1xuXG52YXIgc2xpY2UgPSBbXS5zbGljZTtcblxuLyoqXG4gKiBCaW5kIGBvYmpgIHRvIGBmbmAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGZuIG9yIHN0cmluZ1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBmbil7XG4gIGlmICgnc3RyaW5nJyA9PSB0eXBlb2YgZm4pIGZuID0gb2JqW2ZuXTtcbiAgaWYgKCdmdW5jdGlvbicgIT0gdHlwZW9mIGZuKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbmQoKSByZXF1aXJlcyBhIGZ1bmN0aW9uJyk7XG4gIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICByZXR1cm4gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gZm4uYXBwbHkob2JqLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgfVxufTtcbiIsIlxyXG4vKipcclxuICogRXhwb3NlIGBFbWl0dGVyYC5cclxuICovXHJcblxyXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICBtb2R1bGUuZXhwb3J0cyA9IEVtaXR0ZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplIGEgbmV3IGBFbWl0dGVyYC5cclxuICpcclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5mdW5jdGlvbiBFbWl0dGVyKG9iaikge1xyXG4gIGlmIChvYmopIHJldHVybiBtaXhpbihvYmopO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKiBAYXBpIHByaXZhdGVcclxuICovXHJcblxyXG5mdW5jdGlvbiBtaXhpbihvYmopIHtcclxuICBmb3IgKHZhciBrZXkgaW4gRW1pdHRlci5wcm90b3R5cGUpIHtcclxuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcclxuICB9XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuLyoqXHJcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLm9uID1cclxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG4gICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSlcclxuICAgIC5wdXNoKGZuKTtcclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIGFuIGBldmVudGAgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYSBzaW5nbGVcclxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XHJcbiAgZnVuY3Rpb24gb24oKSB7XHJcbiAgICB0aGlzLm9mZihldmVudCwgb24pO1xyXG4gICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICB9XHJcblxyXG4gIG9uLmZuID0gZm47XHJcbiAgdGhpcy5vbihldmVudCwgb24pO1xyXG4gIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGBldmVudGAgb3IgYWxsXHJcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHJldHVybiB7RW1pdHRlcn1cclxuICogQGFwaSBwdWJsaWNcclxuICovXHJcblxyXG5FbWl0dGVyLnByb3RvdHlwZS5vZmYgPVxyXG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XHJcbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuXHJcbiAgLy8gYWxsXHJcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgdGhpcy5fY2FsbGJhY2tzID0ge307XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIHNwZWNpZmljIGV2ZW50XHJcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcbiAgaWYgKCFjYWxsYmFja3MpIHJldHVybiB0aGlzO1xyXG5cclxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXHJcbiAgaWYgKDEgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXHJcbiAgdmFyIGNiO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcclxuICAgIGlmIChjYiA9PT0gZm4gfHwgY2IuZm4gPT09IGZuKSB7XHJcbiAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIGV2ZW50IHNwZWNpZmljIGFycmF5cyBmb3IgZXZlbnQgdHlwZXMgdGhhdCBub1xyXG4gIC8vIG9uZSBpcyBzdWJzY3JpYmVkIGZvciB0byBhdm9pZCBtZW1vcnkgbGVhay5cclxuICBpZiAoY2FsbGJhY2tzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBFbWl0IGBldmVudGAgd2l0aCB0aGUgZ2l2ZW4gYXJncy5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAqIEBwYXJhbSB7TWl4ZWR9IC4uLlxyXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7XHJcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xyXG5cclxuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSlcclxuICAgICwgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xyXG4gIH1cclxuXHJcbiAgaWYgKGNhbGxiYWNrcykge1xyXG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xyXG4gICAgICBjYWxsYmFja3NbaV0uYXBwbHkodGhpcywgYXJncyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXR1cm4gYXJyYXkgb2YgY2FsbGJhY2tzIGZvciBgZXZlbnRgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqIEBhcGkgcHVibGljXHJcbiAqL1xyXG5cclxuRW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xyXG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcclxuICByZXR1cm4gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiB0aGlzIGVtaXR0ZXIgaGFzIGBldmVudGAgaGFuZGxlcnMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKiBAYXBpIHB1YmxpY1xyXG4gKi9cclxuXHJcbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcclxuICByZXR1cm4gISEgdGhpcy5saXN0ZW5lcnMoZXZlbnQpLmxlbmd0aDtcclxufTtcclxuIiwiXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGEsIGIpe1xuICB2YXIgZm4gPSBmdW5jdGlvbigpe307XG4gIGZuLnByb3RvdHlwZSA9IGIucHJvdG90eXBlO1xuICBhLnByb3RvdHlwZSA9IG5ldyBmbjtcbiAgYS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBhO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gc2VsZjtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB3aW5kb3c7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LWZ1bmNcbiAgfVxufSkoKTtcbiIsIlxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL3NvY2tldCcpO1xuXG4vKipcbiAqIEV4cG9ydHMgcGFyc2VyXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqXG4gKi9cbm1vZHVsZS5leHBvcnRzLnBhcnNlciA9IHJlcXVpcmUoJ2VuZ2luZS5pby1wYXJzZXInKTtcbiIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgdHJhbnNwb3J0cyA9IHJlcXVpcmUoJy4vdHJhbnNwb3J0cy9pbmRleCcpO1xudmFyIEVtaXR0ZXIgPSByZXF1aXJlKCdjb21wb25lbnQtZW1pdHRlcicpO1xudmFyIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnZW5naW5lLmlvLWNsaWVudDpzb2NrZXQnKTtcbnZhciBpbmRleCA9IHJlcXVpcmUoJ2luZGV4b2YnKTtcbnZhciBwYXJzZXIgPSByZXF1aXJlKCdlbmdpbmUuaW8tcGFyc2VyJyk7XG52YXIgcGFyc2V1cmkgPSByZXF1aXJlKCdwYXJzZXVyaScpO1xudmFyIHBhcnNlcXMgPSByZXF1aXJlKCdwYXJzZXFzJyk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBTb2NrZXQ7XG5cbi8qKlxuICogU29ja2V0IGNvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gdXJpIG9yIG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFNvY2tldCAodXJpLCBvcHRzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTb2NrZXQpKSByZXR1cm4gbmV3IFNvY2tldCh1cmksIG9wdHMpO1xuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmICh1cmkgJiYgJ29iamVjdCcgPT09IHR5cGVvZiB1cmkpIHtcbiAgICBvcHRzID0gdXJpO1xuICAgIHVyaSA9IG51bGw7XG4gIH1cblxuICBpZiAodXJpKSB7XG4gICAgdXJpID0gcGFyc2V1cmkodXJpKTtcbiAgICBvcHRzLmhvc3RuYW1lID0gdXJpLmhvc3Q7XG4gICAgb3B0cy5zZWN1cmUgPSB1cmkucHJvdG9jb2wgPT09ICdodHRwcycgfHwgdXJpLnByb3RvY29sID09PSAnd3NzJztcbiAgICBvcHRzLnBvcnQgPSB1cmkucG9ydDtcbiAgICBpZiAodXJpLnF1ZXJ5KSBvcHRzLnF1ZXJ5ID0gdXJpLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKG9wdHMuaG9zdCkge1xuICAgIG9wdHMuaG9zdG5hbWUgPSBwYXJzZXVyaShvcHRzLmhvc3QpLmhvc3Q7XG4gIH1cblxuICB0aGlzLnNlY3VyZSA9IG51bGwgIT0gb3B0cy5zZWN1cmUgPyBvcHRzLnNlY3VyZVxuICAgIDogKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2h0dHBzOicgPT09IGxvY2F0aW9uLnByb3RvY29sKTtcblxuICBpZiAob3B0cy5ob3N0bmFtZSAmJiAhb3B0cy5wb3J0KSB7XG4gICAgLy8gaWYgbm8gcG9ydCBpcyBzcGVjaWZpZWQgbWFudWFsbHksIHVzZSB0aGUgcHJvdG9jb2wgZGVmYXVsdFxuICAgIG9wdHMucG9ydCA9IHRoaXMuc2VjdXJlID8gJzQ0MycgOiAnODAnO1xuICB9XG5cbiAgdGhpcy5hZ2VudCA9IG9wdHMuYWdlbnQgfHwgZmFsc2U7XG4gIHRoaXMuaG9zdG5hbWUgPSBvcHRzLmhvc3RuYW1lIHx8XG4gICAgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgPyBsb2NhdGlvbi5ob3N0bmFtZSA6ICdsb2NhbGhvc3QnKTtcbiAgdGhpcy5wb3J0ID0gb3B0cy5wb3J0IHx8ICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnICYmIGxvY2F0aW9uLnBvcnRcbiAgICAgID8gbG9jYXRpb24ucG9ydFxuICAgICAgOiAodGhpcy5zZWN1cmUgPyA0NDMgOiA4MCkpO1xuICB0aGlzLnF1ZXJ5ID0gb3B0cy5xdWVyeSB8fCB7fTtcbiAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgdGhpcy5xdWVyeSkgdGhpcy5xdWVyeSA9IHBhcnNlcXMuZGVjb2RlKHRoaXMucXVlcnkpO1xuICB0aGlzLnVwZ3JhZGUgPSBmYWxzZSAhPT0gb3B0cy51cGdyYWRlO1xuICB0aGlzLnBhdGggPSAob3B0cy5wYXRoIHx8ICcvZW5naW5lLmlvJykucmVwbGFjZSgvXFwvJC8sICcnKSArICcvJztcbiAgdGhpcy5mb3JjZUpTT05QID0gISFvcHRzLmZvcmNlSlNPTlA7XG4gIHRoaXMuanNvbnAgPSBmYWxzZSAhPT0gb3B0cy5qc29ucDtcbiAgdGhpcy5mb3JjZUJhc2U2NCA9ICEhb3B0cy5mb3JjZUJhc2U2NDtcbiAgdGhpcy5lbmFibGVzWERSID0gISFvcHRzLmVuYWJsZXNYRFI7XG4gIHRoaXMud2l0aENyZWRlbnRpYWxzID0gZmFsc2UgIT09IG9wdHMud2l0aENyZWRlbnRpYWxzO1xuICB0aGlzLnRpbWVzdGFtcFBhcmFtID0gb3B0cy50aW1lc3RhbXBQYXJhbSB8fCAndCc7XG4gIHRoaXMudGltZXN0YW1wUmVxdWVzdHMgPSBvcHRzLnRpbWVzdGFtcFJlcXVlc3RzO1xuICB0aGlzLnRyYW5zcG9ydHMgPSBvcHRzLnRyYW5zcG9ydHMgfHwgWydwb2xsaW5nJywgJ3dlYnNvY2tldCddO1xuICB0aGlzLnRyYW5zcG9ydE9wdGlvbnMgPSBvcHRzLnRyYW5zcG9ydE9wdGlvbnMgfHwge307XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICcnO1xuICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG4gIHRoaXMucG9saWN5UG9ydCA9IG9wdHMucG9saWN5UG9ydCB8fCA4NDM7XG4gIHRoaXMucmVtZW1iZXJVcGdyYWRlID0gb3B0cy5yZW1lbWJlclVwZ3JhZGUgfHwgZmFsc2U7XG4gIHRoaXMuYmluYXJ5VHlwZSA9IG51bGw7XG4gIHRoaXMub25seUJpbmFyeVVwZ3JhZGVzID0gb3B0cy5vbmx5QmluYXJ5VXBncmFkZXM7XG4gIHRoaXMucGVyTWVzc2FnZURlZmxhdGUgPSBmYWxzZSAhPT0gb3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSA/IChvcHRzLnBlck1lc3NhZ2VEZWZsYXRlIHx8IHt9KSA6IGZhbHNlO1xuXG4gIGlmICh0cnVlID09PSB0aGlzLnBlck1lc3NhZ2VEZWZsYXRlKSB0aGlzLnBlck1lc3NhZ2VEZWZsYXRlID0ge307XG4gIGlmICh0aGlzLnBlck1lc3NhZ2VEZWZsYXRlICYmIG51bGwgPT0gdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQpIHtcbiAgICB0aGlzLnBlck1lc3NhZ2VEZWZsYXRlLnRocmVzaG9sZCA9IDEwMjQ7XG4gIH1cblxuICAvLyBTU0wgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgdGhpcy5wZnggPSBvcHRzLnBmeCB8fCBudWxsO1xuICB0aGlzLmtleSA9IG9wdHMua2V5IHx8IG51bGw7XG4gIHRoaXMucGFzc3BocmFzZSA9IG9wdHMucGFzc3BocmFzZSB8fCBudWxsO1xuICB0aGlzLmNlcnQgPSBvcHRzLmNlcnQgfHwgbnVsbDtcbiAgdGhpcy5jYSA9IG9wdHMuY2EgfHwgbnVsbDtcbiAgdGhpcy5jaXBoZXJzID0gb3B0cy5jaXBoZXJzIHx8IG51bGw7XG4gIHRoaXMucmVqZWN0VW5hdXRob3JpemVkID0gb3B0cy5yZWplY3RVbmF1dGhvcml6ZWQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBvcHRzLnJlamVjdFVuYXV0aG9yaXplZDtcbiAgdGhpcy5mb3JjZU5vZGUgPSAhIW9wdHMuZm9yY2VOb2RlO1xuXG4gIC8vIGRldGVjdCBSZWFjdE5hdGl2ZSBlbnZpcm9ubWVudFxuICB0aGlzLmlzUmVhY3ROYXRpdmUgPSAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnc3RyaW5nJyAmJiBuYXZpZ2F0b3IucHJvZHVjdC50b0xvd2VyQ2FzZSgpID09PSAncmVhY3RuYXRpdmUnKTtcblxuICAvLyBvdGhlciBvcHRpb25zIGZvciBOb2RlLmpzIG9yIFJlYWN0TmF0aXZlIGNsaWVudFxuICBpZiAodHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnIHx8IHRoaXMuaXNSZWFjdE5hdGl2ZSkge1xuICAgIGlmIChvcHRzLmV4dHJhSGVhZGVycyAmJiBPYmplY3Qua2V5cyhvcHRzLmV4dHJhSGVhZGVycykubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5leHRyYUhlYWRlcnMgPSBvcHRzLmV4dHJhSGVhZGVycztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5sb2NhbEFkZHJlc3MpIHtcbiAgICAgIHRoaXMubG9jYWxBZGRyZXNzID0gb3B0cy5sb2NhbEFkZHJlc3M7XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0IG9uIGhhbmRzaGFrZVxuICB0aGlzLmlkID0gbnVsbDtcbiAgdGhpcy51cGdyYWRlcyA9IG51bGw7XG4gIHRoaXMucGluZ0ludGVydmFsID0gbnVsbDtcbiAgdGhpcy5waW5nVGltZW91dCA9IG51bGw7XG5cbiAgLy8gc2V0IG9uIGhlYXJ0YmVhdFxuICB0aGlzLnBpbmdJbnRlcnZhbFRpbWVyID0gbnVsbDtcbiAgdGhpcy5waW5nVGltZW91dFRpbWVyID0gbnVsbDtcblxuICB0aGlzLm9wZW4oKTtcbn1cblxuU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuXG4vKipcbiAqIE1peCBpbiBgRW1pdHRlcmAuXG4gKi9cblxuRW1pdHRlcihTb2NrZXQucHJvdG90eXBlKTtcblxuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU29ja2V0LnByb3RvY29sID0gcGFyc2VyLnByb3RvY29sOyAvLyB0aGlzIGlzIGFuIGludFxuXG4vKipcbiAqIEV4cG9zZSBkZXBzIGZvciBsZWdhY3kgY29tcGF0aWJpbGl0eVxuICogYW5kIHN0YW5kYWxvbmUgYnJvd3NlciBhY2Nlc3MuXG4gKi9cblxuU29ja2V0LlNvY2tldCA9IFNvY2tldDtcblNvY2tldC5UcmFuc3BvcnQgPSByZXF1aXJlKCcuL3RyYW5zcG9ydCcpO1xuU29ja2V0LnRyYW5zcG9ydHMgPSByZXF1aXJlKCcuL3RyYW5zcG9ydHMvaW5kZXgnKTtcblNvY2tldC5wYXJzZXIgPSByZXF1aXJlKCdlbmdpbmUuaW8tcGFyc2VyJyk7XG5cbi8qKlxuICogQ3JlYXRlcyB0cmFuc3BvcnQgb2YgdGhlIGdpdmVuIHR5cGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRyYW5zcG9ydCBuYW1lXG4gKiBAcmV0dXJuIHtUcmFuc3BvcnR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmNyZWF0ZVRyYW5zcG9ydCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIGRlYnVnKCdjcmVhdGluZyB0cmFuc3BvcnQgXCIlc1wiJywgbmFtZSk7XG4gIHZhciBxdWVyeSA9IGNsb25lKHRoaXMucXVlcnkpO1xuXG4gIC8vIGFwcGVuZCBlbmdpbmUuaW8gcHJvdG9jb2wgaWRlbnRpZmllclxuICBxdWVyeS5FSU8gPSBwYXJzZXIucHJvdG9jb2w7XG5cbiAgLy8gdHJhbnNwb3J0IG5hbWVcbiAgcXVlcnkudHJhbnNwb3J0ID0gbmFtZTtcblxuICAvLyBwZXItdHJhbnNwb3J0IG9wdGlvbnNcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLnRyYW5zcG9ydE9wdGlvbnNbbmFtZV0gfHwge307XG5cbiAgLy8gc2Vzc2lvbiBpZCBpZiB3ZSBhbHJlYWR5IGhhdmUgb25lXG4gIGlmICh0aGlzLmlkKSBxdWVyeS5zaWQgPSB0aGlzLmlkO1xuXG4gIHZhciB0cmFuc3BvcnQgPSBuZXcgdHJhbnNwb3J0c1tuYW1lXSh7XG4gICAgcXVlcnk6IHF1ZXJ5LFxuICAgIHNvY2tldDogdGhpcyxcbiAgICBhZ2VudDogb3B0aW9ucy5hZ2VudCB8fCB0aGlzLmFnZW50LFxuICAgIGhvc3RuYW1lOiBvcHRpb25zLmhvc3RuYW1lIHx8IHRoaXMuaG9zdG5hbWUsXG4gICAgcG9ydDogb3B0aW9ucy5wb3J0IHx8IHRoaXMucG9ydCxcbiAgICBzZWN1cmU6IG9wdGlvbnMuc2VjdXJlIHx8IHRoaXMuc2VjdXJlLFxuICAgIHBhdGg6IG9wdGlvbnMucGF0aCB8fCB0aGlzLnBhdGgsXG4gICAgZm9yY2VKU09OUDogb3B0aW9ucy5mb3JjZUpTT05QIHx8IHRoaXMuZm9yY2VKU09OUCxcbiAgICBqc29ucDogb3B0aW9ucy5qc29ucCB8fCB0aGlzLmpzb25wLFxuICAgIGZvcmNlQmFzZTY0OiBvcHRpb25zLmZvcmNlQmFzZTY0IHx8IHRoaXMuZm9yY2VCYXNlNjQsXG4gICAgZW5hYmxlc1hEUjogb3B0aW9ucy5lbmFibGVzWERSIHx8IHRoaXMuZW5hYmxlc1hEUixcbiAgICB3aXRoQ3JlZGVudGlhbHM6IG9wdGlvbnMud2l0aENyZWRlbnRpYWxzIHx8IHRoaXMud2l0aENyZWRlbnRpYWxzLFxuICAgIHRpbWVzdGFtcFJlcXVlc3RzOiBvcHRpb25zLnRpbWVzdGFtcFJlcXVlc3RzIHx8IHRoaXMudGltZXN0YW1wUmVxdWVzdHMsXG4gICAgdGltZXN0YW1wUGFyYW06IG9wdGlvbnMudGltZXN0YW1wUGFyYW0gfHwgdGhpcy50aW1lc3RhbXBQYXJhbSxcbiAgICBwb2xpY3lQb3J0OiBvcHRpb25zLnBvbGljeVBvcnQgfHwgdGhpcy5wb2xpY3lQb3J0LFxuICAgIHBmeDogb3B0aW9ucy5wZnggfHwgdGhpcy5wZngsXG4gICAga2V5OiBvcHRpb25zLmtleSB8fCB0aGlzLmtleSxcbiAgICBwYXNzcGhyYXNlOiBvcHRpb25zLnBhc3NwaHJhc2UgfHwgdGhpcy5wYXNzcGhyYXNlLFxuICAgIGNlcnQ6IG9wdGlvbnMuY2VydCB8fCB0aGlzLmNlcnQsXG4gICAgY2E6IG9wdGlvbnMuY2EgfHwgdGhpcy5jYSxcbiAgICBjaXBoZXJzOiBvcHRpb25zLmNpcGhlcnMgfHwgdGhpcy5jaXBoZXJzLFxuICAgIHJlamVjdFVuYXV0aG9yaXplZDogb3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQgfHwgdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQsXG4gICAgcGVyTWVzc2FnZURlZmxhdGU6IG9wdGlvbnMucGVyTWVzc2FnZURlZmxhdGUgfHwgdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSxcbiAgICBleHRyYUhlYWRlcnM6IG9wdGlvbnMuZXh0cmFIZWFkZXJzIHx8IHRoaXMuZXh0cmFIZWFkZXJzLFxuICAgIGZvcmNlTm9kZTogb3B0aW9ucy5mb3JjZU5vZGUgfHwgdGhpcy5mb3JjZU5vZGUsXG4gICAgbG9jYWxBZGRyZXNzOiBvcHRpb25zLmxvY2FsQWRkcmVzcyB8fCB0aGlzLmxvY2FsQWRkcmVzcyxcbiAgICByZXF1ZXN0VGltZW91dDogb3B0aW9ucy5yZXF1ZXN0VGltZW91dCB8fCB0aGlzLnJlcXVlc3RUaW1lb3V0LFxuICAgIHByb3RvY29sczogb3B0aW9ucy5wcm90b2NvbHMgfHwgdm9pZCAoMCksXG4gICAgaXNSZWFjdE5hdGl2ZTogdGhpcy5pc1JlYWN0TmF0aXZlXG4gIH0pO1xuXG4gIHJldHVybiB0cmFuc3BvcnQ7XG59O1xuXG5mdW5jdGlvbiBjbG9uZSAob2JqKSB7XG4gIHZhciBvID0ge307XG4gIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgb1tpXSA9IG9ialtpXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG87XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgdHJhbnNwb3J0IHRvIHVzZSBhbmQgc3RhcnRzIHByb2JlLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5Tb2NrZXQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0cmFuc3BvcnQ7XG4gIGlmICh0aGlzLnJlbWVtYmVyVXBncmFkZSAmJiBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzICYmIHRoaXMudHJhbnNwb3J0cy5pbmRleE9mKCd3ZWJzb2NrZXQnKSAhPT0gLTEpIHtcbiAgICB0cmFuc3BvcnQgPSAnd2Vic29ja2V0JztcbiAgfSBlbHNlIGlmICgwID09PSB0aGlzLnRyYW5zcG9ydHMubGVuZ3RoKSB7XG4gICAgLy8gRW1pdCBlcnJvciBvbiBuZXh0IHRpY2sgc28gaXQgY2FuIGJlIGxpc3RlbmVkIHRvXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsICdObyB0cmFuc3BvcnRzIGF2YWlsYWJsZScpO1xuICAgIH0sIDApO1xuICAgIHJldHVybjtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc3BvcnQgPSB0aGlzLnRyYW5zcG9ydHNbMF07XG4gIH1cbiAgdGhpcy5yZWFkeVN0YXRlID0gJ29wZW5pbmcnO1xuXG4gIC8vIFJldHJ5IHdpdGggdGhlIG5leHQgdHJhbnNwb3J0IGlmIHRoZSB0cmFuc3BvcnQgaXMgZGlzYWJsZWQgKGpzb25wOiBmYWxzZSlcbiAgdHJ5IHtcbiAgICB0cmFuc3BvcnQgPSB0aGlzLmNyZWF0ZVRyYW5zcG9ydCh0cmFuc3BvcnQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhpcy50cmFuc3BvcnRzLnNoaWZ0KCk7XG4gICAgdGhpcy5vcGVuKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQuIERpc2FibGVzIHRoZSBleGlzdGluZyBvbmUgKGlmIGFueSkuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5zZXRUcmFuc3BvcnQgPSBmdW5jdGlvbiAodHJhbnNwb3J0KSB7XG4gIGRlYnVnKCdzZXR0aW5nIHRyYW5zcG9ydCAlcycsIHRyYW5zcG9ydC5uYW1lKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgIGRlYnVnKCdjbGVhcmluZyBleGlzdGluZyB0cmFuc3BvcnQgJXMnLCB0aGlzLnRyYW5zcG9ydC5uYW1lKTtcbiAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8vIHNldCB1cCB0cmFuc3BvcnRcbiAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG5cbiAgLy8gc2V0IHVwIHRyYW5zcG9ydCBsaXN0ZW5lcnNcbiAgdHJhbnNwb3J0XG4gIC5vbignZHJhaW4nLCBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5vbkRyYWluKCk7XG4gIH0pXG4gIC5vbigncGFja2V0JywgZnVuY3Rpb24gKHBhY2tldCkge1xuICAgIHNlbGYub25QYWNrZXQocGFja2V0KTtcbiAgfSlcbiAgLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlKSB7XG4gICAgc2VsZi5vbkVycm9yKGUpO1xuICB9KVxuICAub24oJ2Nsb3NlJywgZnVuY3Rpb24gKCkge1xuICAgIHNlbGYub25DbG9zZSgndHJhbnNwb3J0IGNsb3NlJyk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBQcm9iZXMgYSB0cmFuc3BvcnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHRyYW5zcG9ydCBuYW1lXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLnByb2JlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgZGVidWcoJ3Byb2JpbmcgdHJhbnNwb3J0IFwiJXNcIicsIG5hbWUpO1xuICB2YXIgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQobmFtZSwgeyBwcm9iZTogMSB9KTtcbiAgdmFyIGZhaWxlZCA9IGZhbHNlO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIG9uVHJhbnNwb3J0T3BlbiAoKSB7XG4gICAgaWYgKHNlbGYub25seUJpbmFyeVVwZ3JhZGVzKSB7XG4gICAgICB2YXIgdXBncmFkZUxvc2VzQmluYXJ5ID0gIXRoaXMuc3VwcG9ydHNCaW5hcnkgJiYgc2VsZi50cmFuc3BvcnQuc3VwcG9ydHNCaW5hcnk7XG4gICAgICBmYWlsZWQgPSBmYWlsZWQgfHwgdXBncmFkZUxvc2VzQmluYXJ5O1xuICAgIH1cbiAgICBpZiAoZmFpbGVkKSByZXR1cm47XG5cbiAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBvcGVuZWQnLCBuYW1lKTtcbiAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiAncGluZycsIGRhdGE6ICdwcm9iZScgfV0pO1xuICAgIHRyYW5zcG9ydC5vbmNlKCdwYWNrZXQnLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICBpZiAoZmFpbGVkKSByZXR1cm47XG4gICAgICBpZiAoJ3BvbmcnID09PSBtc2cudHlwZSAmJiAncHJvYmUnID09PSBtc2cuZGF0YSkge1xuICAgICAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBwb25nJywgbmFtZSk7XG4gICAgICAgIHNlbGYudXBncmFkaW5nID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5lbWl0KCd1cGdyYWRpbmcnLCB0cmFuc3BvcnQpO1xuICAgICAgICBpZiAoIXRyYW5zcG9ydCkgcmV0dXJuO1xuICAgICAgICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gJ3dlYnNvY2tldCcgPT09IHRyYW5zcG9ydC5uYW1lO1xuXG4gICAgICAgIGRlYnVnKCdwYXVzaW5nIGN1cnJlbnQgdHJhbnNwb3J0IFwiJXNcIicsIHNlbGYudHJhbnNwb3J0Lm5hbWUpO1xuICAgICAgICBzZWxmLnRyYW5zcG9ydC5wYXVzZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGZhaWxlZCkgcmV0dXJuO1xuICAgICAgICAgIGlmICgnY2xvc2VkJyA9PT0gc2VsZi5yZWFkeVN0YXRlKSByZXR1cm47XG4gICAgICAgICAgZGVidWcoJ2NoYW5naW5nIHRyYW5zcG9ydCBhbmQgc2VuZGluZyB1cGdyYWRlIHBhY2tldCcpO1xuXG4gICAgICAgICAgY2xlYW51cCgpO1xuXG4gICAgICAgICAgc2VsZi5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICAgICAgICB0cmFuc3BvcnQuc2VuZChbeyB0eXBlOiAndXBncmFkZScgfV0pO1xuICAgICAgICAgIHNlbGYuZW1pdCgndXBncmFkZScsIHRyYW5zcG9ydCk7XG4gICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICBzZWxmLnVwZ3JhZGluZyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuZmx1c2goKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWJ1ZygncHJvYmUgdHJhbnNwb3J0IFwiJXNcIiBmYWlsZWQnLCBuYW1lKTtcbiAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcigncHJvYmUgZXJyb3InKTtcbiAgICAgICAgZXJyLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICBzZWxmLmVtaXQoJ3VwZ3JhZGVFcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmcmVlemVUcmFuc3BvcnQgKCkge1xuICAgIGlmIChmYWlsZWQpIHJldHVybjtcblxuICAgIC8vIEFueSBjYWxsYmFjayBjYWxsZWQgYnkgdHJhbnNwb3J0IHNob3VsZCBiZSBpZ25vcmVkIHNpbmNlIG5vd1xuICAgIGZhaWxlZCA9IHRydWU7XG5cbiAgICBjbGVhbnVwKCk7XG5cbiAgICB0cmFuc3BvcnQuY2xvc2UoKTtcbiAgICB0cmFuc3BvcnQgPSBudWxsO1xuICB9XG5cbiAgLy8gSGFuZGxlIGFueSBlcnJvciB0aGF0IGhhcHBlbnMgd2hpbGUgcHJvYmluZ1xuICBmdW5jdGlvbiBvbmVycm9yIChlcnIpIHtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ3Byb2JlIGVycm9yOiAnICsgZXJyKTtcbiAgICBlcnJvci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcblxuICAgIGZyZWV6ZVRyYW5zcG9ydCgpO1xuXG4gICAgZGVidWcoJ3Byb2JlIHRyYW5zcG9ydCBcIiVzXCIgZmFpbGVkIGJlY2F1c2Ugb2YgZXJyb3I6ICVzJywgbmFtZSwgZXJyKTtcblxuICAgIHNlbGYuZW1pdCgndXBncmFkZUVycm9yJywgZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UcmFuc3BvcnRDbG9zZSAoKSB7XG4gICAgb25lcnJvcigndHJhbnNwb3J0IGNsb3NlZCcpO1xuICB9XG5cbiAgLy8gV2hlbiB0aGUgc29ja2V0IGlzIGNsb3NlZCB3aGlsZSB3ZSdyZSBwcm9iaW5nXG4gIGZ1bmN0aW9uIG9uY2xvc2UgKCkge1xuICAgIG9uZXJyb3IoJ3NvY2tldCBjbG9zZWQnKTtcbiAgfVxuXG4gIC8vIFdoZW4gdGhlIHNvY2tldCBpcyB1cGdyYWRlZCB3aGlsZSB3ZSdyZSBwcm9iaW5nXG4gIGZ1bmN0aW9uIG9udXBncmFkZSAodG8pIHtcbiAgICBpZiAodHJhbnNwb3J0ICYmIHRvLm5hbWUgIT09IHRyYW5zcG9ydC5uYW1lKSB7XG4gICAgICBkZWJ1ZygnXCIlc1wiIHdvcmtzIC0gYWJvcnRpbmcgXCIlc1wiJywgdG8ubmFtZSwgdHJhbnNwb3J0Lm5hbWUpO1xuICAgICAgZnJlZXplVHJhbnNwb3J0KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMgb24gdGhlIHRyYW5zcG9ydCBhbmQgb24gc2VsZlxuICBmdW5jdGlvbiBjbGVhbnVwICgpIHtcbiAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoJ29wZW4nLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTtcbiAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25UcmFuc3BvcnRDbG9zZSk7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCd1cGdyYWRpbmcnLCBvbnVwZ3JhZGUpO1xuICB9XG5cbiAgdHJhbnNwb3J0Lm9uY2UoJ29wZW4nLCBvblRyYW5zcG9ydE9wZW4pO1xuICB0cmFuc3BvcnQub25jZSgnZXJyb3InLCBvbmVycm9yKTtcbiAgdHJhbnNwb3J0Lm9uY2UoJ2Nsb3NlJywgb25UcmFuc3BvcnRDbG9zZSk7XG5cbiAgdGhpcy5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuICB0aGlzLm9uY2UoJ3VwZ3JhZGluZycsIG9udXBncmFkZSk7XG5cbiAgdHJhbnNwb3J0Lm9wZW4oKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBpcyBkZWVtZWQgb3Blbi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b3R5cGUub25PcGVuID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1Zygnc29ja2V0IG9wZW4nKTtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ29wZW4nO1xuICBTb2NrZXQucHJpb3JXZWJzb2NrZXRTdWNjZXNzID0gJ3dlYnNvY2tldCcgPT09IHRoaXMudHJhbnNwb3J0Lm5hbWU7XG4gIHRoaXMuZW1pdCgnb3BlbicpO1xuICB0aGlzLmZsdXNoKCk7XG5cbiAgLy8gd2UgY2hlY2sgZm9yIGByZWFkeVN0YXRlYCBpbiBjYXNlIGFuIGBvcGVuYFxuICAvLyBsaXN0ZW5lciBhbHJlYWR5IGNsb3NlZCB0aGUgc29ja2V0XG4gIGlmICgnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSAmJiB0aGlzLnVwZ3JhZGUgJiYgdGhpcy50cmFuc3BvcnQucGF1c2UpIHtcbiAgICBkZWJ1Zygnc3RhcnRpbmcgdXBncmFkZSBwcm9iZXMnKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMudXBncmFkZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB0aGlzLnByb2JlKHRoaXMudXBncmFkZXNbaV0pO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBIYW5kbGVzIGEgcGFja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25QYWNrZXQgPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gIGlmICgnb3BlbmluZycgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgJ2Nsb3NpbmcnID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICBkZWJ1Zygnc29ja2V0IHJlY2VpdmU6IHR5cGUgXCIlc1wiLCBkYXRhIFwiJXNcIicsIHBhY2tldC50eXBlLCBwYWNrZXQuZGF0YSk7XG5cbiAgICB0aGlzLmVtaXQoJ3BhY2tldCcsIHBhY2tldCk7XG5cbiAgICAvLyBTb2NrZXQgaXMgbGl2ZSAtIGFueSBwYWNrZXQgY291bnRzXG4gICAgdGhpcy5lbWl0KCdoZWFydGJlYXQnKTtcblxuICAgIHN3aXRjaCAocGFja2V0LnR5cGUpIHtcbiAgICAgIGNhc2UgJ29wZW4nOlxuICAgICAgICB0aGlzLm9uSGFuZHNoYWtlKEpTT04ucGFyc2UocGFja2V0LmRhdGEpKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3BvbmcnOlxuICAgICAgICB0aGlzLnNldFBpbmcoKTtcbiAgICAgICAgdGhpcy5lbWl0KCdwb25nJyk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ3NlcnZlciBlcnJvcicpO1xuICAgICAgICBlcnIuY29kZSA9IHBhY2tldC5kYXRhO1xuICAgICAgICB0aGlzLm9uRXJyb3IoZXJyKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ21lc3NhZ2UnOlxuICAgICAgICB0aGlzLmVtaXQoJ2RhdGEnLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGRlYnVnKCdwYWNrZXQgcmVjZWl2ZWQgd2l0aCBzb2NrZXQgcmVhZHlTdGF0ZSBcIiVzXCInLCB0aGlzLnJlYWR5U3RhdGUpO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBoYW5kc2hha2Ugb2JqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLm9uSGFuZHNoYWtlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5lbWl0KCdoYW5kc2hha2UnLCBkYXRhKTtcbiAgdGhpcy5pZCA9IGRhdGEuc2lkO1xuICB0aGlzLnRyYW5zcG9ydC5xdWVyeS5zaWQgPSBkYXRhLnNpZDtcbiAgdGhpcy51cGdyYWRlcyA9IHRoaXMuZmlsdGVyVXBncmFkZXMoZGF0YS51cGdyYWRlcyk7XG4gIHRoaXMucGluZ0ludGVydmFsID0gZGF0YS5waW5nSW50ZXJ2YWw7XG4gIHRoaXMucGluZ1RpbWVvdXQgPSBkYXRhLnBpbmdUaW1lb3V0O1xuICB0aGlzLm9uT3BlbigpO1xuICAvLyBJbiBjYXNlIG9wZW4gaGFuZGxlciBjbG9zZXMgc29ja2V0XG4gIGlmICgnY2xvc2VkJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSByZXR1cm47XG4gIHRoaXMuc2V0UGluZygpO1xuXG4gIC8vIFByb2xvbmcgbGl2ZW5lc3Mgb2Ygc29ja2V0IG9uIGhlYXJ0YmVhdFxuICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdoZWFydGJlYXQnLCB0aGlzLm9uSGVhcnRiZWF0KTtcbiAgdGhpcy5vbignaGVhcnRiZWF0JywgdGhpcy5vbkhlYXJ0YmVhdCk7XG59O1xuXG4vKipcbiAqIFJlc2V0cyBwaW5nIHRpbWVvdXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbkhlYXJ0YmVhdCA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gIGNsZWFyVGltZW91dCh0aGlzLnBpbmdUaW1lb3V0VGltZXIpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHNlbGYucGluZ1RpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmICgnY2xvc2VkJyA9PT0gc2VsZi5yZWFkeVN0YXRlKSByZXR1cm47XG4gICAgc2VsZi5vbkNsb3NlKCdwaW5nIHRpbWVvdXQnKTtcbiAgfSwgdGltZW91dCB8fCAoc2VsZi5waW5nSW50ZXJ2YWwgKyBzZWxmLnBpbmdUaW1lb3V0KSk7XG59O1xuXG4vKipcbiAqIFBpbmdzIHNlcnZlciBldmVyeSBgdGhpcy5waW5nSW50ZXJ2YWxgIGFuZCBleHBlY3RzIHJlc3BvbnNlXG4gKiB3aXRoaW4gYHRoaXMucGluZ1RpbWVvdXRgIG9yIGNsb3NlcyBjb25uZWN0aW9uLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuc2V0UGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBjbGVhclRpbWVvdXQoc2VsZi5waW5nSW50ZXJ2YWxUaW1lcik7XG4gIHNlbGYucGluZ0ludGVydmFsVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBkZWJ1Zygnd3JpdGluZyBwaW5nIHBhY2tldCAtIGV4cGVjdGluZyBwb25nIHdpdGhpbiAlc21zJywgc2VsZi5waW5nVGltZW91dCk7XG4gICAgc2VsZi5waW5nKCk7XG4gICAgc2VsZi5vbkhlYXJ0YmVhdChzZWxmLnBpbmdUaW1lb3V0KTtcbiAgfSwgc2VsZi5waW5nSW50ZXJ2YWwpO1xufTtcblxuLyoqXG4qIFNlbmRzIGEgcGluZyBwYWNrZXQuXG4qXG4qIEBhcGkgcHJpdmF0ZVxuKi9cblxuU29ja2V0LnByb3RvdHlwZS5waW5nID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuc2VuZFBhY2tldCgncGluZycsIGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLmVtaXQoJ3BpbmcnKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENhbGxlZCBvbiBgZHJhaW5gIGV2ZW50XG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbkRyYWluID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLndyaXRlQnVmZmVyLnNwbGljZSgwLCB0aGlzLnByZXZCdWZmZXJMZW4pO1xuXG4gIC8vIHNldHRpbmcgcHJldkJ1ZmZlckxlbiA9IDAgaXMgdmVyeSBpbXBvcnRhbnRcbiAgLy8gZm9yIGV4YW1wbGUsIHdoZW4gdXBncmFkaW5nLCB1cGdyYWRlIHBhY2tldCBpcyBzZW50IG92ZXIsXG4gIC8vIGFuZCBhIG5vbnplcm8gcHJldkJ1ZmZlckxlbiBjb3VsZCBjYXVzZSBwcm9ibGVtcyBvbiBgZHJhaW5gXG4gIHRoaXMucHJldkJ1ZmZlckxlbiA9IDA7XG5cbiAgaWYgKDAgPT09IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgdGhpcy5lbWl0KCdkcmFpbicpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZmx1c2goKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGbHVzaCB3cml0ZSBidWZmZXJzLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgnY2xvc2VkJyAhPT0gdGhpcy5yZWFkeVN0YXRlICYmIHRoaXMudHJhbnNwb3J0LndyaXRhYmxlICYmXG4gICAgIXRoaXMudXBncmFkaW5nICYmIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgZGVidWcoJ2ZsdXNoaW5nICVkIHBhY2tldHMgaW4gc29ja2V0JywgdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpO1xuICAgIHRoaXMudHJhbnNwb3J0LnNlbmQodGhpcy53cml0ZUJ1ZmZlcik7XG4gICAgLy8ga2VlcCB0cmFjayBvZiBjdXJyZW50IGxlbmd0aCBvZiB3cml0ZUJ1ZmZlclxuICAgIC8vIHNwbGljZSB3cml0ZUJ1ZmZlciBhbmQgY2FsbGJhY2tCdWZmZXIgb24gYGRyYWluYFxuICAgIHRoaXMucHJldkJ1ZmZlckxlbiA9IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgIHRoaXMuZW1pdCgnZmx1c2gnKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZW5kcyBhIG1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICogQHJldHVybiB7U29ja2V0fSBmb3IgY2hhaW5pbmcuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b3R5cGUud3JpdGUgPVxuU29ja2V0LnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24gKG1zZywgb3B0aW9ucywgZm4pIHtcbiAgdGhpcy5zZW5kUGFja2V0KCdtZXNzYWdlJywgbXNnLCBvcHRpb25zLCBmbik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZW5kcyBhIHBhY2tldC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFja2V0IHR5cGUuXG4gKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLnNlbmRQYWNrZXQgPSBmdW5jdGlvbiAodHlwZSwgZGF0YSwgb3B0aW9ucywgZm4pIHtcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBkYXRhKSB7XG4gICAgZm4gPSBkYXRhO1xuICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICBmbiA9IG9wdGlvbnM7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cblxuICBpZiAoJ2Nsb3NpbmcnID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJ2Nsb3NlZCcgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBvcHRpb25zLmNvbXByZXNzID0gZmFsc2UgIT09IG9wdGlvbnMuY29tcHJlc3M7XG5cbiAgdmFyIHBhY2tldCA9IHtcbiAgICB0eXBlOiB0eXBlLFxuICAgIGRhdGE6IGRhdGEsXG4gICAgb3B0aW9uczogb3B0aW9uc1xuICB9O1xuICB0aGlzLmVtaXQoJ3BhY2tldENyZWF0ZScsIHBhY2tldCk7XG4gIHRoaXMud3JpdGVCdWZmZXIucHVzaChwYWNrZXQpO1xuICBpZiAoZm4pIHRoaXMub25jZSgnZmx1c2gnLCBmbik7XG4gIHRoaXMuZmx1c2goKTtcbn07XG5cbi8qKlxuICogQ2xvc2VzIHRoZSBjb25uZWN0aW9uLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgnb3BlbmluZycgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnb3BlbicgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9ICdjbG9zaW5nJztcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGlmICh0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgdGhpcy5vbmNlKCdkcmFpbicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgd2FpdEZvclVwZ3JhZGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlICgpIHtcbiAgICBzZWxmLm9uQ2xvc2UoJ2ZvcmNlZCBjbG9zZScpO1xuICAgIGRlYnVnKCdzb2NrZXQgY2xvc2luZyAtIHRlbGxpbmcgdHJhbnNwb3J0IHRvIGNsb3NlJyk7XG4gICAgc2VsZi50cmFuc3BvcnQuY2xvc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFudXBBbmRDbG9zZSAoKSB7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcigndXBncmFkZScsIGNsZWFudXBBbmRDbG9zZSk7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcigndXBncmFkZUVycm9yJywgY2xlYW51cEFuZENsb3NlKTtcbiAgICBjbG9zZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gd2FpdEZvclVwZ3JhZGUgKCkge1xuICAgIC8vIHdhaXQgZm9yIHVwZ3JhZGUgdG8gZmluaXNoIHNpbmNlIHdlIGNhbid0IHNlbmQgcGFja2V0cyB3aGlsZSBwYXVzaW5nIGEgdHJhbnNwb3J0XG4gICAgc2VsZi5vbmNlKCd1cGdyYWRlJywgY2xlYW51cEFuZENsb3NlKTtcbiAgICBzZWxmLm9uY2UoJ3VwZ3JhZGVFcnJvcicsIGNsZWFudXBBbmRDbG9zZSk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IGVycm9yXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICBkZWJ1Zygnc29ja2V0IGVycm9yICVqJywgZXJyKTtcbiAgU29ja2V0LnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgdGhpcy5vbkNsb3NlKCd0cmFuc3BvcnQgZXJyb3InLCBlcnIpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgY2xvc2UuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24gKHJlYXNvbiwgZGVzYykge1xuICBpZiAoJ29wZW5pbmcnID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJ29wZW4nID09PSB0aGlzLnJlYWR5U3RhdGUgfHwgJ2Nsb3NpbmcnID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICBkZWJ1Zygnc29ja2V0IGNsb3NlIHdpdGggcmVhc29uOiBcIiVzXCInLCByZWFzb24pO1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIGNsZWFyIHRpbWVyc1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnBpbmdJbnRlcnZhbFRpbWVyKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dFRpbWVyKTtcblxuICAgIC8vIHN0b3AgZXZlbnQgZnJvbSBmaXJpbmcgYWdhaW4gZm9yIHRyYW5zcG9ydFxuICAgIHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygnY2xvc2UnKTtcblxuICAgIC8vIGVuc3VyZSB0cmFuc3BvcnQgd29uJ3Qgc3RheSBvcGVuXG4gICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcblxuICAgIC8vIGlnbm9yZSBmdXJ0aGVyIHRyYW5zcG9ydCBjb21tdW5pY2F0aW9uXG4gICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAvLyBzZXQgcmVhZHkgc3RhdGVcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSAnY2xvc2VkJztcblxuICAgIC8vIGNsZWFyIHNlc3Npb24gaWRcbiAgICB0aGlzLmlkID0gbnVsbDtcblxuICAgIC8vIGVtaXQgY2xvc2UgZXZlbnRcbiAgICB0aGlzLmVtaXQoJ2Nsb3NlJywgcmVhc29uLCBkZXNjKTtcblxuICAgIC8vIGNsZWFuIGJ1ZmZlcnMgYWZ0ZXIsIHNvIHVzZXJzIGNhbiBzdGlsbFxuICAgIC8vIGdyYWIgdGhlIGJ1ZmZlcnMgb24gYGNsb3NlYCBldmVudFxuICAgIHNlbGYud3JpdGVCdWZmZXIgPSBbXTtcbiAgICBzZWxmLnByZXZCdWZmZXJMZW4gPSAwO1xuICB9XG59O1xuXG4vKipcbiAqIEZpbHRlcnMgdXBncmFkZXMsIHJldHVybmluZyBvbmx5IHRob3NlIG1hdGNoaW5nIGNsaWVudCB0cmFuc3BvcnRzLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IHNlcnZlciB1cGdyYWRlc1xuICogQGFwaSBwcml2YXRlXG4gKlxuICovXG5cblNvY2tldC5wcm90b3R5cGUuZmlsdGVyVXBncmFkZXMgPSBmdW5jdGlvbiAodXBncmFkZXMpIHtcbiAgdmFyIGZpbHRlcmVkVXBncmFkZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGogPSB1cGdyYWRlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBpZiAofmluZGV4KHRoaXMudHJhbnNwb3J0cywgdXBncmFkZXNbaV0pKSBmaWx0ZXJlZFVwZ3JhZGVzLnB1c2godXBncmFkZXNbaV0pO1xuICB9XG4gIHJldHVybiBmaWx0ZXJlZFVwZ3JhZGVzO1xufTtcbiIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgcGFyc2VyID0gcmVxdWlyZSgnZW5naW5lLmlvLXBhcnNlcicpO1xudmFyIEVtaXR0ZXIgPSByZXF1aXJlKCdjb21wb25lbnQtZW1pdHRlcicpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gVHJhbnNwb3J0O1xuXG4vKipcbiAqIFRyYW5zcG9ydCBhYnN0cmFjdCBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIFRyYW5zcG9ydCAob3B0cykge1xuICB0aGlzLnBhdGggPSBvcHRzLnBhdGg7XG4gIHRoaXMuaG9zdG5hbWUgPSBvcHRzLmhvc3RuYW1lO1xuICB0aGlzLnBvcnQgPSBvcHRzLnBvcnQ7XG4gIHRoaXMuc2VjdXJlID0gb3B0cy5zZWN1cmU7XG4gIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICB0aGlzLnRpbWVzdGFtcFBhcmFtID0gb3B0cy50aW1lc3RhbXBQYXJhbTtcbiAgdGhpcy50aW1lc3RhbXBSZXF1ZXN0cyA9IG9wdHMudGltZXN0YW1wUmVxdWVzdHM7XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICcnO1xuICB0aGlzLmFnZW50ID0gb3B0cy5hZ2VudCB8fCBmYWxzZTtcbiAgdGhpcy5zb2NrZXQgPSBvcHRzLnNvY2tldDtcbiAgdGhpcy5lbmFibGVzWERSID0gb3B0cy5lbmFibGVzWERSO1xuICB0aGlzLndpdGhDcmVkZW50aWFscyA9IG9wdHMud2l0aENyZWRlbnRpYWxzO1xuXG4gIC8vIFNTTCBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICB0aGlzLnBmeCA9IG9wdHMucGZ4O1xuICB0aGlzLmtleSA9IG9wdHMua2V5O1xuICB0aGlzLnBhc3NwaHJhc2UgPSBvcHRzLnBhc3NwaHJhc2U7XG4gIHRoaXMuY2VydCA9IG9wdHMuY2VydDtcbiAgdGhpcy5jYSA9IG9wdHMuY2E7XG4gIHRoaXMuY2lwaGVycyA9IG9wdHMuY2lwaGVycztcbiAgdGhpcy5yZWplY3RVbmF1dGhvcml6ZWQgPSBvcHRzLnJlamVjdFVuYXV0aG9yaXplZDtcbiAgdGhpcy5mb3JjZU5vZGUgPSBvcHRzLmZvcmNlTm9kZTtcblxuICAvLyByZXN1bHRzIG9mIFJlYWN0TmF0aXZlIGVudmlyb25tZW50IGRldGVjdGlvblxuICB0aGlzLmlzUmVhY3ROYXRpdmUgPSBvcHRzLmlzUmVhY3ROYXRpdmU7XG5cbiAgLy8gb3RoZXIgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgdGhpcy5leHRyYUhlYWRlcnMgPSBvcHRzLmV4dHJhSGVhZGVycztcbiAgdGhpcy5sb2NhbEFkZHJlc3MgPSBvcHRzLmxvY2FsQWRkcmVzcztcbn1cblxuLyoqXG4gKiBNaXggaW4gYEVtaXR0ZXJgLlxuICovXG5cbkVtaXR0ZXIoVHJhbnNwb3J0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogRW1pdHMgYW4gZXJyb3IuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7VHJhbnNwb3J0fSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuVHJhbnNwb3J0LnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKG1zZywgZGVzYykge1xuICB2YXIgZXJyID0gbmV3IEVycm9yKG1zZyk7XG4gIGVyci50eXBlID0gJ1RyYW5zcG9ydEVycm9yJztcbiAgZXJyLmRlc2NyaXB0aW9uID0gZGVzYztcbiAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBPcGVucyB0aGUgdHJhbnNwb3J0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuVHJhbnNwb3J0LnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICBpZiAoJ2Nsb3NlZCcgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCAnJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gJ29wZW5pbmcnO1xuICAgIHRoaXMuZG9PcGVuKCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2xvc2VzIHRoZSB0cmFuc3BvcnQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuVHJhbnNwb3J0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCdvcGVuaW5nJyA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8ICdvcGVuJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgdGhpcy5kb0Nsb3NlKCk7XG4gICAgdGhpcy5vbkNsb3NlKCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2VuZHMgbXVsdGlwbGUgcGFja2V0cy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYWNrZXRzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5UcmFuc3BvcnQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAocGFja2V0cykge1xuICBpZiAoJ29wZW4nID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICB0aGlzLndyaXRlKHBhY2tldHMpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignVHJhbnNwb3J0IG5vdCBvcGVuJyk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gb3BlblxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblRyYW5zcG9ydC5wcm90b3R5cGUub25PcGVuID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnJlYWR5U3RhdGUgPSAnb3Blbic7XG4gIHRoaXMud3JpdGFibGUgPSB0cnVlO1xuICB0aGlzLmVtaXQoJ29wZW4nKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHdpdGggZGF0YS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZGF0YVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuVHJhbnNwb3J0LnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB2YXIgcGFja2V0ID0gcGFyc2VyLmRlY29kZVBhY2tldChkYXRhLCB0aGlzLnNvY2tldC5iaW5hcnlUeXBlKTtcbiAgdGhpcy5vblBhY2tldChwYWNrZXQpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2l0aCBhIGRlY29kZWQgcGFja2V0LlxuICovXG5cblRyYW5zcG9ydC5wcm90b3R5cGUub25QYWNrZXQgPSBmdW5jdGlvbiAocGFja2V0KSB7XG4gIHRoaXMuZW1pdCgncGFja2V0JywgcGFja2V0KTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gY2xvc2UuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnJlYWR5U3RhdGUgPSAnY2xvc2VkJztcbiAgdGhpcy5lbWl0KCdjbG9zZScpO1xufTtcbiIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llc1xuICovXG5cbnZhciBYTUxIdHRwUmVxdWVzdCA9IHJlcXVpcmUoJ3htbGh0dHByZXF1ZXN0LXNzbCcpO1xudmFyIFhIUiA9IHJlcXVpcmUoJy4vcG9sbGluZy14aHInKTtcbnZhciBKU09OUCA9IHJlcXVpcmUoJy4vcG9sbGluZy1qc29ucCcpO1xudmFyIHdlYnNvY2tldCA9IHJlcXVpcmUoJy4vd2Vic29ja2V0Jyk7XG5cbi8qKlxuICogRXhwb3J0IHRyYW5zcG9ydHMuXG4gKi9cblxuZXhwb3J0cy5wb2xsaW5nID0gcG9sbGluZztcbmV4cG9ydHMud2Vic29ja2V0ID0gd2Vic29ja2V0O1xuXG4vKipcbiAqIFBvbGxpbmcgdHJhbnNwb3J0IHBvbHltb3JwaGljIGNvbnN0cnVjdG9yLlxuICogRGVjaWRlcyBvbiB4aHIgdnMganNvbnAgYmFzZWQgb24gZmVhdHVyZSBkZXRlY3Rpb24uXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcG9sbGluZyAob3B0cykge1xuICB2YXIgeGhyO1xuICB2YXIgeGQgPSBmYWxzZTtcbiAgdmFyIHhzID0gZmFsc2U7XG4gIHZhciBqc29ucCA9IGZhbHNlICE9PSBvcHRzLmpzb25wO1xuXG4gIGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIGlzU1NMID0gJ2h0dHBzOicgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgIHZhciBwb3J0ID0gbG9jYXRpb24ucG9ydDtcblxuICAgIC8vIHNvbWUgdXNlciBhZ2VudHMgaGF2ZSBlbXB0eSBgbG9jYXRpb24ucG9ydGBcbiAgICBpZiAoIXBvcnQpIHtcbiAgICAgIHBvcnQgPSBpc1NTTCA/IDQ0MyA6IDgwO1xuICAgIH1cblxuICAgIHhkID0gb3B0cy5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUgfHwgcG9ydCAhPT0gb3B0cy5wb3J0O1xuICAgIHhzID0gb3B0cy5zZWN1cmUgIT09IGlzU1NMO1xuICB9XG5cbiAgb3B0cy54ZG9tYWluID0geGQ7XG4gIG9wdHMueHNjaGVtZSA9IHhzO1xuICB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qob3B0cyk7XG5cbiAgaWYgKCdvcGVuJyBpbiB4aHIgJiYgIW9wdHMuZm9yY2VKU09OUCkge1xuICAgIHJldHVybiBuZXcgWEhSKG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIGlmICghanNvbnApIHRocm93IG5ldyBFcnJvcignSlNPTlAgZGlzYWJsZWQnKTtcbiAgICByZXR1cm4gbmV3IEpTT05QKG9wdHMpO1xuICB9XG59XG4iLCIvKipcbiAqIE1vZHVsZSByZXF1aXJlbWVudHMuXG4gKi9cblxudmFyIFBvbGxpbmcgPSByZXF1aXJlKCcuL3BvbGxpbmcnKTtcbnZhciBpbmhlcml0ID0gcmVxdWlyZSgnY29tcG9uZW50LWluaGVyaXQnKTtcbnZhciBnbG9iYWxUaGlzID0gcmVxdWlyZSgnLi4vZ2xvYmFsVGhpcycpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gSlNPTlBQb2xsaW5nO1xuXG4vKipcbiAqIENhY2hlZCByZWd1bGFyIGV4cHJlc3Npb25zLlxuICovXG5cbnZhciByTmV3bGluZSA9IC9cXG4vZztcbnZhciByRXNjYXBlZE5ld2xpbmUgPSAvXFxcXG4vZztcblxuLyoqXG4gKiBHbG9iYWwgSlNPTlAgY2FsbGJhY2tzLlxuICovXG5cbnZhciBjYWxsYmFja3M7XG5cbi8qKlxuICogTm9vcC5cbiAqL1xuXG5mdW5jdGlvbiBlbXB0eSAoKSB7IH1cblxuLyoqXG4gKiBKU09OUCBQb2xsaW5nIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBKU09OUFBvbGxpbmcgKG9wdHMpIHtcbiAgUG9sbGluZy5jYWxsKHRoaXMsIG9wdHMpO1xuXG4gIHRoaXMucXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuXG4gIC8vIGRlZmluZSBnbG9iYWwgY2FsbGJhY2tzIGFycmF5IGlmIG5vdCBwcmVzZW50XG4gIC8vIHdlIGRvIHRoaXMgaGVyZSAobGF6aWx5KSB0byBhdm9pZCB1bm5lZWRlZCBnbG9iYWwgcG9sbHV0aW9uXG4gIGlmICghY2FsbGJhY2tzKSB7XG4gICAgLy8gd2UgbmVlZCB0byBjb25zaWRlciBtdWx0aXBsZSBlbmdpbmVzIGluIHRoZSBzYW1lIHBhZ2VcbiAgICBjYWxsYmFja3MgPSBnbG9iYWxUaGlzLl9fX2VpbyA9IChnbG9iYWxUaGlzLl9fX2VpbyB8fCBbXSk7XG4gIH1cblxuICAvLyBjYWxsYmFjayBpZGVudGlmaWVyXG4gIHRoaXMuaW5kZXggPSBjYWxsYmFja3MubGVuZ3RoO1xuXG4gIC8vIGFkZCBjYWxsYmFjayB0byBqc29ucCBnbG9iYWxcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBjYWxsYmFja3MucHVzaChmdW5jdGlvbiAobXNnKSB7XG4gICAgc2VsZi5vbkRhdGEobXNnKTtcbiAgfSk7XG5cbiAgLy8gYXBwZW5kIHRvIHF1ZXJ5IHN0cmluZ1xuICB0aGlzLnF1ZXJ5LmogPSB0aGlzLmluZGV4O1xuXG4gIC8vIHByZXZlbnQgc3B1cmlvdXMgZXJyb3JzIGZyb20gYmVpbmcgZW1pdHRlZCB3aGVuIHRoZSB3aW5kb3cgaXMgdW5sb2FkZWRcbiAgaWYgKHR5cGVvZiBhZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuc2NyaXB0KSBzZWxmLnNjcmlwdC5vbmVycm9yID0gZW1wdHk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG59XG5cbi8qKlxuICogSW5oZXJpdHMgZnJvbSBQb2xsaW5nLlxuICovXG5cbmluaGVyaXQoSlNPTlBQb2xsaW5nLCBQb2xsaW5nKTtcblxuLypcbiAqIEpTT05QIG9ubHkgc3VwcG9ydHMgYmluYXJ5IGFzIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3NcbiAqL1xuXG5KU09OUFBvbGxpbmcucHJvdG90eXBlLnN1cHBvcnRzQmluYXJ5ID0gZmFsc2U7XG5cbi8qKlxuICogQ2xvc2VzIHRoZSBzb2NrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuSlNPTlBQb2xsaW5nLnByb3RvdHlwZS5kb0Nsb3NlID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5zY3JpcHQpIHtcbiAgICB0aGlzLnNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2NyaXB0KTtcbiAgICB0aGlzLnNjcmlwdCA9IG51bGw7XG4gIH1cblxuICBpZiAodGhpcy5mb3JtKSB7XG4gICAgdGhpcy5mb3JtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb3JtKTtcbiAgICB0aGlzLmZvcm0gPSBudWxsO1xuICAgIHRoaXMuaWZyYW1lID0gbnVsbDtcbiAgfVxuXG4gIFBvbGxpbmcucHJvdG90eXBlLmRvQ2xvc2UuY2FsbCh0aGlzKTtcbn07XG5cbi8qKlxuICogU3RhcnRzIGEgcG9sbCBjeWNsZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5KU09OUFBvbGxpbmcucHJvdG90eXBlLmRvUG9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cbiAgaWYgKHRoaXMuc2NyaXB0KSB7XG4gICAgdGhpcy5zY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNjcmlwdCk7XG4gICAgdGhpcy5zY3JpcHQgPSBudWxsO1xuICB9XG5cbiAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgc2NyaXB0LnNyYyA9IHRoaXMudXJpKCk7XG4gIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICBzZWxmLm9uRXJyb3IoJ2pzb25wIHBvbGwgZXJyb3InLCBlKTtcbiAgfTtcblxuICB2YXIgaW5zZXJ0QXQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gIGlmIChpbnNlcnRBdCkge1xuICAgIGluc2VydEF0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNjcmlwdCwgaW5zZXJ0QXQpO1xuICB9IGVsc2Uge1xuICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gIH1cbiAgdGhpcy5zY3JpcHQgPSBzY3JpcHQ7XG5cbiAgdmFyIGlzVUFnZWNrbyA9ICd1bmRlZmluZWQnICE9PSB0eXBlb2YgbmF2aWdhdG9yICYmIC9nZWNrby9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbiAgaWYgKGlzVUFnZWNrbykge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgIH0sIDEwMCk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JpdGVzIHdpdGggYSBoaWRkZW4gaWZyYW1lLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhIHRvIHNlbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxlZCB1cG9uIGZsdXNoLlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuSlNPTlBQb2xsaW5nLnByb3RvdHlwZS5kb1dyaXRlID0gZnVuY3Rpb24gKGRhdGEsIGZuKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoIXRoaXMuZm9ybSkge1xuICAgIHZhciBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZm9ybScpO1xuICAgIHZhciBhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICB2YXIgaWQgPSB0aGlzLmlmcmFtZUlkID0gJ2Vpb19pZnJhbWVfJyArIHRoaXMuaW5kZXg7XG4gICAgdmFyIGlmcmFtZTtcblxuICAgIGZvcm0uY2xhc3NOYW1lID0gJ3NvY2tldGlvJztcbiAgICBmb3JtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBmb3JtLnN0eWxlLnRvcCA9ICctMTAwMHB4JztcbiAgICBmb3JtLnN0eWxlLmxlZnQgPSAnLTEwMDBweCc7XG4gICAgZm9ybS50YXJnZXQgPSBpZDtcbiAgICBmb3JtLm1ldGhvZCA9ICdQT1NUJztcbiAgICBmb3JtLnNldEF0dHJpYnV0ZSgnYWNjZXB0LWNoYXJzZXQnLCAndXRmLTgnKTtcbiAgICBhcmVhLm5hbWUgPSAnZCc7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChhcmVhKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuXG4gICAgdGhpcy5mb3JtID0gZm9ybTtcbiAgICB0aGlzLmFyZWEgPSBhcmVhO1xuICB9XG5cbiAgdGhpcy5mb3JtLmFjdGlvbiA9IHRoaXMudXJpKCk7XG5cbiAgZnVuY3Rpb24gY29tcGxldGUgKCkge1xuICAgIGluaXRJZnJhbWUoKTtcbiAgICBmbigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdElmcmFtZSAoKSB7XG4gICAgaWYgKHNlbGYuaWZyYW1lKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZWxmLmZvcm0ucmVtb3ZlQ2hpbGQoc2VsZi5pZnJhbWUpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzZWxmLm9uRXJyb3IoJ2pzb25wIHBvbGxpbmcgaWZyYW1lIHJlbW92YWwgZXJyb3InLCBlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gaWU2IGR5bmFtaWMgaWZyYW1lcyB3aXRoIHRhcmdldD1cIlwiIHN1cHBvcnQgKHRoYW5rcyBDaHJpcyBMYW1iYWNoZXIpXG4gICAgICB2YXIgaHRtbCA9ICc8aWZyYW1lIHNyYz1cImphdmFzY3JpcHQ6MFwiIG5hbWU9XCInICsgc2VsZi5pZnJhbWVJZCArICdcIj4nO1xuICAgICAgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChodG1sKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICAgIGlmcmFtZS5uYW1lID0gc2VsZi5pZnJhbWVJZDtcbiAgICAgIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDowJztcbiAgICB9XG5cbiAgICBpZnJhbWUuaWQgPSBzZWxmLmlmcmFtZUlkO1xuXG4gICAgc2VsZi5mb3JtLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgc2VsZi5pZnJhbWUgPSBpZnJhbWU7XG4gIH1cblxuICBpbml0SWZyYW1lKCk7XG5cbiAgLy8gZXNjYXBlIFxcbiB0byBwcmV2ZW50IGl0IGZyb20gYmVpbmcgY29udmVydGVkIGludG8gXFxyXFxuIGJ5IHNvbWUgVUFzXG4gIC8vIGRvdWJsZSBlc2NhcGluZyBpcyByZXF1aXJlZCBmb3IgZXNjYXBlZCBuZXcgbGluZXMgYmVjYXVzZSB1bmVzY2FwaW5nIG9mIG5ldyBsaW5lcyBjYW4gYmUgZG9uZSBzYWZlbHkgb24gc2VydmVyLXNpZGVcbiAgZGF0YSA9IGRhdGEucmVwbGFjZShyRXNjYXBlZE5ld2xpbmUsICdcXFxcXFxuJyk7XG4gIHRoaXMuYXJlYS52YWx1ZSA9IGRhdGEucmVwbGFjZShyTmV3bGluZSwgJ1xcXFxuJyk7XG5cbiAgdHJ5IHtcbiAgICB0aGlzLmZvcm0uc3VibWl0KCk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgaWYgKHRoaXMuaWZyYW1lLmF0dGFjaEV2ZW50KSB7XG4gICAgdGhpcy5pZnJhbWUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaWZyYW1lLnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRoaXMuaWZyYW1lLm9ubG9hZCA9IGNvbXBsZXRlO1xuICB9XG59O1xuIiwiLyogZ2xvYmFsIGF0dGFjaEV2ZW50ICovXG5cbi8qKlxuICogTW9kdWxlIHJlcXVpcmVtZW50cy5cbiAqL1xuXG52YXIgWE1MSHR0cFJlcXVlc3QgPSByZXF1aXJlKCd4bWxodHRwcmVxdWVzdC1zc2wnKTtcbnZhciBQb2xsaW5nID0gcmVxdWlyZSgnLi9wb2xsaW5nJyk7XG52YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2NvbXBvbmVudC1lbWl0dGVyJyk7XG52YXIgaW5oZXJpdCA9IHJlcXVpcmUoJ2NvbXBvbmVudC1pbmhlcml0Jyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdlbmdpbmUuaW8tY2xpZW50OnBvbGxpbmcteGhyJyk7XG52YXIgZ2xvYmFsVGhpcyA9IHJlcXVpcmUoJy4uL2dsb2JhbFRoaXMnKTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IFhIUjtcbm1vZHVsZS5leHBvcnRzLlJlcXVlc3QgPSBSZXF1ZXN0O1xuXG4vKipcbiAqIEVtcHR5IGZ1bmN0aW9uXG4gKi9cblxuZnVuY3Rpb24gZW1wdHkgKCkge31cblxuLyoqXG4gKiBYSFIgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBYSFIgKG9wdHMpIHtcbiAgUG9sbGluZy5jYWxsKHRoaXMsIG9wdHMpO1xuICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gb3B0cy5yZXF1ZXN0VGltZW91dDtcbiAgdGhpcy5leHRyYUhlYWRlcnMgPSBvcHRzLmV4dHJhSGVhZGVycztcblxuICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBpc1NTTCA9ICdodHRwczonID09PSBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICB2YXIgcG9ydCA9IGxvY2F0aW9uLnBvcnQ7XG5cbiAgICAvLyBzb21lIHVzZXIgYWdlbnRzIGhhdmUgZW1wdHkgYGxvY2F0aW9uLnBvcnRgXG4gICAgaWYgKCFwb3J0KSB7XG4gICAgICBwb3J0ID0gaXNTU0wgPyA0NDMgOiA4MDtcbiAgICB9XG5cbiAgICB0aGlzLnhkID0gKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgb3B0cy5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUpIHx8XG4gICAgICBwb3J0ICE9PSBvcHRzLnBvcnQ7XG4gICAgdGhpcy54cyA9IG9wdHMuc2VjdXJlICE9PSBpc1NTTDtcbiAgfVxufVxuXG4vKipcbiAqIEluaGVyaXRzIGZyb20gUG9sbGluZy5cbiAqL1xuXG5pbmhlcml0KFhIUiwgUG9sbGluZyk7XG5cbi8qKlxuICogWEhSIHN1cHBvcnRzIGJpbmFyeVxuICovXG5cblhIUi5wcm90b3R5cGUuc3VwcG9ydHNCaW5hcnkgPSB0cnVlO1xuXG4vKipcbiAqIENyZWF0ZXMgYSByZXF1ZXN0LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2RcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblhIUi5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICBvcHRzLnVyaSA9IHRoaXMudXJpKCk7XG4gIG9wdHMueGQgPSB0aGlzLnhkO1xuICBvcHRzLnhzID0gdGhpcy54cztcbiAgb3B0cy5hZ2VudCA9IHRoaXMuYWdlbnQgfHwgZmFsc2U7XG4gIG9wdHMuc3VwcG9ydHNCaW5hcnkgPSB0aGlzLnN1cHBvcnRzQmluYXJ5O1xuICBvcHRzLmVuYWJsZXNYRFIgPSB0aGlzLmVuYWJsZXNYRFI7XG4gIG9wdHMud2l0aENyZWRlbnRpYWxzID0gdGhpcy53aXRoQ3JlZGVudGlhbHM7XG5cbiAgLy8gU1NMIG9wdGlvbnMgZm9yIE5vZGUuanMgY2xpZW50XG4gIG9wdHMucGZ4ID0gdGhpcy5wZng7XG4gIG9wdHMua2V5ID0gdGhpcy5rZXk7XG4gIG9wdHMucGFzc3BocmFzZSA9IHRoaXMucGFzc3BocmFzZTtcbiAgb3B0cy5jZXJ0ID0gdGhpcy5jZXJ0O1xuICBvcHRzLmNhID0gdGhpcy5jYTtcbiAgb3B0cy5jaXBoZXJzID0gdGhpcy5jaXBoZXJzO1xuICBvcHRzLnJlamVjdFVuYXV0aG9yaXplZCA9IHRoaXMucmVqZWN0VW5hdXRob3JpemVkO1xuICBvcHRzLnJlcXVlc3RUaW1lb3V0ID0gdGhpcy5yZXF1ZXN0VGltZW91dDtcblxuICAvLyBvdGhlciBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICBvcHRzLmV4dHJhSGVhZGVycyA9IHRoaXMuZXh0cmFIZWFkZXJzO1xuXG4gIHJldHVybiBuZXcgUmVxdWVzdChvcHRzKTtcbn07XG5cbi8qKlxuICogU2VuZHMgZGF0YS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZGF0YSB0byBzZW5kLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGVkIHVwb24gZmx1c2guXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5YSFIucHJvdG90eXBlLmRvV3JpdGUgPSBmdW5jdGlvbiAoZGF0YSwgZm4pIHtcbiAgdmFyIGlzQmluYXJ5ID0gdHlwZW9mIGRhdGEgIT09ICdzdHJpbmcnICYmIGRhdGEgIT09IHVuZGVmaW5lZDtcbiAgdmFyIHJlcSA9IHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ1BPU1QnLCBkYXRhOiBkYXRhLCBpc0JpbmFyeTogaXNCaW5hcnkgfSk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgcmVxLm9uKCdzdWNjZXNzJywgZm4pO1xuICByZXEub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgIHNlbGYub25FcnJvcigneGhyIHBvc3QgZXJyb3InLCBlcnIpO1xuICB9KTtcbiAgdGhpcy5zZW5kWGhyID0gcmVxO1xufTtcblxuLyoqXG4gKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblhIUi5wcm90b3R5cGUuZG9Qb2xsID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygneGhyIHBvbGwnKTtcbiAgdmFyIHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHJlcS5vbignZGF0YScsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgc2VsZi5vbkRhdGEoZGF0YSk7XG4gIH0pO1xuICByZXEub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgIHNlbGYub25FcnJvcigneGhyIHBvbGwgZXJyb3InLCBlcnIpO1xuICB9KTtcbiAgdGhpcy5wb2xsWGhyID0gcmVxO1xufTtcblxuLyoqXG4gKiBSZXF1ZXN0IGNvbnN0cnVjdG9yXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gUmVxdWVzdCAob3B0cykge1xuICB0aGlzLm1ldGhvZCA9IG9wdHMubWV0aG9kIHx8ICdHRVQnO1xuICB0aGlzLnVyaSA9IG9wdHMudXJpO1xuICB0aGlzLnhkID0gISFvcHRzLnhkO1xuICB0aGlzLnhzID0gISFvcHRzLnhzO1xuICB0aGlzLmFzeW5jID0gZmFsc2UgIT09IG9wdHMuYXN5bmM7XG4gIHRoaXMuZGF0YSA9IHVuZGVmaW5lZCAhPT0gb3B0cy5kYXRhID8gb3B0cy5kYXRhIDogbnVsbDtcbiAgdGhpcy5hZ2VudCA9IG9wdHMuYWdlbnQ7XG4gIHRoaXMuaXNCaW5hcnkgPSBvcHRzLmlzQmluYXJ5O1xuICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gb3B0cy5zdXBwb3J0c0JpbmFyeTtcbiAgdGhpcy5lbmFibGVzWERSID0gb3B0cy5lbmFibGVzWERSO1xuICB0aGlzLndpdGhDcmVkZW50aWFscyA9IG9wdHMud2l0aENyZWRlbnRpYWxzO1xuICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gb3B0cy5yZXF1ZXN0VGltZW91dDtcblxuICAvLyBTU0wgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgdGhpcy5wZnggPSBvcHRzLnBmeDtcbiAgdGhpcy5rZXkgPSBvcHRzLmtleTtcbiAgdGhpcy5wYXNzcGhyYXNlID0gb3B0cy5wYXNzcGhyYXNlO1xuICB0aGlzLmNlcnQgPSBvcHRzLmNlcnQ7XG4gIHRoaXMuY2EgPSBvcHRzLmNhO1xuICB0aGlzLmNpcGhlcnMgPSBvcHRzLmNpcGhlcnM7XG4gIHRoaXMucmVqZWN0VW5hdXRob3JpemVkID0gb3B0cy5yZWplY3RVbmF1dGhvcml6ZWQ7XG5cbiAgLy8gb3RoZXIgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgdGhpcy5leHRyYUhlYWRlcnMgPSBvcHRzLmV4dHJhSGVhZGVycztcblxuICB0aGlzLmNyZWF0ZSgpO1xufVxuXG4vKipcbiAqIE1peCBpbiBgRW1pdHRlcmAuXG4gKi9cblxuRW1pdHRlcihSZXF1ZXN0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgWEhSIG9iamVjdCBhbmQgc2VuZHMgdGhlIHJlcXVlc3QuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgb3B0cyA9IHsgYWdlbnQ6IHRoaXMuYWdlbnQsIHhkb21haW46IHRoaXMueGQsIHhzY2hlbWU6IHRoaXMueHMsIGVuYWJsZXNYRFI6IHRoaXMuZW5hYmxlc1hEUiB9O1xuXG4gIC8vIFNTTCBvcHRpb25zIGZvciBOb2RlLmpzIGNsaWVudFxuICBvcHRzLnBmeCA9IHRoaXMucGZ4O1xuICBvcHRzLmtleSA9IHRoaXMua2V5O1xuICBvcHRzLnBhc3NwaHJhc2UgPSB0aGlzLnBhc3NwaHJhc2U7XG4gIG9wdHMuY2VydCA9IHRoaXMuY2VydDtcbiAgb3B0cy5jYSA9IHRoaXMuY2E7XG4gIG9wdHMuY2lwaGVycyA9IHRoaXMuY2lwaGVycztcbiAgb3B0cy5yZWplY3RVbmF1dGhvcml6ZWQgPSB0aGlzLnJlamVjdFVuYXV0aG9yaXplZDtcblxuICB2YXIgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3Qob3B0cyk7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICB0cnkge1xuICAgIGRlYnVnKCd4aHIgb3BlbiAlczogJXMnLCB0aGlzLm1ldGhvZCwgdGhpcy51cmkpO1xuICAgIHhoci5vcGVuKHRoaXMubWV0aG9kLCB0aGlzLnVyaSwgdGhpcy5hc3luYyk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLmV4dHJhSGVhZGVycykge1xuICAgICAgICB4aHIuc2V0RGlzYWJsZUhlYWRlckNoZWNrICYmIHhoci5zZXREaXNhYmxlSGVhZGVyQ2hlY2sodHJ1ZSk7XG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5leHRyYUhlYWRlcnMpIHtcbiAgICAgICAgICBpZiAodGhpcy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGksIHRoaXMuZXh0cmFIZWFkZXJzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgaWYgKCdQT1NUJyA9PT0gdGhpcy5tZXRob2QpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0aGlzLmlzQmluYXJ5KSB7XG4gICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJyovKicpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAvLyBpZTYgY2hlY2tcbiAgICBpZiAoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdGhpcy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVxdWVzdFRpbWVvdXQpIHtcbiAgICAgIHhoci50aW1lb3V0ID0gdGhpcy5yZXF1ZXN0VGltZW91dDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5oYXNYRFIoKSkge1xuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vbkxvYWQoKTtcbiAgICAgIH07XG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5vbkVycm9yKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSAyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBjb250ZW50VHlwZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignQ29udGVudC1UeXBlJyk7XG4gICAgICAgICAgICBpZiAoc2VsZi5zdXBwb3J0c0JpbmFyeSAmJiBjb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScgfHwgY29udGVudFR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07IGNoYXJzZXQ9VVRGLTgnKSB7XG4gICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDQgIT09IHhoci5yZWFkeVN0YXRlKSByZXR1cm47XG4gICAgICAgIGlmICgyMDAgPT09IHhoci5zdGF0dXMgfHwgMTIyMyA9PT0geGhyLnN0YXR1cykge1xuICAgICAgICAgIHNlbGYub25Mb2FkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBgZXJyb3JgIGV2ZW50IGhhbmRsZXIgdGhhdCdzIHVzZXItc2V0XG4gICAgICAgICAgLy8gZG9lcyBub3QgdGhyb3cgaW4gdGhlIHNhbWUgdGljayBhbmQgZ2V0cyBjYXVnaHQgaGVyZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5vbkVycm9yKHR5cGVvZiB4aHIuc3RhdHVzID09PSAnbnVtYmVyJyA/IHhoci5zdGF0dXMgOiAwKTtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBkZWJ1ZygneGhyIGRhdGEgJXMnLCB0aGlzLmRhdGEpO1xuICAgIHhoci5zZW5kKHRoaXMuZGF0YSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZmhyb20gdGhlIGNvbnN0cnVjdG9yXG4gICAgLy8gYW5kIHRodXMgdGhlICdlcnJvcicgZXZlbnQgY2FuIG9ubHkgYmUgb25seSBib3VuZCAqYWZ0ZXIqIHRoaXMgZXhjZXB0aW9uXG4gICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLm9uRXJyb3IoZSk7XG4gICAgfSwgMCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aGlzLmluZGV4ID0gUmVxdWVzdC5yZXF1ZXN0c0NvdW50Kys7XG4gICAgUmVxdWVzdC5yZXF1ZXN0c1t0aGlzLmluZGV4XSA9IHRoaXM7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gc3VjY2Vzc2Z1bCByZXNwb25zZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5vblN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW1pdCgnc3VjY2VzcycpO1xuICB0aGlzLmNsZWFudXAoKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIGlmIHdlIGhhdmUgZGF0YS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5vbkRhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLmVtaXQoJ2RhdGEnLCBkYXRhKTtcbiAgdGhpcy5vblN1Y2Nlc3MoKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUmVxdWVzdC5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIHRoaXMuY2xlYW51cCh0cnVlKTtcbn07XG5cbi8qKlxuICogQ2xlYW5zIHVwIGhvdXNlLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmNsZWFudXAgPSBmdW5jdGlvbiAoZnJvbUVycm9yKSB7XG4gIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHRoaXMueGhyIHx8IG51bGwgPT09IHRoaXMueGhyKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHhtbGh0dHByZXF1ZXN0XG4gIGlmICh0aGlzLmhhc1hEUigpKSB7XG4gICAgdGhpcy54aHIub25sb2FkID0gdGhpcy54aHIub25lcnJvciA9IGVtcHR5O1xuICB9IGVsc2Uge1xuICAgIHRoaXMueGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5O1xuICB9XG5cbiAgaWYgKGZyb21FcnJvcikge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cblxuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGRlbGV0ZSBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuaW5kZXhdO1xuICB9XG5cbiAgdGhpcy54aHIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBsb2FkLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGRhdGE7XG4gIHRyeSB7XG4gICAgdmFyIGNvbnRlbnRUeXBlO1xuICAgIHRyeSB7XG4gICAgICBjb250ZW50VHlwZSA9IHRoaXMueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdDb250ZW50LVR5cGUnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIGlmIChjb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScgfHwgY29udGVudFR5cGUgPT09ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW07IGNoYXJzZXQ9VVRGLTgnKSB7XG4gICAgICBkYXRhID0gdGhpcy54aHIucmVzcG9uc2UgfHwgdGhpcy54aHIucmVzcG9uc2VUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhID0gdGhpcy54aHIucmVzcG9uc2VUZXh0O1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHRoaXMub25FcnJvcihlKTtcbiAgfVxuICBpZiAobnVsbCAhPSBkYXRhKSB7XG4gICAgdGhpcy5vbkRhdGEoZGF0YSk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgaXQgaGFzIFhEb21haW5SZXF1ZXN0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblJlcXVlc3QucHJvdG90eXBlLmhhc1hEUiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHR5cGVvZiBYRG9tYWluUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMueHMgJiYgdGhpcy5lbmFibGVzWERSO1xufTtcblxuLyoqXG4gKiBBYm9ydHMgdGhlIHJlcXVlc3QuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5SZXF1ZXN0LnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jbGVhbnVwKCk7XG59O1xuXG4vKipcbiAqIEFib3J0cyBwZW5kaW5nIHJlcXVlc3RzIHdoZW4gdW5sb2FkaW5nIHRoZSB3aW5kb3cuIFRoaXMgaXMgbmVlZGVkIHRvIHByZXZlbnRcbiAqIG1lbW9yeSBsZWFrcyAoZS5nLiB3aGVuIHVzaW5nIElFKSBhbmQgdG8gZW5zdXJlIHRoYXQgbm8gc3B1cmlvdXMgZXJyb3IgaXNcbiAqIGVtaXR0ZWQuXG4gKi9cblxuUmVxdWVzdC5yZXF1ZXN0c0NvdW50ID0gMDtcblJlcXVlc3QucmVxdWVzdHMgPSB7fTtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgaWYgKHR5cGVvZiBhdHRhY2hFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGF0dGFjaEV2ZW50KCdvbnVubG9hZCcsIHVubG9hZEhhbmRsZXIpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHRlcm1pbmF0aW9uRXZlbnQgPSAnb25wYWdlaGlkZScgaW4gZ2xvYmFsVGhpcyA/ICdwYWdlaGlkZScgOiAndW5sb2FkJztcbiAgICBhZGRFdmVudExpc3RlbmVyKHRlcm1pbmF0aW9uRXZlbnQsIHVubG9hZEhhbmRsZXIsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1bmxvYWRIYW5kbGVyICgpIHtcbiAgZm9yICh2YXIgaSBpbiBSZXF1ZXN0LnJlcXVlc3RzKSB7XG4gICAgaWYgKFJlcXVlc3QucmVxdWVzdHMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIFJlcXVlc3QucmVxdWVzdHNbaV0uYWJvcnQoKTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgVHJhbnNwb3J0ID0gcmVxdWlyZSgnLi4vdHJhbnNwb3J0Jyk7XG52YXIgcGFyc2VxcyA9IHJlcXVpcmUoJ3BhcnNlcXMnKTtcbnZhciBwYXJzZXIgPSByZXF1aXJlKCdlbmdpbmUuaW8tcGFyc2VyJyk7XG52YXIgaW5oZXJpdCA9IHJlcXVpcmUoJ2NvbXBvbmVudC1pbmhlcml0Jyk7XG52YXIgeWVhc3QgPSByZXF1aXJlKCd5ZWFzdCcpO1xudmFyIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnZW5naW5lLmlvLWNsaWVudDpwb2xsaW5nJyk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBQb2xsaW5nO1xuXG4vKipcbiAqIElzIFhIUjIgc3VwcG9ydGVkP1xuICovXG5cbnZhciBoYXNYSFIyID0gKGZ1bmN0aW9uICgpIHtcbiAgdmFyIFhNTEh0dHBSZXF1ZXN0ID0gcmVxdWlyZSgneG1saHR0cHJlcXVlc3Qtc3NsJyk7XG4gIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoeyB4ZG9tYWluOiBmYWxzZSB9KTtcbiAgcmV0dXJuIG51bGwgIT0geGhyLnJlc3BvbnNlVHlwZTtcbn0pKCk7XG5cbi8qKlxuICogUG9sbGluZyBpbnRlcmZhY2UuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdHNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIFBvbGxpbmcgKG9wdHMpIHtcbiAgdmFyIGZvcmNlQmFzZTY0ID0gKG9wdHMgJiYgb3B0cy5mb3JjZUJhc2U2NCk7XG4gIGlmICghaGFzWEhSMiB8fCBmb3JjZUJhc2U2NCkge1xuICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSBmYWxzZTtcbiAgfVxuICBUcmFuc3BvcnQuY2FsbCh0aGlzLCBvcHRzKTtcbn1cblxuLyoqXG4gKiBJbmhlcml0cyBmcm9tIFRyYW5zcG9ydC5cbiAqL1xuXG5pbmhlcml0KFBvbGxpbmcsIFRyYW5zcG9ydCk7XG5cbi8qKlxuICogVHJhbnNwb3J0IG5hbWUuXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUubmFtZSA9ICdwb2xsaW5nJztcblxuLyoqXG4gKiBPcGVucyB0aGUgc29ja2V0ICh0cmlnZ2VycyBwb2xsaW5nKS4gV2Ugd3JpdGUgYSBQSU5HIG1lc3NhZ2UgdG8gZGV0ZXJtaW5lXG4gKiB3aGVuIHRoZSB0cmFuc3BvcnQgaXMgb3Blbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Qb2xsaW5nLnByb3RvdHlwZS5kb09wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucG9sbCgpO1xufTtcblxuLyoqXG4gKiBQYXVzZXMgcG9sbGluZy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB1cG9uIGJ1ZmZlcnMgYXJlIGZsdXNoZWQgYW5kIHRyYW5zcG9ydCBpcyBwYXVzZWRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblBvbGxpbmcucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKG9uUGF1c2UpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdwYXVzaW5nJztcblxuICBmdW5jdGlvbiBwYXVzZSAoKSB7XG4gICAgZGVidWcoJ3BhdXNlZCcpO1xuICAgIHNlbGYucmVhZHlTdGF0ZSA9ICdwYXVzZWQnO1xuICAgIG9uUGF1c2UoKTtcbiAgfVxuXG4gIGlmICh0aGlzLnBvbGxpbmcgfHwgIXRoaXMud3JpdGFibGUpIHtcbiAgICB2YXIgdG90YWwgPSAwO1xuXG4gICAgaWYgKHRoaXMucG9sbGluZykge1xuICAgICAgZGVidWcoJ3dlIGFyZSBjdXJyZW50bHkgcG9sbGluZyAtIHdhaXRpbmcgdG8gcGF1c2UnKTtcbiAgICAgIHRvdGFsKys7XG4gICAgICB0aGlzLm9uY2UoJ3BvbGxDb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVidWcoJ3ByZS1wYXVzZSBwb2xsaW5nIGNvbXBsZXRlJyk7XG4gICAgICAgIC0tdG90YWwgfHwgcGF1c2UoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghdGhpcy53cml0YWJsZSkge1xuICAgICAgZGVidWcoJ3dlIGFyZSBjdXJyZW50bHkgd3JpdGluZyAtIHdhaXRpbmcgdG8gcGF1c2UnKTtcbiAgICAgIHRvdGFsKys7XG4gICAgICB0aGlzLm9uY2UoJ2RyYWluJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWJ1ZygncHJlLXBhdXNlIHdyaXRpbmcgY29tcGxldGUnKTtcbiAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBhdXNlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogU3RhcnRzIHBvbGxpbmcgY3ljbGUuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Qb2xsaW5nLnByb3RvdHlwZS5wb2xsID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygncG9sbGluZycpO1xuICB0aGlzLnBvbGxpbmcgPSB0cnVlO1xuICB0aGlzLmRvUG9sbCgpO1xuICB0aGlzLmVtaXQoJ3BvbGwnKTtcbn07XG5cbi8qKlxuICogT3ZlcmxvYWRzIG9uRGF0YSB0byBkZXRlY3QgcGF5bG9hZHMuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBkZWJ1ZygncG9sbGluZyBnb3QgZGF0YSAlcycsIGRhdGEpO1xuICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAocGFja2V0LCBpbmRleCwgdG90YWwpIHtcbiAgICAvLyBpZiBpdHMgdGhlIGZpcnN0IG1lc3NhZ2Ugd2UgY29uc2lkZXIgdGhlIHRyYW5zcG9ydCBvcGVuXG4gICAgaWYgKCdvcGVuaW5nJyA9PT0gc2VsZi5yZWFkeVN0YXRlKSB7XG4gICAgICBzZWxmLm9uT3BlbigpO1xuICAgIH1cblxuICAgIC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcbiAgICBpZiAoJ2Nsb3NlJyA9PT0gcGFja2V0LnR5cGUpIHtcbiAgICAgIHNlbGYub25DbG9zZSgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIG90aGVyd2lzZSBieXBhc3Mgb25EYXRhIGFuZCBoYW5kbGUgdGhlIG1lc3NhZ2VcbiAgICBzZWxmLm9uUGFja2V0KHBhY2tldCk7XG4gIH07XG5cbiAgLy8gZGVjb2RlIHBheWxvYWRcbiAgcGFyc2VyLmRlY29kZVBheWxvYWQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSwgY2FsbGJhY2spO1xuXG4gIC8vIGlmIGFuIGV2ZW50IGRpZCBub3QgdHJpZ2dlciBjbG9zaW5nXG4gIGlmICgnY2xvc2VkJyAhPT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgLy8gaWYgd2UgZ290IGRhdGEgd2UncmUgbm90IHBvbGxpbmdcbiAgICB0aGlzLnBvbGxpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmVtaXQoJ3BvbGxDb21wbGV0ZScpO1xuXG4gICAgaWYgKCdvcGVuJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICB0aGlzLnBvbGwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWcoJ2lnbm9yaW5nIHBvbGwgLSB0cmFuc3BvcnQgc3RhdGUgXCIlc1wiJywgdGhpcy5yZWFkeVN0YXRlKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRm9yIHBvbGxpbmcsIHNlbmQgYSBjbG9zZSBwYWNrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUuZG9DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGNsb3NlICgpIHtcbiAgICBkZWJ1Zygnd3JpdGluZyBjbG9zZSBwYWNrZXQnKTtcbiAgICBzZWxmLndyaXRlKFt7IHR5cGU6ICdjbG9zZScgfV0pO1xuICB9XG5cbiAgaWYgKCdvcGVuJyA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgZGVidWcoJ3RyYW5zcG9ydCBvcGVuIC0gY2xvc2luZycpO1xuICAgIGNsb3NlKCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gaW4gY2FzZSB3ZSdyZSB0cnlpbmcgdG8gY2xvc2Ugd2hpbGVcbiAgICAvLyBoYW5kc2hha2luZyBpcyBpbiBwcm9ncmVzcyAoR0gtMTY0KVxuICAgIGRlYnVnKCd0cmFuc3BvcnQgbm90IG9wZW4gLSBkZWZlcnJpbmcgY2xvc2UnKTtcbiAgICB0aGlzLm9uY2UoJ29wZW4nLCBjbG9zZSk7XG4gIH1cbn07XG5cbi8qKlxuICogV3JpdGVzIGEgcGFja2V0cyBwYXlsb2FkLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGRhdGEgcGFja2V0c1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhaW4gY2FsbGJhY2tcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblBvbGxpbmcucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKHBhY2tldHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gIHZhciBjYWxsYmFja2ZuID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYud3JpdGFibGUgPSB0cnVlO1xuICAgIHNlbGYuZW1pdCgnZHJhaW4nKTtcbiAgfTtcblxuICBwYXJzZXIuZW5jb2RlUGF5bG9hZChwYWNrZXRzLCB0aGlzLnN1cHBvcnRzQmluYXJ5LCBmdW5jdGlvbiAoZGF0YSkge1xuICAgIHNlbGYuZG9Xcml0ZShkYXRhLCBjYWxsYmFja2ZuKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuUG9sbGluZy5wcm90b3R5cGUudXJpID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICB2YXIgc2NoZW1hID0gdGhpcy5zZWN1cmUgPyAnaHR0cHMnIDogJ2h0dHAnO1xuICB2YXIgcG9ydCA9ICcnO1xuXG4gIC8vIGNhY2hlIGJ1c3RpbmcgaXMgZm9yY2VkXG4gIGlmIChmYWxzZSAhPT0gdGhpcy50aW1lc3RhbXBSZXF1ZXN0cykge1xuICAgIHF1ZXJ5W3RoaXMudGltZXN0YW1wUGFyYW1dID0geWVhc3QoKTtcbiAgfVxuXG4gIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSAmJiAhcXVlcnkuc2lkKSB7XG4gICAgcXVlcnkuYjY0ID0gMTtcbiAgfVxuXG4gIHF1ZXJ5ID0gcGFyc2Vxcy5lbmNvZGUocXVlcnkpO1xuXG4gIC8vIGF2b2lkIHBvcnQgaWYgZGVmYXVsdCBmb3Igc2NoZW1hXG4gIGlmICh0aGlzLnBvcnQgJiYgKCgnaHR0cHMnID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMucG9ydCkgIT09IDQ0MykgfHxcbiAgICAgKCdodHRwJyA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLnBvcnQpICE9PSA4MCkpKSB7XG4gICAgcG9ydCA9ICc6JyArIHRoaXMucG9ydDtcbiAgfVxuXG4gIC8vIHByZXBlbmQgPyB0byBxdWVyeVxuICBpZiAocXVlcnkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSAnPycgKyBxdWVyeTtcbiAgfVxuXG4gIHZhciBpcHY2ID0gdGhpcy5ob3N0bmFtZS5pbmRleE9mKCc6JykgIT09IC0xO1xuICByZXR1cm4gc2NoZW1hICsgJzovLycgKyAoaXB2NiA/ICdbJyArIHRoaXMuaG9zdG5hbWUgKyAnXScgOiB0aGlzLmhvc3RuYW1lKSArIHBvcnQgKyB0aGlzLnBhdGggKyBxdWVyeTtcbn07XG4iLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIFRyYW5zcG9ydCA9IHJlcXVpcmUoJy4uL3RyYW5zcG9ydCcpO1xudmFyIHBhcnNlciA9IHJlcXVpcmUoJ2VuZ2luZS5pby1wYXJzZXInKTtcbnZhciBwYXJzZXFzID0gcmVxdWlyZSgncGFyc2VxcycpO1xudmFyIGluaGVyaXQgPSByZXF1aXJlKCdjb21wb25lbnQtaW5oZXJpdCcpO1xudmFyIHllYXN0ID0gcmVxdWlyZSgneWVhc3QnKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2VuZ2luZS5pby1jbGllbnQ6d2Vic29ja2V0Jyk7XG5cbnZhciBCcm93c2VyV2ViU29ja2V0LCBOb2RlV2ViU29ja2V0O1xuXG5pZiAodHlwZW9mIFdlYlNvY2tldCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgQnJvd3NlcldlYlNvY2tldCA9IFdlYlNvY2tldDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIEJyb3dzZXJXZWJTb2NrZXQgPSBzZWxmLldlYlNvY2tldCB8fCBzZWxmLk1veldlYlNvY2tldDtcbn1cblxuaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRyeSB7XG4gICAgTm9kZVdlYlNvY2tldCA9IHJlcXVpcmUoJ3dzJyk7XG4gIH0gY2F0Y2ggKGUpIHsgfVxufVxuXG4vKipcbiAqIEdldCBlaXRoZXIgdGhlIGBXZWJTb2NrZXRgIG9yIGBNb3pXZWJTb2NrZXRgIGdsb2JhbHNcbiAqIGluIHRoZSBicm93c2VyIG9yIHRyeSB0byByZXNvbHZlIFdlYlNvY2tldC1jb21wYXRpYmxlXG4gKiBpbnRlcmZhY2UgZXhwb3NlZCBieSBgd3NgIGZvciBOb2RlLWxpa2UgZW52aXJvbm1lbnQuXG4gKi9cblxudmFyIFdlYlNvY2tldEltcGwgPSBCcm93c2VyV2ViU29ja2V0IHx8IE5vZGVXZWJTb2NrZXQ7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBXUztcblxuLyoqXG4gKiBXZWJTb2NrZXQgdHJhbnNwb3J0IGNvbnN0cnVjdG9yLlxuICpcbiAqIEBhcGkge09iamVjdH0gY29ubmVjdGlvbiBvcHRpb25zXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIFdTIChvcHRzKSB7XG4gIHZhciBmb3JjZUJhc2U2NCA9IChvcHRzICYmIG9wdHMuZm9yY2VCYXNlNjQpO1xuICBpZiAoZm9yY2VCYXNlNjQpIHtcbiAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gZmFsc2U7XG4gIH1cbiAgdGhpcy5wZXJNZXNzYWdlRGVmbGF0ZSA9IG9wdHMucGVyTWVzc2FnZURlZmxhdGU7XG4gIHRoaXMudXNpbmdCcm93c2VyV2ViU29ja2V0ID0gQnJvd3NlcldlYlNvY2tldCAmJiAhb3B0cy5mb3JjZU5vZGU7XG4gIHRoaXMucHJvdG9jb2xzID0gb3B0cy5wcm90b2NvbHM7XG4gIGlmICghdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQpIHtcbiAgICBXZWJTb2NrZXRJbXBsID0gTm9kZVdlYlNvY2tldDtcbiAgfVxuICBUcmFuc3BvcnQuY2FsbCh0aGlzLCBvcHRzKTtcbn1cblxuLyoqXG4gKiBJbmhlcml0cyBmcm9tIFRyYW5zcG9ydC5cbiAqL1xuXG5pbmhlcml0KFdTLCBUcmFuc3BvcnQpO1xuXG4vKipcbiAqIFRyYW5zcG9ydCBuYW1lLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuV1MucHJvdG90eXBlLm5hbWUgPSAnd2Vic29ja2V0JztcblxuLypcbiAqIFdlYlNvY2tldHMgc3VwcG9ydCBiaW5hcnlcbiAqL1xuXG5XUy5wcm90b3R5cGUuc3VwcG9ydHNCaW5hcnkgPSB0cnVlO1xuXG4vKipcbiAqIE9wZW5zIHNvY2tldC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUuZG9PcGVuID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY2hlY2soKSkge1xuICAgIC8vIGxldCBwcm9iZSB0aW1lb3V0XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHVyaSA9IHRoaXMudXJpKCk7XG4gIHZhciBwcm90b2NvbHMgPSB0aGlzLnByb3RvY29scztcblxuICB2YXIgb3B0cyA9IHt9O1xuXG4gIGlmICghdGhpcy5pc1JlYWN0TmF0aXZlKSB7XG4gICAgb3B0cy5hZ2VudCA9IHRoaXMuYWdlbnQ7XG4gICAgb3B0cy5wZXJNZXNzYWdlRGVmbGF0ZSA9IHRoaXMucGVyTWVzc2FnZURlZmxhdGU7XG5cbiAgICAvLyBTU0wgb3B0aW9ucyBmb3IgTm9kZS5qcyBjbGllbnRcbiAgICBvcHRzLnBmeCA9IHRoaXMucGZ4O1xuICAgIG9wdHMua2V5ID0gdGhpcy5rZXk7XG4gICAgb3B0cy5wYXNzcGhyYXNlID0gdGhpcy5wYXNzcGhyYXNlO1xuICAgIG9wdHMuY2VydCA9IHRoaXMuY2VydDtcbiAgICBvcHRzLmNhID0gdGhpcy5jYTtcbiAgICBvcHRzLmNpcGhlcnMgPSB0aGlzLmNpcGhlcnM7XG4gICAgb3B0cy5yZWplY3RVbmF1dGhvcml6ZWQgPSB0aGlzLnJlamVjdFVuYXV0aG9yaXplZDtcbiAgfVxuXG4gIGlmICh0aGlzLmV4dHJhSGVhZGVycykge1xuICAgIG9wdHMuaGVhZGVycyA9IHRoaXMuZXh0cmFIZWFkZXJzO1xuICB9XG4gIGlmICh0aGlzLmxvY2FsQWRkcmVzcykge1xuICAgIG9wdHMubG9jYWxBZGRyZXNzID0gdGhpcy5sb2NhbEFkZHJlc3M7XG4gIH1cblxuICB0cnkge1xuICAgIHRoaXMud3MgPVxuICAgICAgdGhpcy51c2luZ0Jyb3dzZXJXZWJTb2NrZXQgJiYgIXRoaXMuaXNSZWFjdE5hdGl2ZVxuICAgICAgICA/IHByb3RvY29sc1xuICAgICAgICAgID8gbmV3IFdlYlNvY2tldEltcGwodXJpLCBwcm90b2NvbHMpXG4gICAgICAgICAgOiBuZXcgV2ViU29ja2V0SW1wbCh1cmkpXG4gICAgICAgIDogbmV3IFdlYlNvY2tldEltcGwodXJpLCBwcm90b2NvbHMsIG9wdHMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gdGhpcy5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cblxuICBpZiAodGhpcy53cy5iaW5hcnlUeXBlID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnN1cHBvcnRzQmluYXJ5ID0gZmFsc2U7XG4gIH1cblxuICBpZiAodGhpcy53cy5zdXBwb3J0cyAmJiB0aGlzLndzLnN1cHBvcnRzLmJpbmFyeSkge1xuICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSB0cnVlO1xuICAgIHRoaXMud3MuYmluYXJ5VHlwZSA9ICdub2RlYnVmZmVyJztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLndzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICB9XG5cbiAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xufTtcblxuLyoqXG4gKiBBZGRzIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgc29ja2V0XG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuV1MucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgdGhpcy53cy5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5vbk9wZW4oKTtcbiAgfTtcbiAgdGhpcy53cy5vbmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIHNlbGYub25DbG9zZSgpO1xuICB9O1xuICB0aGlzLndzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldikge1xuICAgIHNlbGYub25EYXRhKGV2LmRhdGEpO1xuICB9O1xuICB0aGlzLndzLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgIHNlbGYub25FcnJvcignd2Vic29ja2V0IGVycm9yJywgZSk7XG4gIH07XG59O1xuXG4vKipcbiAqIFdyaXRlcyBkYXRhIHRvIHNvY2tldC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBvZiBwYWNrZXRzLlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuV1MucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKHBhY2tldHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG5cbiAgLy8gZW5jb2RlUGFja2V0IGVmZmljaWVudCBhcyBpdCB1c2VzIFdTIGZyYW1pbmdcbiAgLy8gbm8gbmVlZCBmb3IgZW5jb2RlUGF5bG9hZFxuICB2YXIgdG90YWwgPSBwYWNrZXRzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB0b3RhbDsgaSA8IGw7IGkrKykge1xuICAgIChmdW5jdGlvbiAocGFja2V0KSB7XG4gICAgICBwYXJzZXIuZW5jb2RlUGFja2V0KHBhY2tldCwgc2VsZi5zdXBwb3J0c0JpbmFyeSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKCFzZWxmLnVzaW5nQnJvd3NlcldlYlNvY2tldCkge1xuICAgICAgICAgIC8vIGFsd2F5cyBjcmVhdGUgYSBuZXcgb2JqZWN0IChHSC00MzcpXG4gICAgICAgICAgdmFyIG9wdHMgPSB7fTtcbiAgICAgICAgICBpZiAocGFja2V0Lm9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdHMuY29tcHJlc3MgPSBwYWNrZXQub3B0aW9ucy5jb21wcmVzcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoc2VsZi5wZXJNZXNzYWdlRGVmbGF0ZSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9ICdzdHJpbmcnID09PSB0eXBlb2YgZGF0YSA/IEJ1ZmZlci5ieXRlTGVuZ3RoKGRhdGEpIDogZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobGVuIDwgc2VsZi5wZXJNZXNzYWdlRGVmbGF0ZS50aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgb3B0cy5jb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNvbWV0aW1lcyB0aGUgd2Vic29ja2V0IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkIGJ1dCB0aGUgYnJvd3NlciBkaWRuJ3RcbiAgICAgICAgLy8gaGF2ZSBhIGNoYW5jZSBvZiBpbmZvcm1pbmcgdXMgYWJvdXQgaXQgeWV0LCBpbiB0aGF0IGNhc2Ugc2VuZCB3aWxsXG4gICAgICAgIC8vIHRocm93IGFuIGVycm9yXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHNlbGYudXNpbmdCcm93c2VyV2ViU29ja2V0KSB7XG4gICAgICAgICAgICAvLyBUeXBlRXJyb3IgaXMgdGhyb3duIHdoZW4gcGFzc2luZyB0aGUgc2Vjb25kIGFyZ3VtZW50IG9uIFNhZmFyaVxuICAgICAgICAgICAgc2VsZi53cy5zZW5kKGRhdGEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLndzLnNlbmQoZGF0YSwgb3B0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgZGVidWcoJ3dlYnNvY2tldCBjbG9zZWQgYmVmb3JlIG9uY2xvc2UgZXZlbnQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC0tdG90YWwgfHwgZG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSkocGFja2V0c1tpXSk7XG4gIH1cblxuICBmdW5jdGlvbiBkb25lICgpIHtcbiAgICBzZWxmLmVtaXQoJ2ZsdXNoJyk7XG5cbiAgICAvLyBmYWtlIGRyYWluXG4gICAgLy8gZGVmZXIgdG8gbmV4dCB0aWNrIHRvIGFsbG93IFNvY2tldCB0byBjbGVhciB3cml0ZUJ1ZmZlclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi53cml0YWJsZSA9IHRydWU7XG4gICAgICBzZWxmLmVtaXQoJ2RyYWluJyk7XG4gICAgfSwgMCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gY2xvc2VcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUub25DbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgVHJhbnNwb3J0LnByb3RvdHlwZS5vbkNsb3NlLmNhbGwodGhpcyk7XG59O1xuXG4vKipcbiAqIENsb3NlcyBzb2NrZXQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuV1MucHJvdG90eXBlLmRvQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0eXBlb2YgdGhpcy53cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aGlzLndzLmNsb3NlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIHVyaSBmb3IgY29ubmVjdGlvbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5XUy5wcm90b3R5cGUudXJpID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICB2YXIgc2NoZW1hID0gdGhpcy5zZWN1cmUgPyAnd3NzJyA6ICd3cyc7XG4gIHZhciBwb3J0ID0gJyc7XG5cbiAgLy8gYXZvaWQgcG9ydCBpZiBkZWZhdWx0IGZvciBzY2hlbWFcbiAgaWYgKHRoaXMucG9ydCAmJiAoKCd3c3MnID09PSBzY2hlbWEgJiYgTnVtYmVyKHRoaXMucG9ydCkgIT09IDQ0MykgfHxcbiAgICAoJ3dzJyA9PT0gc2NoZW1hICYmIE51bWJlcih0aGlzLnBvcnQpICE9PSA4MCkpKSB7XG4gICAgcG9ydCA9ICc6JyArIHRoaXMucG9ydDtcbiAgfVxuXG4gIC8vIGFwcGVuZCB0aW1lc3RhbXAgdG8gVVJJXG4gIGlmICh0aGlzLnRpbWVzdGFtcFJlcXVlc3RzKSB7XG4gICAgcXVlcnlbdGhpcy50aW1lc3RhbXBQYXJhbV0gPSB5ZWFzdCgpO1xuICB9XG5cbiAgLy8gY29tbXVuaWNhdGUgYmluYXJ5IHN1cHBvcnQgY2FwYWJpbGl0aWVzXG4gIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSkge1xuICAgIHF1ZXJ5LmI2NCA9IDE7XG4gIH1cblxuICBxdWVyeSA9IHBhcnNlcXMuZW5jb2RlKHF1ZXJ5KTtcblxuICAvLyBwcmVwZW5kID8gdG8gcXVlcnlcbiAgaWYgKHF1ZXJ5Lmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gJz8nICsgcXVlcnk7XG4gIH1cblxuICB2YXIgaXB2NiA9IHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpICE9PSAtMTtcbiAgcmV0dXJuIHNjaGVtYSArICc6Ly8nICsgKGlwdjYgPyAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nIDogdGhpcy5ob3N0bmFtZSkgKyBwb3J0ICsgdGhpcy5wYXRoICsgcXVlcnk7XG59O1xuXG4vKipcbiAqIEZlYXR1cmUgZGV0ZWN0aW9uIGZvciBXZWJTb2NrZXQuXG4gKlxuICogQHJldHVybiB7Qm9vbGVhbn0gd2hldGhlciB0aGlzIHRyYW5zcG9ydCBpcyBhdmFpbGFibGUuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbldTLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICEhV2ViU29ja2V0SW1wbCAmJiAhKCdfX2luaXRpYWxpemUnIGluIFdlYlNvY2tldEltcGwgJiYgdGhpcy5uYW1lID09PSBXUy5wcm90b3R5cGUubmFtZSk7XG59O1xuIiwiLy8gYnJvd3NlciBzaGltIGZvciB4bWxodHRwcmVxdWVzdCBtb2R1bGVcblxudmFyIGhhc0NPUlMgPSByZXF1aXJlKCdoYXMtY29ycycpO1xudmFyIGdsb2JhbFRoaXMgPSByZXF1aXJlKCcuL2dsb2JhbFRoaXMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3B0cykge1xuICB2YXIgeGRvbWFpbiA9IG9wdHMueGRvbWFpbjtcblxuICAvLyBzY2hlbWUgbXVzdCBiZSBzYW1lIHdoZW4gdXNpZ24gWERvbWFpblJlcXVlc3RcbiAgLy8gaHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWVpbnRlcm5hbHMvYXJjaGl2ZS8yMDEwLzA1LzEzL3hkb21haW5yZXF1ZXN0LXJlc3RyaWN0aW9ucy1saW1pdGF0aW9ucy1hbmQtd29ya2Fyb3VuZHMuYXNweFxuICB2YXIgeHNjaGVtZSA9IG9wdHMueHNjaGVtZTtcblxuICAvLyBYRG9tYWluUmVxdWVzdCBoYXMgYSBmbG93IG9mIG5vdCBzZW5kaW5nIGNvb2tpZSwgdGhlcmVmb3JlIGl0IHNob3VsZCBiZSBkaXNhYmxlZCBhcyBhIGRlZmF1bHQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9BdXRvbWF0dGljL2VuZ2luZS5pby1jbGllbnQvcHVsbC8yMTdcbiAgdmFyIGVuYWJsZXNYRFIgPSBvcHRzLmVuYWJsZXNYRFI7XG5cbiAgLy8gWE1MSHR0cFJlcXVlc3QgY2FuIGJlIGRpc2FibGVkIG9uIElFXG4gIHRyeSB7XG4gICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgJiYgKCF4ZG9tYWluIHx8IGhhc0NPUlMpKSB7XG4gICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7IH1cblxuICAvLyBVc2UgWERvbWFpblJlcXVlc3QgZm9yIElFOCBpZiBlbmFibGVzWERSIGlzIHRydWVcbiAgLy8gYmVjYXVzZSBsb2FkaW5nIGJhciBrZWVwcyBmbGFzaGluZyB3aGVuIHVzaW5nIGpzb25wLXBvbGxpbmdcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3l1amlvc2FrYS9zb2NrZS5pby1pZTgtbG9hZGluZy1leGFtcGxlXG4gIHRyeSB7XG4gICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgWERvbWFpblJlcXVlc3QgJiYgIXhzY2hlbWUgJiYgZW5hYmxlc1hEUikge1xuICAgICAgcmV0dXJuIG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkgeyB9XG5cbiAgaWYgKCF4ZG9tYWluKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgZ2xvYmFsVGhpc1tbJ0FjdGl2ZSddLmNvbmNhdCgnT2JqZWN0Jykuam9pbignWCcpXSgnTWljcm9zb2Z0LlhNTEhUVFAnKTtcbiAgICB9IGNhdGNoIChlKSB7IH1cbiAgfVxufTtcbiIsIi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2RlYnVnJyk7XG5leHBvcnRzLmxvZyA9IGxvZztcbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZVxuICAgICAgICAgICAgICAgJiYgJ3VuZGVmaW5lZCcgIT0gdHlwZW9mIGNocm9tZS5zdG9yYWdlXG4gICAgICAgICAgICAgICAgICA/IGNocm9tZS5zdG9yYWdlLmxvY2FsXG4gICAgICAgICAgICAgICAgICA6IGxvY2Fsc3RvcmFnZSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcbiAgJyMwMDAwQ0MnLCAnIzAwMDBGRicsICcjMDAzM0NDJywgJyMwMDMzRkYnLCAnIzAwNjZDQycsICcjMDA2NkZGJywgJyMwMDk5Q0MnLFxuICAnIzAwOTlGRicsICcjMDBDQzAwJywgJyMwMENDMzMnLCAnIzAwQ0M2NicsICcjMDBDQzk5JywgJyMwMENDQ0MnLCAnIzAwQ0NGRicsXG4gICcjMzMwMENDJywgJyMzMzAwRkYnLCAnIzMzMzNDQycsICcjMzMzM0ZGJywgJyMzMzY2Q0MnLCAnIzMzNjZGRicsICcjMzM5OUNDJyxcbiAgJyMzMzk5RkYnLCAnIzMzQ0MwMCcsICcjMzNDQzMzJywgJyMzM0NDNjYnLCAnIzMzQ0M5OScsICcjMzNDQ0NDJywgJyMzM0NDRkYnLFxuICAnIzY2MDBDQycsICcjNjYwMEZGJywgJyM2NjMzQ0MnLCAnIzY2MzNGRicsICcjNjZDQzAwJywgJyM2NkNDMzMnLCAnIzk5MDBDQycsXG4gICcjOTkwMEZGJywgJyM5OTMzQ0MnLCAnIzk5MzNGRicsICcjOTlDQzAwJywgJyM5OUNDMzMnLCAnI0NDMDAwMCcsICcjQ0MwMDMzJyxcbiAgJyNDQzAwNjYnLCAnI0NDMDA5OScsICcjQ0MwMENDJywgJyNDQzAwRkYnLCAnI0NDMzMwMCcsICcjQ0MzMzMzJywgJyNDQzMzNjYnLFxuICAnI0NDMzM5OScsICcjQ0MzM0NDJywgJyNDQzMzRkYnLCAnI0NDNjYwMCcsICcjQ0M2NjMzJywgJyNDQzk5MDAnLCAnI0NDOTkzMycsXG4gICcjQ0NDQzAwJywgJyNDQ0NDMzMnLCAnI0ZGMDAwMCcsICcjRkYwMDMzJywgJyNGRjAwNjYnLCAnI0ZGMDA5OScsICcjRkYwMENDJyxcbiAgJyNGRjAwRkYnLCAnI0ZGMzMwMCcsICcjRkYzMzMzJywgJyNGRjMzNjYnLCAnI0ZGMzM5OScsICcjRkYzM0NDJywgJyNGRjMzRkYnLFxuICAnI0ZGNjYwMCcsICcjRkY2NjMzJywgJyNGRjk5MDAnLCAnI0ZGOTkzMycsICcjRkZDQzAwJywgJyNGRkNDMzMnXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG4gIHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuICAgIC8vIGlzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuICAgIC8vIGRvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnIubWVzc2FnZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm47XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKVxuXG4gIC8vIHRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIGlmICgnJSUnID09PSBtYXRjaCkgcmV0dXJuO1xuICAgIGluZGV4Kys7XG4gICAgaWYgKCclYycgPT09IG1hdGNoKSB7XG4gICAgICAvLyB3ZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgLy8gdGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICdvYmplY3QnID09PSB0eXBlb2YgY29uc29sZVxuICAgICYmIGNvbnNvbGUubG9nXG4gICAgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChudWxsID09IG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UuZGVidWcgPSBuYW1lc3BhY2VzO1xuICAgIH1cbiAgfSBjYXRjaChlKSB7fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuICB0cnkge1xuICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZGVidWc7XG4gIH0gY2F0Y2goZSkge31cblxuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG4gIGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgfVxuXG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEVuYWJsZSBuYW1lc3BhY2VzIGxpc3RlZCBpbiBgbG9jYWxTdG9yYWdlLmRlYnVnYCBpbml0aWFsbHkuXG4gKi9cblxuZXhwb3J0cy5lbmFibGUobG9hZCgpKTtcblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBBY3RpdmUgYGRlYnVnYCBpbnN0YW5jZXMuXG4gKi9cbmV4cG9ydHMuaW5zdGFuY2VzID0gW107XG5cbi8qKlxuICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gKi9cblxuZXhwb3J0cy5uYW1lcyA9IFtdO1xuZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4vKipcbiAqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cbiAqXG4gKiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzID0ge307XG5cbi8qKlxuICogU2VsZWN0IGEgY29sb3IuXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcbiAgdmFyIGhhc2ggPSAwLCBpO1xuXG4gIGZvciAoaSBpbiBuYW1lc3BhY2UpIHtcbiAgICBoYXNoICA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuXG4gIHJldHVybiBleHBvcnRzLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGV4cG9ydHMuY29sb3JzLmxlbmd0aF07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXG4gIHZhciBwcmV2VGltZTtcblxuICBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAvLyBkaXNhYmxlZD9cbiAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHJldHVybjtcblxuICAgIHZhciBzZWxmID0gZGVidWc7XG5cbiAgICAvLyBzZXQgYGRpZmZgIHRpbWVzdGFtcFxuICAgIHZhciBjdXJyID0gK25ldyBEYXRlKCk7XG4gICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICBzZWxmLmRpZmYgPSBtcztcbiAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgIHByZXZUaW1lID0gY3VycjtcblxuICAgIC8vIHR1cm4gdGhlIGBhcmd1bWVudHNgIGludG8gYSBwcm9wZXIgQXJyYXlcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgYXJnc1swXSA9IGV4cG9ydHMuY29lcmNlKGFyZ3NbMF0pO1xuXG4gICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgYXJnc1swXSkge1xuICAgICAgLy8gYW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cbiAgICAgIGFyZ3MudW5zaGlmdCgnJU8nKTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uKG1hdGNoLCBmb3JtYXQpIHtcbiAgICAgIC8vIGlmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykgcmV0dXJuIG1hdGNoO1xuICAgICAgaW5kZXgrKztcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBleHBvcnRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZm9ybWF0dGVyKSB7XG4gICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG4gICAgICAgIC8vIG5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcbiAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgLy8gYXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcbiAgICBleHBvcnRzLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuICAgIHZhciBsb2dGbiA9IGRlYnVnLmxvZyB8fCBleHBvcnRzLmxvZyB8fCBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuICAgIGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICB9XG5cbiAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICBkZWJ1Zy5lbmFibGVkID0gZXhwb3J0cy5lbmFibGVkKG5hbWVzcGFjZSk7XG4gIGRlYnVnLnVzZUNvbG9ycyA9IGV4cG9ydHMudXNlQ29sb3JzKCk7XG4gIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcbiAgZGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgZXhwb3J0cy5pbnN0YW5jZXMucHVzaChkZWJ1Zyk7XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG5mdW5jdGlvbiBkZXN0cm95ICgpIHtcbiAgdmFyIGluZGV4ID0gZXhwb3J0cy5pbnN0YW5jZXMuaW5kZXhPZih0aGlzKTtcbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIGV4cG9ydHMuaW5zdGFuY2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuICogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuICBleHBvcnRzLnNhdmUobmFtZXNwYWNlcyk7XG5cbiAgZXhwb3J0cy5uYW1lcyA9IFtdO1xuICBleHBvcnRzLnNraXBzID0gW107XG5cbiAgdmFyIGk7XG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKCFzcGxpdFtpXSkgY29udGludWU7IC8vIGlnbm9yZSBlbXB0eSBzdHJpbmdzXG4gICAgbmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG4gICAgaWYgKG5hbWVzcGFjZXNbMF0gPT09ICctJykge1xuICAgICAgZXhwb3J0cy5za2lwcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcy5zdWJzdHIoMSkgKyAnJCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoJ14nICsgbmFtZXNwYWNlcyArICckJykpO1xuICAgIH1cbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBleHBvcnRzLmluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpbnN0YW5jZSA9IGV4cG9ydHMuaW5zdGFuY2VzW2ldO1xuICAgIGluc3RhbmNlLmVuYWJsZWQgPSBleHBvcnRzLmVuYWJsZWQoaW5zdGFuY2UubmFtZXNwYWNlKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc2FibGUgZGVidWcgb3V0cHV0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgZXhwb3J0cy5lbmFibGUoJycpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gbW9kZSBuYW1lIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG4gIGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBpLCBsZW47XG4gIGZvciAoaSA9IDAsIGxlbiA9IGV4cG9ydHMuc2tpcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoZXhwb3J0cy5za2lwc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGZvciAoaSA9IDAsIGxlbiA9IGV4cG9ydHMubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoZXhwb3J0cy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENvZXJjZSBgdmFsYC5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSB2YWxcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuICBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG4gIHJldHVybiB2YWw7XG59XG4iLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIGtleXMgPSByZXF1aXJlKCcuL2tleXMnKTtcbnZhciBoYXNCaW5hcnkgPSByZXF1aXJlKCdoYXMtYmluYXJ5MicpO1xudmFyIHNsaWNlQnVmZmVyID0gcmVxdWlyZSgnYXJyYXlidWZmZXIuc2xpY2UnKTtcbnZhciBhZnRlciA9IHJlcXVpcmUoJ2FmdGVyJyk7XG52YXIgdXRmOCA9IHJlcXVpcmUoJy4vdXRmOCcpO1xuXG52YXIgYmFzZTY0ZW5jb2RlcjtcbmlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gIGJhc2U2NGVuY29kZXIgPSByZXF1aXJlKCdiYXNlNjQtYXJyYXlidWZmZXInKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB3ZSBhcmUgcnVubmluZyBhbiBhbmRyb2lkIGJyb3dzZXIuIFRoYXQgcmVxdWlyZXMgdXMgdG8gdXNlXG4gKiBBcnJheUJ1ZmZlciB3aXRoIHBvbGxpbmcgdHJhbnNwb3J0cy4uLlxuICpcbiAqIGh0dHA6Ly9naGluZGEubmV0L2pwZWctYmxvYi1hamF4LWFuZHJvaWQvXG4gKi9cblxudmFyIGlzQW5kcm9pZCA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuLyoqXG4gKiBDaGVjayBpZiB3ZSBhcmUgcnVubmluZyBpbiBQaGFudG9tSlMuXG4gKiBVcGxvYWRpbmcgYSBCbG9iIHdpdGggUGhhbnRvbUpTIGRvZXMgbm90IHdvcmsgY29ycmVjdGx5LCBhcyByZXBvcnRlZCBoZXJlOlxuICogaHR0cHM6Ly9naXRodWIuY29tL2FyaXlhL3BoYW50b21qcy9pc3N1ZXMvMTEzOTVcbiAqIEB0eXBlIGJvb2xlYW5cbiAqL1xudmFyIGlzUGhhbnRvbUpTID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL1BoYW50b21KUy9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbi8qKlxuICogV2hlbiB0cnVlLCBhdm9pZHMgdXNpbmcgQmxvYnMgdG8gZW5jb2RlIHBheWxvYWRzLlxuICogQHR5cGUgYm9vbGVhblxuICovXG52YXIgZG9udFNlbmRCbG9icyA9IGlzQW5kcm9pZCB8fCBpc1BoYW50b21KUztcblxuLyoqXG4gKiBDdXJyZW50IHByb3RvY29sIHZlcnNpb24uXG4gKi9cblxuZXhwb3J0cy5wcm90b2NvbCA9IDM7XG5cbi8qKlxuICogUGFja2V0IHR5cGVzLlxuICovXG5cbnZhciBwYWNrZXRzID0gZXhwb3J0cy5wYWNrZXRzID0ge1xuICAgIG9wZW46ICAgICAwICAgIC8vIG5vbi13c1xuICAsIGNsb3NlOiAgICAxICAgIC8vIG5vbi13c1xuICAsIHBpbmc6ICAgICAyXG4gICwgcG9uZzogICAgIDNcbiAgLCBtZXNzYWdlOiAgNFxuICAsIHVwZ3JhZGU6ICA1XG4gICwgbm9vcDogICAgIDZcbn07XG5cbnZhciBwYWNrZXRzbGlzdCA9IGtleXMocGFja2V0cyk7XG5cbi8qKlxuICogUHJlbWFkZSBlcnJvciBwYWNrZXQuXG4gKi9cblxudmFyIGVyciA9IHsgdHlwZTogJ2Vycm9yJywgZGF0YTogJ3BhcnNlciBlcnJvcicgfTtcblxuLyoqXG4gKiBDcmVhdGUgYSBibG9iIGFwaSBldmVuIGZvciBibG9iIGJ1aWxkZXIgd2hlbiB2ZW5kb3IgcHJlZml4ZXMgZXhpc3RcbiAqL1xuXG52YXIgQmxvYiA9IHJlcXVpcmUoJ2Jsb2InKTtcblxuLyoqXG4gKiBFbmNvZGVzIGEgcGFja2V0LlxuICpcbiAqICAgICA8cGFja2V0IHR5cGUgaWQ+IFsgPGRhdGE+IF1cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICA1aGVsbG8gd29ybGRcbiAqICAgICAzXG4gKiAgICAgNFxuICpcbiAqIEJpbmFyeSBpcyBlbmNvZGVkIGluIGFuIGlkZW50aWNhbCBwcmluY2lwbGVcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmVuY29kZVBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQsIHN1cHBvcnRzQmluYXJ5LCB1dGY4ZW5jb2RlLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIHN1cHBvcnRzQmluYXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBzdXBwb3J0c0JpbmFyeTtcbiAgICBzdXBwb3J0c0JpbmFyeSA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB1dGY4ZW5jb2RlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSB1dGY4ZW5jb2RlO1xuICAgIHV0ZjhlbmNvZGUgPSBudWxsO1xuICB9XG5cbiAgdmFyIGRhdGEgPSAocGFja2V0LmRhdGEgPT09IHVuZGVmaW5lZClcbiAgICA/IHVuZGVmaW5lZFxuICAgIDogcGFja2V0LmRhdGEuYnVmZmVyIHx8IHBhY2tldC5kYXRhO1xuXG4gIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIGRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBlbmNvZGVBcnJheUJ1ZmZlcihwYWNrZXQsIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjayk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgcmV0dXJuIGVuY29kZUJsb2IocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spO1xuICB9XG5cbiAgLy8gbWlnaHQgYmUgYW4gb2JqZWN0IHdpdGggeyBiYXNlNjQ6IHRydWUsIGRhdGE6IGRhdGFBc0Jhc2U2NFN0cmluZyB9XG4gIGlmIChkYXRhICYmIGRhdGEuYmFzZTY0KSB7XG4gICAgcmV0dXJuIGVuY29kZUJhc2U2NE9iamVjdChwYWNrZXQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8vIFNlbmRpbmcgZGF0YSBhcyBhIHV0Zi04IHN0cmluZ1xuICB2YXIgZW5jb2RlZCA9IHBhY2tldHNbcGFja2V0LnR5cGVdO1xuXG4gIC8vIGRhdGEgZnJhZ21lbnQgaXMgb3B0aW9uYWxcbiAgaWYgKHVuZGVmaW5lZCAhPT0gcGFja2V0LmRhdGEpIHtcbiAgICBlbmNvZGVkICs9IHV0ZjhlbmNvZGUgPyB1dGY4LmVuY29kZShTdHJpbmcocGFja2V0LmRhdGEpLCB7IHN0cmljdDogZmFsc2UgfSkgOiBTdHJpbmcocGFja2V0LmRhdGEpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrKCcnICsgZW5jb2RlZCk7XG5cbn07XG5cbmZ1bmN0aW9uIGVuY29kZUJhc2U2NE9iamVjdChwYWNrZXQsIGNhbGxiYWNrKSB7XG4gIC8vIHBhY2tldCBkYXRhIGlzIGFuIG9iamVjdCB7IGJhc2U2NDogdHJ1ZSwgZGF0YTogZGF0YUFzQmFzZTY0U3RyaW5nIH1cbiAgdmFyIG1lc3NhZ2UgPSAnYicgKyBleHBvcnRzLnBhY2tldHNbcGFja2V0LnR5cGVdICsgcGFja2V0LmRhdGEuZGF0YTtcbiAgcmV0dXJuIGNhbGxiYWNrKG1lc3NhZ2UpO1xufVxuXG4vKipcbiAqIEVuY29kZSBwYWNrZXQgaGVscGVycyBmb3IgYmluYXJ5IHR5cGVzXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQXJyYXlCdWZmZXIocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spIHtcbiAgaWYgKCFzdXBwb3J0c0JpbmFyeSkge1xuICAgIHJldHVybiBleHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldChwYWNrZXQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBkYXRhID0gcGFja2V0LmRhdGE7XG4gIHZhciBjb250ZW50QXJyYXkgPSBuZXcgVWludDhBcnJheShkYXRhKTtcbiAgdmFyIHJlc3VsdEJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDEgKyBkYXRhLmJ5dGVMZW5ndGgpO1xuXG4gIHJlc3VsdEJ1ZmZlclswXSA9IHBhY2tldHNbcGFja2V0LnR5cGVdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRlbnRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgIHJlc3VsdEJ1ZmZlcltpKzFdID0gY29udGVudEFycmF5W2ldO1xuICB9XG5cbiAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdEJ1ZmZlci5idWZmZXIpO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVCbG9iQXNBcnJheUJ1ZmZlcihwYWNrZXQsIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjaykge1xuICBpZiAoIXN1cHBvcnRzQmluYXJ5KSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuZW5jb2RlQmFzZTY0UGFja2V0KHBhY2tldCwgY2FsbGJhY2spO1xuICB9XG5cbiAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgZnIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgZXhwb3J0cy5lbmNvZGVQYWNrZXQoeyB0eXBlOiBwYWNrZXQudHlwZSwgZGF0YTogZnIucmVzdWx0IH0sIHN1cHBvcnRzQmluYXJ5LCB0cnVlLCBjYWxsYmFjayk7XG4gIH07XG4gIHJldHVybiBmci5yZWFkQXNBcnJheUJ1ZmZlcihwYWNrZXQuZGF0YSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZUJsb2IocGFja2V0LCBzdXBwb3J0c0JpbmFyeSwgY2FsbGJhY2spIHtcbiAgaWYgKCFzdXBwb3J0c0JpbmFyeSkge1xuICAgIHJldHVybiBleHBvcnRzLmVuY29kZUJhc2U2NFBhY2tldChwYWNrZXQsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGlmIChkb250U2VuZEJsb2JzKSB7XG4gICAgcmV0dXJuIGVuY29kZUJsb2JBc0FycmF5QnVmZmVyKHBhY2tldCwgc3VwcG9ydHNCaW5hcnksIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBuZXcgVWludDhBcnJheSgxKTtcbiAgbGVuZ3RoWzBdID0gcGFja2V0c1twYWNrZXQudHlwZV07XG4gIHZhciBibG9iID0gbmV3IEJsb2IoW2xlbmd0aC5idWZmZXIsIHBhY2tldC5kYXRhXSk7XG5cbiAgcmV0dXJuIGNhbGxiYWNrKGJsb2IpO1xufVxuXG4vKipcbiAqIEVuY29kZXMgYSBwYWNrZXQgd2l0aCBiaW5hcnkgZGF0YSBpbiBhIGJhc2U2NCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0LCBoYXMgYHR5cGVgIGFuZCBgZGF0YWBcbiAqIEByZXR1cm4ge1N0cmluZ30gYmFzZTY0IGVuY29kZWQgbWVzc2FnZVxuICovXG5cbmV4cG9ydHMuZW5jb2RlQmFzZTY0UGFja2V0ID0gZnVuY3Rpb24ocGFja2V0LCBjYWxsYmFjaykge1xuICB2YXIgbWVzc2FnZSA9ICdiJyArIGV4cG9ydHMucGFja2V0c1twYWNrZXQudHlwZV07XG4gIGlmICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgcGFja2V0LmRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgdmFyIGZyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBiNjQgPSBmci5yZXN1bHQuc3BsaXQoJywnKVsxXTtcbiAgICAgIGNhbGxiYWNrKG1lc3NhZ2UgKyBiNjQpO1xuICAgIH07XG4gICAgcmV0dXJuIGZyLnJlYWRBc0RhdGFVUkwocGFja2V0LmRhdGEpO1xuICB9XG5cbiAgdmFyIGI2NGRhdGE7XG4gIHRyeSB7XG4gICAgYjY0ZGF0YSA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkocGFja2V0LmRhdGEpKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGlQaG9uZSBTYWZhcmkgZG9lc24ndCBsZXQgeW91IGFwcGx5IHdpdGggdHlwZWQgYXJyYXlzXG4gICAgdmFyIHR5cGVkID0gbmV3IFVpbnQ4QXJyYXkocGFja2V0LmRhdGEpO1xuICAgIHZhciBiYXNpYyA9IG5ldyBBcnJheSh0eXBlZC5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJhc2ljW2ldID0gdHlwZWRbaV07XG4gICAgfVxuICAgIGI2NGRhdGEgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGJhc2ljKTtcbiAgfVxuICBtZXNzYWdlICs9IGJ0b2EoYjY0ZGF0YSk7XG4gIHJldHVybiBjYWxsYmFjayhtZXNzYWdlKTtcbn07XG5cbi8qKlxuICogRGVjb2RlcyBhIHBhY2tldC4gQ2hhbmdlcyBmb3JtYXQgdG8gQmxvYiBpZiByZXF1ZXN0ZWQuXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSB3aXRoIGB0eXBlYCBhbmQgYGRhdGFgIChpZiBhbnkpXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmRlY29kZVBhY2tldCA9IGZ1bmN0aW9uIChkYXRhLCBiaW5hcnlUeXBlLCB1dGY4ZGVjb2RlKSB7XG4gIGlmIChkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gZXJyO1xuICB9XG4gIC8vIFN0cmluZyBkYXRhXG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoZGF0YS5jaGFyQXQoMCkgPT09ICdiJykge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVjb2RlQmFzZTY0UGFja2V0KGRhdGEuc3Vic3RyKDEpLCBiaW5hcnlUeXBlKTtcbiAgICB9XG5cbiAgICBpZiAodXRmOGRlY29kZSkge1xuICAgICAgZGF0YSA9IHRyeURlY29kZShkYXRhKTtcbiAgICAgIGlmIChkYXRhID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgdHlwZSA9IGRhdGEuY2hhckF0KDApO1xuXG4gICAgaWYgKE51bWJlcih0eXBlKSAhPSB0eXBlIHx8ICFwYWNrZXRzbGlzdFt0eXBlXSkge1xuICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBwYWNrZXRzbGlzdFt0eXBlXSwgZGF0YTogZGF0YS5zdWJzdHJpbmcoMSkgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHsgdHlwZTogcGFja2V0c2xpc3RbdHlwZV0gfTtcbiAgICB9XG4gIH1cblxuICB2YXIgYXNBcnJheSA9IG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICB2YXIgdHlwZSA9IGFzQXJyYXlbMF07XG4gIHZhciByZXN0ID0gc2xpY2VCdWZmZXIoZGF0YSwgMSk7XG4gIGlmIChCbG9iICYmIGJpbmFyeVR5cGUgPT09ICdibG9iJykge1xuICAgIHJlc3QgPSBuZXcgQmxvYihbcmVzdF0pO1xuICB9XG4gIHJldHVybiB7IHR5cGU6IHBhY2tldHNsaXN0W3R5cGVdLCBkYXRhOiByZXN0IH07XG59O1xuXG5mdW5jdGlvbiB0cnlEZWNvZGUoZGF0YSkge1xuICB0cnkge1xuICAgIGRhdGEgPSB1dGY4LmRlY29kZShkYXRhLCB7IHN0cmljdDogZmFsc2UgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogRGVjb2RlcyBhIHBhY2tldCBlbmNvZGVkIGluIGEgYmFzZTY0IHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBiYXNlNjQgZW5jb2RlZCBtZXNzYWdlXG4gKiBAcmV0dXJuIHtPYmplY3R9IHdpdGggYHR5cGVgIGFuZCBgZGF0YWAgKGlmIGFueSlcbiAqL1xuXG5leHBvcnRzLmRlY29kZUJhc2U2NFBhY2tldCA9IGZ1bmN0aW9uKG1zZywgYmluYXJ5VHlwZSkge1xuICB2YXIgdHlwZSA9IHBhY2tldHNsaXN0W21zZy5jaGFyQXQoMCldO1xuICBpZiAoIWJhc2U2NGVuY29kZXIpIHtcbiAgICByZXR1cm4geyB0eXBlOiB0eXBlLCBkYXRhOiB7IGJhc2U2NDogdHJ1ZSwgZGF0YTogbXNnLnN1YnN0cigxKSB9IH07XG4gIH1cblxuICB2YXIgZGF0YSA9IGJhc2U2NGVuY29kZXIuZGVjb2RlKG1zZy5zdWJzdHIoMSkpO1xuXG4gIGlmIChiaW5hcnlUeXBlID09PSAnYmxvYicgJiYgQmxvYikge1xuICAgIGRhdGEgPSBuZXcgQmxvYihbZGF0YV0pO1xuICB9XG5cbiAgcmV0dXJuIHsgdHlwZTogdHlwZSwgZGF0YTogZGF0YSB9O1xufTtcblxuLyoqXG4gKiBFbmNvZGVzIG11bHRpcGxlIG1lc3NhZ2VzIChwYXlsb2FkKS5cbiAqXG4gKiAgICAgPGxlbmd0aD46ZGF0YVxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIDExOmhlbGxvIHdvcmxkMjpoaVxuICpcbiAqIElmIGFueSBjb250ZW50cyBhcmUgYmluYXJ5LCB0aGV5IHdpbGwgYmUgZW5jb2RlZCBhcyBiYXNlNjQgc3RyaW5ncy4gQmFzZTY0XG4gKiBlbmNvZGVkIHN0cmluZ3MgYXJlIG1hcmtlZCB3aXRoIGEgYiBiZWZvcmUgdGhlIGxlbmd0aCBzcGVjaWZpZXJcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYWNrZXRzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmVuY29kZVBheWxvYWQgPSBmdW5jdGlvbiAocGFja2V0cywgc3VwcG9ydHNCaW5hcnksIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygc3VwcG9ydHNCaW5hcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IHN1cHBvcnRzQmluYXJ5O1xuICAgIHN1cHBvcnRzQmluYXJ5ID0gbnVsbDtcbiAgfVxuXG4gIHZhciBpc0JpbmFyeSA9IGhhc0JpbmFyeShwYWNrZXRzKTtcblxuICBpZiAoc3VwcG9ydHNCaW5hcnkgJiYgaXNCaW5hcnkpIHtcbiAgICBpZiAoQmxvYiAmJiAhZG9udFNlbmRCbG9icykge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZW5jb2RlUGF5bG9hZEFzQmxvYihwYWNrZXRzLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4cG9ydHMuZW5jb2RlUGF5bG9hZEFzQXJyYXlCdWZmZXIocGFja2V0cywgY2FsbGJhY2spO1xuICB9XG5cbiAgaWYgKCFwYWNrZXRzLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjaygnMDonKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldExlbmd0aEhlYWRlcihtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2UubGVuZ3RoICsgJzonICsgbWVzc2FnZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuY29kZU9uZShwYWNrZXQsIGRvbmVDYWxsYmFjaykge1xuICAgIGV4cG9ydHMuZW5jb2RlUGFja2V0KHBhY2tldCwgIWlzQmluYXJ5ID8gZmFsc2UgOiBzdXBwb3J0c0JpbmFyeSwgZmFsc2UsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgIGRvbmVDYWxsYmFjayhudWxsLCBzZXRMZW5ndGhIZWFkZXIobWVzc2FnZSkpO1xuICAgIH0pO1xuICB9XG5cbiAgbWFwKHBhY2tldHMsIGVuY29kZU9uZSwgZnVuY3Rpb24oZXJyLCByZXN1bHRzKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdHMuam9pbignJykpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQXN5bmMgYXJyYXkgbWFwIHVzaW5nIGFmdGVyXG4gKi9cblxuZnVuY3Rpb24gbWFwKGFyeSwgZWFjaCwgZG9uZSkge1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGFyeS5sZW5ndGgpO1xuICB2YXIgbmV4dCA9IGFmdGVyKGFyeS5sZW5ndGgsIGRvbmUpO1xuXG4gIHZhciBlYWNoV2l0aEluZGV4ID0gZnVuY3Rpb24oaSwgZWwsIGNiKSB7XG4gICAgZWFjaChlbCwgZnVuY3Rpb24oZXJyb3IsIG1zZykge1xuICAgICAgcmVzdWx0W2ldID0gbXNnO1xuICAgICAgY2IoZXJyb3IsIHJlc3VsdCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnkubGVuZ3RoOyBpKyspIHtcbiAgICBlYWNoV2l0aEluZGV4KGksIGFyeVtpXSwgbmV4dCk7XG4gIH1cbn1cblxuLypcbiAqIERlY29kZXMgZGF0YSB3aGVuIGEgcGF5bG9hZCBpcyBtYXliZSBleHBlY3RlZC4gUG9zc2libGUgYmluYXJ5IGNvbnRlbnRzIGFyZVxuICogZGVjb2RlZCBmcm9tIHRoZWlyIGJhc2U2NCByZXByZXNlbnRhdGlvblxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBkYXRhLCBjYWxsYmFjayBtZXRob2RcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5kZWNvZGVQYXlsb2FkID0gZnVuY3Rpb24gKGRhdGEsIGJpbmFyeVR5cGUsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5kZWNvZGVQYXlsb2FkQXNCaW5hcnkoZGF0YSwgYmluYXJ5VHlwZSwgY2FsbGJhY2spO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBiaW5hcnlUeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBiaW5hcnlUeXBlO1xuICAgIGJpbmFyeVR5cGUgPSBudWxsO1xuICB9XG5cbiAgdmFyIHBhY2tldDtcbiAgaWYgKGRhdGEgPT09ICcnKSB7XG4gICAgLy8gcGFyc2VyIGVycm9yIC0gaWdub3JpbmcgcGF5bG9hZFxuICAgIHJldHVybiBjYWxsYmFjayhlcnIsIDAsIDEpO1xuICB9XG5cbiAgdmFyIGxlbmd0aCA9ICcnLCBuLCBtc2c7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBkYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHZhciBjaHIgPSBkYXRhLmNoYXJBdChpKTtcblxuICAgIGlmIChjaHIgIT09ICc6Jykge1xuICAgICAgbGVuZ3RoICs9IGNocjtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChsZW5ndGggPT09ICcnIHx8IChsZW5ndGggIT0gKG4gPSBOdW1iZXIobGVuZ3RoKSkpKSB7XG4gICAgICAvLyBwYXJzZXIgZXJyb3IgLSBpZ25vcmluZyBwYXlsb2FkXG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCAwLCAxKTtcbiAgICB9XG5cbiAgICBtc2cgPSBkYXRhLnN1YnN0cihpICsgMSwgbik7XG5cbiAgICBpZiAobGVuZ3RoICE9IG1zZy5sZW5ndGgpIHtcbiAgICAgIC8vIHBhcnNlciBlcnJvciAtIGlnbm9yaW5nIHBheWxvYWRcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIsIDAsIDEpO1xuICAgIH1cblxuICAgIGlmIChtc2cubGVuZ3RoKSB7XG4gICAgICBwYWNrZXQgPSBleHBvcnRzLmRlY29kZVBhY2tldChtc2csIGJpbmFyeVR5cGUsIGZhbHNlKTtcblxuICAgICAgaWYgKGVyci50eXBlID09PSBwYWNrZXQudHlwZSAmJiBlcnIuZGF0YSA9PT0gcGFja2V0LmRhdGEpIHtcbiAgICAgICAgLy8gcGFyc2VyIGVycm9yIGluIGluZGl2aWR1YWwgcGFja2V0IC0gaWdub3JpbmcgcGF5bG9hZFxuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyLCAwLCAxKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldCA9IGNhbGxiYWNrKHBhY2tldCwgaSArIG4sIGwpO1xuICAgICAgaWYgKGZhbHNlID09PSByZXQpIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBhZHZhbmNlIGN1cnNvclxuICAgIGkgKz0gbjtcbiAgICBsZW5ndGggPSAnJztcbiAgfVxuXG4gIGlmIChsZW5ndGggIT09ICcnKSB7XG4gICAgLy8gcGFyc2VyIGVycm9yIC0gaWdub3JpbmcgcGF5bG9hZFxuICAgIHJldHVybiBjYWxsYmFjayhlcnIsIDAsIDEpO1xuICB9XG5cbn07XG5cbi8qKlxuICogRW5jb2RlcyBtdWx0aXBsZSBtZXNzYWdlcyAocGF5bG9hZCkgYXMgYmluYXJ5LlxuICpcbiAqIDwxID0gYmluYXJ5LCAwID0gc3RyaW5nPjxudW1iZXIgZnJvbSAwLTk+PG51bWJlciBmcm9tIDAtOT5bLi4uXTxudW1iZXJcbiAqIDI1NT48ZGF0YT5cbiAqXG4gKiBFeGFtcGxlOlxuICogMSAzIDI1NSAxIDIgMywgaWYgdGhlIGJpbmFyeSBjb250ZW50cyBhcmUgaW50ZXJwcmV0ZWQgYXMgOCBiaXQgaW50ZWdlcnNcbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBwYWNrZXRzXG4gKiBAcmV0dXJuIHtBcnJheUJ1ZmZlcn0gZW5jb2RlZCBwYXlsb2FkXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmVuY29kZVBheWxvYWRBc0FycmF5QnVmZmVyID0gZnVuY3Rpb24ocGFja2V0cywgY2FsbGJhY2spIHtcbiAgaWYgKCFwYWNrZXRzLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjayhuZXcgQXJyYXlCdWZmZXIoMCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5jb2RlT25lKHBhY2tldCwgZG9uZUNhbGxiYWNrKSB7XG4gICAgZXhwb3J0cy5lbmNvZGVQYWNrZXQocGFja2V0LCB0cnVlLCB0cnVlLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gZG9uZUNhbGxiYWNrKG51bGwsIGRhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgbWFwKHBhY2tldHMsIGVuY29kZU9uZSwgZnVuY3Rpb24oZXJyLCBlbmNvZGVkUGFja2V0cykge1xuICAgIHZhciB0b3RhbExlbmd0aCA9IGVuY29kZWRQYWNrZXRzLnJlZHVjZShmdW5jdGlvbihhY2MsIHApIHtcbiAgICAgIHZhciBsZW47XG4gICAgICBpZiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKXtcbiAgICAgICAgbGVuID0gcC5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZW4gPSBwLmJ5dGVMZW5ndGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjICsgbGVuLnRvU3RyaW5nKCkubGVuZ3RoICsgbGVuICsgMjsgLy8gc3RyaW5nL2JpbmFyeSBpZGVudGlmaWVyICsgc2VwYXJhdG9yID0gMlxuICAgIH0sIDApO1xuXG4gICAgdmFyIHJlc3VsdEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuXG4gICAgdmFyIGJ1ZmZlckluZGV4ID0gMDtcbiAgICBlbmNvZGVkUGFja2V0cy5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciBpc1N0cmluZyA9IHR5cGVvZiBwID09PSAnc3RyaW5nJztcbiAgICAgIHZhciBhYiA9IHA7XG4gICAgICBpZiAoaXNTdHJpbmcpIHtcbiAgICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShwLmxlbmd0aCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZpZXdbaV0gPSBwLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgYWIgPSB2aWV3LmJ1ZmZlcjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU3RyaW5nKSB7IC8vIG5vdCB0cnVlIGJpbmFyeVxuICAgICAgICByZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXSA9IDA7XG4gICAgICB9IGVsc2UgeyAvLyB0cnVlIGJpbmFyeVxuICAgICAgICByZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXSA9IDE7XG4gICAgICB9XG5cbiAgICAgIHZhciBsZW5TdHIgPSBhYi5ieXRlTGVuZ3RoLnRvU3RyaW5nKCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlblN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXSA9IHBhcnNlSW50KGxlblN0cltpXSk7XG4gICAgICB9XG4gICAgICByZXN1bHRBcnJheVtidWZmZXJJbmRleCsrXSA9IDI1NTtcblxuICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShhYik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0QXJyYXlbYnVmZmVySW5kZXgrK10gPSB2aWV3W2ldO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdEFycmF5LmJ1ZmZlcik7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBFbmNvZGUgYXMgQmxvYlxuICovXG5cbmV4cG9ydHMuZW5jb2RlUGF5bG9hZEFzQmxvYiA9IGZ1bmN0aW9uKHBhY2tldHMsIGNhbGxiYWNrKSB7XG4gIGZ1bmN0aW9uIGVuY29kZU9uZShwYWNrZXQsIGRvbmVDYWxsYmFjaykge1xuICAgIGV4cG9ydHMuZW5jb2RlUGFja2V0KHBhY2tldCwgdHJ1ZSwgdHJ1ZSwgZnVuY3Rpb24oZW5jb2RlZCkge1xuICAgICAgdmFyIGJpbmFyeUlkZW50aWZpZXIgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICAgIGJpbmFyeUlkZW50aWZpZXJbMF0gPSAxO1xuICAgICAgaWYgKHR5cGVvZiBlbmNvZGVkID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGVuY29kZWQubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmNvZGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmlld1tpXSA9IGVuY29kZWQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICBlbmNvZGVkID0gdmlldy5idWZmZXI7XG4gICAgICAgIGJpbmFyeUlkZW50aWZpZXJbMF0gPSAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGVuID0gKGVuY29kZWQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilcbiAgICAgICAgPyBlbmNvZGVkLmJ5dGVMZW5ndGhcbiAgICAgICAgOiBlbmNvZGVkLnNpemU7XG5cbiAgICAgIHZhciBsZW5TdHIgPSBsZW4udG9TdHJpbmcoKTtcbiAgICAgIHZhciBsZW5ndGhBcnkgPSBuZXcgVWludDhBcnJheShsZW5TdHIubGVuZ3RoICsgMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlblN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZW5ndGhBcnlbaV0gPSBwYXJzZUludChsZW5TdHJbaV0pO1xuICAgICAgfVxuICAgICAgbGVuZ3RoQXJ5W2xlblN0ci5sZW5ndGhdID0gMjU1O1xuXG4gICAgICBpZiAoQmxvYikge1xuICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtiaW5hcnlJZGVudGlmaWVyLmJ1ZmZlciwgbGVuZ3RoQXJ5LmJ1ZmZlciwgZW5jb2RlZF0pO1xuICAgICAgICBkb25lQ2FsbGJhY2sobnVsbCwgYmxvYik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBtYXAocGFja2V0cywgZW5jb2RlT25lLCBmdW5jdGlvbihlcnIsIHJlc3VsdHMpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sobmV3IEJsb2IocmVzdWx0cykpO1xuICB9KTtcbn07XG5cbi8qXG4gKiBEZWNvZGVzIGRhdGEgd2hlbiBhIHBheWxvYWQgaXMgbWF5YmUgZXhwZWN0ZWQuIFN0cmluZ3MgYXJlIGRlY29kZWQgYnlcbiAqIGludGVycHJldGluZyBlYWNoIGJ5dGUgYXMgYSBrZXkgY29kZSBmb3IgZW50cmllcyBtYXJrZWQgdG8gc3RhcnQgd2l0aCAwLiBTZWVcbiAqIGRlc2NyaXB0aW9uIG9mIGVuY29kZVBheWxvYWRBc0JpbmFyeVxuICpcbiAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGRhdGEsIGNhbGxiYWNrIG1ldGhvZFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmRlY29kZVBheWxvYWRBc0JpbmFyeSA9IGZ1bmN0aW9uIChkYXRhLCBiaW5hcnlUeXBlLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIGJpbmFyeVR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IGJpbmFyeVR5cGU7XG4gICAgYmluYXJ5VHlwZSA9IG51bGw7XG4gIH1cblxuICB2YXIgYnVmZmVyVGFpbCA9IGRhdGE7XG4gIHZhciBidWZmZXJzID0gW107XG5cbiAgd2hpbGUgKGJ1ZmZlclRhaWwuYnl0ZUxlbmd0aCA+IDApIHtcbiAgICB2YXIgdGFpbEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyVGFpbCk7XG4gICAgdmFyIGlzU3RyaW5nID0gdGFpbEFycmF5WzBdID09PSAwO1xuICAgIHZhciBtc2dMZW5ndGggPSAnJztcblxuICAgIGZvciAodmFyIGkgPSAxOyA7IGkrKykge1xuICAgICAgaWYgKHRhaWxBcnJheVtpXSA9PT0gMjU1KSBicmVhaztcblxuICAgICAgLy8gMzEwID0gY2hhciBsZW5ndGggb2YgTnVtYmVyLk1BWF9WQUxVRVxuICAgICAgaWYgKG1zZ0xlbmd0aC5sZW5ndGggPiAzMTApIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVyciwgMCwgMSk7XG4gICAgICB9XG5cbiAgICAgIG1zZ0xlbmd0aCArPSB0YWlsQXJyYXlbaV07XG4gICAgfVxuXG4gICAgYnVmZmVyVGFpbCA9IHNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsIDIgKyBtc2dMZW5ndGgubGVuZ3RoKTtcbiAgICBtc2dMZW5ndGggPSBwYXJzZUludChtc2dMZW5ndGgpO1xuXG4gICAgdmFyIG1zZyA9IHNsaWNlQnVmZmVyKGJ1ZmZlclRhaWwsIDAsIG1zZ0xlbmd0aCk7XG4gICAgaWYgKGlzU3RyaW5nKSB7XG4gICAgICB0cnkge1xuICAgICAgICBtc2cgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KG1zZykpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpUGhvbmUgU2FmYXJpIGRvZXNuJ3QgbGV0IHlvdSBhcHBseSB0byB0eXBlZCBhcnJheXNcbiAgICAgICAgdmFyIHR5cGVkID0gbmV3IFVpbnQ4QXJyYXkobXNnKTtcbiAgICAgICAgbXNnID0gJyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtc2cgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh0eXBlZFtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBidWZmZXJzLnB1c2gobXNnKTtcbiAgICBidWZmZXJUYWlsID0gc2xpY2VCdWZmZXIoYnVmZmVyVGFpbCwgbXNnTGVuZ3RoKTtcbiAgfVxuXG4gIHZhciB0b3RhbCA9IGJ1ZmZlcnMubGVuZ3RoO1xuICBidWZmZXJzLmZvckVhY2goZnVuY3Rpb24oYnVmZmVyLCBpKSB7XG4gICAgY2FsbGJhY2soZXhwb3J0cy5kZWNvZGVQYWNrZXQoYnVmZmVyLCBiaW5hcnlUeXBlLCB0cnVlKSwgaSwgdG90YWwpO1xuICB9KTtcbn07XG4iLCJcbi8qKlxuICogR2V0cyB0aGUga2V5cyBmb3IgYW4gb2JqZWN0LlxuICpcbiAqIEByZXR1cm4ge0FycmF5fSBrZXlzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMgKG9iail7XG4gIHZhciBhcnIgPSBbXTtcbiAgdmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBpZiAoaGFzLmNhbGwob2JqLCBpKSkge1xuICAgICAgYXJyLnB1c2goaSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnI7XG59O1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS91dGY4anMgdjIuMS4yIGJ5IEBtYXRoaWFzICovXG5cbnZhciBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuXG4vLyBUYWtlbiBmcm9tIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZVxuZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0dmFyIG91dHB1dCA9IFtdO1xuXHR2YXIgY291bnRlciA9IDA7XG5cdHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXHR2YXIgdmFsdWU7XG5cdHZhciBleHRyYTtcblx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBvdXRwdXQ7XG59XG5cbi8vIFRha2VuIGZyb20gaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlXG5mdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdHZhciBpbmRleCA9IC0xO1xuXHR2YXIgdmFsdWU7XG5cdHZhciBvdXRwdXQgPSAnJztcblx0d2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcblx0XHR2YWx1ZSA9IGFycmF5W2luZGV4XTtcblx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHR9XG5cdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdH1cblx0cmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gY2hlY2tTY2FsYXJWYWx1ZShjb2RlUG9pbnQsIHN0cmljdCkge1xuXHRpZiAoY29kZVBvaW50ID49IDB4RDgwMCAmJiBjb2RlUG9pbnQgPD0gMHhERkZGKSB7XG5cdFx0aWYgKHN0cmljdCkge1xuXHRcdFx0dGhyb3cgRXJyb3IoXG5cdFx0XHRcdCdMb25lIHN1cnJvZ2F0ZSBVKycgKyBjb2RlUG9pbnQudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgK1xuXHRcdFx0XHQnIGlzIG5vdCBhIHNjYWxhciB2YWx1ZSdcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRyZXR1cm4gdHJ1ZTtcbn1cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5mdW5jdGlvbiBjcmVhdGVCeXRlKGNvZGVQb2ludCwgc2hpZnQpIHtcblx0cmV0dXJuIHN0cmluZ0Zyb21DaGFyQ29kZSgoKGNvZGVQb2ludCA+PiBzaGlmdCkgJiAweDNGKSB8IDB4ODApO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVDb2RlUG9pbnQoY29kZVBvaW50LCBzdHJpY3QpIHtcblx0aWYgKChjb2RlUG9pbnQgJiAweEZGRkZGRjgwKSA9PSAwKSB7IC8vIDEtYnl0ZSBzZXF1ZW5jZVxuXHRcdHJldHVybiBzdHJpbmdGcm9tQ2hhckNvZGUoY29kZVBvaW50KTtcblx0fVxuXHR2YXIgc3ltYm9sID0gJyc7XG5cdGlmICgoY29kZVBvaW50ICYgMHhGRkZGRjgwMCkgPT0gMCkgeyAvLyAyLWJ5dGUgc2VxdWVuY2Vcblx0XHRzeW1ib2wgPSBzdHJpbmdGcm9tQ2hhckNvZGUoKChjb2RlUG9pbnQgPj4gNikgJiAweDFGKSB8IDB4QzApO1xuXHR9XG5cdGVsc2UgaWYgKChjb2RlUG9pbnQgJiAweEZGRkYwMDAwKSA9PSAwKSB7IC8vIDMtYnl0ZSBzZXF1ZW5jZVxuXHRcdGlmICghY2hlY2tTY2FsYXJWYWx1ZShjb2RlUG9pbnQsIHN0cmljdCkpIHtcblx0XHRcdGNvZGVQb2ludCA9IDB4RkZGRDtcblx0XHR9XG5cdFx0c3ltYm9sID0gc3RyaW5nRnJvbUNoYXJDb2RlKCgoY29kZVBvaW50ID4+IDEyKSAmIDB4MEYpIHwgMHhFMCk7XG5cdFx0c3ltYm9sICs9IGNyZWF0ZUJ5dGUoY29kZVBvaW50LCA2KTtcblx0fVxuXHRlbHNlIGlmICgoY29kZVBvaW50ICYgMHhGRkUwMDAwMCkgPT0gMCkgeyAvLyA0LWJ5dGUgc2VxdWVuY2Vcblx0XHRzeW1ib2wgPSBzdHJpbmdGcm9tQ2hhckNvZGUoKChjb2RlUG9pbnQgPj4gMTgpICYgMHgwNykgfCAweEYwKTtcblx0XHRzeW1ib2wgKz0gY3JlYXRlQnl0ZShjb2RlUG9pbnQsIDEyKTtcblx0XHRzeW1ib2wgKz0gY3JlYXRlQnl0ZShjb2RlUG9pbnQsIDYpO1xuXHR9XG5cdHN5bWJvbCArPSBzdHJpbmdGcm9tQ2hhckNvZGUoKGNvZGVQb2ludCAmIDB4M0YpIHwgMHg4MCk7XG5cdHJldHVybiBzeW1ib2w7XG59XG5cbmZ1bmN0aW9uIHV0ZjhlbmNvZGUoc3RyaW5nLCBvcHRzKSB7XG5cdG9wdHMgPSBvcHRzIHx8IHt9O1xuXHR2YXIgc3RyaWN0ID0gZmFsc2UgIT09IG9wdHMuc3RyaWN0O1xuXG5cdHZhciBjb2RlUG9pbnRzID0gdWNzMmRlY29kZShzdHJpbmcpO1xuXHR2YXIgbGVuZ3RoID0gY29kZVBvaW50cy5sZW5ndGg7XG5cdHZhciBpbmRleCA9IC0xO1xuXHR2YXIgY29kZVBvaW50O1xuXHR2YXIgYnl0ZVN0cmluZyA9ICcnO1xuXHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuXHRcdGNvZGVQb2ludCA9IGNvZGVQb2ludHNbaW5kZXhdO1xuXHRcdGJ5dGVTdHJpbmcgKz0gZW5jb2RlQ29kZVBvaW50KGNvZGVQb2ludCwgc3RyaWN0KTtcblx0fVxuXHRyZXR1cm4gYnl0ZVN0cmluZztcbn1cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmZ1bmN0aW9uIHJlYWRDb250aW51YXRpb25CeXRlKCkge1xuXHRpZiAoYnl0ZUluZGV4ID49IGJ5dGVDb3VudCkge1xuXHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGJ5dGUgaW5kZXgnKTtcblx0fVxuXG5cdHZhciBjb250aW51YXRpb25CeXRlID0gYnl0ZUFycmF5W2J5dGVJbmRleF0gJiAweEZGO1xuXHRieXRlSW5kZXgrKztcblxuXHRpZiAoKGNvbnRpbnVhdGlvbkJ5dGUgJiAweEMwKSA9PSAweDgwKSB7XG5cdFx0cmV0dXJuIGNvbnRpbnVhdGlvbkJ5dGUgJiAweDNGO1xuXHR9XG5cblx0Ly8gSWYgd2UgZW5kIHVwIGhlcmUsIGl04oCZcyBub3QgYSBjb250aW51YXRpb24gYnl0ZVxuXHR0aHJvdyBFcnJvcignSW52YWxpZCBjb250aW51YXRpb24gYnl0ZScpO1xufVxuXG5mdW5jdGlvbiBkZWNvZGVTeW1ib2woc3RyaWN0KSB7XG5cdHZhciBieXRlMTtcblx0dmFyIGJ5dGUyO1xuXHR2YXIgYnl0ZTM7XG5cdHZhciBieXRlNDtcblx0dmFyIGNvZGVQb2ludDtcblxuXHRpZiAoYnl0ZUluZGV4ID4gYnl0ZUNvdW50KSB7XG5cdFx0dGhyb3cgRXJyb3IoJ0ludmFsaWQgYnl0ZSBpbmRleCcpO1xuXHR9XG5cblx0aWYgKGJ5dGVJbmRleCA9PSBieXRlQ291bnQpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBSZWFkIGZpcnN0IGJ5dGVcblx0Ynl0ZTEgPSBieXRlQXJyYXlbYnl0ZUluZGV4XSAmIDB4RkY7XG5cdGJ5dGVJbmRleCsrO1xuXG5cdC8vIDEtYnl0ZSBzZXF1ZW5jZSAobm8gY29udGludWF0aW9uIGJ5dGVzKVxuXHRpZiAoKGJ5dGUxICYgMHg4MCkgPT0gMCkge1xuXHRcdHJldHVybiBieXRlMTtcblx0fVxuXG5cdC8vIDItYnl0ZSBzZXF1ZW5jZVxuXHRpZiAoKGJ5dGUxICYgMHhFMCkgPT0gMHhDMCkge1xuXHRcdGJ5dGUyID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRjb2RlUG9pbnQgPSAoKGJ5dGUxICYgMHgxRikgPDwgNikgfCBieXRlMjtcblx0XHRpZiAoY29kZVBvaW50ID49IDB4ODApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlJyk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gMy1ieXRlIHNlcXVlbmNlIChtYXkgaW5jbHVkZSB1bnBhaXJlZCBzdXJyb2dhdGVzKVxuXHRpZiAoKGJ5dGUxICYgMHhGMCkgPT0gMHhFMCkge1xuXHRcdGJ5dGUyID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRieXRlMyA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0Y29kZVBvaW50ID0gKChieXRlMSAmIDB4MEYpIDw8IDEyKSB8IChieXRlMiA8PCA2KSB8IGJ5dGUzO1xuXHRcdGlmIChjb2RlUG9pbnQgPj0gMHgwODAwKSB7XG5cdFx0XHRyZXR1cm4gY2hlY2tTY2FsYXJWYWx1ZShjb2RlUG9pbnQsIHN0cmljdCkgPyBjb2RlUG9pbnQgOiAweEZGRkQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IEVycm9yKCdJbnZhbGlkIGNvbnRpbnVhdGlvbiBieXRlJyk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gNC1ieXRlIHNlcXVlbmNlXG5cdGlmICgoYnl0ZTEgJiAweEY4KSA9PSAweEYwKSB7XG5cdFx0Ynl0ZTIgPSByZWFkQ29udGludWF0aW9uQnl0ZSgpO1xuXHRcdGJ5dGUzID0gcmVhZENvbnRpbnVhdGlvbkJ5dGUoKTtcblx0XHRieXRlNCA9IHJlYWRDb250aW51YXRpb25CeXRlKCk7XG5cdFx0Y29kZVBvaW50ID0gKChieXRlMSAmIDB4MDcpIDw8IDB4MTIpIHwgKGJ5dGUyIDw8IDB4MEMpIHxcblx0XHRcdChieXRlMyA8PCAweDA2KSB8IGJ5dGU0O1xuXHRcdGlmIChjb2RlUG9pbnQgPj0gMHgwMTAwMDAgJiYgY29kZVBvaW50IDw9IDB4MTBGRkZGKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50O1xuXHRcdH1cblx0fVxuXG5cdHRocm93IEVycm9yKCdJbnZhbGlkIFVURi04IGRldGVjdGVkJyk7XG59XG5cbnZhciBieXRlQXJyYXk7XG52YXIgYnl0ZUNvdW50O1xudmFyIGJ5dGVJbmRleDtcbmZ1bmN0aW9uIHV0ZjhkZWNvZGUoYnl0ZVN0cmluZywgb3B0cykge1xuXHRvcHRzID0gb3B0cyB8fCB7fTtcblx0dmFyIHN0cmljdCA9IGZhbHNlICE9PSBvcHRzLnN0cmljdDtcblxuXHRieXRlQXJyYXkgPSB1Y3MyZGVjb2RlKGJ5dGVTdHJpbmcpO1xuXHRieXRlQ291bnQgPSBieXRlQXJyYXkubGVuZ3RoO1xuXHRieXRlSW5kZXggPSAwO1xuXHR2YXIgY29kZVBvaW50cyA9IFtdO1xuXHR2YXIgdG1wO1xuXHR3aGlsZSAoKHRtcCA9IGRlY29kZVN5bWJvbChzdHJpY3QpKSAhPT0gZmFsc2UpIHtcblx0XHRjb2RlUG9pbnRzLnB1c2godG1wKTtcblx0fVxuXHRyZXR1cm4gdWNzMmVuY29kZShjb2RlUG9pbnRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG5cdHZlcnNpb246ICcyLjEuMicsXG5cdGVuY29kZTogdXRmOGVuY29kZSxcblx0ZGVjb2RlOiB1dGY4ZGVjb2RlXG59O1xuIiwiLyogZ2xvYmFsIEJsb2IgRmlsZSAqL1xuXG4vKlxuICogTW9kdWxlIHJlcXVpcmVtZW50cy5cbiAqL1xuXG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKTtcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbnZhciB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgdG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gJ1tvYmplY3QgQmxvYkNvbnN0cnVjdG9yXSc7XG52YXIgd2l0aE5hdGl2ZUZpbGUgPSB0eXBlb2YgRmlsZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIEZpbGUgIT09ICd1bmRlZmluZWQnICYmIHRvU3RyaW5nLmNhbGwoRmlsZSkgPT09ICdbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl0nO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gaGFzQmluYXJ5O1xuXG4vKipcbiAqIENoZWNrcyBmb3IgYmluYXJ5IGRhdGEuXG4gKlxuICogU3VwcG9ydHMgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQmxvYiBhbmQgRmlsZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYW55dGhpbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gaGFzQmluYXJ5IChvYmopIHtcbiAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoaGFzQmluYXJ5KG9ialtpXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmICgodHlwZW9mIEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBCdWZmZXIuaXNCdWZmZXIgJiYgQnVmZmVyLmlzQnVmZmVyKG9iaikpIHx8XG4gICAgKHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmogaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHxcbiAgICAod2l0aE5hdGl2ZUJsb2IgJiYgb2JqIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAod2l0aE5hdGl2ZUZpbGUgJiYgb2JqIGluc3RhbmNlb2YgRmlsZSlcbiAgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9BdXRvbWF0dGljL2hhcy1iaW5hcnkvcHVsbC80XG4gIGlmIChvYmoudG9KU09OICYmIHR5cGVvZiBvYmoudG9KU09OID09PSAnZnVuY3Rpb24nICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gaGFzQmluYXJ5KG9iai50b0pTT04oKSwgdHJ1ZSk7XG4gIH1cblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgJiYgaGFzQmluYXJ5KG9ialtrZXldKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKlxuICogTG9naWMgYm9ycm93ZWQgZnJvbSBNb2Rlcm5penI6XG4gKlxuICogICAtIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9jb3JzLmpzXG4gKi9cblxudHJ5IHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnICYmXG4gICAgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG59IGNhdGNoIChlcnIpIHtcbiAgLy8gaWYgWE1MSHR0cCBzdXBwb3J0IGlzIGRpc2FibGVkIGluIElFIHRoZW4gaXQgd2lsbCB0aHJvd1xuICAvLyB3aGVuIHRyeWluZyB0byBjcmVhdGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmYWxzZTtcbn1cbiIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyc7XG5cbnZhciBhcnIgPSBbXTtcbnZhciBlYWNoID0gYXJyLmZvckVhY2g7XG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5mdW5jdGlvbiBkZWZhdWx0cyhvYmopIHtcbiAgZWFjaC5jYWxsKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChvYmpbcHJvcF0gPT09IHVuZGVmaW5lZCkgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvYmo7XG59XG5cbnZhciBjb29raWUgPSB7XG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKG5hbWUsIHZhbHVlLCBtaW51dGVzLCBkb21haW4pIHtcbiAgICB2YXIgY29va2llT3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDoge1xuICAgICAgcGF0aDogJy8nXG4gICAgfTtcbiAgICB2YXIgZXhwaXJlcztcblxuICAgIGlmIChtaW51dGVzKSB7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyBtaW51dGVzICogNjAgKiAxMDAwKTtcbiAgICAgIGV4cGlyZXMgPSAnOyBleHBpcmVzPScgKyBkYXRlLnRvVVRDU3RyaW5nKCk7XG4gICAgfSBlbHNlIGV4cGlyZXMgPSAnJztcblxuICAgIGRvbWFpbiA9IGRvbWFpbiA/ICdkb21haW49JyArIGRvbWFpbiArICc7JyA6ICcnO1xuICAgIGNvb2tpZU9wdGlvbnMgPSBPYmplY3Qua2V5cyhjb29raWVPcHRpb25zKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICByZXR1cm4gYWNjICsgJzsnICsga2V5LnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24gKCQxKSB7XG4gICAgICAgIHJldHVybiAnLScgKyAkMS50b0xvd2VyQ2FzZSgpO1xuICAgICAgfSkgKyAnPScgKyBjb29raWVPcHRpb25zW2tleV07XG4gICAgfSwgJycpO1xuICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgZXhwaXJlcyArICc7JyArIGRvbWFpbiArIGNvb2tpZU9wdGlvbnM7XG4gIH0sXG4gIHJlYWQ6IGZ1bmN0aW9uIHJlYWQobmFtZSkge1xuICAgIHZhciBuYW1lRVEgPSBuYW1lICsgJz0nO1xuICAgIHZhciBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGMgPSBjYVtpXTtcblxuICAgICAgd2hpbGUgKGMuY2hhckF0KDApID09PSAnICcpIHtcbiAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEsIGMubGVuZ3RoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGMuaW5kZXhPZihuYW1lRVEpID09PSAwKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZUVRLmxlbmd0aCwgYy5sZW5ndGgpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgdGhpcy5jcmVhdGUobmFtZSwgJycsIC0xKTtcbiAgfVxufTtcbnZhciBjb29raWUkMSA9IHtcbiAgbmFtZTogJ2Nvb2tpZScsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQ7XG5cbiAgICBpZiAob3B0aW9ucy5sb29rdXBDb29raWUgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGMgPSBjb29raWUucmVhZChvcHRpb25zLmxvb2t1cENvb2tpZSk7XG4gICAgICBpZiAoYykgZm91bmQgPSBjO1xuICAgIH1cblxuICAgIHJldHVybiBmb3VuZDtcbiAgfSxcbiAgY2FjaGVVc2VyTGFuZ3VhZ2U6IGZ1bmN0aW9uIGNhY2hlVXNlckxhbmd1YWdlKGxuZywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmxvb2t1cENvb2tpZSAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb29raWUuY3JlYXRlKG9wdGlvbnMubG9va3VwQ29va2llLCBsbmcsIG9wdGlvbnMuY29va2llTWludXRlcywgb3B0aW9ucy5jb29raWVEb21haW4sIG9wdGlvbnMuY29va2llT3B0aW9ucyk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgcXVlcnlzdHJpbmcgPSB7XG4gIG5hbWU6ICdxdWVyeXN0cmluZycsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQ7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xuICAgICAgdmFyIHBhcmFtcyA9IHF1ZXJ5LnNwbGl0KCcmJyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwb3MgPSBwYXJhbXNbaV0uaW5kZXhPZignPScpO1xuXG4gICAgICAgIGlmIChwb3MgPiAwKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHBhcmFtc1tpXS5zdWJzdHJpbmcoMCwgcG9zKTtcblxuICAgICAgICAgIGlmIChrZXkgPT09IG9wdGlvbnMubG9va3VwUXVlcnlzdHJpbmcpIHtcbiAgICAgICAgICAgIGZvdW5kID0gcGFyYW1zW2ldLnN1YnN0cmluZyhwb3MgKyAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbn07XG5cbnZhciBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0O1xuXG50cnkge1xuICBoYXNMb2NhbFN0b3JhZ2VTdXBwb3J0ID0gd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSBudWxsO1xuICB2YXIgdGVzdEtleSA9ICdpMThuZXh0LnRyYW5zbGF0ZS5ib28nO1xuICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGVzdEtleSwgJ2ZvbycpO1xuICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGVzdEtleSk7XG59IGNhdGNoIChlKSB7XG4gIGhhc0xvY2FsU3RvcmFnZVN1cHBvcnQgPSBmYWxzZTtcbn1cblxudmFyIGxvY2FsU3RvcmFnZSA9IHtcbiAgbmFtZTogJ2xvY2FsU3RvcmFnZScsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQ7XG5cbiAgICBpZiAob3B0aW9ucy5sb29rdXBMb2NhbFN0b3JhZ2UgJiYgaGFzTG9jYWxTdG9yYWdlU3VwcG9ydCkge1xuICAgICAgdmFyIGxuZyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShvcHRpb25zLmxvb2t1cExvY2FsU3RvcmFnZSk7XG4gICAgICBpZiAobG5nKSBmb3VuZCA9IGxuZztcbiAgICB9XG5cbiAgICByZXR1cm4gZm91bmQ7XG4gIH0sXG4gIGNhY2hlVXNlckxhbmd1YWdlOiBmdW5jdGlvbiBjYWNoZVVzZXJMYW5ndWFnZShsbmcsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5sb29rdXBMb2NhbFN0b3JhZ2UgJiYgaGFzTG9jYWxTdG9yYWdlU3VwcG9ydCkge1xuICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKG9wdGlvbnMubG9va3VwTG9jYWxTdG9yYWdlLCBsbmcpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIGhhc1Nlc3Npb25TdG9yYWdlU3VwcG9ydDtcblxudHJ5IHtcbiAgaGFzU2Vzc2lvblN0b3JhZ2VTdXBwb3J0ID0gd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgIT09IG51bGw7XG4gIHZhciB0ZXN0S2V5JDEgPSAnaTE4bmV4dC50cmFuc2xhdGUuYm9vJztcbiAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0odGVzdEtleSQxLCAnZm9vJyk7XG4gIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHRlc3RLZXkkMSk7XG59IGNhdGNoIChlKSB7XG4gIGhhc1Nlc3Npb25TdG9yYWdlU3VwcG9ydCA9IGZhbHNlO1xufVxuXG52YXIgc2Vzc2lvblN0b3JhZ2UgPSB7XG4gIG5hbWU6ICdzZXNzaW9uU3RvcmFnZScsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQ7XG5cbiAgICBpZiAob3B0aW9ucy5sb29rdXBzZXNzaW9uU3RvcmFnZSAmJiBoYXNTZXNzaW9uU3RvcmFnZVN1cHBvcnQpIHtcbiAgICAgIHZhciBsbmcgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShvcHRpb25zLmxvb2t1cHNlc3Npb25TdG9yYWdlKTtcbiAgICAgIGlmIChsbmcpIGZvdW5kID0gbG5nO1xuICAgIH1cblxuICAgIHJldHVybiBmb3VuZDtcbiAgfSxcbiAgY2FjaGVVc2VyTGFuZ3VhZ2U6IGZ1bmN0aW9uIGNhY2hlVXNlckxhbmd1YWdlKGxuZywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmxvb2t1cHNlc3Npb25TdG9yYWdlICYmIGhhc1Nlc3Npb25TdG9yYWdlU3VwcG9ydCkge1xuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0ob3B0aW9ucy5sb29rdXBzZXNzaW9uU3RvcmFnZSwgbG5nKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBuYXZpZ2F0b3IkMSA9IHtcbiAgbmFtZTogJ25hdmlnYXRvcicsXG4gIGxvb2t1cDogZnVuY3Rpb24gbG9va3VwKG9wdGlvbnMpIHtcbiAgICB2YXIgZm91bmQgPSBbXTtcblxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKG5hdmlnYXRvci5sYW5ndWFnZXMpIHtcbiAgICAgICAgLy8gY2hyb21lIG9ubHk7IG5vdCBhbiBhcnJheSwgc28gY2FuJ3QgdXNlIC5wdXNoLmFwcGx5IGluc3RlYWQgb2YgaXRlcmF0aW5nXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmF2aWdhdG9yLmxhbmd1YWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZvdW5kLnB1c2gobmF2aWdhdG9yLmxhbmd1YWdlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UpIHtcbiAgICAgICAgZm91bmQucHVzaChuYXZpZ2F0b3IudXNlckxhbmd1YWdlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hdmlnYXRvci5sYW5ndWFnZSkge1xuICAgICAgICBmb3VuZC5wdXNoKG5hdmlnYXRvci5sYW5ndWFnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvdW5kLmxlbmd0aCA+IDAgPyBmb3VuZCA6IHVuZGVmaW5lZDtcbiAgfVxufTtcblxudmFyIGh0bWxUYWcgPSB7XG4gIG5hbWU6ICdodG1sVGFnJyxcbiAgbG9va3VwOiBmdW5jdGlvbiBsb29rdXAob3B0aW9ucykge1xuICAgIHZhciBmb3VuZDtcbiAgICB2YXIgaHRtbFRhZyA9IG9wdGlvbnMuaHRtbFRhZyB8fCAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IG51bGwpO1xuXG4gICAgaWYgKGh0bWxUYWcgJiYgdHlwZW9mIGh0bWxUYWcuZ2V0QXR0cmlidXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmb3VuZCA9IGh0bWxUYWcuZ2V0QXR0cmlidXRlKCdsYW5nJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG59O1xuXG52YXIgcGF0aCA9IHtcbiAgbmFtZTogJ3BhdGgnLFxuICBsb29rdXA6IGZ1bmN0aW9uIGxvb2t1cChvcHRpb25zKSB7XG4gICAgdmFyIGZvdW5kO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgbGFuZ3VhZ2UgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUubWF0Y2goL1xcLyhbYS16QS1aLV0qKS9nKTtcblxuICAgICAgaWYgKGxhbmd1YWdlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmxvb2t1cEZyb21QYXRoSW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBsYW5ndWFnZVtvcHRpb25zLmxvb2t1cEZyb21QYXRoSW5kZXhdICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3VuZCA9IGxhbmd1YWdlW29wdGlvbnMubG9va3VwRnJvbVBhdGhJbmRleF0ucmVwbGFjZSgnLycsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3VuZCA9IGxhbmd1YWdlWzBdLnJlcGxhY2UoJy8nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZm91bmQ7XG4gIH1cbn07XG5cbnZhciBzdWJkb21haW4gPSB7XG4gIG5hbWU6ICdzdWJkb21haW4nLFxuICBsb29rdXA6IGZ1bmN0aW9uIGxvb2t1cChvcHRpb25zKSB7XG4gICAgdmFyIGZvdW5kO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgbGFuZ3VhZ2UgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaCgvKD86aHR0cFtzXSpcXDpcXC9cXC8pKiguKj8pXFwuKD89W15cXC9dKlxcLi57Miw1fSkvZ2kpO1xuXG4gICAgICBpZiAobGFuZ3VhZ2UgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubG9va3VwRnJvbVN1YmRvbWFpbkluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGZvdW5kID0gbGFuZ3VhZ2Vbb3B0aW9ucy5sb29rdXBGcm9tU3ViZG9tYWluSW5kZXhdLnJlcGxhY2UoJ2h0dHA6Ly8nLCAnJykucmVwbGFjZSgnaHR0cHM6Ly8nLCAnJykucmVwbGFjZSgnLicsICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3VuZCA9IGxhbmd1YWdlWzBdLnJlcGxhY2UoJ2h0dHA6Ly8nLCAnJykucmVwbGFjZSgnaHR0cHM6Ly8nLCAnJykucmVwbGFjZSgnLicsICcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmb3VuZDtcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdHMoKSB7XG4gIHJldHVybiB7XG4gICAgb3JkZXI6IFsncXVlcnlzdHJpbmcnLCAnY29va2llJywgJ2xvY2FsU3RvcmFnZScsICdzZXNzaW9uU3RvcmFnZScsICduYXZpZ2F0b3InLCAnaHRtbFRhZyddLFxuICAgIGxvb2t1cFF1ZXJ5c3RyaW5nOiAnbG5nJyxcbiAgICBsb29rdXBDb29raWU6ICdpMThuZXh0JyxcbiAgICBsb29rdXBMb2NhbFN0b3JhZ2U6ICdpMThuZXh0TG5nJyxcbiAgICAvLyBjYWNoZSB1c2VyIGxhbmd1YWdlXG4gICAgY2FjaGVzOiBbJ2xvY2FsU3RvcmFnZSddLFxuICAgIGV4Y2x1ZGVDYWNoZUZvcjogWydjaW1vZGUnXSxcbiAgICAvL2Nvb2tpZU1pbnV0ZXM6IDEwLFxuICAgIC8vY29va2llRG9tYWluOiAnbXlEb21haW4nXG4gICAgY2hlY2tXaGl0ZWxpc3Q6IHRydWUsXG4gICAgY2hlY2tGb3JTaW1pbGFySW5XaGl0ZWxpc3Q6IGZhbHNlXG4gIH07XG59XG5cbnZhciBCcm93c2VyID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQnJvd3NlcihzZXJ2aWNlcykge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCcm93c2VyKTtcblxuICAgIHRoaXMudHlwZSA9ICdsYW5ndWFnZURldGVjdG9yJztcbiAgICB0aGlzLmRldGVjdG9ycyA9IHt9O1xuICAgIHRoaXMuaW5pdChzZXJ2aWNlcywgb3B0aW9ucyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQnJvd3NlciwgW3tcbiAgICBrZXk6IFwiaW5pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KHNlcnZpY2VzKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgaTE4bk9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgdGhpcy5zZXJ2aWNlcyA9IHNlcnZpY2VzO1xuICAgICAgdGhpcy5vcHRpb25zID0gZGVmYXVsdHMob3B0aW9ucywgdGhpcy5vcHRpb25zIHx8IHt9LCBnZXREZWZhdWx0cygpKTsgLy8gaWYgY2hlY2tpbmcgZm9yIHNpbWlsYXIsIHVzZXIgbmVlZHMgdG8gY2hlY2sgd2hpdGVsaXN0XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2hlY2tGb3JTaW1pbGFySW5XaGl0ZWxpc3QpIHRoaXMub3B0aW9ucy5jaGVja1doaXRlbGlzdCA9IHRydWU7IC8vIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9va3VwRnJvbVVybEluZGV4KSB0aGlzLm9wdGlvbnMubG9va3VwRnJvbVBhdGhJbmRleCA9IHRoaXMub3B0aW9ucy5sb29rdXBGcm9tVXJsSW5kZXg7XG4gICAgICB0aGlzLmkxOG5PcHRpb25zID0gaTE4bk9wdGlvbnM7XG4gICAgICB0aGlzLmFkZERldGVjdG9yKGNvb2tpZSQxKTtcbiAgICAgIHRoaXMuYWRkRGV0ZWN0b3IocXVlcnlzdHJpbmcpO1xuICAgICAgdGhpcy5hZGREZXRlY3Rvcihsb2NhbFN0b3JhZ2UpO1xuICAgICAgdGhpcy5hZGREZXRlY3RvcihzZXNzaW9uU3RvcmFnZSk7XG4gICAgICB0aGlzLmFkZERldGVjdG9yKG5hdmlnYXRvciQxKTtcbiAgICAgIHRoaXMuYWRkRGV0ZWN0b3IoaHRtbFRhZyk7XG4gICAgICB0aGlzLmFkZERldGVjdG9yKHBhdGgpO1xuICAgICAgdGhpcy5hZGREZXRlY3RvcihzdWJkb21haW4pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGREZXRlY3RvclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGREZXRlY3RvcihkZXRlY3Rvcikge1xuICAgICAgdGhpcy5kZXRlY3RvcnNbZGV0ZWN0b3IubmFtZV0gPSBkZXRlY3RvcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZGV0ZWN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGVjdChkZXRlY3Rpb25PcmRlcikge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCFkZXRlY3Rpb25PcmRlcikgZGV0ZWN0aW9uT3JkZXIgPSB0aGlzLm9wdGlvbnMub3JkZXI7XG4gICAgICB2YXIgZGV0ZWN0ZWQgPSBbXTtcbiAgICAgIGRldGVjdGlvbk9yZGVyLmZvckVhY2goZnVuY3Rpb24gKGRldGVjdG9yTmFtZSkge1xuICAgICAgICBpZiAoX3RoaXMuZGV0ZWN0b3JzW2RldGVjdG9yTmFtZV0pIHtcbiAgICAgICAgICB2YXIgbG9va3VwID0gX3RoaXMuZGV0ZWN0b3JzW2RldGVjdG9yTmFtZV0ubG9va3VwKF90aGlzLm9wdGlvbnMpO1xuXG4gICAgICAgICAgaWYgKGxvb2t1cCAmJiB0eXBlb2YgbG9va3VwID09PSAnc3RyaW5nJykgbG9va3VwID0gW2xvb2t1cF07XG4gICAgICAgICAgaWYgKGxvb2t1cCkgZGV0ZWN0ZWQgPSBkZXRlY3RlZC5jb25jYXQobG9va3VwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB2YXIgZm91bmQ7XG4gICAgICBkZXRlY3RlZC5mb3JFYWNoKGZ1bmN0aW9uIChsbmcpIHtcbiAgICAgICAgaWYgKGZvdW5kKSByZXR1cm47XG5cbiAgICAgICAgdmFyIGNsZWFuZWRMbmcgPSBfdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmZvcm1hdExhbmd1YWdlQ29kZShsbmcpO1xuXG4gICAgICAgIGlmICghX3RoaXMub3B0aW9ucy5jaGVja1doaXRlbGlzdCB8fCBfdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmlzV2hpdGVsaXN0ZWQoY2xlYW5lZExuZykpIGZvdW5kID0gY2xlYW5lZExuZztcblxuICAgICAgICBpZiAoIWZvdW5kICYmIF90aGlzLm9wdGlvbnMuY2hlY2tGb3JTaW1pbGFySW5XaGl0ZWxpc3QpIHtcbiAgICAgICAgICBmb3VuZCA9IF90aGlzLmdldFNpbWlsYXJJbldoaXRlbGlzdChjbGVhbmVkTG5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgdmFyIGZhbGxiYWNrcyA9IHRoaXMuaTE4bk9wdGlvbnMuZmFsbGJhY2tMbmc7XG4gICAgICAgIGlmICh0eXBlb2YgZmFsbGJhY2tzID09PSAnc3RyaW5nJykgZmFsbGJhY2tzID0gW2ZhbGxiYWNrc107XG4gICAgICAgIGlmICghZmFsbGJhY2tzKSBmYWxsYmFja3MgPSBbXTtcblxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShmYWxsYmFja3MpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxsYmFja3NbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxsYmFja3NbMF0gfHwgZmFsbGJhY2tzW1wiZGVmYXVsdFwiXSAmJiBmYWxsYmFja3NbXCJkZWZhdWx0XCJdWzBdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2FjaGVVc2VyTGFuZ3VhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FjaGVVc2VyTGFuZ3VhZ2UobG5nLCBjYWNoZXMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoIWNhY2hlcykgY2FjaGVzID0gdGhpcy5vcHRpb25zLmNhY2hlcztcbiAgICAgIGlmICghY2FjaGVzKSByZXR1cm47XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV4Y2x1ZGVDYWNoZUZvciAmJiB0aGlzLm9wdGlvbnMuZXhjbHVkZUNhY2hlRm9yLmluZGV4T2YobG5nKSA+IC0xKSByZXR1cm47XG4gICAgICBjYWNoZXMuZm9yRWFjaChmdW5jdGlvbiAoY2FjaGVOYW1lKSB7XG4gICAgICAgIGlmIChfdGhpczIuZGV0ZWN0b3JzW2NhY2hlTmFtZV0pIF90aGlzMi5kZXRlY3RvcnNbY2FjaGVOYW1lXS5jYWNoZVVzZXJMYW5ndWFnZShsbmcsIF90aGlzMi5vcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRTaW1pbGFySW5XaGl0ZWxpc3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2ltaWxhckluV2hpdGVsaXN0KGNsZWFuZWRMbmcpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMuaTE4bk9wdGlvbnMud2hpdGVsaXN0KSByZXR1cm47XG5cbiAgICAgIGlmIChjbGVhbmVkTG5nLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgLy8gaS5lLiBlcy1NWCBzaG91bGQgY2hlY2sgaWYgZXMgaXMgaW4gd2hpdGVsaXN0XG4gICAgICAgIHZhciBwcmVmaXggPSBjbGVhbmVkTG5nLnNwbGl0KCctJylbMF07XG4gICAgICAgIHZhciBjbGVhbmVkUHJlZml4ID0gdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmZvcm1hdExhbmd1YWdlQ29kZShwcmVmaXgpO1xuICAgICAgICBpZiAodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmlzV2hpdGVsaXN0ZWQoY2xlYW5lZFByZWZpeCkpIHJldHVybiBjbGVhbmVkUHJlZml4OyAvLyBpZiByZWFjaGVkIGhlcmUsIG5vdGhpbmcgZm91bmQuIGNvbnRpbnVlIHRvIHNlYXJjaCBmb3Igc2ltaWxhciB1c2luZyBvbmx5IHByZWZpeFxuXG4gICAgICAgIGNsZWFuZWRMbmcgPSBjbGVhbmVkUHJlZml4O1xuICAgICAgfSAvLyBpLmUuICdwdCcgc2hvdWxkIHJldHVybiAncHQtQlInLiBJZiBtdWx0aXBsZSBpbiB3aGl0ZWxpc3Qgd2l0aCAncHQtJywgdGhlbiB1c2UgZmlyc3Qgb25lIGluIHdoaXRlbGlzdFxuXG5cbiAgICAgIHZhciBzaW1pbGFyID0gdGhpcy5pMThuT3B0aW9ucy53aGl0ZWxpc3QuZmluZChmdW5jdGlvbiAod2hpdGVsaXN0TG5nKSB7XG4gICAgICAgIHZhciBjbGVhbmVkV2hpdGVsaXN0TG5nID0gX3RoaXMzLnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHdoaXRlbGlzdExuZyk7XG5cbiAgICAgICAgaWYgKGNsZWFuZWRXaGl0ZWxpc3RMbmcuc3RhcnRzV2l0aChjbGVhbmVkTG5nKSkgcmV0dXJuIGNsZWFuZWRXaGl0ZWxpc3RMbmc7XG4gICAgICB9KTtcbiAgICAgIGlmIChzaW1pbGFyKSByZXR1cm4gc2ltaWxhcjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQnJvd3Nlcjtcbn0oKTtcblxuQnJvd3Nlci50eXBlID0gJ2xhbmd1YWdlRGV0ZWN0b3InO1xuXG5leHBvcnQgZGVmYXVsdCBCcm93c2VyO1xuIiwiaW1wb3J0IF90eXBlb2YgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mJztcbmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZCc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9nZXRQcm90b3R5cGVPZiBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZic7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyc7XG5cbnZhciBjb25zb2xlTG9nZ2VyID0ge1xuICB0eXBlOiAnbG9nZ2VyJyxcbiAgbG9nOiBmdW5jdGlvbiBsb2coYXJncykge1xuICAgIHRoaXMub3V0cHV0KCdsb2cnLCBhcmdzKTtcbiAgfSxcbiAgd2FybjogZnVuY3Rpb24gd2FybihhcmdzKSB7XG4gICAgdGhpcy5vdXRwdXQoJ3dhcm4nLCBhcmdzKTtcbiAgfSxcbiAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGFyZ3MpIHtcbiAgICB0aGlzLm91dHB1dCgnZXJyb3InLCBhcmdzKTtcbiAgfSxcbiAgb3V0cHV0OiBmdW5jdGlvbiBvdXRwdXQodHlwZSwgYXJncykge1xuICAgIGlmIChjb25zb2xlICYmIGNvbnNvbGVbdHlwZV0pIGNvbnNvbGVbdHlwZV0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn07XG5cbnZhciBMb2dnZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIExvZ2dlcihjb25jcmV0ZUxvZ2dlcikge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMb2dnZXIpO1xuXG4gICAgdGhpcy5pbml0KGNvbmNyZXRlTG9nZ2VyLCBvcHRpb25zKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhMb2dnZXIsIFt7XG4gICAga2V5OiBcImluaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdChjb25jcmV0ZUxvZ2dlcikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgdGhpcy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCAnaTE4bmV4dDonO1xuICAgICAgdGhpcy5sb2dnZXIgPSBjb25jcmV0ZUxvZ2dlciB8fCBjb25zb2xlTG9nZ2VyO1xuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIHRoaXMuZGVidWcgPSBvcHRpb25zLmRlYnVnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXREZWJ1Z1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWJ1Zyhib29sKSB7XG4gICAgICB0aGlzLmRlYnVnID0gYm9vbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9nXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvZygpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICdsb2cnLCAnJywgdHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIndhcm5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gd2FybigpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmZvcndhcmQoYXJncywgJ3dhcm4nLCAnJywgdHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVycm9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZm9yd2FyZChhcmdzLCAnZXJyb3InLCAnJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRlcHJlY2F0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXByZWNhdGUoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5mb3J3YXJkKGFyZ3MsICd3YXJuJywgJ1dBUk5JTkcgREVQUkVDQVRFRDogJywgdHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImZvcndhcmRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yd2FyZChhcmdzLCBsdmwsIHByZWZpeCwgZGVidWdPbmx5KSB7XG4gICAgICBpZiAoZGVidWdPbmx5ICYmICF0aGlzLmRlYnVnKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmICh0eXBlb2YgYXJnc1swXSA9PT0gJ3N0cmluZycpIGFyZ3NbMF0gPSBcIlwiLmNvbmNhdChwcmVmaXgpLmNvbmNhdCh0aGlzLnByZWZpeCwgXCIgXCIpLmNvbmNhdChhcmdzWzBdKTtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2dlcltsdmxdKGFyZ3MpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKG1vZHVsZU5hbWUpIHtcbiAgICAgIHJldHVybiBuZXcgTG9nZ2VyKHRoaXMubG9nZ2VyLCBfb2JqZWN0U3ByZWFkKHt9LCB7XG4gICAgICAgIHByZWZpeDogXCJcIi5jb25jYXQodGhpcy5wcmVmaXgsIFwiOlwiKS5jb25jYXQobW9kdWxlTmFtZSwgXCI6XCIpXG4gICAgICB9LCB0aGlzLm9wdGlvbnMpKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTG9nZ2VyO1xufSgpO1xuXG52YXIgYmFzZUxvZ2dlciA9IG5ldyBMb2dnZXIoKTtcblxudmFyIEV2ZW50RW1pdHRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEVtaXR0ZXIpO1xuXG4gICAgdGhpcy5vYnNlcnZlcnMgPSB7fTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhFdmVudEVtaXR0ZXIsIFt7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50cywgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIF90aGlzLm9ic2VydmVyc1tldmVudF0gPSBfdGhpcy5vYnNlcnZlcnNbZXZlbnRdIHx8IFtdO1xuXG4gICAgICAgIF90aGlzLm9ic2VydmVyc1tldmVudF0ucHVzaChsaXN0ZW5lcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJvZmZcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgaWYgKCF0aGlzLm9ic2VydmVyc1tldmVudF0pIHJldHVybjtcblxuICAgICAgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgICBkZWxldGUgdGhpcy5vYnNlcnZlcnNbZXZlbnRdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSA9IHRoaXMub2JzZXJ2ZXJzW2V2ZW50XS5maWx0ZXIoZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgcmV0dXJuIGwgIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImVtaXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdChldmVudCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSkge1xuICAgICAgICB2YXIgY2xvbmVkID0gW10uY29uY2F0KHRoaXMub2JzZXJ2ZXJzW2V2ZW50XSk7XG4gICAgICAgIGNsb25lZC5mb3JFYWNoKGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICAgIG9ic2VydmVyLmFwcGx5KHZvaWQgMCwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vYnNlcnZlcnNbJyonXSkge1xuICAgICAgICB2YXIgX2Nsb25lZCA9IFtdLmNvbmNhdCh0aGlzLm9ic2VydmVyc1snKiddKTtcblxuICAgICAgICBfY2xvbmVkLmZvckVhY2goZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEV2ZW50RW1pdHRlcjtcbn0oKTtcblxuZnVuY3Rpb24gZGVmZXIoKSB7XG4gIHZhciByZXM7XG4gIHZhciByZWo7XG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlcyA9IHJlc29sdmU7XG4gICAgcmVqID0gcmVqZWN0O1xuICB9KTtcbiAgcHJvbWlzZS5yZXNvbHZlID0gcmVzO1xuICBwcm9taXNlLnJlamVjdCA9IHJlajtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBtYWtlU3RyaW5nKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAnJztcbiAgcmV0dXJuICcnICsgb2JqZWN0O1xufVxuZnVuY3Rpb24gY29weShhLCBzLCB0KSB7XG4gIGEuZm9yRWFjaChmdW5jdGlvbiAobSkge1xuICAgIGlmIChzW21dKSB0W21dID0gc1ttXTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldExhc3RPZlBhdGgob2JqZWN0LCBwYXRoLCBFbXB0eSkge1xuICBmdW5jdGlvbiBjbGVhbktleShrZXkpIHtcbiAgICByZXR1cm4ga2V5ICYmIGtleS5pbmRleE9mKCcjIyMnKSA+IC0xID8ga2V5LnJlcGxhY2UoLyMjIy9nLCAnLicpIDoga2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuTm90VHJhdmVyc2VEZWVwZXIoKSB7XG4gICAgcmV0dXJuICFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCA9PT0gJ3N0cmluZyc7XG4gIH1cblxuICB2YXIgc3RhY2sgPSB0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycgPyBbXS5jb25jYXQocGF0aCkgOiBwYXRoLnNwbGl0KCcuJyk7XG5cbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoY2FuTm90VHJhdmVyc2VEZWVwZXIoKSkgcmV0dXJuIHt9O1xuICAgIHZhciBrZXkgPSBjbGVhbktleShzdGFjay5zaGlmdCgpKTtcbiAgICBpZiAoIW9iamVjdFtrZXldICYmIEVtcHR5KSBvYmplY3Rba2V5XSA9IG5ldyBFbXB0eSgpO1xuICAgIG9iamVjdCA9IG9iamVjdFtrZXldO1xuICB9XG5cbiAgaWYgKGNhbk5vdFRyYXZlcnNlRGVlcGVyKCkpIHJldHVybiB7fTtcbiAgcmV0dXJuIHtcbiAgICBvYmo6IG9iamVjdCxcbiAgICBrOiBjbGVhbktleShzdGFjay5zaGlmdCgpKVxuICB9O1xufVxuXG5mdW5jdGlvbiBzZXRQYXRoKG9iamVjdCwgcGF0aCwgbmV3VmFsdWUpIHtcbiAgdmFyIF9nZXRMYXN0T2ZQYXRoID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgsIE9iamVjdCksXG4gICAgICBvYmogPSBfZ2V0TGFzdE9mUGF0aC5vYmosXG4gICAgICBrID0gX2dldExhc3RPZlBhdGguaztcblxuICBvYmpba10gPSBuZXdWYWx1ZTtcbn1cbmZ1bmN0aW9uIHB1c2hQYXRoKG9iamVjdCwgcGF0aCwgbmV3VmFsdWUsIGNvbmNhdCkge1xuICB2YXIgX2dldExhc3RPZlBhdGgyID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgsIE9iamVjdCksXG4gICAgICBvYmogPSBfZ2V0TGFzdE9mUGF0aDIub2JqLFxuICAgICAgayA9IF9nZXRMYXN0T2ZQYXRoMi5rO1xuXG4gIG9ialtrXSA9IG9ialtrXSB8fCBbXTtcbiAgaWYgKGNvbmNhdCkgb2JqW2tdID0gb2JqW2tdLmNvbmNhdChuZXdWYWx1ZSk7XG4gIGlmICghY29uY2F0KSBvYmpba10ucHVzaChuZXdWYWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRQYXRoKG9iamVjdCwgcGF0aCkge1xuICB2YXIgX2dldExhc3RPZlBhdGgzID0gZ2V0TGFzdE9mUGF0aChvYmplY3QsIHBhdGgpLFxuICAgICAgb2JqID0gX2dldExhc3RPZlBhdGgzLm9iaixcbiAgICAgIGsgPSBfZ2V0TGFzdE9mUGF0aDMuaztcblxuICBpZiAoIW9iaikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgcmV0dXJuIG9ialtrXTtcbn1cbmZ1bmN0aW9uIGdldFBhdGhXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRQYXRoKGRhdGEsIGtleSk7XG5cbiAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gZ2V0UGF0aChkZWZhdWx0RGF0YSwga2V5KTtcbn1cbmZ1bmN0aW9uIGRlZXBFeHRlbmQodGFyZ2V0LCBzb3VyY2UsIG92ZXJ3cml0ZSkge1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgIGlmIChwcm9wICE9PSAnX19wcm90b19fJyAmJiBwcm9wICE9PSAnY29uc3RydWN0b3InKSB7XG4gICAgICBpZiAocHJvcCBpbiB0YXJnZXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRbcHJvcF0gPT09ICdzdHJpbmcnIHx8IHRhcmdldFtwcm9wXSBpbnN0YW5jZW9mIFN0cmluZyB8fCB0eXBlb2Ygc291cmNlW3Byb3BdID09PSAnc3RyaW5nJyB8fCBzb3VyY2VbcHJvcF0gaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgICAgICBpZiAob3ZlcndyaXRlKSB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVlcEV4dGVuZCh0YXJnZXRbcHJvcF0sIHNvdXJjZVtwcm9wXSwgb3ZlcndyaXRlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiByZWdleEVzY2FwZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFwtXFxbXFxdXFwvXFx7XFx9XFwoXFwpXFwqXFwrXFw/XFwuXFxcXFxcXlxcJFxcfF0vZywgJ1xcXFwkJicpO1xufVxudmFyIF9lbnRpdHlNYXAgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5OycsXG4gICcvJzogJyYjeDJGOydcbn07XG5mdW5jdGlvbiBlc2NhcGUoZGF0YSkge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRhdGEucmVwbGFjZSgvWyY8PlwiJ1xcL10vZywgZnVuY3Rpb24gKHMpIHtcbiAgICAgIHJldHVybiBfZW50aXR5TWFwW3NdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG52YXIgaXNJRTEwID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCAmJiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdNU0lFJykgPiAtMTtcblxudmFyIFJlc291cmNlU3RvcmUgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoUmVzb3VyY2VTdG9yZSwgX0V2ZW50RW1pdHRlcik7XG5cbiAgZnVuY3Rpb24gUmVzb3VyY2VTdG9yZShkYXRhKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHtcbiAgICAgIG5zOiBbJ3RyYW5zbGF0aW9uJ10sXG4gICAgICBkZWZhdWx0TlM6ICd0cmFuc2xhdGlvbidcbiAgICB9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc291cmNlU3RvcmUpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoUmVzb3VyY2VTdG9yZSkuY2FsbCh0aGlzKSk7XG5cbiAgICBpZiAoaXNJRTEwKSB7XG4gICAgICBFdmVudEVtaXR0ZXIuY2FsbChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgfVxuXG4gICAgX3RoaXMuZGF0YSA9IGRhdGEgfHwge307XG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICBpZiAoX3RoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgX3RoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPSAnLic7XG4gICAgfVxuXG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJlc291cmNlU3RvcmUsIFt7XG4gICAga2V5OiBcImFkZE5hbWVzcGFjZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTmFtZXNwYWNlcyhucykge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG5zKSA8IDApIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm5zLnB1c2gobnMpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVOYW1lc3BhY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZU5hbWVzcGFjZXMobnMpIHtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMub3B0aW9ucy5ucy5pbmRleE9mKG5zKTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFJlc291cmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlc291cmNlKGxuZywgbnMsIGtleSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgICAgdmFyIGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgICB2YXIgcGF0aCA9IFtsbmcsIG5zXTtcbiAgICAgIGlmIChrZXkgJiYgdHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHBhdGggPSBwYXRoLmNvbmNhdChrZXkpO1xuICAgICAgaWYgKGtleSAmJiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykgcGF0aCA9IHBhdGguY29uY2F0KGtleVNlcGFyYXRvciA/IGtleS5zcGxpdChrZXlTZXBhcmF0b3IpIDoga2V5KTtcblxuICAgICAgaWYgKGxuZy5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRQYXRoKHRoaXMuZGF0YSwgcGF0aCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImFkZFJlc291cmNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJlc291cmNlKGxuZywgbnMsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7XG4gICAgICAgIHNpbGVudDogZmFsc2VcbiAgICAgIH07XG4gICAgICB2YXIga2V5U2VwYXJhdG9yID0gdGhpcy5vcHRpb25zLmtleVNlcGFyYXRvcjtcbiAgICAgIGlmIChrZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkga2V5U2VwYXJhdG9yID0gJy4nO1xuICAgICAgdmFyIHBhdGggPSBbbG5nLCBuc107XG4gICAgICBpZiAoa2V5KSBwYXRoID0gcGF0aC5jb25jYXQoa2V5U2VwYXJhdG9yID8ga2V5LnNwbGl0KGtleVNlcGFyYXRvcikgOiBrZXkpO1xuXG4gICAgICBpZiAobG5nLmluZGV4T2YoJy4nKSA+IC0xKSB7XG4gICAgICAgIHBhdGggPSBsbmcuc3BsaXQoJy4nKTtcbiAgICAgICAgdmFsdWUgPSBucztcbiAgICAgICAgbnMgPSBwYXRoWzFdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmFkZE5hbWVzcGFjZXMobnMpO1xuICAgICAgc2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgsIHZhbHVlKTtcbiAgICAgIGlmICghb3B0aW9ucy5zaWxlbnQpIHRoaXMuZW1pdCgnYWRkZWQnLCBsbmcsIG5zLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUmVzb3VyY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJlc291cmNlcyhsbmcsIG5zLCByZXNvdXJjZXMpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7XG4gICAgICAgIHNpbGVudDogZmFsc2VcbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIG0gaW4gcmVzb3VyY2VzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzb3VyY2VzW21dID09PSAnc3RyaW5nJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHJlc291cmNlc1ttXSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHRoaXMuYWRkUmVzb3VyY2UobG5nLCBucywgbSwgcmVzb3VyY2VzW21dLCB7XG4gICAgICAgICAgc2lsZW50OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW9wdGlvbnMuc2lsZW50KSB0aGlzLmVtaXQoJ2FkZGVkJywgbG5nLCBucywgcmVzb3VyY2VzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkUmVzb3VyY2VCdW5kbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBucywgcmVzb3VyY2VzLCBkZWVwLCBvdmVyd3JpdGUpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB7XG4gICAgICAgIHNpbGVudDogZmFsc2VcbiAgICAgIH07XG4gICAgICB2YXIgcGF0aCA9IFtsbmcsIG5zXTtcblxuICAgICAgaWYgKGxuZy5pbmRleE9mKCcuJykgPiAtMSkge1xuICAgICAgICBwYXRoID0gbG5nLnNwbGl0KCcuJyk7XG4gICAgICAgIGRlZXAgPSByZXNvdXJjZXM7XG4gICAgICAgIHJlc291cmNlcyA9IG5zO1xuICAgICAgICBucyA9IHBhdGhbMV07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWRkTmFtZXNwYWNlcyhucyk7XG4gICAgICB2YXIgcGFjayA9IGdldFBhdGgodGhpcy5kYXRhLCBwYXRoKSB8fCB7fTtcblxuICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgZGVlcEV4dGVuZChwYWNrLCByZXNvdXJjZXMsIG92ZXJ3cml0ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWNrID0gX29iamVjdFNwcmVhZCh7fSwgcGFjaywgcmVzb3VyY2VzKTtcbiAgICAgIH1cblxuICAgICAgc2V0UGF0aCh0aGlzLmRhdGEsIHBhdGgsIHBhY2spO1xuICAgICAgaWYgKCFvcHRpb25zLnNpbGVudCkgdGhpcy5lbWl0KCdhZGRlZCcsIGxuZywgbnMsIHJlc291cmNlcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVJlc291cmNlQnVuZGxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVJlc291cmNlQnVuZGxlKGxuZywgbnMpIHtcbiAgICAgIGlmICh0aGlzLmhhc1Jlc291cmNlQnVuZGxlKGxuZywgbnMpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRhdGFbbG5nXVtuc107XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVtb3ZlTmFtZXNwYWNlcyhucyk7XG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZWQnLCBsbmcsIG5zKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaGFzUmVzb3VyY2VCdW5kbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucykgIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UmVzb3VyY2VCdW5kbGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzb3VyY2VCdW5kbGUobG5nLCBucykge1xuICAgICAgaWYgKCFucykgbnMgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdE5TO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5QVBJID09PSAndjEnKSByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwge30sIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucykpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVzb3VyY2UobG5nLCBucyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldERhdGFCeUxhbmd1YWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGFCeUxhbmd1YWdlKGxuZykge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YVtsbmddO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUmVzb3VyY2VTdG9yZTtcbn0oRXZlbnRFbWl0dGVyKTtcblxudmFyIHBvc3RQcm9jZXNzb3IgPSB7XG4gIHByb2Nlc3NvcnM6IHt9LFxuICBhZGRQb3N0UHJvY2Vzc29yOiBmdW5jdGlvbiBhZGRQb3N0UHJvY2Vzc29yKG1vZHVsZSkge1xuICAgIHRoaXMucHJvY2Vzc29yc1ttb2R1bGUubmFtZV0gPSBtb2R1bGU7XG4gIH0sXG4gIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKHByb2Nlc3NvcnMsIHZhbHVlLCBrZXksIG9wdGlvbnMsIHRyYW5zbGF0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgcHJvY2Vzc29ycy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9jZXNzb3IpIHtcbiAgICAgIGlmIChfdGhpcy5wcm9jZXNzb3JzW3Byb2Nlc3Nvcl0pIHZhbHVlID0gX3RoaXMucHJvY2Vzc29yc1twcm9jZXNzb3JdLnByb2Nlc3ModmFsdWUsIGtleSwgb3B0aW9ucywgdHJhbnNsYXRvcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59O1xuXG52YXIgY2hlY2tlZExvYWRlZEZvciA9IHt9O1xuXG52YXIgVHJhbnNsYXRvciA9IGZ1bmN0aW9uIChfRXZlbnRFbWl0dGVyKSB7XG4gIF9pbmhlcml0cyhUcmFuc2xhdG9yLCBfRXZlbnRFbWl0dGVyKTtcblxuICBmdW5jdGlvbiBUcmFuc2xhdG9yKHNlcnZpY2VzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRyYW5zbGF0b3IpO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoVHJhbnNsYXRvcikuY2FsbCh0aGlzKSk7XG5cbiAgICBpZiAoaXNJRTEwKSB7XG4gICAgICBFdmVudEVtaXR0ZXIuY2FsbChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgfVxuXG4gICAgY29weShbJ3Jlc291cmNlU3RvcmUnLCAnbGFuZ3VhZ2VVdGlscycsICdwbHVyYWxSZXNvbHZlcicsICdpbnRlcnBvbGF0b3InLCAnYmFja2VuZENvbm5lY3RvcicsICdpMThuRm9ybWF0JywgJ3V0aWxzJ10sIHNlcnZpY2VzLCBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICBpZiAoX3RoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgX3RoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3IgPSAnLic7XG4gICAgfVxuXG4gICAgX3RoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ3RyYW5zbGF0b3InKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVHJhbnNsYXRvciwgW3tcbiAgICBrZXk6IFwiY2hhbmdlTGFuZ3VhZ2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlTGFuZ3VhZ2UobG5nKSB7XG4gICAgICBpZiAobG5nKSB0aGlzLmxhbmd1YWdlID0gbG5nO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJleGlzdHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhpc3RzKGtleSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHtcbiAgICAgICAgaW50ZXJwb2xhdGlvbjoge31cbiAgICAgIH07XG4gICAgICB2YXIgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5LCBvcHRpb25zKTtcbiAgICAgIHJldHVybiByZXNvbHZlZCAmJiByZXNvbHZlZC5yZXMgIT09IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXh0cmFjdEZyb21LZXlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXh0cmFjdEZyb21LZXkoa2V5LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbnNTZXBhcmF0b3IgPSBvcHRpb25zLm5zU2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zU2VwYXJhdG9yIDogdGhpcy5vcHRpb25zLm5zU2VwYXJhdG9yO1xuICAgICAgaWYgKG5zU2VwYXJhdG9yID09PSB1bmRlZmluZWQpIG5zU2VwYXJhdG9yID0gJzonO1xuICAgICAgdmFyIGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG4gICAgICB2YXIgbmFtZXNwYWNlcyA9IG9wdGlvbnMubnMgfHwgdGhpcy5vcHRpb25zLmRlZmF1bHROUztcblxuICAgICAgaWYgKG5zU2VwYXJhdG9yICYmIGtleS5pbmRleE9mKG5zU2VwYXJhdG9yKSA+IC0xKSB7XG4gICAgICAgIHZhciBtID0ga2V5Lm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO1xuXG4gICAgICAgIGlmIChtICYmIG0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIG5hbWVzcGFjZXM6IG5hbWVzcGFjZXNcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcnRzID0ga2V5LnNwbGl0KG5zU2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKG5zU2VwYXJhdG9yICE9PSBrZXlTZXBhcmF0b3IgfHwgbnNTZXBhcmF0b3IgPT09IGtleVNlcGFyYXRvciAmJiB0aGlzLm9wdGlvbnMubnMuaW5kZXhPZihwYXJ0c1swXSkgPiAtMSkgbmFtZXNwYWNlcyA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgIGtleSA9IHBhcnRzLmpvaW4oa2V5U2VwYXJhdG9yKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJykgbmFtZXNwYWNlcyA9IFtuYW1lc3BhY2VzXTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBuYW1lc3BhY2VzOiBuYW1lc3BhY2VzXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0cmFuc2xhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdHJhbnNsYXRlKGtleXMsIG9wdGlvbnMsIGxhc3RLZXkpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICBpZiAoX3R5cGVvZihvcHRpb25zKSAhPT0gJ29iamVjdCcgJiYgdGhpcy5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKSB7XG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMub3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXIoYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gICAgICBpZiAoa2V5cyA9PT0gdW5kZWZpbmVkIHx8IGtleXMgPT09IG51bGwpIHJldHVybiAnJztcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShrZXlzKSkga2V5cyA9IFtTdHJpbmcoa2V5cyldO1xuICAgICAgdmFyIGtleVNlcGFyYXRvciA9IG9wdGlvbnMua2V5U2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmtleVNlcGFyYXRvciA6IHRoaXMub3B0aW9ucy5rZXlTZXBhcmF0b3I7XG5cbiAgICAgIHZhciBfdGhpcyRleHRyYWN0RnJvbUtleSA9IHRoaXMuZXh0cmFjdEZyb21LZXkoa2V5c1trZXlzLmxlbmd0aCAtIDFdLCBvcHRpb25zKSxcbiAgICAgICAgICBrZXkgPSBfdGhpcyRleHRyYWN0RnJvbUtleS5rZXksXG4gICAgICAgICAgbmFtZXNwYWNlcyA9IF90aGlzJGV4dHJhY3RGcm9tS2V5Lm5hbWVzcGFjZXM7XG5cbiAgICAgIHZhciBuYW1lc3BhY2UgPSBuYW1lc3BhY2VzW25hbWVzcGFjZXMubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgbG5nID0gb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZTtcbiAgICAgIHZhciBhcHBlbmROYW1lc3BhY2VUb0NJTW9kZSA9IG9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGUgfHwgdGhpcy5vcHRpb25zLmFwcGVuZE5hbWVzcGFjZVRvQ0lNb2RlO1xuXG4gICAgICBpZiAobG5nICYmIGxuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykge1xuICAgICAgICBpZiAoYXBwZW5kTmFtZXNwYWNlVG9DSU1vZGUpIHtcbiAgICAgICAgICB2YXIgbnNTZXBhcmF0b3IgPSBvcHRpb25zLm5zU2VwYXJhdG9yIHx8IHRoaXMub3B0aW9ucy5uc1NlcGFyYXRvcjtcbiAgICAgICAgICByZXR1cm4gbmFtZXNwYWNlICsgbnNTZXBhcmF0b3IgKyBrZXk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzb2x2ZWQgPSB0aGlzLnJlc29sdmUoa2V5cywgb3B0aW9ucyk7XG4gICAgICB2YXIgcmVzID0gcmVzb2x2ZWQgJiYgcmVzb2x2ZWQucmVzO1xuICAgICAgdmFyIHJlc1VzZWRLZXkgPSByZXNvbHZlZCAmJiByZXNvbHZlZC51c2VkS2V5IHx8IGtleTtcbiAgICAgIHZhciByZXNFeGFjdFVzZWRLZXkgPSByZXNvbHZlZCAmJiByZXNvbHZlZC5leGFjdFVzZWRLZXkgfHwga2V5O1xuICAgICAgdmFyIHJlc1R5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHJlcyk7XG4gICAgICB2YXIgbm9PYmplY3QgPSBbJ1tvYmplY3QgTnVtYmVyXScsICdbb2JqZWN0IEZ1bmN0aW9uXScsICdbb2JqZWN0IFJlZ0V4cF0nXTtcbiAgICAgIHZhciBqb2luQXJyYXlzID0gb3B0aW9ucy5qb2luQXJyYXlzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmpvaW5BcnJheXMgOiB0aGlzLm9wdGlvbnMuam9pbkFycmF5cztcbiAgICAgIHZhciBoYW5kbGVBc09iamVjdEluSTE4bkZvcm1hdCA9ICF0aGlzLmkxOG5Gb3JtYXQgfHwgdGhpcy5pMThuRm9ybWF0LmhhbmRsZUFzT2JqZWN0O1xuICAgICAgdmFyIGhhbmRsZUFzT2JqZWN0ID0gdHlwZW9mIHJlcyAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHJlcyAhPT0gJ2Jvb2xlYW4nICYmIHR5cGVvZiByZXMgIT09ICdudW1iZXInO1xuXG4gICAgICBpZiAoaGFuZGxlQXNPYmplY3RJbkkxOG5Gb3JtYXQgJiYgcmVzICYmIGhhbmRsZUFzT2JqZWN0ICYmIG5vT2JqZWN0LmluZGV4T2YocmVzVHlwZSkgPCAwICYmICEodHlwZW9mIGpvaW5BcnJheXMgPT09ICdzdHJpbmcnICYmIHJlc1R5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy5yZXR1cm5PYmplY3RzICYmICF0aGlzLm9wdGlvbnMucmV0dXJuT2JqZWN0cykge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2FjY2Vzc2luZyBhbiBvYmplY3QgLSBidXQgcmV0dXJuT2JqZWN0cyBvcHRpb25zIGlzIG5vdCBlbmFibGVkIScpO1xuICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmV0dXJuZWRPYmplY3RIYW5kbGVyID8gdGhpcy5vcHRpb25zLnJldHVybmVkT2JqZWN0SGFuZGxlcihyZXNVc2VkS2V5LCByZXMsIG9wdGlvbnMpIDogXCJrZXkgJ1wiLmNvbmNhdChrZXksIFwiIChcIikuY29uY2F0KHRoaXMubGFuZ3VhZ2UsIFwiKScgcmV0dXJuZWQgYW4gb2JqZWN0IGluc3RlYWQgb2Ygc3RyaW5nLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXlTZXBhcmF0b3IpIHtcbiAgICAgICAgICB2YXIgcmVzVHlwZUlzQXJyYXkgPSByZXNUeXBlID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgICAgICAgIHZhciBjb3B5JCQxID0gcmVzVHlwZUlzQXJyYXkgPyBbXSA6IHt9O1xuICAgICAgICAgIHZhciBuZXdLZXlUb1VzZSA9IHJlc1R5cGVJc0FycmF5ID8gcmVzRXhhY3RVc2VkS2V5IDogcmVzVXNlZEtleTtcblxuICAgICAgICAgIGZvciAodmFyIG0gaW4gcmVzKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJlcywgbSkpIHtcbiAgICAgICAgICAgICAgdmFyIGRlZXBLZXkgPSBcIlwiLmNvbmNhdChuZXdLZXlUb1VzZSkuY29uY2F0KGtleVNlcGFyYXRvcikuY29uY2F0KG0pO1xuICAgICAgICAgICAgICBjb3B5JCQxW21dID0gdGhpcy50cmFuc2xhdGUoZGVlcEtleSwgX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucywge1xuICAgICAgICAgICAgICAgIGpvaW5BcnJheXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG5zOiBuYW1lc3BhY2VzXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgaWYgKGNvcHkkJDFbbV0gPT09IGRlZXBLZXkpIGNvcHkkJDFbbV0gPSByZXNbbV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVzID0gY29weSQkMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChoYW5kbGVBc09iamVjdEluSTE4bkZvcm1hdCAmJiB0eXBlb2Ygam9pbkFycmF5cyA9PT0gJ3N0cmluZycgJiYgcmVzVHlwZSA9PT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgICByZXMgPSByZXMuam9pbihqb2luQXJyYXlzKTtcbiAgICAgICAgaWYgKHJlcykgcmVzID0gdGhpcy5leHRlbmRUcmFuc2xhdGlvbihyZXMsIGtleXMsIG9wdGlvbnMsIGxhc3RLZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHVzZWREZWZhdWx0ID0gZmFsc2U7XG4gICAgICAgIHZhciB1c2VkS2V5ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWRMb29rdXAocmVzKSAmJiBvcHRpb25zLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdXNlZERlZmF1bHQgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHN1ZmZpeCA9IHRoaXMucGx1cmFsUmVzb2x2ZXIuZ2V0U3VmZml4KGxuZywgb3B0aW9ucy5jb3VudCk7XG4gICAgICAgICAgICByZXMgPSBvcHRpb25zW1wiZGVmYXVsdFZhbHVlXCIuY29uY2F0KHN1ZmZpeCldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghcmVzKSByZXMgPSBvcHRpb25zLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkTG9va3VwKHJlcykpIHtcbiAgICAgICAgICB1c2VkS2V5ID0gdHJ1ZTtcbiAgICAgICAgICByZXMgPSBrZXk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdXBkYXRlTWlzc2luZyA9IG9wdGlvbnMuZGVmYXVsdFZhbHVlICYmIG9wdGlvbnMuZGVmYXVsdFZhbHVlICE9PSByZXMgJiYgdGhpcy5vcHRpb25zLnVwZGF0ZU1pc3Npbmc7XG5cbiAgICAgICAgaWYgKHVzZWRLZXkgfHwgdXNlZERlZmF1bHQgfHwgdXBkYXRlTWlzc2luZykge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmxvZyh1cGRhdGVNaXNzaW5nID8gJ3VwZGF0ZUtleScgOiAnbWlzc2luZ0tleScsIGxuZywgbmFtZXNwYWNlLCBrZXksIHVwZGF0ZU1pc3NpbmcgPyBvcHRpb25zLmRlZmF1bHRWYWx1ZSA6IHJlcyk7XG5cbiAgICAgICAgICBpZiAoa2V5U2VwYXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgZmsgPSB0aGlzLnJlc29sdmUoa2V5LCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgICAgIGtleVNlcGFyYXRvcjogZmFsc2VcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlmIChmayAmJiBmay5yZXMpIHRoaXMubG9nZ2VyLndhcm4oJ1NlZW1zIHRoZSBsb2FkZWQgdHJhbnNsYXRpb25zIHdlcmUgaW4gZmxhdCBKU09OIGZvcm1hdCBpbnN0ZWFkIG9mIG5lc3RlZC4gRWl0aGVyIHNldCBrZXlTZXBhcmF0b3I6IGZhbHNlIG9uIGluaXQgb3IgbWFrZSBzdXJlIHlvdXIgdHJhbnNsYXRpb25zIGFyZSBwdWJsaXNoZWQgaW4gbmVzdGVkIGZvcm1hdC4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgbG5ncyA9IFtdO1xuICAgICAgICAgIHZhciBmYWxsYmFja0xuZ3MgPSB0aGlzLmxhbmd1YWdlVXRpbHMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcsIG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuXG4gICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zYXZlTWlzc2luZ1RvID09PSAnZmFsbGJhY2snICYmIGZhbGxiYWNrTG5ncyAmJiBmYWxsYmFja0xuZ3NbMF0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmFsbGJhY2tMbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGxuZ3MucHVzaChmYWxsYmFja0xuZ3NbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nVG8gPT09ICdhbGwnKSB7XG4gICAgICAgICAgICBsbmdzID0gdGhpcy5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShvcHRpb25zLmxuZyB8fCB0aGlzLmxhbmd1YWdlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG5ncy5wdXNoKG9wdGlvbnMubG5nIHx8IHRoaXMubGFuZ3VhZ2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzZW5kID0gZnVuY3Rpb24gc2VuZChsLCBrKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMyLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLm9wdGlvbnMubWlzc2luZ0tleUhhbmRsZXIobCwgbmFtZXNwYWNlLCBrLCB1cGRhdGVNaXNzaW5nID8gb3B0aW9ucy5kZWZhdWx0VmFsdWUgOiByZXMsIHVwZGF0ZU1pc3NpbmcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIuYmFja2VuZENvbm5lY3RvciAmJiBfdGhpczIuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZykge1xuICAgICAgICAgICAgICBfdGhpczIuYmFja2VuZENvbm5lY3Rvci5zYXZlTWlzc2luZyhsLCBuYW1lc3BhY2UsIGssIHVwZGF0ZU1pc3NpbmcgPyBvcHRpb25zLmRlZmF1bHRWYWx1ZSA6IHJlcywgdXBkYXRlTWlzc2luZywgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMi5lbWl0KCdtaXNzaW5nS2V5JywgbCwgbmFtZXNwYWNlLCBrLCByZXMpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhdmVNaXNzaW5nKSB7XG4gICAgICAgICAgICB2YXIgbmVlZHNQbHVyYWxIYW5kbGluZyA9IG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5jb3VudCAhPT0gJ3N0cmluZyc7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2F2ZU1pc3NpbmdQbHVyYWxzICYmIG5lZWRzUGx1cmFsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgbG5ncy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBsdXJhbHMgPSBfdGhpczIucGx1cmFsUmVzb2x2ZXIuZ2V0UGx1cmFsRm9ybXNPZktleShsLCBrZXkpO1xuXG4gICAgICAgICAgICAgICAgcGx1cmFscy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2VuZChbbF0sIHApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbmQobG5ncywga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXMgPSB0aGlzLmV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5cywgb3B0aW9ucywgcmVzb2x2ZWQsIGxhc3RLZXkpO1xuICAgICAgICBpZiAodXNlZEtleSAmJiByZXMgPT09IGtleSAmJiB0aGlzLm9wdGlvbnMuYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5KSByZXMgPSBcIlwiLmNvbmNhdChuYW1lc3BhY2UsIFwiOlwiKS5jb25jYXQoa2V5KTtcbiAgICAgICAgaWYgKHVzZWRLZXkgJiYgdGhpcy5vcHRpb25zLnBhcnNlTWlzc2luZ0tleUhhbmRsZXIpIHJlcyA9IHRoaXMub3B0aW9ucy5wYXJzZU1pc3NpbmdLZXlIYW5kbGVyKHJlcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImV4dGVuZFRyYW5zbGF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4dGVuZFRyYW5zbGF0aW9uKHJlcywga2V5LCBvcHRpb25zLCByZXNvbHZlZCwgbGFzdEtleSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmkxOG5Gb3JtYXQgJiYgdGhpcy5pMThuRm9ybWF0LnBhcnNlKSB7XG4gICAgICAgIHJlcyA9IHRoaXMuaTE4bkZvcm1hdC5wYXJzZShyZXMsIG9wdGlvbnMsIHJlc29sdmVkLnVzZWRMbmcsIHJlc29sdmVkLnVzZWROUywgcmVzb2x2ZWQudXNlZEtleSwge1xuICAgICAgICAgIHJlc29sdmVkOiByZXNvbHZlZFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMuc2tpcEludGVycG9sYXRpb24pIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IuaW5pdChfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgaW50ZXJwb2xhdGlvbjogX29iamVjdFNwcmVhZCh7fSwgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24sIG9wdGlvbnMuaW50ZXJwb2xhdGlvbilcbiAgICAgICAgfSkpO1xuICAgICAgICB2YXIgc2tpcE9uVmFyaWFibGVzID0gb3B0aW9ucy5pbnRlcnBvbGF0aW9uICYmIG9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXMgfHwgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uc2tpcE9uVmFyaWFibGVzO1xuICAgICAgICB2YXIgbmVzdEJlZjtcblxuICAgICAgICBpZiAoc2tpcE9uVmFyaWFibGVzKSB7XG4gICAgICAgICAgdmFyIG5iID0gcmVzLm1hdGNoKHRoaXMuaW50ZXJwb2xhdG9yLm5lc3RpbmdSZWdleHApO1xuICAgICAgICAgIG5lc3RCZWYgPSBuYiAmJiBuYi5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YSA9IG9wdGlvbnMucmVwbGFjZSAmJiB0eXBlb2Ygb3B0aW9ucy5yZXBsYWNlICE9PSAnc3RyaW5nJyA/IG9wdGlvbnMucmVwbGFjZSA6IG9wdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5kZWZhdWx0VmFyaWFibGVzKSBkYXRhID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcywgZGF0YSk7XG4gICAgICAgIHJlcyA9IHRoaXMuaW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHJlcywgZGF0YSwgb3B0aW9ucy5sbmcgfHwgdGhpcy5sYW5ndWFnZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHNraXBPblZhcmlhYmxlcykge1xuICAgICAgICAgIHZhciBuYSA9IHJlcy5tYXRjaCh0aGlzLmludGVycG9sYXRvci5uZXN0aW5nUmVnZXhwKTtcbiAgICAgICAgICB2YXIgbmVzdEFmdCA9IG5hICYmIG5hLmxlbmd0aDtcbiAgICAgICAgICBpZiAobmVzdEJlZiA8IG5lc3RBZnQpIG9wdGlvbnMubmVzdCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMubmVzdCAhPT0gZmFsc2UpIHJlcyA9IHRoaXMuaW50ZXJwb2xhdG9yLm5lc3QocmVzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChsYXN0S2V5ICYmIGxhc3RLZXlbMF0gPT09IGFyZ3NbMF0gJiYgIW9wdGlvbnMuY29udGV4dCkge1xuICAgICAgICAgICAgX3RoaXMzLmxvZ2dlci53YXJuKFwiSXQgc2VlbXMgeW91IGFyZSBuZXN0aW5nIHJlY3Vyc2l2ZWx5IGtleTogXCIuY29uY2F0KGFyZ3NbMF0sIFwiIGluIGtleTogXCIpLmNvbmNhdChrZXlbMF0pKTtcblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF90aGlzMy50cmFuc2xhdGUuYXBwbHkoX3RoaXMzLCBhcmdzLmNvbmNhdChba2V5XSkpO1xuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW50ZXJwb2xhdGlvbikgdGhpcy5pbnRlcnBvbGF0b3IucmVzZXQoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvc3RQcm9jZXNzID0gb3B0aW9ucy5wb3N0UHJvY2VzcyB8fCB0aGlzLm9wdGlvbnMucG9zdFByb2Nlc3M7XG4gICAgICB2YXIgcG9zdFByb2Nlc3Nvck5hbWVzID0gdHlwZW9mIHBvc3RQcm9jZXNzID09PSAnc3RyaW5nJyA/IFtwb3N0UHJvY2Vzc10gOiBwb3N0UHJvY2VzcztcblxuICAgICAgaWYgKHJlcyAhPT0gdW5kZWZpbmVkICYmIHJlcyAhPT0gbnVsbCAmJiBwb3N0UHJvY2Vzc29yTmFtZXMgJiYgcG9zdFByb2Nlc3Nvck5hbWVzLmxlbmd0aCAmJiBvcHRpb25zLmFwcGx5UG9zdFByb2Nlc3NvciAhPT0gZmFsc2UpIHtcbiAgICAgICAgcmVzID0gcG9zdFByb2Nlc3Nvci5oYW5kbGUocG9zdFByb2Nlc3Nvck5hbWVzLCByZXMsIGtleSwgdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5wb3N0UHJvY2Vzc1Bhc3NSZXNvbHZlZCA/IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgIGkxOG5SZXNvbHZlZDogcmVzb2x2ZWRcbiAgICAgICAgfSwgb3B0aW9ucykgOiBvcHRpb25zLCB0aGlzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVzb2x2ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlKGtleXMpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICB2YXIgZm91bmQ7XG4gICAgICB2YXIgdXNlZEtleTtcbiAgICAgIHZhciBleGFjdFVzZWRLZXk7XG4gICAgICB2YXIgdXNlZExuZztcbiAgICAgIHZhciB1c2VkTlM7XG4gICAgICBpZiAodHlwZW9mIGtleXMgPT09ICdzdHJpbmcnKSBrZXlzID0gW2tleXNdO1xuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIGlmIChfdGhpczQuaXNWYWxpZExvb2t1cChmb3VuZCkpIHJldHVybjtcblxuICAgICAgICB2YXIgZXh0cmFjdGVkID0gX3RoaXM0LmV4dHJhY3RGcm9tS2V5KGssIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBrZXkgPSBleHRyYWN0ZWQua2V5O1xuICAgICAgICB1c2VkS2V5ID0ga2V5O1xuICAgICAgICB2YXIgbmFtZXNwYWNlcyA9IGV4dHJhY3RlZC5uYW1lc3BhY2VzO1xuICAgICAgICBpZiAoX3RoaXM0Lm9wdGlvbnMuZmFsbGJhY2tOUykgbmFtZXNwYWNlcyA9IG5hbWVzcGFjZXMuY29uY2F0KF90aGlzNC5vcHRpb25zLmZhbGxiYWNrTlMpO1xuICAgICAgICB2YXIgbmVlZHNQbHVyYWxIYW5kbGluZyA9IG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygb3B0aW9ucy5jb3VudCAhPT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBuZWVkc0NvbnRleHRIYW5kbGluZyA9IG9wdGlvbnMuY29udGV4dCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvcHRpb25zLmNvbnRleHQgPT09ICdzdHJpbmcnICYmIG9wdGlvbnMuY29udGV4dCAhPT0gJyc7XG4gICAgICAgIHZhciBjb2RlcyA9IG9wdGlvbnMubG5ncyA/IG9wdGlvbnMubG5ncyA6IF90aGlzNC5sYW5ndWFnZVV0aWxzLnRvUmVzb2x2ZUhpZXJhcmNoeShvcHRpb25zLmxuZyB8fCBfdGhpczQubGFuZ3VhZ2UsIG9wdGlvbnMuZmFsbGJhY2tMbmcpO1xuICAgICAgICBuYW1lc3BhY2VzLmZvckVhY2goZnVuY3Rpb24gKG5zKSB7XG4gICAgICAgICAgaWYgKF90aGlzNC5pc1ZhbGlkTG9va3VwKGZvdW5kKSkgcmV0dXJuO1xuICAgICAgICAgIHVzZWROUyA9IG5zO1xuXG4gICAgICAgICAgaWYgKCFjaGVja2VkTG9hZGVkRm9yW1wiXCIuY29uY2F0KGNvZGVzWzBdLCBcIi1cIikuY29uY2F0KG5zKV0gJiYgX3RoaXM0LnV0aWxzICYmIF90aGlzNC51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIV90aGlzNC51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UodXNlZE5TKSkge1xuICAgICAgICAgICAgY2hlY2tlZExvYWRlZEZvcltcIlwiLmNvbmNhdChjb2Rlc1swXSwgXCItXCIpLmNvbmNhdChucyldID0gdHJ1ZTtcblxuICAgICAgICAgICAgX3RoaXM0LmxvZ2dlci53YXJuKFwia2V5IFxcXCJcIi5jb25jYXQodXNlZEtleSwgXCJcXFwiIGZvciBsYW5ndWFnZXMgXFxcIlwiKS5jb25jYXQoY29kZXMuam9pbignLCAnKSwgXCJcXFwiIHdvbid0IGdldCByZXNvbHZlZCBhcyBuYW1lc3BhY2UgXFxcIlwiKS5jb25jYXQodXNlZE5TLCBcIlxcXCIgd2FzIG5vdCB5ZXQgbG9hZGVkXCIpLCAnVGhpcyBtZWFucyBzb21ldGhpbmcgSVMgV1JPTkcgaW4geW91ciBzZXR1cC4gWW91IGFjY2VzcyB0aGUgdCBmdW5jdGlvbiBiZWZvcmUgaTE4bmV4dC5pbml0IC8gaTE4bmV4dC5sb2FkTmFtZXNwYWNlIC8gaTE4bmV4dC5jaGFuZ2VMYW5ndWFnZSB3YXMgZG9uZS4gV2FpdCBmb3IgdGhlIGNhbGxiYWNrIG9yIFByb21pc2UgdG8gcmVzb2x2ZSBiZWZvcmUgYWNjZXNzaW5nIGl0ISEhJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29kZXMuZm9yRWFjaChmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzNC5pc1ZhbGlkTG9va3VwKGZvdW5kKSkgcmV0dXJuO1xuICAgICAgICAgICAgdXNlZExuZyA9IGNvZGU7XG4gICAgICAgICAgICB2YXIgZmluYWxLZXkgPSBrZXk7XG4gICAgICAgICAgICB2YXIgZmluYWxLZXlzID0gW2ZpbmFsS2V5XTtcblxuICAgICAgICAgICAgaWYgKF90aGlzNC5pMThuRm9ybWF0ICYmIF90aGlzNC5pMThuRm9ybWF0LmFkZExvb2t1cEtleXMpIHtcbiAgICAgICAgICAgICAgX3RoaXM0LmkxOG5Gb3JtYXQuYWRkTG9va3VwS2V5cyhmaW5hbEtleXMsIGtleSwgY29kZSwgbnMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHBsdXJhbFN1ZmZpeDtcbiAgICAgICAgICAgICAgaWYgKG5lZWRzUGx1cmFsSGFuZGxpbmcpIHBsdXJhbFN1ZmZpeCA9IF90aGlzNC5wbHVyYWxSZXNvbHZlci5nZXRTdWZmaXgoY29kZSwgb3B0aW9ucy5jb3VudCk7XG4gICAgICAgICAgICAgIGlmIChuZWVkc1BsdXJhbEhhbmRsaW5nICYmIG5lZWRzQ29udGV4dEhhbmRsaW5nKSBmaW5hbEtleXMucHVzaChmaW5hbEtleSArIHBsdXJhbFN1ZmZpeCk7XG4gICAgICAgICAgICAgIGlmIChuZWVkc0NvbnRleHRIYW5kbGluZykgZmluYWxLZXlzLnB1c2goZmluYWxLZXkgKz0gXCJcIi5jb25jYXQoX3RoaXM0Lm9wdGlvbnMuY29udGV4dFNlcGFyYXRvcikuY29uY2F0KG9wdGlvbnMuY29udGV4dCkpO1xuICAgICAgICAgICAgICBpZiAobmVlZHNQbHVyYWxIYW5kbGluZykgZmluYWxLZXlzLnB1c2goZmluYWxLZXkgKz0gcGx1cmFsU3VmZml4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBvc3NpYmxlS2V5O1xuXG4gICAgICAgICAgICB3aGlsZSAocG9zc2libGVLZXkgPSBmaW5hbEtleXMucG9wKCkpIHtcbiAgICAgICAgICAgICAgaWYgKCFfdGhpczQuaXNWYWxpZExvb2t1cChmb3VuZCkpIHtcbiAgICAgICAgICAgICAgICBleGFjdFVzZWRLZXkgPSBwb3NzaWJsZUtleTtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IF90aGlzNC5nZXRSZXNvdXJjZShjb2RlLCBucywgcG9zc2libGVLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXM6IGZvdW5kLFxuICAgICAgICB1c2VkS2V5OiB1c2VkS2V5LFxuICAgICAgICBleGFjdFVzZWRLZXk6IGV4YWN0VXNlZEtleSxcbiAgICAgICAgdXNlZExuZzogdXNlZExuZyxcbiAgICAgICAgdXNlZE5TOiB1c2VkTlNcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzVmFsaWRMb29rdXBcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZExvb2t1cChyZXMpIHtcbiAgICAgIHJldHVybiByZXMgIT09IHVuZGVmaW5lZCAmJiAhKCF0aGlzLm9wdGlvbnMucmV0dXJuTnVsbCAmJiByZXMgPT09IG51bGwpICYmICEoIXRoaXMub3B0aW9ucy5yZXR1cm5FbXB0eVN0cmluZyAmJiByZXMgPT09ICcnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UmVzb3VyY2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzb3VyY2UoY29kZSwgbnMsIGtleSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuICAgICAgaWYgKHRoaXMuaTE4bkZvcm1hdCAmJiB0aGlzLmkxOG5Gb3JtYXQuZ2V0UmVzb3VyY2UpIHJldHVybiB0aGlzLmkxOG5Gb3JtYXQuZ2V0UmVzb3VyY2UoY29kZSwgbnMsIGtleSwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZVN0b3JlLmdldFJlc291cmNlKGNvZGUsIG5zLCBrZXksIG9wdGlvbnMpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUcmFuc2xhdG9yO1xufShFdmVudEVtaXR0ZXIpO1xuXG5mdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpO1xufVxuXG52YXIgTGFuZ3VhZ2VVdGlsID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMYW5ndWFnZVV0aWwob3B0aW9ucykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMYW5ndWFnZVV0aWwpO1xuXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLndoaXRlbGlzdCA9IHRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzIHx8IGZhbHNlO1xuICAgIHRoaXMuc3VwcG9ydGVkTG5ncyA9IHRoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzIHx8IGZhbHNlO1xuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2xhbmd1YWdlVXRpbHMnKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhMYW5ndWFnZVV0aWwsIFt7XG4gICAga2V5OiBcImdldFNjcmlwdFBhcnRGcm9tQ29kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY3JpcHRQYXJ0RnJvbUNvZGUoY29kZSkge1xuICAgICAgaWYgKCFjb2RlIHx8IGNvZGUuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICAgIGlmIChwLmxlbmd0aCA9PT0gMikgcmV0dXJuIG51bGw7XG4gICAgICBwLnBvcCgpO1xuICAgICAgaWYgKHBbcC5sZW5ndGggLSAxXS50b0xvd2VyQ2FzZSgpID09PSAneCcpIHJldHVybiBudWxsO1xuICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKHAuam9pbignLScpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSkge1xuICAgICAgaWYgKCFjb2RlIHx8IGNvZGUuaW5kZXhPZignLScpIDwgMCkgcmV0dXJuIGNvZGU7XG4gICAgICB2YXIgcCA9IGNvZGUuc3BsaXQoJy0nKTtcbiAgICAgIHJldHVybiB0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShwWzBdKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZm9ybWF0TGFuZ3VhZ2VDb2RlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSB7XG4gICAgICBpZiAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnICYmIGNvZGUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgICAgdmFyIHNwZWNpYWxDYXNlcyA9IFsnaGFucycsICdoYW50JywgJ2xhdG4nLCAnY3lybCcsICdjYW5zJywgJ21vbmcnLCAnYXJhYiddO1xuICAgICAgICB2YXIgcCA9IGNvZGUuc3BsaXQoJy0nKTtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZykge1xuICAgICAgICAgIHAgPSBwLm1hcChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChwLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIHBbMF0gPSBwWzBdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgcFsxXSA9IHBbMV0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBpZiAoc3BlY2lhbENhc2VzLmluZGV4T2YocFsxXS50b0xvd2VyQ2FzZSgpKSA+IC0xKSBwWzFdID0gY2FwaXRhbGl6ZShwWzFdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKHAubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgcFswXSA9IHBbMF0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAocFsxXS5sZW5ndGggPT09IDIpIHBbMV0gPSBwWzFdLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKHBbMF0gIT09ICdzZ24nICYmIHBbMl0ubGVuZ3RoID09PSAyKSBwWzJdID0gcFsyXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIGlmIChzcGVjaWFsQ2FzZXMuaW5kZXhPZihwWzFdLnRvTG93ZXJDYXNlKCkpID4gLTEpIHBbMV0gPSBjYXBpdGFsaXplKHBbMV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgaWYgKHNwZWNpYWxDYXNlcy5pbmRleE9mKHBbMl0udG9Mb3dlckNhc2UoKSkgPiAtMSkgcFsyXSA9IGNhcGl0YWxpemUocFsyXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwLmpvaW4oJy0nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jbGVhbkNvZGUgfHwgdGhpcy5vcHRpb25zLmxvd2VyQ2FzZUxuZyA/IGNvZGUudG9Mb3dlckNhc2UoKSA6IGNvZGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzV2hpdGVsaXN0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNXaGl0ZWxpc3RlZChjb2RlKSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZXByZWNhdGUoJ2xhbmd1YWdlVXRpbHMuaXNXaGl0ZWxpc3RlZCcsICdmdW5jdGlvbiBcImlzV2hpdGVsaXN0ZWRcIiB3aWxsIGJlIHJlbmFtZWQgdG8gXCJpc1N1cHBvcnRlZENvZGVcIiBpbiB0aGUgbmV4dCBtYWpvciAtIHBsZWFzZSBtYWtlIHN1cmUgdG8gcmVuYW1lIGl0XFwncyB1c2FnZSBhc2FwLicpO1xuICAgICAgcmV0dXJuIHRoaXMuaXNTdXBwb3J0ZWRDb2RlKGNvZGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJpc1N1cHBvcnRlZENvZGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTdXBwb3J0ZWRDb2RlKGNvZGUpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCA9PT0gJ2xhbmd1YWdlT25seScgfHwgdGhpcy5vcHRpb25zLm5vbkV4cGxpY2l0U3VwcG9ydGVkTG5ncykge1xuICAgICAgICBjb2RlID0gdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICF0aGlzLnN1cHBvcnRlZExuZ3MgfHwgIXRoaXMuc3VwcG9ydGVkTG5ncy5sZW5ndGggfHwgdGhpcy5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoY29kZSkgPiAtMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QmVzdE1hdGNoRnJvbUNvZGVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJlc3RNYXRjaEZyb21Db2Rlcyhjb2Rlcykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKCFjb2RlcykgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgZm91bmQ7XG4gICAgICBjb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICAgIGlmIChmb3VuZCkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBjbGVhbmVkTG5nID0gX3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpO1xuXG4gICAgICAgIGlmICghX3RoaXMub3B0aW9ucy5zdXBwb3J0ZWRMbmdzIHx8IF90aGlzLmlzU3VwcG9ydGVkQ29kZShjbGVhbmVkTG5nKSkgZm91bmQgPSBjbGVhbmVkTG5nO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghZm91bmQgJiYgdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MpIHtcbiAgICAgICAgY29kZXMuZm9yRWFjaChmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgIGlmIChmb3VuZCkgcmV0dXJuO1xuXG4gICAgICAgICAgdmFyIGxuZ09ubHkgPSBfdGhpcy5nZXRMYW5ndWFnZVBhcnRGcm9tQ29kZShjb2RlKTtcblxuICAgICAgICAgIGlmIChfdGhpcy5pc1N1cHBvcnRlZENvZGUobG5nT25seSkpIHJldHVybiBmb3VuZCA9IGxuZ09ubHk7XG4gICAgICAgICAgZm91bmQgPSBfdGhpcy5vcHRpb25zLnN1cHBvcnRlZExuZ3MuZmluZChmdW5jdGlvbiAoc3VwcG9ydGVkTG5nKSB7XG4gICAgICAgICAgICBpZiAoc3VwcG9ydGVkTG5nLmluZGV4T2YobG5nT25seSkgPT09IDApIHJldHVybiBzdXBwb3J0ZWRMbmc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZvdW5kKSBmb3VuZCA9IHRoaXMuZ2V0RmFsbGJhY2tDb2Rlcyh0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcpWzBdO1xuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRGYWxsYmFja0NvZGVzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZhbGxiYWNrQ29kZXMoZmFsbGJhY2tzLCBjb2RlKSB7XG4gICAgICBpZiAoIWZhbGxiYWNrcykgcmV0dXJuIFtdO1xuICAgICAgaWYgKHR5cGVvZiBmYWxsYmFja3MgPT09ICdmdW5jdGlvbicpIGZhbGxiYWNrcyA9IGZhbGxiYWNrcyhjb2RlKTtcbiAgICAgIGlmICh0eXBlb2YgZmFsbGJhY2tzID09PSAnc3RyaW5nJykgZmFsbGJhY2tzID0gW2ZhbGxiYWNrc107XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseShmYWxsYmFja3MpID09PSAnW29iamVjdCBBcnJheV0nKSByZXR1cm4gZmFsbGJhY2tzO1xuICAgICAgaWYgKCFjb2RlKSByZXR1cm4gZmFsbGJhY2tzW1wiZGVmYXVsdFwiXSB8fCBbXTtcbiAgICAgIHZhciBmb3VuZCA9IGZhbGxiYWNrc1tjb2RlXTtcbiAgICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpXTtcbiAgICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZm9ybWF0TGFuZ3VhZ2VDb2RlKGNvZGUpXTtcbiAgICAgIGlmICghZm91bmQpIGZvdW5kID0gZmFsbGJhY2tzW3RoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSldO1xuICAgICAgaWYgKCFmb3VuZCkgZm91bmQgPSBmYWxsYmFja3NbXCJkZWZhdWx0XCJdO1xuICAgICAgcmV0dXJuIGZvdW5kIHx8IFtdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b1Jlc29sdmVIaWVyYXJjaHlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9SZXNvbHZlSGllcmFyY2h5KGNvZGUsIGZhbGxiYWNrQ29kZSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBmYWxsYmFja0NvZGVzID0gdGhpcy5nZXRGYWxsYmFja0NvZGVzKGZhbGxiYWNrQ29kZSB8fCB0aGlzLm9wdGlvbnMuZmFsbGJhY2tMbmcgfHwgW10sIGNvZGUpO1xuICAgICAgdmFyIGNvZGVzID0gW107XG5cbiAgICAgIHZhciBhZGRDb2RlID0gZnVuY3Rpb24gYWRkQ29kZShjKSB7XG4gICAgICAgIGlmICghYykgcmV0dXJuO1xuXG4gICAgICAgIGlmIChfdGhpczIuaXNTdXBwb3J0ZWRDb2RlKGMpKSB7XG4gICAgICAgICAgY29kZXMucHVzaChjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpczIubG9nZ2VyLndhcm4oXCJyZWplY3RpbmcgbGFuZ3VhZ2UgY29kZSBub3QgZm91bmQgaW4gc3VwcG9ydGVkTG5nczogXCIuY29uY2F0KGMpKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKHR5cGVvZiBjb2RlID09PSAnc3RyaW5nJyAmJiBjb2RlLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubG9hZCAhPT0gJ2xhbmd1YWdlT25seScpIGFkZENvZGUodGhpcy5mb3JtYXRMYW5ndWFnZUNvZGUoY29kZSkpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxvYWQgIT09ICdsYW5ndWFnZU9ubHknICYmIHRoaXMub3B0aW9ucy5sb2FkICE9PSAnY3VycmVudE9ubHknKSBhZGRDb2RlKHRoaXMuZ2V0U2NyaXB0UGFydEZyb21Db2RlKGNvZGUpKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2FkICE9PSAnY3VycmVudE9ubHknKSBhZGRDb2RlKHRoaXMuZ2V0TGFuZ3VhZ2VQYXJ0RnJvbUNvZGUoY29kZSkpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYWRkQ29kZSh0aGlzLmZvcm1hdExhbmd1YWdlQ29kZShjb2RlKSk7XG4gICAgICB9XG5cbiAgICAgIGZhbGxiYWNrQ29kZXMuZm9yRWFjaChmdW5jdGlvbiAoZmMpIHtcbiAgICAgICAgaWYgKGNvZGVzLmluZGV4T2YoZmMpIDwgMCkgYWRkQ29kZShfdGhpczIuZm9ybWF0TGFuZ3VhZ2VDb2RlKGZjKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb2RlcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGFuZ3VhZ2VVdGlsO1xufSgpO1xuXG52YXIgc2V0cyA9IFt7XG4gIGxuZ3M6IFsnYWNoJywgJ2FrJywgJ2FtJywgJ2FybicsICdicicsICdmaWwnLCAnZ3VuJywgJ2xuJywgJ21mZScsICdtZycsICdtaScsICdvYycsICdwdCcsICdwdC1CUicsICd0ZycsICd0aScsICd0cicsICd1eicsICd3YSddLFxuICBucjogWzEsIDJdLFxuICBmYzogMVxufSwge1xuICBsbmdzOiBbJ2FmJywgJ2FuJywgJ2FzdCcsICdheicsICdiZycsICdibicsICdjYScsICdkYScsICdkZScsICdkZXYnLCAnZWwnLCAnZW4nLCAnZW8nLCAnZXMnLCAnZXQnLCAnZXUnLCAnZmknLCAnZm8nLCAnZnVyJywgJ2Z5JywgJ2dsJywgJ2d1JywgJ2hhJywgJ2hpJywgJ2h1JywgJ2h5JywgJ2lhJywgJ2l0JywgJ2tuJywgJ2t1JywgJ2xiJywgJ21haScsICdtbCcsICdtbicsICdtcicsICduYWgnLCAnbmFwJywgJ25iJywgJ25lJywgJ25sJywgJ25uJywgJ25vJywgJ25zbycsICdwYScsICdwYXAnLCAncG1zJywgJ3BzJywgJ3B0LVBUJywgJ3JtJywgJ3NjbycsICdzZScsICdzaScsICdzbycsICdzb24nLCAnc3EnLCAnc3YnLCAnc3cnLCAndGEnLCAndGUnLCAndGsnLCAndXInLCAneW8nXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydheScsICdibycsICdjZ2cnLCAnZmEnLCAnaHQnLCAnaWQnLCAnamEnLCAnamJvJywgJ2thJywgJ2trJywgJ2ttJywgJ2tvJywgJ2t5JywgJ2xvJywgJ21zJywgJ3NhaCcsICdzdScsICd0aCcsICd0dCcsICd1ZycsICd2aScsICd3bycsICd6aCddLFxuICBucjogWzFdLFxuICBmYzogM1xufSwge1xuICBsbmdzOiBbJ2JlJywgJ2JzJywgJ2NucicsICdkeicsICdocicsICdydScsICdzcicsICd1ayddLFxuICBucjogWzEsIDIsIDVdLFxuICBmYzogNFxufSwge1xuICBsbmdzOiBbJ2FyJ10sXG4gIG5yOiBbMCwgMSwgMiwgMywgMTEsIDEwMF0sXG4gIGZjOiA1XG59LCB7XG4gIGxuZ3M6IFsnY3MnLCAnc2snXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDZcbn0sIHtcbiAgbG5nczogWydjc2InLCAncGwnXSxcbiAgbnI6IFsxLCAyLCA1XSxcbiAgZmM6IDdcbn0sIHtcbiAgbG5nczogWydjeSddLFxuICBucjogWzEsIDIsIDMsIDhdLFxuICBmYzogOFxufSwge1xuICBsbmdzOiBbJ2ZyJ10sXG4gIG5yOiBbMSwgMl0sXG4gIGZjOiA5XG59LCB7XG4gIGxuZ3M6IFsnZ2EnXSxcbiAgbnI6IFsxLCAyLCAzLCA3LCAxMV0sXG4gIGZjOiAxMFxufSwge1xuICBsbmdzOiBbJ2dkJ10sXG4gIG5yOiBbMSwgMiwgMywgMjBdLFxuICBmYzogMTFcbn0sIHtcbiAgbG5nczogWydpcyddLFxuICBucjogWzEsIDJdLFxuICBmYzogMTJcbn0sIHtcbiAgbG5nczogWydqdiddLFxuICBucjogWzAsIDFdLFxuICBmYzogMTNcbn0sIHtcbiAgbG5nczogWydrdyddLFxuICBucjogWzEsIDIsIDMsIDRdLFxuICBmYzogMTRcbn0sIHtcbiAgbG5nczogWydsdCddLFxuICBucjogWzEsIDIsIDEwXSxcbiAgZmM6IDE1XG59LCB7XG4gIGxuZ3M6IFsnbHYnXSxcbiAgbnI6IFsxLCAyLCAwXSxcbiAgZmM6IDE2XG59LCB7XG4gIGxuZ3M6IFsnbWsnXSxcbiAgbnI6IFsxLCAyXSxcbiAgZmM6IDE3XG59LCB7XG4gIGxuZ3M6IFsnbW5rJ10sXG4gIG5yOiBbMCwgMSwgMl0sXG4gIGZjOiAxOFxufSwge1xuICBsbmdzOiBbJ210J10sXG4gIG5yOiBbMSwgMiwgMTEsIDIwXSxcbiAgZmM6IDE5XG59LCB7XG4gIGxuZ3M6IFsnb3InXSxcbiAgbnI6IFsyLCAxXSxcbiAgZmM6IDJcbn0sIHtcbiAgbG5nczogWydybyddLFxuICBucjogWzEsIDIsIDIwXSxcbiAgZmM6IDIwXG59LCB7XG4gIGxuZ3M6IFsnc2wnXSxcbiAgbnI6IFs1LCAxLCAyLCAzXSxcbiAgZmM6IDIxXG59LCB7XG4gIGxuZ3M6IFsnaGUnLCAnaXcnXSxcbiAgbnI6IFsxLCAyLCAyMCwgMjFdLFxuICBmYzogMjJcbn1dO1xudmFyIF9ydWxlc1BsdXJhbHNUeXBlcyA9IHtcbiAgMTogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID4gMSk7XG4gIH0sXG4gIDI6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAhPSAxKTtcbiAgfSxcbiAgMzogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIDQ6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAlIDEwID09IDEgJiYgbiAlIDEwMCAhPSAxMSA/IDAgOiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDIpO1xuICB9LFxuICA1OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMCA/IDAgOiBuID09IDEgPyAxIDogbiA9PSAyID8gMiA6IG4gJSAxMDAgPj0gMyAmJiBuICUgMTAwIDw9IDEwID8gMyA6IG4gJSAxMDAgPj0gMTEgPyA0IDogNSk7XG4gIH0sXG4gIDY6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPj0gMiAmJiBuIDw9IDQgPyAxIDogMik7XG4gIH0sXG4gIDc6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gJSAxMCA+PSAyICYmIG4gJSAxMCA8PSA0ICYmIChuICUgMTAwIDwgMTAgfHwgbiAlIDEwMCA+PSAyMCkgPyAxIDogMik7XG4gIH0sXG4gIDg6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxID8gMCA6IG4gPT0gMiA/IDEgOiBuICE9IDggJiYgbiAhPSAxMSA/IDIgOiAzKTtcbiAgfSxcbiAgOTogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID49IDIpO1xuICB9LFxuICAxMDogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuID09IDEgPyAwIDogbiA9PSAyID8gMSA6IG4gPCA3ID8gMiA6IG4gPCAxMSA/IDMgOiA0KTtcbiAgfSxcbiAgMTE6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxIHx8IG4gPT0gMTEgPyAwIDogbiA9PSAyIHx8IG4gPT0gMTIgPyAxIDogbiA+IDIgJiYgbiA8IDIwID8gMiA6IDMpO1xuICB9LFxuICAxMjogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuICUgMTAgIT0gMSB8fCBuICUgMTAwID09IDExKTtcbiAgfSxcbiAgMTM6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiAhPT0gMCk7XG4gIH0sXG4gIDE0OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogbiA9PSAzID8gMiA6IDMpO1xuICB9LFxuICAxNTogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuICUgMTAgPT0gMSAmJiBuICUgMTAwICE9IDExID8gMCA6IG4gJSAxMCA+PSAyICYmIChuICUgMTAwIDwgMTAgfHwgbiAlIDEwMCA+PSAyMCkgPyAxIDogMik7XG4gIH0sXG4gIDE2OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogbiAhPT0gMCA/IDEgOiAyKTtcbiAgfSxcbiAgMTc6IGZ1bmN0aW9uIF8obikge1xuICAgIHJldHVybiBOdW1iZXIobiA9PSAxIHx8IG4gJSAxMCA9PSAxICYmIG4gJSAxMDAgIT0gMTEgPyAwIDogMSk7XG4gIH0sXG4gIDE4OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMCA/IDAgOiBuID09IDEgPyAxIDogMik7XG4gIH0sXG4gIDE5OiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDAgfHwgbiAlIDEwMCA+IDEgJiYgbiAlIDEwMCA8IDExID8gMSA6IG4gJSAxMDAgPiAxMCAmJiBuICUgMTAwIDwgMjAgPyAyIDogMyk7XG4gIH0sXG4gIDIwOiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDAgfHwgbiAlIDEwMCA+IDAgJiYgbiAlIDEwMCA8IDIwID8gMSA6IDIpO1xuICB9LFxuICAyMTogZnVuY3Rpb24gXyhuKSB7XG4gICAgcmV0dXJuIE51bWJlcihuICUgMTAwID09IDEgPyAxIDogbiAlIDEwMCA9PSAyID8gMiA6IG4gJSAxMDAgPT0gMyB8fCBuICUgMTAwID09IDQgPyAzIDogMCk7XG4gIH0sXG4gIDIyOiBmdW5jdGlvbiBfKG4pIHtcbiAgICByZXR1cm4gTnVtYmVyKG4gPT0gMSA/IDAgOiBuID09IDIgPyAxIDogKG4gPCAwIHx8IG4gPiAxMCkgJiYgbiAlIDEwID09IDAgPyAyIDogMyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVJ1bGVzKCkge1xuICB2YXIgcnVsZXMgPSB7fTtcbiAgc2V0cy5mb3JFYWNoKGZ1bmN0aW9uIChzZXQpIHtcbiAgICBzZXQubG5ncy5mb3JFYWNoKGZ1bmN0aW9uIChsKSB7XG4gICAgICBydWxlc1tsXSA9IHtcbiAgICAgICAgbnVtYmVyczogc2V0Lm5yLFxuICAgICAgICBwbHVyYWxzOiBfcnVsZXNQbHVyYWxzVHlwZXNbc2V0LmZjXVxuICAgICAgfTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBydWxlcztcbn1cblxudmFyIFBsdXJhbFJlc29sdmVyID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQbHVyYWxSZXNvbHZlcihsYW5ndWFnZVV0aWxzKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsdXJhbFJlc29sdmVyKTtcblxuICAgIHRoaXMubGFuZ3VhZ2VVdGlscyA9IGxhbmd1YWdlVXRpbHM7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmxvZ2dlciA9IGJhc2VMb2dnZXIuY3JlYXRlKCdwbHVyYWxSZXNvbHZlcicpO1xuICAgIHRoaXMucnVsZXMgPSBjcmVhdGVSdWxlcygpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBsdXJhbFJlc29sdmVyLCBbe1xuICAgIGtleTogXCJhZGRSdWxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFJ1bGUobG5nLCBvYmopIHtcbiAgICAgIHRoaXMucnVsZXNbbG5nXSA9IG9iajtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UnVsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSdWxlKGNvZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJ1bGVzW2NvZGVdIHx8IHRoaXMucnVsZXNbdGhpcy5sYW5ndWFnZVV0aWxzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGNvZGUpXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibmVlZHNQbHVyYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbmVlZHNQbHVyYWwoY29kZSkge1xuICAgICAgdmFyIHJ1bGUgPSB0aGlzLmdldFJ1bGUoY29kZSk7XG4gICAgICByZXR1cm4gcnVsZSAmJiBydWxlLm51bWJlcnMubGVuZ3RoID4gMTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGx1cmFsRm9ybXNPZktleVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQbHVyYWxGb3Jtc09mS2V5KGNvZGUsIGtleSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgdmFyIHJ1bGUgPSB0aGlzLmdldFJ1bGUoY29kZSk7XG4gICAgICBpZiAoIXJ1bGUpIHJldHVybiByZXQ7XG4gICAgICBydWxlLm51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgICB2YXIgc3VmZml4ID0gX3RoaXMuZ2V0U3VmZml4KGNvZGUsIG4pO1xuXG4gICAgICAgIHJldC5wdXNoKFwiXCIuY29uY2F0KGtleSkuY29uY2F0KHN1ZmZpeCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRTdWZmaXhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3VmZml4KGNvZGUsIGNvdW50KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHJ1bGUgPSB0aGlzLmdldFJ1bGUoY29kZSk7XG5cbiAgICAgIGlmIChydWxlKSB7XG4gICAgICAgIHZhciBpZHggPSBydWxlLm5vQWJzID8gcnVsZS5wbHVyYWxzKGNvdW50KSA6IHJ1bGUucGx1cmFscyhNYXRoLmFicyhjb3VudCkpO1xuICAgICAgICB2YXIgc3VmZml4ID0gcnVsZS5udW1iZXJzW2lkeF07XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCAmJiBydWxlLm51bWJlcnMubGVuZ3RoID09PSAyICYmIHJ1bGUubnVtYmVyc1swXSA9PT0gMSkge1xuICAgICAgICAgIGlmIChzdWZmaXggPT09IDIpIHtcbiAgICAgICAgICAgIHN1ZmZpeCA9ICdwbHVyYWwnO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3VmZml4ID09PSAxKSB7XG4gICAgICAgICAgICBzdWZmaXggPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmV0dXJuU3VmZml4ID0gZnVuY3Rpb24gcmV0dXJuU3VmZml4KCkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIub3B0aW9ucy5wcmVwZW5kICYmIHN1ZmZpeC50b1N0cmluZygpID8gX3RoaXMyLm9wdGlvbnMucHJlcGVuZCArIHN1ZmZpeC50b1N0cmluZygpIDogc3VmZml4LnRvU3RyaW5nKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb21wYXRpYmlsaXR5SlNPTiA9PT0gJ3YxJykge1xuICAgICAgICAgIGlmIChzdWZmaXggPT09IDEpIHJldHVybiAnJztcbiAgICAgICAgICBpZiAodHlwZW9mIHN1ZmZpeCA9PT0gJ251bWJlcicpIHJldHVybiBcIl9wbHVyYWxfXCIuY29uY2F0KHN1ZmZpeC50b1N0cmluZygpKTtcbiAgICAgICAgICByZXR1cm4gcmV0dXJuU3VmZml4KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OID09PSAndjInKSB7XG4gICAgICAgICAgcmV0dXJuIHJldHVyblN1ZmZpeCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5zaW1wbGlmeVBsdXJhbFN1ZmZpeCAmJiBydWxlLm51bWJlcnMubGVuZ3RoID09PSAyICYmIHJ1bGUubnVtYmVyc1swXSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiByZXR1cm5TdWZmaXgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMucHJlcGVuZCAmJiBpZHgudG9TdHJpbmcoKSA/IHRoaXMub3B0aW9ucy5wcmVwZW5kICsgaWR4LnRvU3RyaW5nKCkgOiBpZHgudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sb2dnZXIud2FybihcIm5vIHBsdXJhbCBydWxlIGZvdW5kIGZvcjogXCIuY29uY2F0KGNvZGUpKTtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUGx1cmFsUmVzb2x2ZXI7XG59KCk7XG5cbnZhciBJbnRlcnBvbGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEludGVycG9sYXRvcigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW50ZXJwb2xhdG9yKTtcblxuICAgIHRoaXMubG9nZ2VyID0gYmFzZUxvZ2dlci5jcmVhdGUoJ2ludGVycG9sYXRvcicpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgICB0aGlzLmZvcm1hdCA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbiAmJiBvcHRpb25zLmludGVycG9sYXRpb24uZm9ybWF0IHx8IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICB0aGlzLmluaXQob3B0aW9ucyk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSW50ZXJwb2xhdG9yLCBbe1xuICAgIGtleTogXCJpbml0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICBpZiAoIW9wdGlvbnMuaW50ZXJwb2xhdGlvbikgb3B0aW9ucy5pbnRlcnBvbGF0aW9uID0ge1xuICAgICAgICBlc2NhcGVWYWx1ZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHZhciBpT3B0cyA9IG9wdGlvbnMuaW50ZXJwb2xhdGlvbjtcbiAgICAgIHRoaXMuZXNjYXBlID0gaU9wdHMuZXNjYXBlICE9PSB1bmRlZmluZWQgPyBpT3B0cy5lc2NhcGUgOiBlc2NhcGU7XG4gICAgICB0aGlzLmVzY2FwZVZhbHVlID0gaU9wdHMuZXNjYXBlVmFsdWUgIT09IHVuZGVmaW5lZCA/IGlPcHRzLmVzY2FwZVZhbHVlIDogdHJ1ZTtcbiAgICAgIHRoaXMudXNlUmF3VmFsdWVUb0VzY2FwZSA9IGlPcHRzLnVzZVJhd1ZhbHVlVG9Fc2NhcGUgIT09IHVuZGVmaW5lZCA/IGlPcHRzLnVzZVJhd1ZhbHVlVG9Fc2NhcGUgOiBmYWxzZTtcbiAgICAgIHRoaXMucHJlZml4ID0gaU9wdHMucHJlZml4ID8gcmVnZXhFc2NhcGUoaU9wdHMucHJlZml4KSA6IGlPcHRzLnByZWZpeEVzY2FwZWQgfHwgJ3t7JztcbiAgICAgIHRoaXMuc3VmZml4ID0gaU9wdHMuc3VmZml4ID8gcmVnZXhFc2NhcGUoaU9wdHMuc3VmZml4KSA6IGlPcHRzLnN1ZmZpeEVzY2FwZWQgfHwgJ319JztcbiAgICAgIHRoaXMuZm9ybWF0U2VwYXJhdG9yID0gaU9wdHMuZm9ybWF0U2VwYXJhdG9yID8gaU9wdHMuZm9ybWF0U2VwYXJhdG9yIDogaU9wdHMuZm9ybWF0U2VwYXJhdG9yIHx8ICcsJztcbiAgICAgIHRoaXMudW5lc2NhcGVQcmVmaXggPSBpT3B0cy51bmVzY2FwZVN1ZmZpeCA/ICcnIDogaU9wdHMudW5lc2NhcGVQcmVmaXggfHwgJy0nO1xuICAgICAgdGhpcy51bmVzY2FwZVN1ZmZpeCA9IHRoaXMudW5lc2NhcGVQcmVmaXggPyAnJyA6IGlPcHRzLnVuZXNjYXBlU3VmZml4IHx8ICcnO1xuICAgICAgdGhpcy5uZXN0aW5nUHJlZml4ID0gaU9wdHMubmVzdGluZ1ByZWZpeCA/IHJlZ2V4RXNjYXBlKGlPcHRzLm5lc3RpbmdQcmVmaXgpIDogaU9wdHMubmVzdGluZ1ByZWZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyR0KCcpO1xuICAgICAgdGhpcy5uZXN0aW5nU3VmZml4ID0gaU9wdHMubmVzdGluZ1N1ZmZpeCA/IHJlZ2V4RXNjYXBlKGlPcHRzLm5lc3RpbmdTdWZmaXgpIDogaU9wdHMubmVzdGluZ1N1ZmZpeEVzY2FwZWQgfHwgcmVnZXhFc2NhcGUoJyknKTtcbiAgICAgIHRoaXMubmVzdGluZ09wdGlvbnNTZXBhcmF0b3IgPSBpT3B0cy5uZXN0aW5nT3B0aW9uc1NlcGFyYXRvciA/IGlPcHRzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yIDogaU9wdHMubmVzdGluZ09wdGlvbnNTZXBhcmF0b3IgfHwgJywnO1xuICAgICAgdGhpcy5tYXhSZXBsYWNlcyA9IGlPcHRzLm1heFJlcGxhY2VzID8gaU9wdHMubWF4UmVwbGFjZXMgOiAxMDAwO1xuICAgICAgdGhpcy5hbHdheXNGb3JtYXQgPSBpT3B0cy5hbHdheXNGb3JtYXQgIT09IHVuZGVmaW5lZCA/IGlPcHRzLmFsd2F5c0Zvcm1hdCA6IGZhbHNlO1xuICAgICAgdGhpcy5yZXNldFJlZ0V4cCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNldFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMpIHRoaXMuaW5pdCh0aGlzLm9wdGlvbnMpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZXNldFJlZ0V4cFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldFJlZ0V4cCgpIHtcbiAgICAgIHZhciByZWdleHBTdHIgPSBcIlwiLmNvbmNhdCh0aGlzLnByZWZpeCwgXCIoLis/KVwiKS5jb25jYXQodGhpcy5zdWZmaXgpO1xuICAgICAgdGhpcy5yZWdleHAgPSBuZXcgUmVnRXhwKHJlZ2V4cFN0ciwgJ2cnKTtcbiAgICAgIHZhciByZWdleHBVbmVzY2FwZVN0ciA9IFwiXCIuY29uY2F0KHRoaXMucHJlZml4KS5jb25jYXQodGhpcy51bmVzY2FwZVByZWZpeCwgXCIoLis/KVwiKS5jb25jYXQodGhpcy51bmVzY2FwZVN1ZmZpeCkuY29uY2F0KHRoaXMuc3VmZml4KTtcbiAgICAgIHRoaXMucmVnZXhwVW5lc2NhcGUgPSBuZXcgUmVnRXhwKHJlZ2V4cFVuZXNjYXBlU3RyLCAnZycpO1xuICAgICAgdmFyIG5lc3RpbmdSZWdleHBTdHIgPSBcIlwiLmNvbmNhdCh0aGlzLm5lc3RpbmdQcmVmaXgsIFwiKC4rPylcIikuY29uY2F0KHRoaXMubmVzdGluZ1N1ZmZpeCk7XG4gICAgICB0aGlzLm5lc3RpbmdSZWdleHAgPSBuZXcgUmVnRXhwKG5lc3RpbmdSZWdleHBTdHIsICdnJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImludGVycG9sYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGludGVycG9sYXRlKHN0ciwgZGF0YSwgbG5nLCBvcHRpb25zKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgbWF0Y2g7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICB2YXIgcmVwbGFjZXM7XG4gICAgICB2YXIgZGVmYXVsdERhdGEgPSB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24gJiYgdGhpcy5vcHRpb25zLmludGVycG9sYXRpb24uZGVmYXVsdFZhcmlhYmxlcyB8fCB7fTtcblxuICAgICAgZnVuY3Rpb24gcmVnZXhTYWZlKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsLnJlcGxhY2UoL1xcJC9nLCAnJCQkJCcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaGFuZGxlRm9ybWF0ID0gZnVuY3Rpb24gaGFuZGxlRm9ybWF0KGtleSkge1xuICAgICAgICBpZiAoa2V5LmluZGV4T2YoX3RoaXMuZm9ybWF0U2VwYXJhdG9yKSA8IDApIHtcbiAgICAgICAgICB2YXIgcGF0aCA9IGdldFBhdGhXaXRoRGVmYXVsdHMoZGF0YSwgZGVmYXVsdERhdGEsIGtleSk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmFsd2F5c0Zvcm1hdCA/IF90aGlzLmZvcm1hdChwYXRoLCB1bmRlZmluZWQsIGxuZykgOiBwYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHAgPSBrZXkuc3BsaXQoX3RoaXMuZm9ybWF0U2VwYXJhdG9yKTtcbiAgICAgICAgdmFyIGsgPSBwLnNoaWZ0KCkudHJpbSgpO1xuICAgICAgICB2YXIgZiA9IHAuam9pbihfdGhpcy5mb3JtYXRTZXBhcmF0b3IpLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIF90aGlzLmZvcm1hdChnZXRQYXRoV2l0aERlZmF1bHRzKGRhdGEsIGRlZmF1bHREYXRhLCBrKSwgZiwgbG5nLCBvcHRpb25zKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVzZXRSZWdFeHAoKTtcbiAgICAgIHZhciBtaXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXIgPSBvcHRpb25zICYmIG9wdGlvbnMubWlzc2luZ0ludGVycG9sYXRpb25IYW5kbGVyIHx8IHRoaXMub3B0aW9ucy5taXNzaW5nSW50ZXJwb2xhdGlvbkhhbmRsZXI7XG4gICAgICB2YXIgc2tpcE9uVmFyaWFibGVzID0gb3B0aW9ucyAmJiBvcHRpb25zLmludGVycG9sYXRpb24gJiYgb3B0aW9ucy5pbnRlcnBvbGF0aW9uLnNraXBPblZhcmlhYmxlcyB8fCB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5za2lwT25WYXJpYWJsZXM7XG4gICAgICB2YXIgdG9kb3MgPSBbe1xuICAgICAgICByZWdleDogdGhpcy5yZWdleHBVbmVzY2FwZSxcbiAgICAgICAgc2FmZVZhbHVlOiBmdW5jdGlvbiBzYWZlVmFsdWUodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHJlZ2V4U2FmZSh2YWwpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIHJlZ2V4OiB0aGlzLnJlZ2V4cCxcbiAgICAgICAgc2FmZVZhbHVlOiBmdW5jdGlvbiBzYWZlVmFsdWUodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmVzY2FwZVZhbHVlID8gcmVnZXhTYWZlKF90aGlzLmVzY2FwZSh2YWwpKSA6IHJlZ2V4U2FmZSh2YWwpO1xuICAgICAgICB9XG4gICAgICB9XTtcbiAgICAgIHRvZG9zLmZvckVhY2goZnVuY3Rpb24gKHRvZG8pIHtcbiAgICAgICAgcmVwbGFjZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChtYXRjaCA9IHRvZG8ucmVnZXguZXhlYyhzdHIpKSB7XG4gICAgICAgICAgdmFsdWUgPSBoYW5kbGVGb3JtYXQobWF0Y2hbMV0udHJpbSgpKTtcblxuICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICB2YXIgdGVtcCA9IG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcihzdHIsIG1hdGNoLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgdmFsdWUgPSB0eXBlb2YgdGVtcCA9PT0gJ3N0cmluZycgPyB0ZW1wIDogJyc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNraXBPblZhcmlhYmxlcykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IG1hdGNoWzBdO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmxvZ2dlci53YXJuKFwibWlzc2VkIHRvIHBhc3MgaW4gdmFyaWFibGUgXCIuY29uY2F0KG1hdGNoWzFdLCBcIiBmb3IgaW50ZXJwb2xhdGluZyBcIikuY29uY2F0KHN0cikpO1xuXG4gICAgICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnICYmICFfdGhpcy51c2VSYXdWYWx1ZVRvRXNjYXBlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG1ha2VTdHJpbmcodmFsdWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKG1hdGNoWzBdLCB0b2RvLnNhZmVWYWx1ZSh2YWx1ZSkpO1xuICAgICAgICAgIHRvZG8ucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICByZXBsYWNlcysrO1xuXG4gICAgICAgICAgaWYgKHJlcGxhY2VzID49IF90aGlzLm1heFJlcGxhY2VzKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibmVzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuZXN0KHN0ciwgZmMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgICB2YXIgbWF0Y2g7XG4gICAgICB2YXIgdmFsdWU7XG5cbiAgICAgIHZhciBjbG9uZWRPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucyk7XG5cbiAgICAgIGNsb25lZE9wdGlvbnMuYXBwbHlQb3N0UHJvY2Vzc29yID0gZmFsc2U7XG4gICAgICBkZWxldGUgY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWU7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUhhc09wdGlvbnMoa2V5LCBpbmhlcml0ZWRPcHRpb25zKSB7XG4gICAgICAgIHZhciBzZXAgPSB0aGlzLm5lc3RpbmdPcHRpb25zU2VwYXJhdG9yO1xuICAgICAgICBpZiAoa2V5LmluZGV4T2Yoc2VwKSA8IDApIHJldHVybiBrZXk7XG4gICAgICAgIHZhciBjID0ga2V5LnNwbGl0KG5ldyBSZWdFeHAoXCJcIi5jb25jYXQoc2VwLCBcIlsgXSp7XCIpKSk7XG4gICAgICAgIHZhciBvcHRpb25zU3RyaW5nID0gXCJ7XCIuY29uY2F0KGNbMV0pO1xuICAgICAgICBrZXkgPSBjWzBdO1xuICAgICAgICBvcHRpb25zU3RyaW5nID0gdGhpcy5pbnRlcnBvbGF0ZShvcHRpb25zU3RyaW5nLCBjbG9uZWRPcHRpb25zKTtcbiAgICAgICAgb3B0aW9uc1N0cmluZyA9IG9wdGlvbnNTdHJpbmcucmVwbGFjZSgvJy9nLCAnXCInKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNsb25lZE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnNTdHJpbmcpO1xuICAgICAgICAgIGlmIChpbmhlcml0ZWRPcHRpb25zKSBjbG9uZWRPcHRpb25zID0gX29iamVjdFNwcmVhZCh7fSwgaW5oZXJpdGVkT3B0aW9ucywgY2xvbmVkT3B0aW9ucyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwiZmFpbGVkIHBhcnNpbmcgb3B0aW9ucyBzdHJpbmcgaW4gbmVzdGluZyBmb3Iga2V5IFwiLmNvbmNhdChrZXkpLCBlKTtcbiAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoa2V5KS5jb25jYXQoc2VwKS5jb25jYXQob3B0aW9uc1N0cmluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgY2xvbmVkT3B0aW9ucy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChtYXRjaCA9IHRoaXMubmVzdGluZ1JlZ2V4cC5leGVjKHN0cikpIHtcbiAgICAgICAgdmFyIGZvcm1hdHRlcnMgPSBbXTtcbiAgICAgICAgdmFyIGRvUmVkdWNlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKG1hdGNoWzBdLmluY2x1ZGVzKHRoaXMuZm9ybWF0U2VwYXJhdG9yKSAmJiAhL3suKn0vLnRlc3QobWF0Y2hbMV0pKSB7XG4gICAgICAgICAgdmFyIHIgPSBtYXRjaFsxXS5zcGxpdCh0aGlzLmZvcm1hdFNlcGFyYXRvcikubWFwKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbS50cmltKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbWF0Y2hbMV0gPSByLnNoaWZ0KCk7XG4gICAgICAgICAgZm9ybWF0dGVycyA9IHI7XG4gICAgICAgICAgZG9SZWR1Y2UgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsdWUgPSBmYyhoYW5kbGVIYXNPcHRpb25zLmNhbGwodGhpcywgbWF0Y2hbMV0udHJpbSgpLCBjbG9uZWRPcHRpb25zKSwgY2xvbmVkT3B0aW9ucyk7XG4gICAgICAgIGlmICh2YWx1ZSAmJiBtYXRjaFswXSA9PT0gc3RyICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHZhbHVlID0gbWFrZVN0cmluZyh2YWx1ZSk7XG5cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJtaXNzZWQgdG8gcmVzb2x2ZSBcIi5jb25jYXQobWF0Y2hbMV0sIFwiIGZvciBuZXN0aW5nIFwiKS5jb25jYXQoc3RyKSk7XG4gICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb1JlZHVjZSkge1xuICAgICAgICAgIHZhbHVlID0gZm9ybWF0dGVycy5yZWR1Y2UoZnVuY3Rpb24gKHYsIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuZm9ybWF0KHYsIGYsIG9wdGlvbnMubG5nLCBvcHRpb25zKTtcbiAgICAgICAgICB9LCB2YWx1ZS50cmltKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UobWF0Y2hbMF0sIHZhbHVlKTtcbiAgICAgICAgdGhpcy5yZWdleHAubGFzdEluZGV4ID0gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSW50ZXJwb2xhdG9yO1xufSgpO1xuXG5mdW5jdGlvbiByZW1vdmUoYXJyLCB3aGF0KSB7XG4gIHZhciBmb3VuZCA9IGFyci5pbmRleE9mKHdoYXQpO1xuXG4gIHdoaWxlIChmb3VuZCAhPT0gLTEpIHtcbiAgICBhcnIuc3BsaWNlKGZvdW5kLCAxKTtcbiAgICBmb3VuZCA9IGFyci5pbmRleE9mKHdoYXQpO1xuICB9XG59XG5cbnZhciBDb25uZWN0b3IgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikge1xuICBfaW5oZXJpdHMoQ29ubmVjdG9yLCBfRXZlbnRFbWl0dGVyKTtcblxuICBmdW5jdGlvbiBDb25uZWN0b3IoYmFja2VuZCwgc3RvcmUsIHNlcnZpY2VzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbm5lY3Rvcik7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihDb25uZWN0b3IpLmNhbGwodGhpcykpO1xuXG4gICAgaWYgKGlzSUUxMCkge1xuICAgICAgRXZlbnRFbWl0dGVyLmNhbGwoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgIH1cblxuICAgIF90aGlzLmJhY2tlbmQgPSBiYWNrZW5kO1xuICAgIF90aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgX3RoaXMuc2VydmljZXMgPSBzZXJ2aWNlcztcbiAgICBfdGhpcy5sYW5ndWFnZVV0aWxzID0gc2VydmljZXMubGFuZ3VhZ2VVdGlscztcbiAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICBfdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyLmNyZWF0ZSgnYmFja2VuZENvbm5lY3RvcicpO1xuICAgIF90aGlzLnN0YXRlID0ge307XG4gICAgX3RoaXMucXVldWUgPSBbXTtcblxuICAgIGlmIChfdGhpcy5iYWNrZW5kICYmIF90aGlzLmJhY2tlbmQuaW5pdCkge1xuICAgICAgX3RoaXMuYmFja2VuZC5pbml0KHNlcnZpY2VzLCBvcHRpb25zLmJhY2tlbmQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb25uZWN0b3IsIFt7XG4gICAga2V5OiBcInF1ZXVlTG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBxdWV1ZUxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciB0b0xvYWQgPSBbXTtcbiAgICAgIHZhciBwZW5kaW5nID0gW107XG4gICAgICB2YXIgdG9Mb2FkTGFuZ3VhZ2VzID0gW107XG4gICAgICB2YXIgdG9Mb2FkTmFtZXNwYWNlcyA9IFtdO1xuICAgICAgbGFuZ3VhZ2VzLmZvckVhY2goZnVuY3Rpb24gKGxuZykge1xuICAgICAgICB2YXIgaGFzQWxsTmFtZXNwYWNlcyA9IHRydWU7XG4gICAgICAgIG5hbWVzcGFjZXMuZm9yRWFjaChmdW5jdGlvbiAobnMpIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IFwiXCIuY29uY2F0KGxuZywgXCJ8XCIpLmNvbmNhdChucyk7XG5cbiAgICAgICAgICBpZiAoIW9wdGlvbnMucmVsb2FkICYmIF90aGlzMi5zdG9yZS5oYXNSZXNvdXJjZUJ1bmRsZShsbmcsIG5zKSkge1xuICAgICAgICAgICAgX3RoaXMyLnN0YXRlW25hbWVdID0gMjtcbiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5zdGF0ZVtuYW1lXSA8IDApIDsgZWxzZSBpZiAoX3RoaXMyLnN0YXRlW25hbWVdID09PSAxKSB7XG4gICAgICAgICAgICBpZiAocGVuZGluZy5pbmRleE9mKG5hbWUpIDwgMCkgcGVuZGluZy5wdXNoKG5hbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczIuc3RhdGVbbmFtZV0gPSAxO1xuICAgICAgICAgICAgaGFzQWxsTmFtZXNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcuaW5kZXhPZihuYW1lKSA8IDApIHBlbmRpbmcucHVzaChuYW1lKTtcbiAgICAgICAgICAgIGlmICh0b0xvYWQuaW5kZXhPZihuYW1lKSA8IDApIHRvTG9hZC5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgaWYgKHRvTG9hZE5hbWVzcGFjZXMuaW5kZXhPZihucykgPCAwKSB0b0xvYWROYW1lc3BhY2VzLnB1c2gobnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghaGFzQWxsTmFtZXNwYWNlcykgdG9Mb2FkTGFuZ3VhZ2VzLnB1c2gobG5nKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodG9Mb2FkLmxlbmd0aCB8fCBwZW5kaW5nLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goe1xuICAgICAgICAgIHBlbmRpbmc6IHBlbmRpbmcsXG4gICAgICAgICAgbG9hZGVkOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9Mb2FkOiB0b0xvYWQsXG4gICAgICAgIHBlbmRpbmc6IHBlbmRpbmcsXG4gICAgICAgIHRvTG9hZExhbmd1YWdlczogdG9Mb2FkTGFuZ3VhZ2VzLFxuICAgICAgICB0b0xvYWROYW1lc3BhY2VzOiB0b0xvYWROYW1lc3BhY2VzXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb2FkZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZGVkKG5hbWUsIGVyciwgZGF0YSkge1xuICAgICAgdmFyIHMgPSBuYW1lLnNwbGl0KCd8Jyk7XG4gICAgICB2YXIgbG5nID0gc1swXTtcbiAgICAgIHZhciBucyA9IHNbMV07XG4gICAgICBpZiAoZXJyKSB0aGlzLmVtaXQoJ2ZhaWxlZExvYWRpbmcnLCBsbmcsIG5zLCBlcnIpO1xuXG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICB0aGlzLnN0b3JlLmFkZFJlc291cmNlQnVuZGxlKGxuZywgbnMsIGRhdGEpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRlW25hbWVdID0gZXJyID8gLTEgOiAyO1xuICAgICAgdmFyIGxvYWRlZCA9IHt9O1xuICAgICAgdGhpcy5xdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChxKSB7XG4gICAgICAgIHB1c2hQYXRoKHEubG9hZGVkLCBbbG5nXSwgbnMpO1xuICAgICAgICByZW1vdmUocS5wZW5kaW5nLCBuYW1lKTtcbiAgICAgICAgaWYgKGVycikgcS5lcnJvcnMucHVzaChlcnIpO1xuXG4gICAgICAgIGlmIChxLnBlbmRpbmcubGVuZ3RoID09PSAwICYmICFxLmRvbmUpIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyhxLmxvYWRlZCkuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgaWYgKCFsb2FkZWRbbF0pIGxvYWRlZFtsXSA9IFtdO1xuXG4gICAgICAgICAgICBpZiAocS5sb2FkZWRbbF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHEubG9hZGVkW2xdLmZvckVhY2goZnVuY3Rpb24gKG5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvYWRlZFtsXS5pbmRleE9mKG5zKSA8IDApIGxvYWRlZFtsXS5wdXNoKG5zKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcS5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIGlmIChxLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHEuY2FsbGJhY2socS5lcnJvcnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxLmNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZW1pdCgnbG9hZGVkJywgbG9hZGVkKTtcbiAgICAgIHRoaXMucXVldWUgPSB0aGlzLnF1ZXVlLmZpbHRlcihmdW5jdGlvbiAocSkge1xuICAgICAgICByZXR1cm4gIXEuZG9uZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWQobG5nLCBucywgZmNOYW1lKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHRyaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAwO1xuICAgICAgdmFyIHdhaXQgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDM1MDtcbiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiA1ID8gYXJndW1lbnRzWzVdIDogdW5kZWZpbmVkO1xuICAgICAgaWYgKCFsbmcubGVuZ3RoKSByZXR1cm4gY2FsbGJhY2sobnVsbCwge30pO1xuICAgICAgcmV0dXJuIHRoaXMuYmFja2VuZFtmY05hbWVdKGxuZywgbnMsIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgaWYgKGVyciAmJiBkYXRhICYmIHRyaWVkIDwgNSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMzLnJlYWQuY2FsbChfdGhpczMsIGxuZywgbnMsIGZjTmFtZSwgdHJpZWQgKyAxLCB3YWl0ICogMiwgY2FsbGJhY2spO1xuICAgICAgICAgIH0sIHdhaXQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNhbGxiYWNrKGVyciwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicHJlcGFyZUxvYWRpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgPyBhcmd1bWVudHNbM10gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICghdGhpcy5iYWNrZW5kKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ05vIGJhY2tlbmQgd2FzIGFkZGVkIHZpYSBpMThuZXh0LnVzZS4gV2lsbCBub3QgbG9hZCByZXNvdXJjZXMuJyk7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGxhbmd1YWdlcyA9PT0gJ3N0cmluZycpIGxhbmd1YWdlcyA9IHRoaXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobGFuZ3VhZ2VzKTtcbiAgICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycpIG5hbWVzcGFjZXMgPSBbbmFtZXNwYWNlc107XG4gICAgICB2YXIgdG9Mb2FkID0gdGhpcy5xdWV1ZUxvYWQobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCBvcHRpb25zLCBjYWxsYmFjayk7XG5cbiAgICAgIGlmICghdG9Mb2FkLnRvTG9hZC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCF0b0xvYWQucGVuZGluZy5sZW5ndGgpIGNhbGxiYWNrKCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB0b0xvYWQudG9Mb2FkLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgX3RoaXM0LmxvYWRPbmUobmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMucHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCB7fSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWxvYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVsb2FkKGxhbmd1YWdlcywgbmFtZXNwYWNlcywgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMucHJlcGFyZUxvYWRpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2VzLCB7XG4gICAgICAgIHJlbG9hZDogdHJ1ZVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsb2FkT25lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRPbmUobmFtZSkge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciBwcmVmaXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuICAgICAgdmFyIHMgPSBuYW1lLnNwbGl0KCd8Jyk7XG4gICAgICB2YXIgbG5nID0gc1swXTtcbiAgICAgIHZhciBucyA9IHNbMV07XG4gICAgICB0aGlzLnJlYWQobG5nLCBucywgJ3JlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyKSBfdGhpczUubG9nZ2VyLndhcm4oXCJcIi5jb25jYXQocHJlZml4LCBcImxvYWRpbmcgbmFtZXNwYWNlIFwiKS5jb25jYXQobnMsIFwiIGZvciBsYW5ndWFnZSBcIikuY29uY2F0KGxuZywgXCIgZmFpbGVkXCIpLCBlcnIpO1xuICAgICAgICBpZiAoIWVyciAmJiBkYXRhKSBfdGhpczUubG9nZ2VyLmxvZyhcIlwiLmNvbmNhdChwcmVmaXgsIFwibG9hZGVkIG5hbWVzcGFjZSBcIikuY29uY2F0KG5zLCBcIiBmb3IgbGFuZ3VhZ2UgXCIpLmNvbmNhdChsbmcpLCBkYXRhKTtcblxuICAgICAgICBfdGhpczUubG9hZGVkKG5hbWUsIGVyciwgZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2F2ZU1pc3NpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZU1pc3NpbmcobGFuZ3VhZ2VzLCBuYW1lc3BhY2UsIGtleSwgZmFsbGJhY2tWYWx1ZSwgaXNVcGRhdGUpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiB7fTtcblxuICAgICAgaWYgKHRoaXMuc2VydmljZXMudXRpbHMgJiYgdGhpcy5zZXJ2aWNlcy51dGlscy5oYXNMb2FkZWROYW1lc3BhY2UgJiYgIXRoaXMuc2VydmljZXMudXRpbHMuaGFzTG9hZGVkTmFtZXNwYWNlKG5hbWVzcGFjZSkpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcImRpZCBub3Qgc2F2ZSBrZXkgXFxcIlwiLmNvbmNhdChrZXksIFwiXFxcIiBhcyB0aGUgbmFtZXNwYWNlIFxcXCJcIikuY29uY2F0KG5hbWVzcGFjZSwgXCJcXFwiIHdhcyBub3QgeWV0IGxvYWRlZFwiKSwgJ1RoaXMgbWVhbnMgc29tZXRoaW5nIElTIFdST05HIGluIHlvdXIgc2V0dXAuIFlvdSBhY2Nlc3MgdGhlIHQgZnVuY3Rpb24gYmVmb3JlIGkxOG5leHQuaW5pdCAvIGkxOG5leHQubG9hZE5hbWVzcGFjZSAvIGkxOG5leHQuY2hhbmdlTGFuZ3VhZ2Ugd2FzIGRvbmUuIFdhaXQgZm9yIHRoZSBjYWxsYmFjayBvciBQcm9taXNlIHRvIHJlc29sdmUgYmVmb3JlIGFjY2Vzc2luZyBpdCEhIScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCB8fCBrZXkgPT09IG51bGwgfHwga2V5ID09PSAnJykgcmV0dXJuO1xuXG4gICAgICBpZiAodGhpcy5iYWNrZW5kICYmIHRoaXMuYmFja2VuZC5jcmVhdGUpIHtcbiAgICAgICAgdGhpcy5iYWNrZW5kLmNyZWF0ZShsYW5ndWFnZXMsIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlLCBudWxsLCBfb2JqZWN0U3ByZWFkKHt9LCBvcHRpb25zLCB7XG4gICAgICAgICAgaXNVcGRhdGU6IGlzVXBkYXRlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFsYW5ndWFnZXMgfHwgIWxhbmd1YWdlc1swXSkgcmV0dXJuO1xuICAgICAgdGhpcy5zdG9yZS5hZGRSZXNvdXJjZShsYW5ndWFnZXNbMF0sIG5hbWVzcGFjZSwga2V5LCBmYWxsYmFja1ZhbHVlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29ubmVjdG9yO1xufShFdmVudEVtaXR0ZXIpO1xuXG5mdW5jdGlvbiBnZXQoKSB7XG4gIHJldHVybiB7XG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGluaXRJbW1lZGlhdGU6IHRydWUsXG4gICAgbnM6IFsndHJhbnNsYXRpb24nXSxcbiAgICBkZWZhdWx0TlM6IFsndHJhbnNsYXRpb24nXSxcbiAgICBmYWxsYmFja0xuZzogWydkZXYnXSxcbiAgICBmYWxsYmFja05TOiBmYWxzZSxcbiAgICB3aGl0ZWxpc3Q6IGZhbHNlLFxuICAgIG5vbkV4cGxpY2l0V2hpdGVsaXN0OiBmYWxzZSxcbiAgICBzdXBwb3J0ZWRMbmdzOiBmYWxzZSxcbiAgICBub25FeHBsaWNpdFN1cHBvcnRlZExuZ3M6IGZhbHNlLFxuICAgIGxvYWQ6ICdhbGwnLFxuICAgIHByZWxvYWQ6IGZhbHNlLFxuICAgIHNpbXBsaWZ5UGx1cmFsU3VmZml4OiB0cnVlLFxuICAgIGtleVNlcGFyYXRvcjogJy4nLFxuICAgIG5zU2VwYXJhdG9yOiAnOicsXG4gICAgcGx1cmFsU2VwYXJhdG9yOiAnXycsXG4gICAgY29udGV4dFNlcGFyYXRvcjogJ18nLFxuICAgIHBhcnRpYWxCdW5kbGVkTGFuZ3VhZ2VzOiBmYWxzZSxcbiAgICBzYXZlTWlzc2luZzogZmFsc2UsXG4gICAgdXBkYXRlTWlzc2luZzogZmFsc2UsXG4gICAgc2F2ZU1pc3NpbmdUbzogJ2ZhbGxiYWNrJyxcbiAgICBzYXZlTWlzc2luZ1BsdXJhbHM6IHRydWUsXG4gICAgbWlzc2luZ0tleUhhbmRsZXI6IGZhbHNlLFxuICAgIG1pc3NpbmdJbnRlcnBvbGF0aW9uSGFuZGxlcjogZmFsc2UsXG4gICAgcG9zdFByb2Nlc3M6IGZhbHNlLFxuICAgIHBvc3RQcm9jZXNzUGFzc1Jlc29sdmVkOiBmYWxzZSxcbiAgICByZXR1cm5OdWxsOiB0cnVlLFxuICAgIHJldHVybkVtcHR5U3RyaW5nOiB0cnVlLFxuICAgIHJldHVybk9iamVjdHM6IGZhbHNlLFxuICAgIGpvaW5BcnJheXM6IGZhbHNlLFxuICAgIHJldHVybmVkT2JqZWN0SGFuZGxlcjogZmFsc2UsXG4gICAgcGFyc2VNaXNzaW5nS2V5SGFuZGxlcjogZmFsc2UsXG4gICAgYXBwZW5kTmFtZXNwYWNlVG9NaXNzaW5nS2V5OiBmYWxzZSxcbiAgICBhcHBlbmROYW1lc3BhY2VUb0NJTW9kZTogZmFsc2UsXG4gICAgb3ZlcmxvYWRUcmFuc2xhdGlvbk9wdGlvbkhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZShhcmdzKSB7XG4gICAgICB2YXIgcmV0ID0ge307XG4gICAgICBpZiAoX3R5cGVvZihhcmdzWzFdKSA9PT0gJ29iamVjdCcpIHJldCA9IGFyZ3NbMV07XG4gICAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdzdHJpbmcnKSByZXQuZGVmYXVsdFZhbHVlID0gYXJnc1sxXTtcbiAgICAgIGlmICh0eXBlb2YgYXJnc1syXSA9PT0gJ3N0cmluZycpIHJldC50RGVzY3JpcHRpb24gPSBhcmdzWzJdO1xuXG4gICAgICBpZiAoX3R5cGVvZihhcmdzWzJdKSA9PT0gJ29iamVjdCcgfHwgX3R5cGVvZihhcmdzWzNdKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmdzWzNdIHx8IGFyZ3NbMl07XG4gICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldFtrZXldID0gb3B0aW9uc1trZXldO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIGludGVycG9sYXRpb246IHtcbiAgICAgIGVzY2FwZVZhbHVlOiB0cnVlLFxuICAgICAgZm9ybWF0OiBmdW5jdGlvbiBmb3JtYXQodmFsdWUsIF9mb3JtYXQsIGxuZywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9LFxuICAgICAgcHJlZml4OiAne3snLFxuICAgICAgc3VmZml4OiAnfX0nLFxuICAgICAgZm9ybWF0U2VwYXJhdG9yOiAnLCcsXG4gICAgICB1bmVzY2FwZVByZWZpeDogJy0nLFxuICAgICAgbmVzdGluZ1ByZWZpeDogJyR0KCcsXG4gICAgICBuZXN0aW5nU3VmZml4OiAnKScsXG4gICAgICBuZXN0aW5nT3B0aW9uc1NlcGFyYXRvcjogJywnLFxuICAgICAgbWF4UmVwbGFjZXM6IDEwMDAsXG4gICAgICBza2lwT25WYXJpYWJsZXM6IGZhbHNlXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtT3B0aW9ucyhvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5ucyA9PT0gJ3N0cmluZycpIG9wdGlvbnMubnMgPSBbb3B0aW9ucy5uc107XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5mYWxsYmFja0xuZyA9PT0gJ3N0cmluZycpIG9wdGlvbnMuZmFsbGJhY2tMbmcgPSBbb3B0aW9ucy5mYWxsYmFja0xuZ107XG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5mYWxsYmFja05TID09PSAnc3RyaW5nJykgb3B0aW9ucy5mYWxsYmFja05TID0gW29wdGlvbnMuZmFsbGJhY2tOU107XG5cbiAgaWYgKG9wdGlvbnMud2hpdGVsaXN0KSB7XG4gICAgaWYgKG9wdGlvbnMud2hpdGVsaXN0ICYmIG9wdGlvbnMud2hpdGVsaXN0LmluZGV4T2YoJ2NpbW9kZScpIDwgMCkge1xuICAgICAgb3B0aW9ucy53aGl0ZWxpc3QgPSBvcHRpb25zLndoaXRlbGlzdC5jb25jYXQoWydjaW1vZGUnXSk7XG4gICAgfVxuXG4gICAgb3B0aW9ucy5zdXBwb3J0ZWRMbmdzID0gb3B0aW9ucy53aGl0ZWxpc3Q7XG4gIH1cblxuICBpZiAob3B0aW9ucy5ub25FeHBsaWNpdFdoaXRlbGlzdCkge1xuICAgIG9wdGlvbnMubm9uRXhwbGljaXRTdXBwb3J0ZWRMbmdzID0gb3B0aW9ucy5ub25FeHBsaWNpdFdoaXRlbGlzdDtcbiAgfVxuXG4gIGlmIChvcHRpb25zLnN1cHBvcnRlZExuZ3MgJiYgb3B0aW9ucy5zdXBwb3J0ZWRMbmdzLmluZGV4T2YoJ2NpbW9kZScpIDwgMCkge1xuICAgIG9wdGlvbnMuc3VwcG9ydGVkTG5ncyA9IG9wdGlvbnMuc3VwcG9ydGVkTG5ncy5jb25jYXQoWydjaW1vZGUnXSk7XG4gIH1cblxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBJMThuID0gZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKEkxOG4sIF9FdmVudEVtaXR0ZXIpO1xuXG4gIGZ1bmN0aW9uIEkxOG4oKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEkxOG4pO1xuXG4gICAgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfZ2V0UHJvdG90eXBlT2YoSTE4bikuY2FsbCh0aGlzKSk7XG5cbiAgICBpZiAoaXNJRTEwKSB7XG4gICAgICBFdmVudEVtaXR0ZXIuY2FsbChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSk7XG4gICAgfVxuXG4gICAgX3RoaXMub3B0aW9ucyA9IHRyYW5zZm9ybU9wdGlvbnMob3B0aW9ucyk7XG4gICAgX3RoaXMuc2VydmljZXMgPSB7fTtcbiAgICBfdGhpcy5sb2dnZXIgPSBiYXNlTG9nZ2VyO1xuICAgIF90aGlzLm1vZHVsZXMgPSB7XG4gICAgICBleHRlcm5hbDogW11cbiAgICB9O1xuXG4gICAgaWYgKGNhbGxiYWNrICYmICFfdGhpcy5pc0luaXRpYWxpemVkICYmICFvcHRpb25zLmlzQ2xvbmUpIHtcbiAgICAgIGlmICghX3RoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlKSB7XG4gICAgICAgIF90aGlzLmluaXQob3B0aW9ucywgY2FsbGJhY2spO1xuXG4gICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuaW5pdChvcHRpb25zLCBjYWxsYmFjayk7XG4gICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoSTE4biwgW3tcbiAgICBrZXk6IFwiaW5pdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLndoaXRlbGlzdCAmJiAhb3B0aW9ucy5zdXBwb3J0ZWRMbmdzKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlcHJlY2F0ZSgnd2hpdGVsaXN0JywgJ29wdGlvbiBcIndoaXRlbGlzdFwiIHdpbGwgYmUgcmVuYW1lZCB0byBcInN1cHBvcnRlZExuZ3NcIiBpbiB0aGUgbmV4dCBtYWpvciAtIHBsZWFzZSBtYWtlIHN1cmUgdG8gcmVuYW1lIHRoaXMgb3B0aW9uIGFzYXAuJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLm5vbkV4cGxpY2l0V2hpdGVsaXN0ICYmICFvcHRpb25zLm5vbkV4cGxpY2l0U3VwcG9ydGVkTG5ncykge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZXByZWNhdGUoJ3doaXRlbGlzdCcsICdvcHRpb25zIFwibm9uRXhwbGljaXRXaGl0ZWxpc3RcIiB3aWxsIGJlIHJlbmFtZWQgdG8gXCJub25FeHBsaWNpdFN1cHBvcnRlZExuZ3NcIiBpbiB0aGUgbmV4dCBtYWpvciAtIHBsZWFzZSBtYWtlIHN1cmUgdG8gcmVuYW1lIHRoaXMgb3B0aW9uIGFzYXAuJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoe30sIGdldCgpLCB0aGlzLm9wdGlvbnMsIHRyYW5zZm9ybU9wdGlvbnMob3B0aW9ucykpO1xuICAgICAgdGhpcy5mb3JtYXQgPSB0aGlzLm9wdGlvbnMuaW50ZXJwb2xhdGlvbi5mb3JtYXQ7XG4gICAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IG5vb3A7XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzT25EZW1hbmQoQ2xhc3NPck9iamVjdCkge1xuICAgICAgICBpZiAoIUNsYXNzT3JPYmplY3QpIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIENsYXNzT3JPYmplY3QgPT09ICdmdW5jdGlvbicpIHJldHVybiBuZXcgQ2xhc3NPck9iamVjdCgpO1xuICAgICAgICByZXR1cm4gQ2xhc3NPck9iamVjdDtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaXNDbG9uZSkge1xuICAgICAgICBpZiAodGhpcy5tb2R1bGVzLmxvZ2dlcikge1xuICAgICAgICAgIGJhc2VMb2dnZXIuaW5pdChjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5sb2dnZXIpLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJhc2VMb2dnZXIuaW5pdChudWxsLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGx1ID0gbmV3IExhbmd1YWdlVXRpbCh0aGlzLm9wdGlvbnMpO1xuICAgICAgICB0aGlzLnN0b3JlID0gbmV3IFJlc291cmNlU3RvcmUodGhpcy5vcHRpb25zLnJlc291cmNlcywgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgdmFyIHMgPSB0aGlzLnNlcnZpY2VzO1xuICAgICAgICBzLmxvZ2dlciA9IGJhc2VMb2dnZXI7XG4gICAgICAgIHMucmVzb3VyY2VTdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICAgIHMubGFuZ3VhZ2VVdGlscyA9IGx1O1xuICAgICAgICBzLnBsdXJhbFJlc29sdmVyID0gbmV3IFBsdXJhbFJlc29sdmVyKGx1LCB7XG4gICAgICAgICAgcHJlcGVuZDogdGhpcy5vcHRpb25zLnBsdXJhbFNlcGFyYXRvcixcbiAgICAgICAgICBjb21wYXRpYmlsaXR5SlNPTjogdGhpcy5vcHRpb25zLmNvbXBhdGliaWxpdHlKU09OLFxuICAgICAgICAgIHNpbXBsaWZ5UGx1cmFsU3VmZml4OiB0aGlzLm9wdGlvbnMuc2ltcGxpZnlQbHVyYWxTdWZmaXhcbiAgICAgICAgfSk7XG4gICAgICAgIHMuaW50ZXJwb2xhdG9yID0gbmV3IEludGVycG9sYXRvcih0aGlzLm9wdGlvbnMpO1xuICAgICAgICBzLnV0aWxzID0ge1xuICAgICAgICAgIGhhc0xvYWRlZE5hbWVzcGFjZTogdGhpcy5oYXNMb2FkZWROYW1lc3BhY2UuYmluZCh0aGlzKVxuICAgICAgICB9O1xuICAgICAgICBzLmJhY2tlbmRDb25uZWN0b3IgPSBuZXcgQ29ubmVjdG9yKGNyZWF0ZUNsYXNzT25EZW1hbmQodGhpcy5tb2R1bGVzLmJhY2tlbmQpLCBzLnJlc291cmNlU3RvcmUsIHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHMuYmFja2VuZENvbm5lY3Rvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMi5lbWl0LmFwcGx5KF90aGlzMiwgW2V2ZW50XS5jb25jYXQoYXJncykpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IpIHtcbiAgICAgICAgICBzLmxhbmd1YWdlRGV0ZWN0b3IgPSBjcmVhdGVDbGFzc09uRGVtYW5kKHRoaXMubW9kdWxlcy5sYW5ndWFnZURldGVjdG9yKTtcbiAgICAgICAgICBzLmxhbmd1YWdlRGV0ZWN0b3IuaW5pdChzLCB0aGlzLm9wdGlvbnMuZGV0ZWN0aW9uLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubW9kdWxlcy5pMThuRm9ybWF0KSB7XG4gICAgICAgICAgcy5pMThuRm9ybWF0ID0gY3JlYXRlQ2xhc3NPbkRlbWFuZCh0aGlzLm1vZHVsZXMuaTE4bkZvcm1hdCk7XG4gICAgICAgICAgaWYgKHMuaTE4bkZvcm1hdC5pbml0KSBzLmkxOG5Gb3JtYXQuaW5pdCh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhbnNsYXRvciA9IG5ldyBUcmFuc2xhdG9yKHRoaXMuc2VydmljZXMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMudHJhbnNsYXRvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIF90aGlzMi5lbWl0LmFwcGx5KF90aGlzMiwgW2V2ZW50XS5jb25jYXQoYXJncykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tb2R1bGVzLmV4dGVybmFsLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICBpZiAobS5pbml0KSBtLmluaXQoX3RoaXMyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yICYmICF0aGlzLm9wdGlvbnMubG5nKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2luaXQ6IG5vIGxhbmd1YWdlRGV0ZWN0b3IgaXMgdXNlZCBhbmQgbm8gbG5nIGlzIGRlZmluZWQnKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0b3JlQXBpID0gWydnZXRSZXNvdXJjZScsICdoYXNSZXNvdXJjZUJ1bmRsZScsICdnZXRSZXNvdXJjZUJ1bmRsZScsICdnZXREYXRhQnlMYW5ndWFnZSddO1xuICAgICAgc3RvcmVBcGkuZm9yRWFjaChmdW5jdGlvbiAoZmNOYW1lKSB7XG4gICAgICAgIF90aGlzMltmY05hbWVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBfdGhpczIkc3RvcmU7XG5cbiAgICAgICAgICByZXR1cm4gKF90aGlzMiRzdG9yZSA9IF90aGlzMi5zdG9yZSlbZmNOYW1lXS5hcHBseShfdGhpczIkc3RvcmUsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHZhciBzdG9yZUFwaUNoYWluZWQgPSBbJ2FkZFJlc291cmNlJywgJ2FkZFJlc291cmNlcycsICdhZGRSZXNvdXJjZUJ1bmRsZScsICdyZW1vdmVSZXNvdXJjZUJ1bmRsZSddO1xuICAgICAgc3RvcmVBcGlDaGFpbmVkLmZvckVhY2goZnVuY3Rpb24gKGZjTmFtZSkge1xuICAgICAgICBfdGhpczJbZmNOYW1lXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgX3RoaXMyJHN0b3JlMjtcblxuICAgICAgICAgIChfdGhpczIkc3RvcmUyID0gX3RoaXMyLnN0b3JlKVtmY05hbWVdLmFwcGx5KF90aGlzMiRzdG9yZTIsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICByZXR1cm4gX3RoaXMyO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuXG4gICAgICB2YXIgbG9hZCA9IGZ1bmN0aW9uIGxvYWQoKSB7XG4gICAgICAgIF90aGlzMi5jaGFuZ2VMYW5ndWFnZShfdGhpczIub3B0aW9ucy5sbmcsIGZ1bmN0aW9uIChlcnIsIHQpIHtcbiAgICAgICAgICBfdGhpczIuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgaWYgKCFfdGhpczIub3B0aW9ucy5pc0Nsb25lKSBfdGhpczIubG9nZ2VyLmxvZygnaW5pdGlhbGl6ZWQnLCBfdGhpczIub3B0aW9ucyk7XG5cbiAgICAgICAgICBfdGhpczIuZW1pdCgnaW5pdGlhbGl6ZWQnLCBfdGhpczIub3B0aW9ucyk7XG5cbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHQpO1xuICAgICAgICAgIGNhbGxiYWNrKGVyciwgdCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXNvdXJjZXMgfHwgIXRoaXMub3B0aW9ucy5pbml0SW1tZWRpYXRlKSB7XG4gICAgICAgIGxvYWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQobG9hZCwgMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZFJlc291cmNlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkUmVzb3VyY2VzKGxhbmd1YWdlKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBub29wO1xuICAgICAgdmFyIHVzZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgdmFyIHVzZWRMbmcgPSB0eXBlb2YgbGFuZ3VhZ2UgPT09ICdzdHJpbmcnID8gbGFuZ3VhZ2UgOiB0aGlzLmxhbmd1YWdlO1xuICAgICAgaWYgKHR5cGVvZiBsYW5ndWFnZSA9PT0gJ2Z1bmN0aW9uJykgdXNlZENhbGxiYWNrID0gbGFuZ3VhZ2U7XG5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLnJlc291cmNlcyB8fCB0aGlzLm9wdGlvbnMucGFydGlhbEJ1bmRsZWRMYW5ndWFnZXMpIHtcbiAgICAgICAgaWYgKHVzZWRMbmcgJiYgdXNlZExuZy50b0xvd2VyQ2FzZSgpID09PSAnY2ltb2RlJykgcmV0dXJuIHVzZWRDYWxsYmFjaygpO1xuICAgICAgICB2YXIgdG9Mb2FkID0gW107XG5cbiAgICAgICAgdmFyIGFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChsbmcpIHtcbiAgICAgICAgICBpZiAoIWxuZykgcmV0dXJuO1xuXG4gICAgICAgICAgdmFyIGxuZ3MgPSBfdGhpczMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy50b1Jlc29sdmVIaWVyYXJjaHkobG5nKTtcblxuICAgICAgICAgIGxuZ3MuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgaWYgKHRvTG9hZC5pbmRleE9mKGwpIDwgMCkgdG9Mb2FkLnB1c2gobCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF1c2VkTG5nKSB7XG4gICAgICAgICAgdmFyIGZhbGxiYWNrcyA9IHRoaXMuc2VydmljZXMubGFuZ3VhZ2VVdGlscy5nZXRGYWxsYmFja0NvZGVzKHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyk7XG4gICAgICAgICAgZmFsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBlbmQobCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXBwZW5kKHVzZWRMbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wcmVsb2FkKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLnByZWxvYWQuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwcGVuZChsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5sb2FkKHRvTG9hZCwgdGhpcy5vcHRpb25zLm5zLCB1c2VkQ2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlZENhbGxiYWNrKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJyZWxvYWRSZXNvdXJjZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVsb2FkUmVzb3VyY2VzKGxuZ3MsIG5zLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICAgIGlmICghbG5ncykgbG5ncyA9IHRoaXMubGFuZ3VhZ2VzO1xuICAgICAgaWYgKCFucykgbnMgPSB0aGlzLm9wdGlvbnMubnM7XG4gICAgICBpZiAoIWNhbGxiYWNrKSBjYWxsYmFjayA9IG5vb3A7XG4gICAgICB0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IucmVsb2FkKGxuZ3MsIG5zLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZmVycmVkO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXNlKG1vZHVsZSkge1xuICAgICAgaWYgKCFtb2R1bGUpIHRocm93IG5ldyBFcnJvcignWW91IGFyZSBwYXNzaW5nIGFuIHVuZGVmaW5lZCBtb2R1bGUhIFBsZWFzZSBjaGVjayB0aGUgb2JqZWN0IHlvdSBhcmUgcGFzc2luZyB0byBpMThuZXh0LnVzZSgpJyk7XG4gICAgICBpZiAoIW1vZHVsZS50eXBlKSB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBhcmUgcGFzc2luZyBhIHdyb25nIG1vZHVsZSEgUGxlYXNlIGNoZWNrIHRoZSBvYmplY3QgeW91IGFyZSBwYXNzaW5nIHRvIGkxOG5leHQudXNlKCknKTtcblxuICAgICAgaWYgKG1vZHVsZS50eXBlID09PSAnYmFja2VuZCcpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzLmJhY2tlbmQgPSBtb2R1bGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2xvZ2dlcicgfHwgbW9kdWxlLmxvZyAmJiBtb2R1bGUud2FybiAmJiBtb2R1bGUuZXJyb3IpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzLmxvZ2dlciA9IG1vZHVsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZHVsZS50eXBlID09PSAnbGFuZ3VhZ2VEZXRlY3RvcicpIHtcbiAgICAgICAgdGhpcy5tb2R1bGVzLmxhbmd1YWdlRGV0ZWN0b3IgPSBtb2R1bGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtb2R1bGUudHlwZSA9PT0gJ2kxOG5Gb3JtYXQnKSB7XG4gICAgICAgIHRoaXMubW9kdWxlcy5pMThuRm9ybWF0ID0gbW9kdWxlO1xuICAgICAgfVxuXG4gICAgICBpZiAobW9kdWxlLnR5cGUgPT09ICdwb3N0UHJvY2Vzc29yJykge1xuICAgICAgICBwb3N0UHJvY2Vzc29yLmFkZFBvc3RQcm9jZXNzb3IobW9kdWxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1vZHVsZS50eXBlID09PSAnM3JkUGFydHknKSB7XG4gICAgICAgIHRoaXMubW9kdWxlcy5leHRlcm5hbC5wdXNoKG1vZHVsZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjaGFuZ2VMYW5ndWFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VMYW5ndWFnZShsbmcsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdGhpcy5pc0xhbmd1YWdlQ2hhbmdpbmdUbyA9IGxuZztcbiAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICB0aGlzLmVtaXQoJ2xhbmd1YWdlQ2hhbmdpbmcnLCBsbmcpO1xuXG4gICAgICB2YXIgZG9uZSA9IGZ1bmN0aW9uIGRvbmUoZXJyLCBsKSB7XG4gICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgX3RoaXM0Lmxhbmd1YWdlID0gbDtcbiAgICAgICAgICBfdGhpczQubGFuZ3VhZ2VzID0gX3RoaXM0LnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGwpO1xuXG4gICAgICAgICAgX3RoaXM0LnRyYW5zbGF0b3IuY2hhbmdlTGFuZ3VhZ2UobCk7XG5cbiAgICAgICAgICBfdGhpczQuaXNMYW5ndWFnZUNoYW5naW5nVG8gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBfdGhpczQuZW1pdCgnbGFuZ3VhZ2VDaGFuZ2VkJywgbCk7XG5cbiAgICAgICAgICBfdGhpczQubG9nZ2VyLmxvZygnbGFuZ3VhZ2VDaGFuZ2VkJywgbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX3RoaXM0LmlzTGFuZ3VhZ2VDaGFuZ2luZ1RvID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNC50LmFwcGx5KF90aGlzNCwgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNC50LmFwcGx5KF90aGlzNCwgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgc2V0TG5nID0gZnVuY3Rpb24gc2V0TG5nKGxuZ3MpIHtcbiAgICAgICAgdmFyIGwgPSB0eXBlb2YgbG5ncyA9PT0gJ3N0cmluZycgPyBsbmdzIDogX3RoaXM0LnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMuZ2V0QmVzdE1hdGNoRnJvbUNvZGVzKGxuZ3MpO1xuXG4gICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgaWYgKCFfdGhpczQubGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIF90aGlzNC5sYW5ndWFnZSA9IGw7XG4gICAgICAgICAgICBfdGhpczQubGFuZ3VhZ2VzID0gX3RoaXM0LnNlcnZpY2VzLmxhbmd1YWdlVXRpbHMudG9SZXNvbHZlSGllcmFyY2h5KGwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghX3RoaXM0LnRyYW5zbGF0b3IubGFuZ3VhZ2UpIF90aGlzNC50cmFuc2xhdG9yLmNoYW5nZUxhbmd1YWdlKGwpO1xuICAgICAgICAgIGlmIChfdGhpczQuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvcikgX3RoaXM0LnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuY2FjaGVVc2VyTGFuZ3VhZ2UobCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczQubG9hZFJlc291cmNlcyhsLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgZG9uZShlcnIsIGwpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIGlmICghbG5nICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiAhdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmFzeW5jKSB7XG4gICAgICAgIHNldExuZyh0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuZGV0ZWN0KCkpO1xuICAgICAgfSBlbHNlIGlmICghbG5nICYmIHRoaXMuc2VydmljZXMubGFuZ3VhZ2VEZXRlY3RvciAmJiB0aGlzLnNlcnZpY2VzLmxhbmd1YWdlRGV0ZWN0b3IuYXN5bmMpIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlcy5sYW5ndWFnZURldGVjdG9yLmRldGVjdChzZXRMbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0TG5nKGxuZyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Rml4ZWRUXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpeGVkVChsbmcsIG5zKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgdmFyIGZpeGVkVCA9IGZ1bmN0aW9uIGZpeGVkVChrZXksIG9wdHMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnM7XG5cbiAgICAgICAgaWYgKF90eXBlb2Yob3B0cykgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4zID4gMiA/IF9sZW4zIC0gMiA6IDApLCBfa2V5MyA9IDI7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgICAgIHJlc3RbX2tleTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb3B0aW9ucyA9IF90aGlzNS5vcHRpb25zLm92ZXJsb2FkVHJhbnNsYXRpb25PcHRpb25IYW5kbGVyKFtrZXksIG9wdHNdLmNvbmNhdChyZXN0KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoe30sIG9wdHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucy5sbmcgPSBvcHRpb25zLmxuZyB8fCBmaXhlZFQubG5nO1xuICAgICAgICBvcHRpb25zLmxuZ3MgPSBvcHRpb25zLmxuZ3MgfHwgZml4ZWRULmxuZ3M7XG4gICAgICAgIG9wdGlvbnMubnMgPSBvcHRpb25zLm5zIHx8IGZpeGVkVC5ucztcbiAgICAgICAgcmV0dXJuIF90aGlzNS50KGtleSwgb3B0aW9ucyk7XG4gICAgICB9O1xuXG4gICAgICBpZiAodHlwZW9mIGxuZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZml4ZWRULmxuZyA9IGxuZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpeGVkVC5sbmdzID0gbG5nO1xuICAgICAgfVxuXG4gICAgICBmaXhlZFQubnMgPSBucztcbiAgICAgIHJldHVybiBmaXhlZFQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdCgpIHtcbiAgICAgIHZhciBfdGhpcyR0cmFuc2xhdG9yO1xuXG4gICAgICByZXR1cm4gdGhpcy50cmFuc2xhdG9yICYmIChfdGhpcyR0cmFuc2xhdG9yID0gdGhpcy50cmFuc2xhdG9yKS50cmFuc2xhdGUuYXBwbHkoX3RoaXMkdHJhbnNsYXRvciwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXhpc3RzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGV4aXN0cygpIHtcbiAgICAgIHZhciBfdGhpcyR0cmFuc2xhdG9yMjtcblxuICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRvciAmJiAoX3RoaXMkdHJhbnNsYXRvcjIgPSB0aGlzLnRyYW5zbGF0b3IpLmV4aXN0cy5hcHBseShfdGhpcyR0cmFuc2xhdG9yMiwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0RGVmYXVsdE5hbWVzcGFjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREZWZhdWx0TmFtZXNwYWNlKG5zKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZGVmYXVsdE5TID0gbnM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImhhc0xvYWRlZE5hbWVzcGFjZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNMb2FkZWROYW1lc3BhY2UobnMpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4oJ2hhc0xvYWRlZE5hbWVzcGFjZTogaTE4bmV4dCB3YXMgbm90IGluaXRpYWxpemVkJywgdGhpcy5sYW5ndWFnZXMpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5sYW5ndWFnZXMgfHwgIXRoaXMubGFuZ3VhZ2VzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdoYXNMb2FkZWROYW1lc3BhY2U6IGkxOG4ubGFuZ3VhZ2VzIHdlcmUgdW5kZWZpbmVkIG9yIGVtcHR5JywgdGhpcy5sYW5ndWFnZXMpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBsbmcgPSB0aGlzLmxhbmd1YWdlc1swXTtcbiAgICAgIHZhciBmYWxsYmFja0xuZyA9IHRoaXMub3B0aW9ucyA/IHRoaXMub3B0aW9ucy5mYWxsYmFja0xuZyA6IGZhbHNlO1xuICAgICAgdmFyIGxhc3RMbmcgPSB0aGlzLmxhbmd1YWdlc1t0aGlzLmxhbmd1YWdlcy5sZW5ndGggLSAxXTtcbiAgICAgIGlmIChsbmcudG9Mb3dlckNhc2UoKSA9PT0gJ2NpbW9kZScpIHJldHVybiB0cnVlO1xuXG4gICAgICB2YXIgbG9hZE5vdFBlbmRpbmcgPSBmdW5jdGlvbiBsb2FkTm90UGVuZGluZyhsLCBuKSB7XG4gICAgICAgIHZhciBsb2FkU3RhdGUgPSBfdGhpczYuc2VydmljZXMuYmFja2VuZENvbm5lY3Rvci5zdGF0ZVtcIlwiLmNvbmNhdChsLCBcInxcIikuY29uY2F0KG4pXTtcblxuICAgICAgICByZXR1cm4gbG9hZFN0YXRlID09PSAtMSB8fCBsb2FkU3RhdGUgPT09IDI7XG4gICAgICB9O1xuXG4gICAgICBpZiAob3B0aW9ucy5wcmVjaGVjaykge1xuICAgICAgICB2YXIgcHJlUmVzdWx0ID0gb3B0aW9ucy5wcmVjaGVjayh0aGlzLCBsb2FkTm90UGVuZGluZyk7XG4gICAgICAgIGlmIChwcmVSZXN1bHQgIT09IHVuZGVmaW5lZCkgcmV0dXJuIHByZVJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaGFzUmVzb3VyY2VCdW5kbGUobG5nLCBucykpIHJldHVybiB0cnVlO1xuICAgICAgaWYgKCF0aGlzLnNlcnZpY2VzLmJhY2tlbmRDb25uZWN0b3IuYmFja2VuZCkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAobG9hZE5vdFBlbmRpbmcobG5nLCBucykgJiYgKCFmYWxsYmFja0xuZyB8fCBsb2FkTm90UGVuZGluZyhsYXN0TG5nLCBucykpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZE5hbWVzcGFjZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZE5hbWVzcGFjZXMobnMsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcblxuICAgICAgaWYgKCF0aGlzLm9wdGlvbnMubnMpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIG5zID09PSAnc3RyaW5nJykgbnMgPSBbbnNdO1xuICAgICAgbnMuZm9yRWFjaChmdW5jdGlvbiAobikge1xuICAgICAgICBpZiAoX3RoaXM3Lm9wdGlvbnMubnMuaW5kZXhPZihuKSA8IDApIF90aGlzNy5vcHRpb25zLm5zLnB1c2gobik7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubG9hZFJlc291cmNlcyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImxvYWRMYW5ndWFnZXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZExhbmd1YWdlcyhsbmdzLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICAgIGlmICh0eXBlb2YgbG5ncyA9PT0gJ3N0cmluZycpIGxuZ3MgPSBbbG5nc107XG4gICAgICB2YXIgcHJlbG9hZGVkID0gdGhpcy5vcHRpb25zLnByZWxvYWQgfHwgW107XG4gICAgICB2YXIgbmV3TG5ncyA9IGxuZ3MuZmlsdGVyKGZ1bmN0aW9uIChsbmcpIHtcbiAgICAgICAgcmV0dXJuIHByZWxvYWRlZC5pbmRleE9mKGxuZykgPCAwO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghbmV3TG5ncy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMub3B0aW9ucy5wcmVsb2FkID0gcHJlbG9hZGVkLmNvbmNhdChuZXdMbmdzKTtcbiAgICAgIHRoaXMubG9hZFJlc291cmNlcyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImRpclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXIobG5nKSB7XG4gICAgICBpZiAoIWxuZykgbG5nID0gdGhpcy5sYW5ndWFnZXMgJiYgdGhpcy5sYW5ndWFnZXMubGVuZ3RoID4gMCA/IHRoaXMubGFuZ3VhZ2VzWzBdIDogdGhpcy5sYW5ndWFnZTtcbiAgICAgIGlmICghbG5nKSByZXR1cm4gJ3J0bCc7XG4gICAgICB2YXIgcnRsTG5ncyA9IFsnYXInLCAnc2h1JywgJ3NxcicsICdzc2gnLCAneGFhJywgJ3loZCcsICd5dWQnLCAnYWFvJywgJ2FiaCcsICdhYnYnLCAnYWNtJywgJ2FjcScsICdhY3cnLCAnYWN4JywgJ2FjeScsICdhZGYnLCAnYWRzJywgJ2FlYicsICdhZWMnLCAnYWZiJywgJ2FqcCcsICdhcGMnLCAnYXBkJywgJ2FyYicsICdhcnEnLCAnYXJzJywgJ2FyeScsICdhcnonLCAnYXV6JywgJ2F2bCcsICdheWgnLCAnYXlsJywgJ2F5bicsICdheXAnLCAnYmJ6JywgJ3BnYScsICdoZScsICdpdycsICdwcycsICdwYnQnLCAncGJ1JywgJ3BzdCcsICdwcnAnLCAncHJkJywgJ3VnJywgJ3VyJywgJ3lkZCcsICd5ZHMnLCAneWloJywgJ2ppJywgJ3lpJywgJ2hibycsICdtZW4nLCAneG1uJywgJ2ZhJywgJ2pwcicsICdwZW8nLCAncGVzJywgJ3BycycsICdkdicsICdzYW0nXTtcbiAgICAgIHJldHVybiBydGxMbmdzLmluZGV4T2YodGhpcy5zZXJ2aWNlcy5sYW5ndWFnZVV0aWxzLmdldExhbmd1YWdlUGFydEZyb21Db2RlKGxuZykpID49IDAgPyAncnRsJyA6ICdsdHInO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVJbnN0YW5jZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZSgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG5ldyBJMThuKG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY2xvbmVJbnN0YW5jZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9uZUluc3RhbmNlKCkge1xuICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcblxuICAgICAgdmFyIG1lcmdlZE9wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLm9wdGlvbnMsIG9wdGlvbnMsIHtcbiAgICAgICAgaXNDbG9uZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBjbG9uZSA9IG5ldyBJMThuKG1lcmdlZE9wdGlvbnMpO1xuICAgICAgdmFyIG1lbWJlcnNUb0NvcHkgPSBbJ3N0b3JlJywgJ3NlcnZpY2VzJywgJ2xhbmd1YWdlJ107XG4gICAgICBtZW1iZXJzVG9Db3B5LmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgY2xvbmVbbV0gPSBfdGhpczhbbV07XG4gICAgICB9KTtcbiAgICAgIGNsb25lLnNlcnZpY2VzID0gX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zZXJ2aWNlcyk7XG4gICAgICBjbG9uZS5zZXJ2aWNlcy51dGlscyA9IHtcbiAgICAgICAgaGFzTG9hZGVkTmFtZXNwYWNlOiBjbG9uZS5oYXNMb2FkZWROYW1lc3BhY2UuYmluZChjbG9uZSlcbiAgICAgIH07XG4gICAgICBjbG9uZS50cmFuc2xhdG9yID0gbmV3IFRyYW5zbGF0b3IoY2xvbmUuc2VydmljZXMsIGNsb25lLm9wdGlvbnMpO1xuICAgICAgY2xvbmUudHJhbnNsYXRvci5vbignKicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICAgIGFyZ3NbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICAgIH1cblxuICAgICAgICBjbG9uZS5lbWl0LmFwcGx5KGNsb25lLCBbZXZlbnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICB9KTtcbiAgICAgIGNsb25lLmluaXQobWVyZ2VkT3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgY2xvbmUudHJhbnNsYXRvci5vcHRpb25zID0gY2xvbmUub3B0aW9ucztcbiAgICAgIGNsb25lLnRyYW5zbGF0b3IuYmFja2VuZENvbm5lY3Rvci5zZXJ2aWNlcy51dGlscyA9IHtcbiAgICAgICAgaGFzTG9hZGVkTmFtZXNwYWNlOiBjbG9uZS5oYXNMb2FkZWROYW1lc3BhY2UuYmluZChjbG9uZSlcbiAgICAgIH07XG4gICAgICByZXR1cm4gY2xvbmU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEkxOG47XG59KEV2ZW50RW1pdHRlcik7XG5cbnZhciBpMThuZXh0ID0gbmV3IEkxOG4oKTtcblxuZXhwb3J0IGRlZmF1bHQgaTE4bmV4dDtcbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBuQml0cyA9IC03XG4gIHZhciBpID0gaXNMRSA/IChuQnl0ZXMgLSAxKSA6IDBcbiAgdmFyIGQgPSBpc0xFID8gLTEgOiAxXG4gIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldXG5cbiAgaSArPSBkXG5cbiAgZSA9IHMgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgcyA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gZUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBlID0gKGUgKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgbSA9IGUgJiAoKDEgPDwgKC1uQml0cykpIC0gMSlcbiAgZSA+Pj0gKC1uQml0cylcbiAgbkJpdHMgKz0gbUxlblxuICBmb3IgKDsgbkJpdHMgPiAwOyBtID0gKG0gKiAyNTYpICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IChuQnl0ZXMgKiA4KSAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApXG4gIHZhciBpID0gaXNMRSA/IDAgOiAobkJ5dGVzIC0gMSlcbiAgdmFyIGQgPSBpc0xFID8gMSA6IC0xXG4gIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwXG5cbiAgdmFsdWUgPSBNYXRoLmFicyh2YWx1ZSlcblxuICBpZiAoaXNOYU4odmFsdWUpIHx8IHZhbHVlID09PSBJbmZpbml0eSkge1xuICAgIG0gPSBpc05hTih2YWx1ZSkgPyAxIDogMFxuICAgIGUgPSBlTWF4XG4gIH0gZWxzZSB7XG4gICAgZSA9IE1hdGguZmxvb3IoTWF0aC5sb2codmFsdWUpIC8gTWF0aC5MTjIpXG4gICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkge1xuICAgICAgZS0tXG4gICAgICBjICo9IDJcbiAgICB9XG4gICAgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICB2YWx1ZSArPSBydCAvIGNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgKz0gcnQgKiBNYXRoLnBvdygyLCAxIC0gZUJpYXMpXG4gICAgfVxuICAgIGlmICh2YWx1ZSAqIGMgPj0gMikge1xuICAgICAgZSsrXG4gICAgICBjIC89IDJcbiAgICB9XG5cbiAgICBpZiAoZSArIGVCaWFzID49IGVNYXgpIHtcbiAgICAgIG0gPSAwXG4gICAgICBlID0gZU1heFxuICAgIH0gZWxzZSBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIG0gPSAoKHZhbHVlICogYykgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gZSArIGVCaWFzXG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSB2YWx1ZSAqIE1hdGgucG93KDIsIGVCaWFzIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKVxuICAgICAgZSA9IDBcbiAgICB9XG4gIH1cblxuICBmb3IgKDsgbUxlbiA+PSA4OyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBtICYgMHhmZiwgaSArPSBkLCBtIC89IDI1NiwgbUxlbiAtPSA4KSB7fVxuXG4gIGUgPSAoZSA8PCBtTGVuKSB8IG1cbiAgZUxlbiArPSBtTGVuXG4gIGZvciAoOyBlTGVuID4gMDsgYnVmZmVyW29mZnNldCArIGldID0gZSAmIDB4ZmYsIGkgKz0gZCwgZSAvPSAyNTYsIGVMZW4gLT0gOCkge31cblxuICBidWZmZXJbb2Zmc2V0ICsgaSAtIGRdIHw9IHMgKiAxMjhcbn1cbiIsIlxudmFyIGluZGV4T2YgPSBbXS5pbmRleE9mO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGFyciwgb2JqKXtcbiAgaWYgKGluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgIGlmIChhcnJbaV0gPT09IG9iaikgcmV0dXJuIGk7XG4gIH1cbiAgcmV0dXJuIC0xO1xufTsiLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcnIpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuSlNHYW1lVG9vbHM9ZSgpOnQuSlNHYW1lVG9vbHM9ZSgpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4oaSl7aWYoZVtpXSlyZXR1cm4gZVtpXS5leHBvcnRzO3ZhciByPWVbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W2ldLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLG4pLHIubD0hMCxyLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsaSl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIHIgaW4gdCluLmQoaSxyLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwscikpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MjIpfShbZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKGUpe3JldHVybiB0LmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSxuKGUpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxMik7ZnVuY3Rpb24gcihlLG4sbyl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P3QuZXhwb3J0cz1yPVJlZmxlY3QuZ2V0OnQuZXhwb3J0cz1yPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1pKHQsZSk7aWYocil7dmFyIG89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpO3JldHVybiBvLmdldD9vLmdldC5jYWxsKG4pOm8udmFsdWV9fSxyKGUsbixvfHxlKX10LmV4cG9ydHM9cn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmdldCh0KTtpZighbil0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtyZXR1cm4gbi5nZXQ/bi5nZXQuY2FsbCh0KTpuLnZhbHVlfX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9fSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4odCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaS5rZXksaSl9fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGUmJm4odC5wcm90b3R5cGUsZSksaSYmbih0LGkpLHR9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxMyk7dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiZpKHQsZSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxNikscj1uKDMpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3JldHVybiFlfHxcIm9iamVjdFwiIT09aShlKSYmXCJmdW5jdGlvblwiIT10eXBlb2YgZT9yKHQpOmV9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUsbil7dmFyIGk9ZS5nZXQodCk7aWYoIWkpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7aWYoaS5zZXQpaS5zZXQuY2FsbCh0LG4pO2Vsc2V7aWYoIWkud3JpdGFibGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcmVhZCBvbmx5IHByaXZhdGUgZmllbGRcIik7aS52YWx1ZT1ufXJldHVybiBufX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTIpLHI9big4KTtmdW5jdGlvbiBvKHQsZSxuLHMpe3JldHVybihvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LnNldD9SZWZsZWN0LnNldDpmdW5jdGlvbih0LGUsbixvKXt2YXIgcyxhPWkodCxlKTtpZihhKXtpZigocz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsZSkpLnNldClyZXR1cm4gcy5zZXQuY2FsbChvLG4pLCEwO2lmKCFzLndyaXRhYmxlKXJldHVybiExfWlmKHM9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvLGUpKXtpZighcy53cml0YWJsZSlyZXR1cm4hMTtzLnZhbHVlPW4sT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sZSxzKX1lbHNlIHIobyxlLG4pO3JldHVybiEwfSkodCxlLG4scyl9dC5leHBvcnRzPWZ1bmN0aW9uKHQsZSxuLGkscil7aWYoIW8odCxlLG4saXx8dCkmJnIpdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIHNldCBwcm9wZXJ0eVwiKTtyZXR1cm4gbn19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDE4KSxyPW4oMTkpLG89bigyMCkscz1uKDIxKTt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7cmV0dXJuIGkodCl8fHIodCl8fG8odCl8fHMoKX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDApO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9aSh0KSk7KTtyZXR1cm4gdH19LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbihlLGkpe3JldHVybiB0LmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuX19wcm90b19fPWUsdH0sbihlLGkpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO2Zvcih2YXIgbj0wLGk9bmV3IEFycmF5KGUpO248ZTtuKyspaVtuXT10W25dO3JldHVybiBpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTMpLHI9bigxNyk7ZnVuY3Rpb24gbyhlLG4scyl7cmV0dXJuIHIoKT90LmV4cG9ydHM9bz1SZWZsZWN0LmNvbnN0cnVjdDp0LmV4cG9ydHM9bz1mdW5jdGlvbih0LGUsbil7dmFyIHI9W251bGxdO3IucHVzaC5hcHBseShyLGUpO3ZhciBvPW5ldyhGdW5jdGlvbi5iaW5kLmFwcGx5KHQscikpO3JldHVybiBuJiZpKG8sbi5wcm90b3R5cGUpLG99LG8uYXBwbHkobnVsbCxhcmd1bWVudHMpfXQuZXhwb3J0cz1vfSxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP3QuZXhwb3J0cz1uPWZ1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06dC5leHBvcnRzPW49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgdH0sbihlKX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19fSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxNCk7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGkodCl9fSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXJldHVybiBBcnJheS5mcm9tKHQpfX0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTQpO3QuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiBpKHQsZSk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLnNsaWNlKDgsLTEpO3JldHVyblwiT2JqZWN0XCI9PT1uJiZ0LmNvbnN0cnVjdG9yJiYobj10LmNvbnN0cnVjdG9yLm5hbWUpLFwiTWFwXCI9PT1ufHxcIlNldFwiPT09bj9BcnJheS5mcm9tKHQpOlwiQXJndW1lbnRzXCI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9pKHQsZSk6dm9pZCAwfX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKGUpLG4uZChlLFwiQ29uc3RhbnRzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKGUsXCJCdXR0b25cIiwoZnVuY3Rpb24oKXtyZXR1cm4gb3R9KSksbi5kKGUsXCJCdXR0b25JbWFnZVwiLChmdW5jdGlvbigpe3JldHVybiBsdH0pKSxuLmQoZSxcIkltYWdlTG9hZGVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh0fSkpLG4uZChlLFwiTm90aWZpY2F0aW9uTWVzc2FnZVwiLChmdW5jdGlvbigpe3JldHVybiBBdH0pKSxuLmQoZSxcIlV0aWxzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksbi5kKGUsXCJNZW51XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt0fSkpLG4uZChlLFwiSW5wdXRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gX3R9KSksbi5kKGUsXCJMYWJlbFwiLChmdW5jdGlvbigpe3JldHVybiBPdH0pKSxuLmQoZSxcIkxpbmtcIiwoZnVuY3Rpb24oKXtyZXR1cm4gRnR9KSksbi5kKGUsXCJUb29sdGlwXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE10fSkpLG4uZChlLFwiU2NlbmVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUHR9KSksbi5kKGUsXCJGUFNNZXRlclwiLChmdW5jdGlvbigpe3JldHVybiB6dH0pKSxuLmQoZSxcIlByb2dyZXNzQmFyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEd0fSkpLG4uZChlLFwiQ2FudmFzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp0fSkpLG4uZChlLFwiQ29tcG9uZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksbi5kKGUsXCJFYXNpbmdGdW5jdGlvbnNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcXR9KSksbi5kKGUsXCJDb2xcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbXR9KSksbi5kKGUsXCJDb250YWluZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gJH0pKSxuLmQoZSxcIlJvd1wiLChmdW5jdGlvbigpe3JldHVybiBpdH0pKSxuLmQoZSxcIkltYWdlQ29udGFpbmVyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF0fSkpLG4uZChlLFwiQXJyb3dcIiwoZnVuY3Rpb24oKXtyZXR1cm4gUXR9KSksbi5kKGUsXCJDcm9zc1wiLChmdW5jdGlvbigpe3JldHVybiBDdH0pKSxuLmQoZSxcIlNjcm9sbGJhclwiLChmdW5jdGlvbigpe3JldHVybiBXfSkpLG4uZChlLFwiU2Nyb2xsYmFyVmVydGljYWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gS30pKSxuLmQoZSxcIlNjcm9sbGJhckhvcml6b250YWxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gR30pKSxuLmQoZSxcIkJveFwiLChmdW5jdGlvbigpe3JldHVybiBCfSkpLG4uZChlLFwiU3R5bGVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSxuLmQoZSxcIlNlbGVjdFwiLChmdW5jdGlvbigpe3JldHVybiBpZX0pKSxuLmQoZSxcIlNlbGVjdE9wdGlvblwiLChmdW5jdGlvbigpe3JldHVybiBvZX0pKSxuLmQoZSxcIlNlbGVjdE9wdGlvbnNDb250YWluZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gY2V9KSksbi5kKGUsXCJUcmlhbmdsZVwiLChmdW5jdGlvbigpe3JldHVybiB0ZX0pKSxuLmQoZSxcIkNpcmNsZVwiLChmdW5jdGlvbigpe3JldHVybiBoZX0pKSxuLmQoZSxcIlJlYWN0b3JcIiwoZnVuY3Rpb24oKXtyZXR1cm4gTH0pKSxuLmQoZSxcIkV2ZW50XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSksbi5kKGUsXCJSZWFjdG9yQ2FudmFzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEt0fSkpO3ZhciBpPXtTZXR0aW5nOntESVNBQkxFX09QVElNSVpBVElPTlM6ITEsRElTQUJMRV9FWFBFUklNRU5UQUxfT1BUSU1JWkFUSU9OUzohMCxESVNBQkxFX0NPTlRBSU5FUlNfQ1VUVElORzohMSxGT05UX0ZBTUlMWTpcInNhbnMtc2VyaWZcIixGT05UX1NJWkU6MjgsQ0FOVkFTX1dJRFRIOjYwMCxDQU5WQVNfSEVJR0hUOjQwMCxERUZBVUxUX1BBRERJTkc6NixERUZBVUxUX1NQQUNJTkc6NixCVVRUT05fREVGQVVMVF9CQUNLR1JPVU5EOlwicmdiYSgwLCAwLCAwLCAwKVwiLEJVVFRPTl9ERUZBVUxUX0hPVkVSX0JBQ0tHUk9VTkQ6XCIjOTVBNUE2XCIsQlVUVE9OX0RFRkFVTFRfQ0xJQ0tfQkFDS0dST1VORDpcIiM3MjdGODBcIixCVVRUT05fREVGQVVMVF9BTFRFUk5BVElWRV9CQUNLR1JPVU5EOlwiI0FDQkVCRlwiLElOUFVUX0RFRkFVTFRfRk9OVF9DT0xPUjpcIiMwMDBcIixJTlBVVF9ERUZBVUxUX0JBQ0tHUk9VTkRfQ09MT1I6XCIjZmZmXCIsSU5QVVRfREVGQVVMVF9CT1JERVJfQ09MT1I6XCIjMDAwXCIsSU5QVVRfREVGQVVMVF9CT1JERVJfQ09MT1JfU0VMRUNURUQ6XCIjYTJjZGQ4XCIsSU5QVVRfREVGQVVMVF9TRUxFQ1RfQ09MT1I6XCIjMjk4MGI5XCIsTEFCRUxfREVGQVVMVF9GT05UX0NPTE9SOlwiIzAwMFwiLExJTktfREVGQVVMVF9DT0xPUjpcIiMwMDAwRUVcIixMSU5LX0RFRkFVTFRfSE9WRVJfQ09MT1I6XCIjNEQ0REZGXCIsTElOS19ERUZBVUxUX0NMSUNLX0NPTE9SOlwiI0VFNzcwMFwiLE1FTlVfREVGQVVMVF9CQUNLR1JPVU5EOlwicmdiYSg0NCwgNjIsIDgwLCAwLjc1KVwiLE1FTlVfREVGQVVMVF9CTFVSX0JBQ0tHUk9VTkQ6ITEsTk9USUZJQ0FUSU9OX0RFRkFVTFRfQkFDS0dST1VORDpcInJnYmEoNDYsIDIwNCwgMTEzLCAwLjUpXCIsTk9USUZJQ0FUSU9OX0RFRkFVTFRfQU5JTUFUSU9OX0RVUkFUSU9OOjUwMCxQUk9HUkVTU19ERUZBVUxUX0JBQ0tHUk9VTkQ6XCIjYmRjM2M3XCIsUFJPR1JFU1NfREVGQVVMVF9GT1JFR1JPVU5EOlwiIzI3YWU2MFwiLFBST0dSRVNTX0RFRkFVTFRfQU5JTUFUSU9OX0RVUkFUSU9OOjJlMyxUT09MVElQX0RFRkFVTFRfQkFDS0dST1VORDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSlcIixBUlJPV19ERUZBVUxUX0xJTkVfQ0FQOlwicm91bmRcIixBUlJPV19ERUZBVUxUX0NPTE9SOlwiI0ZGMDAwMFwiLEFSUk9XX0RFRkFVTFRfTElORV9TSVpFOjgsQVJST1dfREVGQVVMVF9IRUFEX1NJWkU6MjAsQ1JPU1NfREVGQVVMVF9MSU5FX0NBUDpcInJvdW5kXCIsQ1JPU1NfREVGQVVMVF9DT0xPUjpcIiNmZmZcIixDUk9TU19ERUZBVUxUX0xJTkVfU0laRTozLFNDUk9MTEJBUl9ERUZBVUxUX0JBQ0tHUk9VTkQ6XCJyZ2JhKDE0OSwgMTY1LCAxNjYsIDAuNzUpXCIsU0NST0xMQkFSX0RFRkFVTFRfSE9WRVJfQkFDS0dST1VORDpcInJnYmEoMTQ5LCAxNjUsIDE2NiwgMC45KVwiLFNDUk9MTEJBUl9ERUZBVUxUX0NMSUNLX0JBQ0tHUk9VTkQ6XCJyZ2JhKDE0OSwgMTY1LCAxNjYsIDAuNSlcIixTQ1JPTExCQVJfREVGQVVMVF9TSVpFOjEwLERFRkFVTFRfQk9SREVSX1NJWkU6MyxERUZBVUxUX0JPUkRFUl9DT0xPUl9TRUxFQ1RFRDpcIiNhMmNkZDhcIixERUZBVUxUX0FOSU1BVElPTl9EVVJBVElPTjoyZTMsVFJJQU5HTEVfREVGQVVMVF9MSU5FX0NBUDpcInJvdW5kXCIsVFJJQU5HTEVfREVGQVVMVF9DT0xPUjpcIiMwMDBcIixUUklBTkdMRV9ERUZBVUxUX0ZJTExfQ09MT1I6XCIjMDAwXCIsVFJJQU5HTEVfREVGQVVMVF9MSU5FX1NJWkU6MyxUUklBTkdMRV9ERUZBVUxUX0ZJTEw6ITAsU0VMRUNUX0RFRkFVTFRfQkFDS0dST1VORDpcIiNlY2YwZjFcIixTRUxFQ1RfREVGQVVMVF9IT1ZFUl9CQUNLR1JPVU5EOlwiI2JkYzNjN1wiLFNFTEVDVF9ERUZBVUxUX0NMSUNLX0JBQ0tHUk9VTkQ6XCIjYWRiMmI1XCIsQ0lSQ0xFX0RFRkFVTFRfTElORV9DQVA6XCJyb3VuZFwiLENJUkNMRV9ERUZBVUxUX0NPTE9SOlwiI2ZmZlwiLENJUkNMRV9ERUZBVUxUX0ZJTExfQ09MT1I6XCIjMDAwXCIsQ0lSQ0xFX0RFRkFVTFRfTElORV9TSVpFOjMsQ0lSQ0xFX0RFRkFVTFRfRklMTDohMH0sS2V5OntVUDozOCxSSUdIVDozOSxCT1RUT006NDAsTEVGVDozNyxFTlRFUjoxMyxFQ0hBUDoyNyxUQUI6OX0sQWxpZ25lbWVudDp7UklHSFQ6XCJyaWdodFwiLExFRlQ6XCJsZWZ0XCIsQ0VOVEVSOlwiY2VudGVyXCIsREVGQVVMVDpcImRlZmF1bHRcIn0sVmVydGljYWxBbGlnbmVtZW50OntUT1A6XCJ0b3BcIixDRU5URVI6XCJjZW50ZXJcIixCT1RUT006XCJib3R0b21cIixERUZBVUxUOlwiZGVmYXVsdFwifSxTdHJpbmc6e0VSUk9SX01FU1NBR0VfQ0FOVkFTOlwiQSBmYXRhbCBlcnJvciBoYXMgb2NjdXJyZWQgYXQgdGhlIEpTR2FtZVRvb2xzIGxldmVsLlwiLEVSUk9SX01FU1NBR0VfQ0FOVkFTX0xBQkVMOlwiOicoXFxuQSBmYXRhbCBlcnJvciBoYXMgb2NjdXJyZWQgYXQgdGhlIEpTR2FtZVRvb2xzIGxldmVsLlwiLFJFVFJZOlwiUmV0cnlcIixOT1RJQ0VfTUVTU0FHRTpcIk5vdGljZTpcIixXQVJOSU5HX01FU1NBR0U6XCJXYXJuaW5nOlwiLEVSUk9SX01FU1NBR0U6XCJFcnJvcjpcIixPUFRJTUlaQVRJT05fRElTQUJMRUQ6XCJPcHRpbWl6YXRpb25zIGFyZSBkaXNhYmxlZC4gWW91IG1heSBub3RpY2UgbG93IHBlcmZvcm1hbmNlLlwiLENPTlRBSU5FUl9DVVRUSU5HX0RJU0FCTEVEOlwiQ29udGFpbmVycyBjdXR0aW5nIGlzIGRpc2FibGVkLlwiLEJVVFRPTl9JTUFHRV9ERVBSRUNBVEVEOlwiSlNHYW1lVG9vbHMuQnV0dG9uSW1hZ2UgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBhIEJ1dHRvbiB3aXRoIGFuIEltYWdlQ29udGFpbmVyIGluc3RlYWQuXCIsSU5QVVRfRlVMTFNDUkVFTjpcIlRoZSB1c2Ugb2YgSlNHYW1lVG9vbHMuQ2FudmFzIGlzIG5lZWRlZCBmb3IgSW5wdXQgY29tcG9uZW50cyB0byBwcm9wZXJseSB3b3JrIGluIGZ1bGxzY3JlZW4gbW9kZS5cIn19LHI9big0KSxvPW4ubihyKSxzPW4oNSksYT1uLm4ocyksYz1uKDMpLGw9bi5uKGMpLGg9bigxKSx1PW4ubihoKSxmPW4oNiksZD1uLm4oZikscD1uKDcpLHY9bi5uKHApLHk9bigwKSxnPW4ubih5KSxtPW4oOCksRT1uLm4obSksQz1uKDIpLFM9bi5uKEMpLEE9big5KSx3PW4ubihBKSxrPW5ldyBXZWFrTWFwLFQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe28oKSh0aGlzLHQpLGsuc2V0KHRoaXMse3dyaXRhYmxlOiEwLHZhbHVlOnt9fSksRSgpKHRoaXMsXCJjb21wb25lbnRcIix2b2lkIDApLHRoaXMuc2V0QWxsKGUpfXJldHVybiBhKCkodCxbe2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7UygpKHRoaXMsaylbdF09ZSx0aGlzLmNvbXBvbmVudCYmdGhpcy5jb21wb25lbnQucmVhY3RvciYmdGhpcy5jb21wb25lbnQucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJzZXRBbGxcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0KWZvcih2YXIgZSBpbiB0KXQuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMuc2V0KGUsdFtlXSl9fSx7a2V5OlwiY29weVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0KFMoKSh0aGlzLGspKX19LHtrZXk6XCJnZXRTdHlsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXt9O2Zvcih2YXIgZSBpbiBTKCkodGhpcyxrKSlTKCkodGhpcyxrKS5oYXNPd25Qcm9wZXJ0eShlKSYmKHRbZV09UygpKHRoaXMsaylbZV0pO3JldHVybiB0fX0se2tleTpcImZvbnRDb2xvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxrKS5mb250Q29sb3J9fSx7a2V5OlwiZm9udENvbG9ySG92ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuZm9udENvbG9ySG92ZXJ9fSx7a2V5OlwiZm9udENvbG9yRG93blwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxrKS5mb250Q29sb3JEb3dufX0se2tleTpcImZvbnRGYW1pbHlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9UygpKHRoaXMsaykuZm9udEZhbWlseT9TKCkodGhpcyxrKS5mb250RmFtaWx5OmkuU2V0dGluZy5GT05UX0ZBTUlMWX19LHtrZXk6XCJmb250U2l6ZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBudWxsIT1TKCkodGhpcyxrKS5mb250U2l6ZT9TKCkodGhpcyxrKS5mb250U2l6ZTppLlNldHRpbmcuRk9OVF9TSVpFfX0se2tleTpcImJvbGRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuYm9sZH19LHtrZXk6XCJ1bmRlcmxpbmVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykudW5kZXJsaW5lfX0se2tleTpcIndyYXBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykud3JhcH19LHtrZXk6XCJiYWNrZ3JvdW5kQ29sb3JcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuYmFja2dyb3VuZENvbG9yfX0se2tleTpcImZvcmVncm91bmRDb2xvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxrKS5mb3JlZ3JvdW5kQ29sb3J9fSx7a2V5OlwiYmFja2dyb3VuZENvbG9ySG92ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuYmFja2dyb3VuZENvbG9ySG92ZXJ9fSx7a2V5OlwiYmFja2dyb3VuZENvbG9yRG93blwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxrKS5iYWNrZ3JvdW5kQ29sb3JEb3dufX0se2tleTpcImJvcmRlckNvbG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLmJvcmRlckNvbG9yfX0se2tleTpcImJvcmRlckNvbG9ySG92ZXJcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuYm9yZGVyQ29sb3JIb3Zlcn19LHtrZXk6XCJib3JkZXJDb2xvckRvd25cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuYm9yZGVyQ29sb3JEb3dufX0se2tleTpcImJvcmRlckNvbG9yU2VsZWN0ZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9UygpKHRoaXMsaykuYm9yZGVyQ29sb3JTZWxlY3RlZD9TKCkodGhpcyxrKS5ib3JkZXJDb2xvclNlbGVjdGVkOmkuU2V0dGluZy5ERUZBVUxUX0JPUkRFUl9DT0xPUl9TRUxFQ1RFRH19LHtrZXk6XCJib3JkZXJTaXplXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPVMoKSh0aGlzLGspLmJvcmRlclNpemU/UygpKHRoaXMsaykuYm9yZGVyU2l6ZTppLlNldHRpbmcuREVGQVVMVF9CT1JERVJfU0laRX19LHtrZXk6XCJzZWxlY3RDb2xvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxrKS5zZWxlY3RDb2xvcn19LHtrZXk6XCJhbGlnbmVtZW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLmFsaWduZW1lbnR9fSx7a2V5OlwidmVydGljYWxBbGlnbmVtZW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLnZlcnRpY2FsQWxpZ25lbWVudH19LHtrZXk6XCJkaXNhYmxlQW5pbWF0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLmRpc2FibGVBbmltYXRpb259fSx7a2V5Olwic2Nyb2xsWERpc2FibGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLnNjcm9sbFhEaXNhYmxlZH19LHtrZXk6XCJzY3JvbGxZRGlzYWJsZWRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuc2Nyb2xsWURpc2FibGVkfX0se2tleTpcInBhZGRpbmdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9UygpKHRoaXMsaykucGFkZGluZz9TKCkodGhpcyxrKS5wYWRkaW5nOmkuU2V0dGluZy5ERUZBVUxUX1BBRERJTkd9fSx7a2V5Olwic3BhY2VCZXR3ZWVuQ29tcG9uZW50c1wiLGdldDpmdW5jdGlvbigpe3JldHVybiBudWxsIT1TKCkodGhpcyxrKS5zcGFjZUJldHdlZW5Db21wb25lbnRzP1MoKSh0aGlzLGspLnNwYWNlQmV0d2VlbkNvbXBvbmVudHM6aS5TZXR0aW5nLkRFRkFVTFRfU1BBQ0lOR319LHtrZXk6XCJoaWRkZW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuaGlkZGVufX0se2tleTpcImJsdXJCYWNrZ3JvdW5kXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLmJsdXJCYWNrZ3JvdW5kfX0se2tleTpcImxpbmVXaWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxrKS5saW5lV2lkdGh9fSx7a2V5OlwiYW5pbWF0aW9uRHVyYXRpb25cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9UygpKHRoaXMsaykuYW5pbWF0aW9uRHVyYXRpb24/UygpKHRoaXMsaykuYW5pbWF0aW9uRHVyYXRpb246aS5TZXR0aW5nLkRFRkFVTFRfQU5JTUFUSU9OX0RVUkFUSU9OfX0se2tleTpcImZvcmVncm91bmRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykuZm9yZWdyb3VuZH19LHtrZXk6XCJ6SW5kZXhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9UygpKHRoaXMsaykuekluZGV4P1MoKSh0aGlzLGspLnpJbmRleDowfX0se2tleTpcImxpbmVDYXBcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsaykubGluZUNhcH19LHtrZXk6XCJmaWxsXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLmZpbGx9fSx7a2V5OlwiZmlsbENvbG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLmZpbGxDb2xvcn19LHtrZXk6XCJjb2xvclwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxrKS5jb2xvcn19LHtrZXk6XCJtb3ZhYmxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGspLm1vdmFibGV8fCExfX1dKSx0fSgpLFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe28oKSh0aGlzLHQpLHRoaXMubmFtZT1lLHRoaXMuY2FsbGJhY2tzPVtdfXJldHVybiBhKCkodCxbe2tleTpcInJlZ2lzdGVyQ2FsbGJhY2tcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNhbGxiYWNrcy5wdXNoKHQpfX0se2tleTpcInJlbW92ZUNhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5jYWxsYmFja3MuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSE9dH0pKX19LHtrZXk6XCJyZW1vdmVBbGxDYWxsYmFja3NcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuY2FsbGJhY2tzPVtdfX1dKSx0fSgpLEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7bygpKHRoaXMsdCksdGhpcy5ldmVudHM9e319cmV0dXJuIGEoKSh0LFt7a2V5OlwicmVnaXN0ZXJFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuZXZlbnRzW3RdPW5ldyBSKHQpfX0se2tleTpcImRpc3BhdGNoRXZlbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlPjE/ZS0xOjApLGk9MTtpPGU7aSsrKW5baS0xXT1hcmd1bWVudHNbaV07aWYodGhpcy5ldmVudHNbdF0pe3ZhciByPXRoaXMuZXZlbnRzW3RdLmNhbGxiYWNrcztyLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LmFwcGx5KHZvaWQgMCxuKX0pKX19fSx7a2V5OlwiYWRkRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5ldmVudHNbdF0mJnRoaXMuZXZlbnRzW3RdLnJlZ2lzdGVyQ2FsbGJhY2soZSl9fSx7a2V5OlwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dGhpcy5ldmVudHNbdF0mJnRoaXMuZXZlbnRzW3RdLnJlbW92ZUNhbGxiYWNrKGUpfX0se2tleTpcInJlbW92ZUFsbEV2ZW50TGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmV2ZW50c1t0XSYmdGhpcy5ldmVudHNbdF0ucmVtb3ZlQWxsQ2FsbGJhY2tzKCl9fV0pLHR9KCksYj1uZXcgV2Vha01hcCxfPW5ldyBXZWFrTWFwLEk9bmV3IFdlYWtNYXAsRD1uZXcgV2Vha01hcCxPPW5ldyBXZWFrTWFwLHg9bmV3IFdlYWtNYXAsRj1uZXcgV2Vha01hcCxOPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4saSxyLHMpe28oKSh0aGlzLHQpLEUoKSh0aGlzLFwic2VsZWN0YWJsZVwiLCEwKSxiLnNldCh0aGlzLHt3cml0YWJsZTohMCx2YWx1ZTowfSksXy5zZXQodGhpcyx7d3JpdGFibGU6ITAsdmFsdWU6MH0pLEkuc2V0KHRoaXMse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxELnNldCh0aGlzLHt3cml0YWJsZTohMCx2YWx1ZTowfSksTy5zZXQodGhpcyx7d3JpdGFibGU6ITAsdmFsdWU6ITF9KSx4LnNldCh0aGlzLHt3cml0YWJsZTohMCx2YWx1ZTohMX0pLEYuc2V0KHRoaXMse3dyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLHcoKSh0aGlzLEksZXx8MCksdygpKHRoaXMsRCxufHwwKSx3KCkodGhpcyxiLGkpLHcoKSh0aGlzLF8sciksdGhpcy5jYW52YXMsdGhpcy5wYXJlbnQsdGhpcy5zdHlsZT1zLHRoaXMucmVhY3Rvcj1uZXcgTCx0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uQ2xpY2tcIiksdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvbkhvdmVyXCIpLHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25Eb3duXCIpLHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25TY3JvbGxcIiksdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvbk1vdmVcIiksdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvblVwXCIpLHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25DaGFuZ2VcIiksdGhpcy5pbml0PSExLHRoaXMuaGFzSW5pdEV2ZW50cz0hMSx3KCkodGhpcyx4LCExKSx0aGlzLmNsaWNrZWQ9ITEsdGhpcy5ob3ZlcmVkPSExLHcoKSh0aGlzLE8sITEpLHRoaXMub2Zmc2V0U2Nyb2xsWD0wLHRoaXMub2Zmc2V0U2Nyb2xsWT0wLHRoaXMub2Zmc2V0TW92ZVg9MCx0aGlzLm9mZnNldE1vdmVZPTAsdGhpcy5tb3ZlRXZlbnRTdGFydFg9MCx0aGlzLm1vdmVFdmVudFN0YXJ0WT0wLHRoaXMudG91Y2hFdmVudFN0YXJ0WD0wLHRoaXMudG91Y2hFdmVudFN0YXJ0WT0wLHRoaXMudG91Y2hFdmVudFN0YXJ0VGltZXN0YW1wPTAsdGhpcy50b29sdGlwLHRoaXMuaW5pdEV2ZW50cygpfXJldHVybiBhKCkodCxbe2tleTpcImluaXRFdmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoIXRoaXMuaGFzSW5pdEV2ZW50cyYmbnVsbCE9dGhpcy5jYW52YXMpe3RoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLChmdW5jdGlvbihlLG4pe2lmKHQuZGlzYWJsZWQpdC5ob3ZlcmVkPSExLHQuY2xpY2tlZD0hMSx0LnRvb2x0aXAmJnQudG9vbHRpcC5kaXNhYmxlKCk7ZWxzZXt2YXIgaT10LmdldE1vdXNlUG9zKGUpO2lmKHQuY2xpY2tlZCl7dmFyIHI9LWUubW92ZW1lbnRYLG89LWUubW92ZW1lbnRZO3Qub2Zmc2V0TW92ZVgrPXIsdC5vZmZzZXRNb3ZlWSs9byx0LnJlYWN0b3ImJnQucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25Nb3ZlXCIscixvLGkpLHQubW92ZUV2ZW50U3RhcnRYPWkueCx0Lm1vdmVFdmVudFN0YXJ0WT1pLnl9bj8odC5yZWFjdG9yJiYhdC5kaXNhYmxlZCYmdC5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkhvdmVyXCIsaSksdC50b29sdGlwJiYodC50b29sdGlwLng9aS54KzEwLHQudG9vbHRpcC55PWkueSsxMCx0LnRvb2x0aXAuZW5hYmxlKCkpLHQuaG92ZXJlZD0hMCk6KHQuaG92ZXJlZD0hMSx0LnRvb2x0aXAmJnQudG9vbHRpcC5kaXNhYmxlKCkpfX0pKSx0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLChmdW5jdGlvbihlLG4pe2lmKHQuZGlzYWJsZWQpdC5ob3ZlcmVkPSExLHQuY2xpY2tlZD0hMTtlbHNle3ZhciBpPXQuZ2V0TW91c2VQb3MoZSk7biYmdC5ob3ZlcmVkPyh0LnJlYWN0b3ImJnQucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DbGlja1wiLGkpLHQuc2VsZWN0ZWQ9ITApOih0LmNsaWNrZWQ9ITEsdC5zZWxlY3RlZD0hMSl9fSkpLHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLChmdW5jdGlvbihlLG4pe2lmKHQuZGlzYWJsZWQpdC5ob3ZlcmVkPSExLHQuY2xpY2tlZD0hMTtlbHNle3ZhciBpPXQuZ2V0TW91c2VQb3MoZSk7biYmKHQucmVhY3RvciYmdC5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkRvd25cIixpKSx0LmNsaWNrZWQ9ITAsdC5tb3ZlRXZlbnRTdGFydFg9aS54LHQubW92ZUV2ZW50U3RhcnRZPWkueSl9fSkpLHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcywoZnVuY3Rpb24oZSl7aWYoIXQuZGlzYWJsZWQpe3ZhciBuPXQuZ2V0TW91c2VQb3MoZSk7dC5yZWFjdG9yJiZ0LnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uVXBcIixuKSx0LmNsaWNrZWQ9ITF9fSkpLHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLHRoaXMsKGZ1bmN0aW9uKGUpeyF0LmhvdmVyZWR8fHQuZGlzYWJsZWR8fHQuc2Nyb2xsRGlzYWJsZWR8fCh0Lm9mZnNldFNjcm9sbFgrPWUuZGVsdGFYLHQub2Zmc2V0U2Nyb2xsWSs9ZS5kZWx0YVksdC5yZWFjdG9yJiZ0LnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uU2Nyb2xsXCIsZS5kZWx0YVgsZS5kZWx0YVkpKX0pKTt2YXIgZT1mdW5jdGlvbihlLG4pe3ZhciBpPWUuY2hhbmdlZFRvdWNoZXNbMF0scj10LmdldE1vdXNlUG9zKGkpO24/KHQuaG92ZXJlZD0hMCx0LnNlbGVjdGVkPSEwKToodC5ob3ZlcmVkPSExLHQuc2VsZWN0ZWQ9ITEpLHQuaG92ZXJlZCYmIXQuZGlzYWJsZWQmJih0LnRvdWNoRXZlbnRTdGFydFg9ci54LHQudG91Y2hFdmVudFN0YXJ0WT1yLnksdC50b3VjaEV2ZW50U3RhcnRUaW1lc3RhbXA9ZS50aW1lc3RhbXApfTt0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMsZSksdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcyxlKSx0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcywoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe3ZhciBuPWUuY2hhbmdlZFRvdWNoZXNbMF0saT10LmdldE1vdXNlUG9zKG4pO2lmKHQuaG92ZXJlZCYmIXQuZGlzYWJsZWQmJiF0LnNjcm9sbERpc2FibGVkKXt2YXIgcj10LnRvdWNoRXZlbnRTdGFydFgtaS54LG89dC50b3VjaEV2ZW50U3RhcnRZLWkueTt0Lm9mZnNldFNjcm9sbFgrPXIsdC5vZmZzZXRTY3JvbGxZKz1vLHQucmVhY3RvciYmdC5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblNjcm9sbFwiLHIsbyxpKSx0LnRvdWNoRXZlbnRTdGFydFg9aS54LHQudG91Y2hFdmVudFN0YXJ0WT1pLnl9fShlKSxlLnByZXZlbnREZWZhdWx0KCl9KSksdGhpcy5oYXNJbml0RXZlbnRzPSEwfX19LHtrZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5oaWRkZW58fCh0aGlzLmluaXRFdmVudHMoKSx0aGlzLmRpc2FibGVkJiYodGhpcy5zZWxlY3RlZD0hMSx0aGlzLmNsaWNrZWQ9ITEsdGhpcy5ob3ZlcmVkPSExLHRoaXMudG9vbHRpcCYmKHRoaXMudG9vbHRpcC5kaXNhYmxlZD0hMCkpKX19LHtrZXk6XCJnZXRNb3VzZVBvc1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhbnZhcy5nZXRNb3VzZVBvcyh0KX19LHtrZXk6XCJpc0luc2lkZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0Lng+dGhpcy54JiZ0Lng8dGhpcy54K3RoaXMud2lkdGgmJnQueTx0aGlzLnkrdGhpcy5oZWlnaHQmJnQueT50aGlzLnl9fSx7a2V5OlwiZGlzYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMH19LHtrZXk6XCJlbmFibGVcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITF9fSx7a2V5Olwic2V0Q2xpY2tBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlbW92ZUFsbENsaWNrQWN0aW9ucygpLHRoaXMuYWRkQ2xpY2tBY3Rpb24odCl9fSx7a2V5OlwiYWRkQ2xpY2tBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uQ2xpY2tcIix0KX19LHtrZXk6XCJyZW1vdmVDbGlja0FjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucmVhY3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKFwib25DbGlja1wiLHQpfX0se2tleTpcInJlbW92ZUFsbENsaWNrQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZWFjdG9yLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXIoXCJvbkNsaWNrXCIpfX0se2tleTpcInNldEhvdmVyQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZW1vdmVBbGxIb3ZlckFjdGlvbnMoKSx0aGlzLmFkZEhvdmVyQWN0aW9uKHQpfX0se2tleTpcImFkZEhvdmVyQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJvbkhvdmVyXCIsdCl9fSx7a2V5OlwicmVtb3ZlSG92ZXJBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlYWN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9uSG92ZXJcIix0KX19LHtrZXk6XCJyZW1vdmVBbGxIb3ZlckFjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVhY3Rvci5yZW1vdmVBbGxFdmVudExpc3RlbmVyKFwib25Ib3ZlclwiKX19LHtrZXk6XCJzZXREb3duQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZW1vdmVBbGxEb3duQWN0aW9ucygpLHRoaXMuYWRkRG93bkFjdGlvbih0KX19LHtrZXk6XCJhZGREb3duQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJvbkRvd25cIix0KX19LHtrZXk6XCJyZW1vdmVEb3duQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWFjdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbkRvd25cIix0KX19LHtrZXk6XCJyZW1vdmVBbGxEb3duQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZWFjdG9yLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXIoXCJvbkRvd25cIil9fSx7a2V5Olwic2V0U2Nyb2xsQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZW1vdmVBbGxTY3JvbGxBY3Rpb25zKCksdGhpcy5hZGRTY3JvbGxBY3Rpb24odCl9fSx7a2V5OlwiYWRkU2Nyb2xsQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJvblNjcm9sbFwiLHQpfX0se2tleTpcInJlbW92ZVNjcm9sbEFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucmVhY3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKFwib25TY3JvbGxcIix0KX19LHtrZXk6XCJyZW1vdmVBbGxTY3JvbGxBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlYWN0b3IucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcihcIm9uU2Nyb2xsXCIpfX0se2tleTpcInNldE1vdmVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlbW92ZUFsbE1vdmVBY3Rpb25zKCksdGhpcy5hZGRNb3ZlQWN0aW9uKHQpfX0se2tleTpcImFkZE1vdmVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uTW92ZVwiLHQpfX0se2tleTpcInJlbW92ZU1vdmVBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlYWN0b3IucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9uTW92ZVwiLHQpfX0se2tleTpcInJlbW92ZUFsbE1vdmVBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlYWN0b3IucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcihcIm9uTW92ZVwiKX19LHtrZXk6XCJzZXRDaGFuZ2VBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlbW92ZUFsbENoYW5nZUFjdGlvbnMoKSx0aGlzLmFkZENoYW5nZUFjdGlvbih0KX19LHtrZXk6XCJhZGRDaGFuZ2VBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uQ2hhbmdlXCIsdCl9fSx7a2V5OlwicmVtb3ZlQ2hhbmdlQWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5yZWFjdG9yLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbkNoYW5nZVwiLHQpfX0se2tleTpcInJlbW92ZUFsbENoYW5nZUFjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVhY3Rvci5yZW1vdmVBbGxFdmVudExpc3RlbmVyKFwib25DaGFuZ2VcIil9fSx7a2V5Olwic2V0VXBBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlbW92ZUFsbFVwQWN0aW9ucygpLHRoaXMuYWRkVXBBY3Rpb24odCl9fSx7a2V5OlwiYWRkVXBBY3Rpb25cIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uVXBcIix0KX19LHtrZXk6XCJyZW1vdmVVcEFjdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMucmVhY3Rvci5yZW1vdmVFdmVudExpc3RlbmVyKFwib25VcFwiLHQpfX0se2tleTpcInJlbW92ZUFsbFVwQWN0aW9uc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5yZWFjdG9yLnJlbW92ZUFsbEV2ZW50TGlzdGVuZXIoXCJvblVwXCIpfX0se2tleTpcImdldEFsbFBhcmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnBhcmVudCxlPVtdO3Q7KWUucHVzaCh0KSx0PXQucGFyZW50O3JldHVybiBlfX0se2tleTpcImNvbXBhcmVUb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9yZWdyb3VuZCxuPXQuc3R5bGUmJnQuc3R5bGUuZm9yZWdyb3VuZCxpPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuekluZGV4LHI9dC5zdHlsZSYmdC5zdHlsZS56SW5kZXg7cmV0dXJuIHRoaXMucGFyZW50PT10PzE6dC5wYXJlbnQ9PXRoaXM/LTE6ZSYmIW4/MTohZSYmbj8tMTppPnI/MTppPHI/LTE6dC5jb21wYXJlVG9Db21wb25lbnQodGhpcyl8fC10aGlzLmNvbXBhcmVUb0NvbXBvbmVudCh0KX19LHtrZXk6XCJjb21wYXJlVG9Db21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMH19LHtrZXk6XCJjb21wYXJlVG9NZW51XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuLTF9fSx7a2V5OlwiY29tcGFyZVRvVG9vbHRpcFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybi0xfX0se2tleTpcImNvbXBhcmVUb05vdGlmaWNhdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybi0xfX0se2tleTpcImNvbXBhcmVUb1Njcm9sbGJhclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybi0xfX0se2tleTpcImRpc2FibGVkXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLE8pfHx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZGlzYWJsZWR9LHNldDpmdW5jdGlvbih0KXt3KCkodGhpcyxPLHQpLHRoaXMucmVhY3RvciYmdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNoYW5nZVwiLHRoaXMpfX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxfKX0sc2V0OmZ1bmN0aW9uKHQpe3coKSh0aGlzLF8sdCksdGhpcy5yZWFjdG9yJiZ0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2hhbmdlXCIsdGhpcyl9fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsYil9LHNldDpmdW5jdGlvbih0KXt3KCkodGhpcyxiLHQpLHRoaXMucmVhY3RvciYmdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNoYW5nZVwiLHRoaXMpfX0se2tleTpcIm1heFdpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGh9fSx7a2V5OlwibWF4SGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVpZ2h0fX0se2tleTpcImlubmVyV2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53aWR0aH19LHtrZXk6XCJpbm5lckhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlaWdodH19LHtrZXk6XCJtaW5XaWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRofX0se2tleTpcIm1pbkhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlaWdodH19LHtrZXk6XCJ4XCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnR8fHRoaXMuY2FudmFzO2lmKHRoaXMuc3R5bGUuYWxpZ25lbWVudCYmdCl7dmFyIGU9dC53aWR0aCxuPXQuc3R5bGUmJnQuc3R5bGUucGFkZGluZ3x8MDtpZih0aGlzLnN0eWxlLmFsaWduZW1lbnQ9PWkuQWxpZ25lbWVudC5DRU5URVIpcmV0dXJuIHQueCtlLzItdGhpcy53aWR0aC8yO2lmKHRoaXMuc3R5bGUuYWxpZ25lbWVudD09aS5BbGlnbmVtZW50LlJJR0hUKXJldHVybiB0LngrZS10aGlzLndpZHRoLW47aWYodGhpcy5zdHlsZS5hbGlnbmVtZW50PT1pLkFsaWduZW1lbnQuTEVGVClyZXR1cm4gdC54K259ZWxzZSBpZih0KXJldHVybiB0LngrUygpKHRoaXMsSSk7cmV0dXJuIFMoKSh0aGlzLEkpfSxzZXQ6ZnVuY3Rpb24odCl7dygpKHRoaXMsSSx0KSx0aGlzLnJlYWN0b3ImJnRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJ5XCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXJlbnR8fHRoaXMuY2FudmFzO2lmKHRoaXMuc3R5bGUudmVydGljYWxBbGlnbmVtZW50JiZ0KXt2YXIgZT10LmhlaWdodCxuPXQuc3R5bGUmJnQuc3R5bGUucGFkZGluZ3x8MDtpZih0aGlzLnN0eWxlLnZlcnRpY2FsQWxpZ25lbWVudD09aS5WZXJ0aWNhbEFsaWduZW1lbnQuQk9UVE9NKXJldHVybiB0LnkrZS10aGlzLmhlaWdodC1uO2lmKHRoaXMuc3R5bGUudmVydGljYWxBbGlnbmVtZW50PT1pLlZlcnRpY2FsQWxpZ25lbWVudC5DRU5URVIpcmV0dXJuIHQueStlLzItdGhpcy5oZWlnaHQvMjtpZih0aGlzLnN0eWxlLnZlcnRpY2FsQWxpZ25lbWVudD09aS5WZXJ0aWNhbEFsaWduZW1lbnQuVE9QKXJldHVybiB0Lnkrbn1lbHNlIGlmKHQpcmV0dXJuIHQueStTKCkodGhpcyxEKTtyZXR1cm4gUygpKHRoaXMsRCl9LHNldDpmdW5jdGlvbih0KXt3KCkodGhpcyxELHQpLHRoaXMucmVhY3RvciYmdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNoYW5nZVwiLHRoaXMpfX0se2tleTpcImRlZmF1bHRTdHlsZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVCh7cGFkZGluZzppLlNldHRpbmcuREVGQVVMVF9QQURESU5HLHNwYWNlQmV0d2VlbkNvbXBvbmVudHM6aS5TZXR0aW5nLkRFRkFVTFRfU1BBQ0lOR30pfX0se2tleTpcInN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLEYpfHx0aGlzLmRlZmF1bHRTdHlsZX0sc2V0OmZ1bmN0aW9uKHQpe3coKSh0aGlzLEYsbmV3IFQpLFMoKSh0aGlzLEYpLnNldEFsbCh0aGlzLmRlZmF1bHRTdHlsZS5nZXRTdHlsZXMoKSksdCYmdCBpbnN0YW5jZW9mIFQmJlMoKSh0aGlzLEYpLnNldEFsbCh0LmdldFN0eWxlcygpKSxTKCkodGhpcyxGKS5jb21wb25lbnQ9dGhpcyx0aGlzLnJlYWN0b3ImJnRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJoaWRkZW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5oaWRkZW58fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5oaWRkZW59LHNldDpmdW5jdGlvbih0KXt0aGlzLmRpc2FibGVkPXQsdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5zZXQoXCJoaWRkZW5cIix0KSx0aGlzLnJlYWN0b3ImJnRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJzZWxlY3RlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyx4KX0sc2V0OmZ1bmN0aW9uKHQpe3coKSh0aGlzLHgsdCksdGhpcy5yZWFjdG9yJiZ0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2hhbmdlXCIsdGhpcyl9fV0sW3trZXk6XCJjb21wYXJlQ29tcG9uZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29tcGFyZVRvKGUpfX1dKSx0fSgpLE09bigxMCksVT1uLm4oTSk7ZnVuY3Rpb24gUCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgQj1mdW5jdGlvbih0KXtkKCkobix0KTt2YXIgZT1QKG4pO2Z1bmN0aW9uIG4odCxpLHIscyxhKXt2YXIgYztyZXR1cm4gbygpKHRoaXMsbiksYz1lLmNhbGwodGhpcyx0LGkscixzLGEpLEUoKShsKCkoYyksXCJzZWxlY3RhYmxlXCIsITEpLGN9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhpZGRlbil7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBlPXQuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtlLnNhdmUoKSx0aGlzLmRyYXdCYWNrZ3JvdW5kKGUpLHRoaXMuZHJhd0JvcmRlcihlKSxlLnJlc3RvcmUoKX19fSx7a2V5OlwiZHJhd0JhY2tncm91bmRcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJhY2tncm91bmRDb2xvcjtlJiYodC5zYXZlKCksdC5maWxsU3R5bGU9ZSx0LmZpbGxSZWN0KE1hdGgucm91bmQodGhpcy54KSxNYXRoLnJvdW5kKHRoaXMueSksTWF0aC5yb3VuZCh0aGlzLndpZHRoKSxNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0KSksdC5yZXN0b3JlKCkpfX0se2tleTpcImRyYXdCb3JkZXJcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmJvcmRlckNvbG9yO2UmJnRoaXMuc3R5bGUuYm9yZGVyU2l6ZT4wJiYodC5zYXZlKCksdC5zdHJva2VTdHlsZT1lLHQubGluZVdpZHRoPXRoaXMuc3R5bGUuYm9yZGVyU2l6ZSx0LnN0cm9rZVJlY3QoTWF0aC5yb3VuZCh0aGlzLngpLE1hdGgucm91bmQodGhpcy55KSxNYXRoLnJvdW5kKHRoaXMud2lkdGgtdGhpcy5zdHlsZS5ib3JkZXJTaXplLzIpLE1hdGgucm91bmQodGhpcy5oZWlnaHQtdGhpcy5zdHlsZS5ib3JkZXJTaXplLzIpKSx0LnJlc3RvcmUoKSl9fSx7a2V5OlwiYmFja2dyb3VuZENvbG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG92ZXJlZCYmdGhpcy5jbGlja2VkJiZudWxsIT10aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvckRvd24/dGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3JEb3duOnRoaXMuaG92ZXJlZCYmbnVsbCE9dGhpcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3JIb3Zlcj90aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvckhvdmVyOnRoaXMuc3R5bGUuYmFja2dyb3VuZENvbG9yfX0se2tleTpcImJvcmRlckNvbG9yXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xpY2tlZCYmdGhpcy5ob3ZlcmVkJiZudWxsIT10aGlzLnN0eWxlLmJvcmRlckNvbG9yRG93bj90aGlzLnN0eWxlLmJvcmRlckNvbG9yRG93bjohdGhpcy5jbGlja2VkJiZ0aGlzLmhvdmVyZWQmJm51bGwhPXRoaXMuc3R5bGUuYm9yZGVyQ29sb3JIb3Zlcj90aGlzLnN0eWxlLmJvcmRlckNvbG9ySG92ZXI6dGhpcy5zZWxlY3RhYmxlJiZ0aGlzLnNlbGVjdGVkJiZudWxsIT10aGlzLnN0eWxlLmJvcmRlckNvbG9yU2VsZWN0ZWQ/dGhpcy5zdHlsZS5ib3JkZXJDb2xvclNlbGVjdGVkOnRoaXMuc3R5bGUuYm9yZGVyQ29sb3J9fV0pLG59KE4pO2Z1bmN0aW9uIHoodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIFc9ZnVuY3Rpb24odCl7ZCgpKG4sdCk7dmFyIGU9eihuKTtmdW5jdGlvbiBuKHQscixzKXt2YXIgYTtyZXR1cm4gbygpKHRoaXMsbiksYT1lLmNhbGwodGhpcyxudWxsLG51bGwsbnVsbCxudWxsLHIpLEUoKShsKCkoYSksXCJzZWxlY3RhYmxlXCIsITApLGEucGFyZW50PXMsYS5zaXplPXR8fGkuU2V0dGluZy5TQ1JPTExCQVJfREVGQVVMVF9TSVpFLGF9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaGlkZGVufHwodGhpcy5jbGlja2VkJiYodGhpcy5ob3ZlcmVkPSEwKSx1KCkoZygpKG4ucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMsdCkpfX0se2tleTpcImNvbXBhcmVUb0NvbXBvbmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0LmNvbXBhcmVUb1Njcm9sbGJhcih0aGlzKX19LHtrZXk6XCJjb21wYXJlVG9TY3JvbGxiYXJcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMH19LHtrZXk6XCJtYXhXaWR0aFBhcmVudFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5tYXhXaWR0aC1NYXRoLmFicyhNYXRoLm1pbigwLHRoaXMucGFyZW50LngpKTowfX0se2tleTpcIm1heEhlaWdodFBhcmVudFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5tYXhIZWlnaHQtTWF0aC5hYnMoTWF0aC5taW4oMCx0aGlzLnBhcmVudC55KSk6MH19LHtrZXk6XCJpbm5lcldpZHRoUGFyZW50XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LmlubmVyV2lkdGgtTWF0aC5hYnMoTWF0aC5taW4oMCx0aGlzLnBhcmVudC54KSk6MH19LHtrZXk6XCJpbm5lckhlaWdodFBhcmVudFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5pbm5lckhlaWdodC1NYXRoLmFicyhNYXRoLm1pbigwLHRoaXMucGFyZW50LnkpKTowfX0se2tleTpcIm1heFdpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGh9fSx7a2V5OlwibWF4SGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVpZ2h0fX0se2tleTpcImNvbnRlbnRSYXRpb1hcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5tYXhXaWR0aFBhcmVudC90aGlzLmlubmVyV2lkdGhQYXJlbnQ6MH19LHtrZXk6XCJjb250ZW50UmF0aW9ZXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMubWF4SGVpZ2h0UGFyZW50L3RoaXMuaW5uZXJIZWlnaHRQYXJlbnQ6MH19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1heFdpZHRoUGFyZW50KnRoaXMuY29udGVudFJhdGlvWH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhIZWlnaHRQYXJlbnQqdGhpcy5jb250ZW50UmF0aW9ZfX0se2tleTpcIndpbmRvd1Njcm9sbFNpemVYXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXJXaWR0aFBhcmVudC10aGlzLm1heFdpZHRoUGFyZW50fX0se2tleTpcIndpbmRvd1Njcm9sbFNpemVZXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXJIZWlnaHRQYXJlbnQtdGhpcy5tYXhIZWlnaHRQYXJlbnR9fSx7a2V5OlwicGVyY2VudFNjcm9sbGJhclhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQub2Zmc2V0U2Nyb2xsWC90aGlzLndpbmRvd1Njcm9sbFNpemVYOjB9fSx7a2V5OlwicGVyY2VudFNjcm9sbGJhcllcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQub2Zmc2V0U2Nyb2xsWS90aGlzLndpbmRvd1Njcm9sbFNpemVZOjB9fSx7a2V5Olwic2Nyb2xsQXJlYVNpemVYXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF4V2lkdGhQYXJlbnQtdGhpcy53aWR0aH19LHtrZXk6XCJzY3JvbGxBcmVhU2l6ZVlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhIZWlnaHRQYXJlbnQtdGhpcy5oZWlnaHR9fSx7a2V5OlwieFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD9NYXRoLmFicyh0aGlzLnBhcmVudC54KSt0aGlzLnNjcm9sbEFyZWFTaXplWCp0aGlzLnBlcmNlbnRTY3JvbGxiYXJYOjB9fSx7a2V5OlwieVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudD9NYXRoLmFicyh0aGlzLnBhcmVudC55KSt0aGlzLnNjcm9sbEFyZWFTaXplWSp0aGlzLnBlcmNlbnRTY3JvbGxiYXJZOjB9fSx7a2V5OlwiZGVmYXVsdFN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUKHtiYWNrZ3JvdW5kQ29sb3I6aS5TZXR0aW5nLlNDUk9MTEJBUl9ERUZBVUxUX0JBQ0tHUk9VTkQsYmFja2dyb3VuZENvbG9ySG92ZXI6aS5TZXR0aW5nLlNDUk9MTEJBUl9ERUZBVUxUX0hPVkVSX0JBQ0tHUk9VTkQsYmFja2dyb3VuZENvbG9yRG93bjppLlNldHRpbmcuU0NST0xMQkFSX0RFRkFVTFRfQ0xJQ0tfQkFDS0dST1VORCxib3JkZXJTaXplOjB9KX19XSksbn0oQik7ZnVuY3Rpb24gSCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgRz1mdW5jdGlvbih0KXtkKCkobix0KTt2YXIgZT1IKG4pO2Z1bmN0aW9uIG4odCxpLHIpe3ZhciBzO3JldHVybiBvKCkodGhpcyxuKSxzPWUuY2FsbCh0aGlzLHQsaSxyKSxFKCkobCgpKHMpLFwic2VsZWN0YWJsZVwiLCEwKSxzLmFkZE1vdmVBY3Rpb24oKGZ1bmN0aW9uKHQpe3MucGFyZW50JiYocy5wYXJlbnQub2Zmc2V0U2Nyb2xsWC09dCxzLnBhcmVudC5yZWFjdG9yJiZzLnBhcmVudC5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblNjcm9sbFwiLC10LDApKX0pKSxzfXJldHVybiBhKCkobixbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNjcm9sbEFyZWFTaXplWD4wJiZ1KCkoZygpKG4ucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMsdCl9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX19LHtrZXk6XCJ5XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LnkrdGhpcy5wYXJlbnQuaGVpZ2h0LXRoaXMuc2l6ZTpudWxsfX1dKSxufShXKTtmdW5jdGlvbiBYKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLGk9ZygpKHQpO2lmKGUpe3ZhciByPWcoKSh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KGksYXJndW1lbnRzLHIpfWVsc2Ugbj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdigpKHRoaXMsbil9fXZhciBLPWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPVgobik7ZnVuY3Rpb24gbih0LGkscil7dmFyIHM7cmV0dXJuIG8oKSh0aGlzLG4pLHM9ZS5jYWxsKHRoaXMsdCxpLHIpLEUoKShsKCkocyksXCJzZWxlY3RhYmxlXCIsITApLHMuYWRkTW92ZUFjdGlvbigoZnVuY3Rpb24odCxlKXtzLnBhcmVudCYmKHMucGFyZW50Lm9mZnNldFNjcm9sbFktPWUscy5wYXJlbnQucmVhY3RvciYmcy5wYXJlbnQucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TY3JvbGxcIiwwLC1lKSl9KSksc31yZXR1cm4gYSgpKG4sW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zY3JvbGxBcmVhU2l6ZVk+MCYmdSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZX19LHtrZXk6XCJ4XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LngrdGhpcy5wYXJlbnQud2lkdGgtdGhpcy5zaXplOjB9fV0pLG59KFcpLFk9e3ByZVJlbmRlcmVkRm9udDp7fSxsYXN0S2V5Oi0xLHByZVJlbmRlckZvbnQ6ZnVuY3Rpb24odCxlLG4saSl7dC5wdXNoKFwiP1wiKSx0LnB1c2goXCIgXCIpLHQucHVzaChcIkFcIik7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikscz1vLmdldENvbnRleHQoXCIyZFwiKTtzLmZvbnQ9ZStcInB4IFwiK2k7dmFyIGE9cy5tZWFzdXJlVGV4dCh0W3JdKS53aWR0aDtvLndpZHRoPWEsby5oZWlnaHQ9ZStlLzYscy5mb250PWUrXCJweCBcIitpLHMuZmlsbFN0eWxlPW4scy50ZXh0QmFzZWxpbmU9XCJ0b3BcIixzLmZpbGxUZXh0KHRbcl0sMCwwKSx0aGlzLnByZVJlbmRlcmVkRm9udFt0W3JdXT1vfX0sZHJhd0ltYWdlOmZ1bmN0aW9uKHQsZSxuLGkscixvLHMsYSxjLGwsaCx1KXt0aGlzLmRyYXdJbWFnZVdyYXBwZXIodCxlLG4saSxyLG8scyxhLGMsbCxoLHUpfSxkcmF3SW1hZ2VEYXRhOmZ1bmN0aW9uKHQsZSxuLGkscixvLHMsYSxjLGwsaCx1KXt0aGlzLmRyYXdJbWFnZVdyYXBwZXIodCxlLG4saSxyLG8scyxhLGMsbCxoLHUpfSxkcmF3SW1hZ2VXcmFwcGVyOmZ1bmN0aW9uKHQsZSxuLGkscixvLHMsYSxjLGwsaCx1KXtuPW51bGw9PW58fGlzTmFOKG4pP251bGw6TWF0aC5yb3VuZChuKSxpPW51bGw9PWl8fGlzTmFOKGkpP251bGw6TWF0aC5yb3VuZChpKSxyPW51bGw9PXJ8fGlzTmFOKHIpP251bGw6TWF0aC5yb3VuZChyKSxvPW51bGw9PW98fGlzTmFOKG8pP251bGw6TWF0aC5yb3VuZChvKSxzPW51bGw9PXN8fGlzTmFOKHMpP251bGw6TWF0aC5yb3VuZChzKSxhPW51bGw9PWF8fGlzTmFOKGEpP251bGw6TWF0aC5yb3VuZChhKSxjPW51bGw9PWN8fGlzTmFOKGMpP251bGw6TWF0aC5yb3VuZChjKSxsPW51bGw9PWx8fGlzTmFOKGwpP251bGw6TWF0aC5yb3VuZChsKSxoPW51bGwhPWgmJmgsbnVsbCE9KHU9bnVsbD09dXx8aXNOYU4odSk/bnVsbDp1KSYmKHQuc2F2ZSgpLHQudHJhbnNsYXRlKG4rci8yLGkrby8yKSx0LnJvdGF0ZSh1Kk1hdGguUEkvMTgwKSxuPS1yLzIsaT0tby8yKSxoJiZ0LmNsZWFyUmVjdChuLGkscixvKSxudWxsIT10JiZudWxsIT1lJiYobnVsbCE9cyYmbnVsbCE9YSYmbnVsbCE9YyYmbnVsbCE9bD90LmRyYXdJbWFnZShlLHMsYSxjLGwsbixpLHIsbyk6dC5kcmF3SW1hZ2UoZSxuLGkscixvKSksbnVsbCE9dSYmdC5yZXN0b3JlKCl9LGRyYXdUZXh0OmZ1bmN0aW9uKHQsZSxuLHIsbyxzLGEsYyxsLGgsdSxmLGQscCl7aWYodCl7dC5zYXZlKCksQXJyYXkuaXNBcnJheShuKXx8KHQuZmlsbFN0eWxlPW4sdC5zdHJva2VTdHlsZT1uKSx0LmZvbnQ9KHU/XCJib2xkIFwiOlwiXCIpK3IrXCJweCBcIitvLHQudGV4dEJhc2VsaW5lPWR8fFwiYm90dG9tXCIsdC5maWx0ZXI9XCJub25lXCIsaCYmKGU9dGhpcy53cmFwVGV4dExpbmVzKHQsZSkudGV4dCk7dmFyIHY9ZS5zcGxpdChcIlxcblwiKSx5PTAsZz1NYXRoLnJvdW5kKGMpLG09TWF0aC5yb3VuZChsKStyLEU9MDtsfHwoYT09aS5WZXJ0aWNhbEFsaWduZW1lbnQuQ0VOVEVSP20rPU1hdGgucm91bmQoKHAmJnAuaGVpZ2h0P3AuaGVpZ2h0OnQuY2FudmFzLmhlaWdodCkvMi1yKnYubGVuZ3RoLzIpOmE9PWkuVmVydGljYWxBbGlnbmVtZW50LkJPVFRPTSYmKG0rPU1hdGgucm91bmQoKHAmJnAuaGVpZ2h0P3AuaGVpZ2h0OnQuY2FudmFzLmhlaWdodCktcip2Lmxlbmd0aC8yLXIvNSkpKTtmb3IodmFyIEM9MDtDPHYubGVuZ3RoO0MrKyl7dmFyIFM9dltDXSxBPXQubWVhc3VyZVRleHQoUykud2lkdGg7aWYoQXJyYXkuaXNBcnJheShuKSl7dmFyIHc9Qzt3Pm4ubGVuZ3RoLTEmJih3PW4ubGVuZ3RoLTEpLHQuZmlsbFN0eWxlPW5bd10sdC5zdHJva2VTdHlsZT1uW3ddfXM9PWkuQWxpZ25lbWVudC5DRU5URVI/Zz1NYXRoLnJvdW5kKHAmJnAueD9wLng6MCkrTWF0aC5yb3VuZCgocCYmcC53aWR0aD9wLndpZHRoOnQuY2FudmFzLndpZHRoKS8yLXQubWVhc3VyZVRleHQoUykud2lkdGgvMik6cz09aS5BbGlnbmVtZW50LlJJR0hUJiYoZz1NYXRoLnJvdW5kKHAmJnAueD9wLng6MCkrTWF0aC5yb3VuZCgocCYmcC53aWR0aD9wLndpZHRoOnQuY2FudmFzLndpZHRoKS10Lm1lYXN1cmVUZXh0KFMpLndpZHRoLShwJiZwLnNwYWNlQmV0d2VlbkNvbXBvbmVudHM/cC5zcGFjZUJldHdlZW5Db21wb25lbnRzOmkuU2V0dGluZy5ERUZBVUxUX1NQQUNJTkcpKSksdC5maWxsVGV4dChTLGcsbSksZiYmKHQubGluZVdpZHRoPTEsdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhnLG0tMiksdC5saW5lVG8oTWF0aC5yb3VuZChnK0EpLG0tMiksdC5zdHJva2UoKSksQT55JiYoeT1BKSwwPT1DJiYoRT1tKSxtKz1yfXJldHVybiB0LnJlc3RvcmUoKSx7eDpnLHk6RSxoZWlnaHQ6cip2Lmxlbmd0aCx3aWR0aDp5fX19LHdyYXBUZXh0OmZ1bmN0aW9uKHQsZSl7aWYodC5sZW5ndGg+ZSl7Zm9yKHZhciBuPWU7bj4wJiZcIiBcIiE9dFtuXTtuLS0pO2lmKG4+MCl7dmFyIGk9dC5zdWJzdHJpbmcoMCxuKSxyPXQuc3Vic3RyaW5nKG4rMSk7cmV0dXJuIGkrXCJcXG5cIit0aGlzLndyYXBUZXh0KHIsZSl9fXJldHVybiB0fSx3cmFwVGV4dExpbmVzOmZ1bmN0aW9uKHQsZSxuLGkscixvKXtpZih0JiZlKXt0LnNhdmUoKSx0LmZvbnQ9TWF0aC5yb3VuZChpKStcInB4IFwiK3IsdC5pbWFnZVNtb290aGluZ0VuYWJsZWQ9ITE7Zm9yKHZhciBzPWUuc3BsaXQoXCJcXG5cIiksYT1cIlwiLGM9bnx8dC5tZWFzdXJlVGV4dChcIkFcIikud2lkdGgsbD1NYXRoLnJvdW5kKHQuY2FudmFzLndpZHRoL2MpLGg9MCx1PTAsZj0wO2Y8cy5sZW5ndGg7ZisrKXt2YXIgZD1vP3NbZl06dGhpcy53cmFwVGV4dChzW2ZdLGwpO2ErPWQsZjxzLmxlbmd0aC0xJiYoYSs9XCJcXG5cIik7Zm9yKHZhciBwPTA7cDxkLnNwbGl0KFwiXFxuXCIpLmxlbmd0aDtwKyspe3ZhciB2PXQubWVhc3VyZVRleHQoZC5zcGxpdChcIlxcblwiKVtwXSkud2lkdGg7aCs9aSx2PnUmJih1PXYpfX1yZXR1cm4gdC5yZXN0b3JlKCkse3RleHQ6YSxoZWlnaHQ6aCx3aWR0aDp1LGNhcldpZHRoOmN9fXJldHVybnt0ZXh0OlwiXCIsaGVpZ2h0OjAsd2lkdGg6MCxjYXJXaWR0aDowfX0sZHJhd0Fycm93OmZ1bmN0aW9uKHQsZSxuLHIsbyxzLGEsYyxsKXt0LnNhdmUoKSx0LmxpbmVDYXA9bHx8aS5TZXR0aW5nLkFSUk9XX0RFRkFVTFRfTElORV9DQVAsdC5saW5lV2lkdGg9c3x8aS5TZXR0aW5nLkFSUk9XX0RFRkFVTFRfTElORV9TSVpFLHQuc3Ryb2tlU3R5bGU9Y3x8aS5TZXR0aW5nLkFSUk9XX0RFRkFVTFRfQ09MT1IsdC5maWx0ZXI9XCJcIix0LmJlZ2luUGF0aCgpO3ZhciBoPWF8fGkuU2V0dGluZy5BUlJPV19ERUZBVUxUX0hFQURfU0laRSx1PXItZSxmPW8tbixkPU1hdGguYXRhbjIoZix1KTt0Lm1vdmVUbyhlLG4pLHQubGluZVRvKHIsbyksdC5tb3ZlVG8ocixvKSx0LmxpbmVUbyhyLWgqTWF0aC5jb3MoZC1NYXRoLlBJLzYpLG8taCpNYXRoLnNpbihkLU1hdGguUEkvNikpLHQubW92ZVRvKHIsbyksdC5saW5lVG8oci1oKk1hdGguY29zKGQrTWF0aC5QSS82KSxvLWgqTWF0aC5zaW4oZCtNYXRoLlBJLzYpKSx0LnN0cm9rZSgpLHQucmVzdG9yZSgpfSxkcmF3Q3Jvc3M6ZnVuY3Rpb24odCxlLG4scixvLHMsYSxjKXt0LnNhdmUoKSx0LmxpbmVDYXA9Y3x8aS5TZXR0aW5nLkNST1NTX0RFRkFVTFRfTElORV9DQVAsdC5saW5lV2lkdGg9c3x8aS5TZXR0aW5nLkNST1NTX0RFRkFVTFRfTElORV9TSVpFLHQuc3Ryb2tlU3R5bGU9YXx8aS5TZXR0aW5nLkNST1NTX0RFRkFVTFRfQ09MT1IsdC5maWx0ZXI9XCJcIix0LmJlZ2luUGF0aCgpLHQubW92ZVRvKGUsbiksdC5saW5lVG8oZStyLG4rbyksdC5tb3ZlVG8oZStyLG4pLHQubGluZVRvKGUsbitvKSx0LnN0cm9rZSgpLHQucmVzdG9yZSgpfSxkcmF3VHJpYW5nbGU6ZnVuY3Rpb24odCxlLG4scixvLHMsYSxjKXt2YXIgbD1hcmd1bWVudHMubGVuZ3RoPjgmJnZvaWQgMCE9PWFyZ3VtZW50c1s4XT9hcmd1bWVudHNbOF06aS5TZXR0aW5nLlRSSUFOR0xFX0RFRkFVTFRfRklMTCxoPWFyZ3VtZW50cy5sZW5ndGg+OT9hcmd1bWVudHNbOV06dm9pZCAwO3Quc2F2ZSgpLHQubGluZUNhcD1jfHxpLlNldHRpbmcuVFJJQU5HTEVfREVGQVVMVF9MSU5FX0NBUCx0LmxpbmVXaWR0aD1zfHxpLlNldHRpbmcuVFJJQU5HTEVfREVGQVVMVF9MSU5FX1NJWkUsdC5maWx0ZXI9XCJcIixsPyh0LmZpbGxTdHlsZT1ofHxpLlNldHRpbmcuVFJJQU5HTEVfREVGQVVMVF9GSUxMX0NPTE9SLHQuc3Ryb2tlU3R5bGU9YXx8aS5TZXR0aW5nLlRSSUFOR0xFX0RFRkFVTFRfQ09MT1IpOnQuc3Ryb2tlU3R5bGU9YXx8aS5TZXR0aW5nLlRSSUFOR0xFX0RFRkFVTFRfQ09MT1IsdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhlLG4pLHQubGluZVRvKGUrcixuKSx0LmxpbmVUbyhlK3IvMixuK28pLHQubGluZVRvKGUsbiksbD8odC5maWxsKCksdC5zdHJva2UoKSk6dC5zdHJva2UoKSx0LnJlc3RvcmUoKX0sZHJhd0NpcmNsZTpmdW5jdGlvbih0LGUsbixyLG8scyxhKXt2YXIgYz1hcmd1bWVudHMubGVuZ3RoPjcmJnZvaWQgMCE9PWFyZ3VtZW50c1s3XT9hcmd1bWVudHNbN106aS5TZXR0aW5nLkNJUkNMRV9ERUZBVUxUX0ZJTEwsbD1hcmd1bWVudHMubGVuZ3RoPjg/YXJndW1lbnRzWzhdOnZvaWQgMDt0LnNhdmUoKSx0LmxpbmVDYXA9YXx8aS5TZXR0aW5nLkNJUkNMRV9ERUZBVUxUX0xJTkVfQ0FQLHQubGluZVdpZHRoPW98fGkuU2V0dGluZy5DSVJDTEVfREVGQVVMVF9MSU5FX1NJWkUsdC5maWx0ZXI9XCJcIixjPyh0LmZpbGxTdHlsZT1sfHxpLlNldHRpbmcuQ0lSQ0xFX0RFRkFVTFRfRklMTF9DT0xPUix0LnN0cm9rZVN0eWxlPXN8fGkuU2V0dGluZy5DSVJDTEVfREVGQVVMVF9DT0xPUik6dC5zdHJva2VTdHlsZT1zfHxpLlNldHRpbmcuQ0lSQ0xFX0RFRkFVTFRfQ09MT1IsdC5iZWdpblBhdGgoKSx0LmFyYyhlK3IvMixuK3IvMixyLzIsMCwyKk1hdGguUEksITEpLGM/KHQuZmlsbCgpLHQuc3Ryb2tlKCkpOnQuc3Ryb2tlKCksdC5yZXN0b3JlKCl9LGNsZWFyOmZ1bmN0aW9uKHQpe3QuY2xlYXJSZWN0KDAsMCx0LmNhbnZhcy53aWR0aCx0LmNhbnZhcy5oZWlnaHQpfSxpc0ZpbHRlckh1ZUF2YWlsYWJsZTpmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7dC53aWR0aD01LHQuaGVpZ2h0PTU7dmFyIGU9dC5nZXRDb250ZXh0KFwiMmRcIik7ZS5zYXZlKCksZS5maWxsU3R5bGU9XCIjRkYwMDAwXCIsZS5maWx0ZXI9XCJodWUtcm90YXRlKDkwZGVnKVwiLGUuZmlsbFJlY3QoMCwwLDUsNSk7dmFyIG49ZS5nZXRJbWFnZURhdGEoMCwwLDEsMSkuZGF0YTtyZXR1cm4gZS5yZXN0b3JlKCksMjU1IT1uWzBdfHwwIT1uWzFdfHwwIT1uWzJdfSxibHVyQ2FudmFzOmZ1bmN0aW9uKHQsZSl7dC5zYXZlKCksdC5maWx0ZXI9XCJibHVyKFwiK2UrXCJweClcIix0aGlzLmRyYXdJbWFnZURhdGEodCx0LmNhbnZhcywwLDAsdC5jYW52YXMud2lkdGgsdC5jYW52YXMuaGVpZ2h0KSx0LnJlc3RvcmUoKX0sZ2V0Rm9udFNpemU6ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZmxvb3IocGFyc2VJbnQodC5mb250Lm1hdGNoKC9cXGQrLyksMTApLzEuMjUpfSxhdXRvUmVzaXplQ2FudmFzOmZ1bmN0aW9uKHQsZSxuKXtpZihkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudClkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudD09dD8odC53aWR0aD13aW5kb3cuaW5uZXJXaWR0aCx0LmhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQpOih0LndpZHRoPWUsdC5oZWlnaHQ9bik7ZWxzZSBpZihlPj0uODUqZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKXt2YXIgaT1lL247dC53aWR0aD0uODUqZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHQuaGVpZ2h0PXQud2lkdGgvaX1lbHNlIHQud2lkdGg9ZSx0LmhlaWdodD1ufSxlbmFibGVBdXRvUmVzaXplQ2FudmFzOmZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10aGlzO3QmJlwidHJ1ZVwiIT10LmdldEF0dHJpYnV0ZShcImF1dG9yZXNpemUtY2FudmFzLWV2ZW50XCIpJiYodGhpcy5hdXRvUmVzaXplQ2FudmFzKHQsZSxuKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLChmdW5jdGlvbigpe3Quc2V0QXR0cmlidXRlKFwiYXV0b3Jlc2l6ZS1jYW52YXMtZXZlbnRcIixcInRydWVcIiksaS5hdXRvUmVzaXplQ2FudmFzKHQsZSxuKX0pKSl9LGF1dG9SZXNpemVDYW52YXNGdWxsc2NyZWVuOmZ1bmN0aW9uKHQsZSl7ZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQ9PShlfHx0KSYmKHQud2lkdGg9d2luZG93LmlubmVyV2lkdGgsdC5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0LGUmJihlLndpZHRoPXdpbmRvdy5pbm5lcldpZHRoLGUuaGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodCkpfSxlbmFibGVBdXRvUmVzaXplQ2FudmFzRnVsbHNjcmVlbjpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dCYmXCJ0cnVlXCIhPXQuZ2V0QXR0cmlidXRlKFwiYXV0b3Jlc2l6ZWZ1bGxzY3JlZW4tY2FudmFzLWV2ZW50XCIpJiYodGhpcy5hdXRvUmVzaXplQ2FudmFzRnVsbHNjcmVlbih0LGUpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsKGZ1bmN0aW9uKCl7dC5zZXRBdHRyaWJ1dGUoXCJhdXRvcmVzaXplZnVsbHNjcmVlbi1jYW52YXMtZXZlbnRcIixcInRydWVcIiksbi5hdXRvUmVzaXplQ2FudmFzRnVsbHNjcmVlbih0LGUpfSkpKX0sYXV0b1Jlc2l6ZUNhbnZhc0Z1bGxwYWdlOmZ1bmN0aW9uKHQsZSl7dCYmXCJ0cnVlXCI9PXQuZ2V0QXR0cmlidXRlKFwiZnVsbHBhZ2UtY2FudmFzLWVuYWJsZVwiKSYmKHQud2lkdGg9d2luZG93LmlubmVyV2lkdGgsdC5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0LGUmJihlLndpZHRoPXdpbmRvdy5pbm5lcldpZHRoLGUuaGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodCxlLnN0eWxlLm1hcmdpbj0wLGUuc3R5bGUucGFkZGluZz0wKSxkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbj0wLGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZz0wKX0sZW5hYmxlQXV0b1Jlc2l6ZUNhbnZhc0Z1bGxwYWdlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0JiZcInRydWVcIiE9dC5nZXRBdHRyaWJ1dGUoXCJhdXRvcmVzaXplZnVsbHBhZ2UtY2FudmFzLWV2ZW50XCIpJiYodGhpcy5hdXRvUmVzaXplQ2FudmFzRnVsbHBhZ2UodCxlKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLChmdW5jdGlvbigpe3Quc2V0QXR0cmlidXRlKFwiYXV0b3Jlc2l6ZWZ1bGxwYWdlLWNhbnZhcy1ldmVudFwiLFwidHJ1ZVwiKSxuLmF1dG9SZXNpemVDYW52YXNGdWxscGFnZSh0LGUpfSkpKX0sdG9nZ2xlRnVsbHNjcmVlbjpmdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBuPXQud2lkdGgsaT10LmhlaWdodDtpZihlJiYoZS53aWR0aD1uLGUuaGVpZ2h0PWkpLGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50P2RvY3VtZW50LmV4aXRGdWxsc2NyZWVuJiZkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOihlfHx0KS5yZXF1ZXN0RnVsbHNjcmVlbj8oZXx8dCkucmVxdWVzdEZ1bGxzY3JlZW4oKTooZXx8dCkubW96UmVxdWVzdEZ1bGxTY3JlZW4/KGV8fHQpLm1velJlcXVlc3RGdWxsU2NyZWVuKCk6KGV8fHQpLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuPyhlfHx0KS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpOihlfHx0KS5tc1JlcXVlc3RGdWxsc2NyZWVuPyhlfHx0KS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk6KGV8fHQpLm9SZXF1ZXN0RnVsbHNjcmVlbiYmKGV8fHQpLm9SZXF1ZXN0RnVsbHNjcmVlbigpLHRoaXMuZW5hYmxlQXV0b1Jlc2l6ZUNhbnZhc0Z1bGxzY3JlZW4odCxlKSxcInRydWVcIiE9dC5nZXRBdHRyaWJ1dGUoXCJmdWxsc2NyZWVuY2hhbmdlLWNhbnZhcy1ldmVudFwiKSl7dC5zZXRBdHRyaWJ1dGUoXCJmdWxsc2NyZWVuY2hhbmdlLWNhbnZhcy1ldmVudFwiLFwidHJ1ZVwiKTt2YXIgcj1mdW5jdGlvbigpe2RvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50IT0oZXx8dCkmJih0LndpZHRoPW4sdC5oZWlnaHQ9aSxlJiYoZS53aWR0aD1uLGUuaGVpZ2h0PWkpKX07dm9pZCAwIT09ZG9jdW1lbnQub25mdWxsc2NyZWVuY2hhbmdlP2RvY3VtZW50Lm9uZnVsbHNjcmVlbmNoYW5nZT1yOnZvaWQgMCE9PWRvY3VtZW50Lm9ubXNmdWxsc2NyZWVuY2hhbmdlP2RvY3VtZW50Lm9ubXNmdWxsc2NyZWVuY2hhbmdlPXI6dm9pZCAwIT09ZG9jdW1lbnQub25tb3pmdWxsc2NyZWVuY2hhbmdlP2RvY3VtZW50Lm9ubW96ZnVsbHNjcmVlbmNoYW5nZT1yOnZvaWQgMCE9PWRvY3VtZW50Lm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZT9kb2N1bWVudC5vbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2U9cjp2b2lkIDAhPT1kb2N1bWVudC5vbm9raXRmdWxsc2NyZWVuY2hhbmdlJiYoZG9jdW1lbnQub25vZnVsbHNjcmVlbmNoYW5nZT1yKX19fSx0b2dnbGVGdWxscGFnZTpmdW5jdGlvbih0LGUpe2lmKHQpe3ZhciBuPXQud2lkdGgsaT10LmhlaWdodDtlJiYoZS53aWR0aD1uLGUuaGVpZ2h0PWkpLHQuZ2V0QXR0cmlidXRlKFwiZnVsbHBhZ2UtY2FudmFzLWVuYWJsZVwiKSYmXCJmYWxzZVwiIT10LmdldEF0dHJpYnV0ZShcImZ1bGxwYWdlLWNhbnZhcy1lbmFibGVcIik/dC5zZXRBdHRyaWJ1dGUoXCJmdWxscGFnZS1jYW52YXMtZW5hYmxlXCIsXCJmYWxzZVwiKTp0LnNldEF0dHJpYnV0ZShcImZ1bGxwYWdlLWNhbnZhcy1lbmFibGVcIixcInRydWVcIiksdGhpcy5lbmFibGVBdXRvUmVzaXplQ2FudmFzRnVsbHBhZ2UodCxlKX19LGdldE1vdXNlUG9zOmZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm57eDplLmNsaWVudFgtbi5sZWZ0LHk6ZS5jbGllbnRZLW4udG9wfX19O2Z1bmN0aW9uIFYodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIFo9bmV3IFdlYWtNYXAsaj1uZXcgV2Vha01hcCxxPW5ldyBXZWFrTWFwLEo9bmV3IFdlYWtNYXAsUT1uZXcgV2Vha01hcCwkPWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPVYobik7ZnVuY3Rpb24gbih0LHIscyxhLGMpe3ZhciBoLHU7bygpKHRoaXMsbiksdT1lLmNhbGwodGhpcyx0LHIsbnVsbCxudWxsLGMpLEUoKShsKCkodSksXCJzZWxlY3RhYmxlXCIsITEpLFouc2V0KGwoKSh1KSx7d3JpdGFibGU6ITAsdmFsdWU6W119KSxqLnNldChsKCkodSkse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxxLnNldChsKCkodSkse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxKLnNldChsKCkodSkse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxRLnNldChsKCkodSkse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxFKCkobCgpKHUpLFwiZXZlbnRDaGFuZ2VDYWxsYmFja1wiLChmdW5jdGlvbigpe3JldHVybiB1LnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2hhbmdlXCIsbCgpKHUpKX0pKTtmb3IodmFyIGY9YXJndW1lbnRzLmxlbmd0aCxkPW5ldyBBcnJheShmPjU/Zi01OjApLHA9NTtwPGY7cCsrKWRbcC01XT1hcmd1bWVudHNbcF07cmV0dXJuKGg9dSkuYWRkQWxsLmFwcGx5KGgsZCksdS5jYW52YXNUbXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx3KCkobCgpKHUpLGoscyksdygpKGwoKSh1KSxxLGEpLHUuc2Nyb2xsYmFySG9yaXpvbnRhbD1uZXcgRyhudWxsLG51bGwsbCgpKHUpKSx1LnNjcm9sbGJhclZlcnRpY2FsPW5ldyBLKG51bGwsbnVsbCxsKCkodSkpLHUuYWRkU2Nyb2xsQWN0aW9uKChmdW5jdGlvbih0LGUpe3JldHVybiB1LmNvbnRyb2xTY3JvbGxpbmcodCxlKX0pKSxpLlNldHRpbmcuRElTQUJMRV9FWFBFUklNRU5UQUxfT1BUSU1JWkFUSU9OU3x8dS5hZGRDaGFuZ2VBY3Rpb24oKGZ1bmN0aW9uKHQpe3Q9PXUucGFyZW50JiZ1LmNvbXBvbmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIixsKCkodSkpfSkpfSkpLHV9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuaGlkZGVuKXt2YXIgaT10LmNhbnZhcyxyPWkuZ2V0Q29udGV4dChcIjJkXCIpO3Iuc2F2ZSgpLHRoaXMuaXNDdXR0aW5nJiYodGhpcy5jYW52YXNUbXAud2lkdGg9aS53aWR0aCx0aGlzLmNhbnZhc1RtcC5oZWlnaHQ9aS5oZWlnaHQsWS5jbGVhcih0aGlzLmNhbnZhc1RtcC5nZXRDb250ZXh0KFwiMmRcIikpKSx0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5jYW52YXMmJih0LmNhbnZhcz1lLmNhbnZhcyl9KSksdGhpcy5jb250cm9sU2Nyb2xsaW5nKDAsMCksdSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpLHIucmVzdG9yZSgpfX19LHtrZXk6XCJkcmF3VmVydGljYWxTY3JvbGxCYXJcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLnNjcm9sbGJhclZlcnRpY2FsJiYodGhpcy5zY3JvbGxiYXJWZXJ0aWNhbC5jYW52YXM9dGhpcy5jYW52YXMsdGhpcy5zY3JvbGxiYXJWZXJ0aWNhbC5kcmF3KHQpKX19LHtrZXk6XCJkcmF3SG9yaXpvbnRhbFNjcm9sbEJhclwiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuc2Nyb2xsYmFySG9yaXpvbnRhbCYmKHRoaXMuc2Nyb2xsYmFySG9yaXpvbnRhbC5jYW52YXM9dGhpcy5jYW52YXMsdGhpcy5zY3JvbGxiYXJIb3Jpem9udGFsLmRyYXcodCkpfX0se2tleTpcImRyYXdTY3JvbGxiYXJzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5zdHlsZS5zY3JvbGxYRGlzYWJsZWR8fHRoaXMuZHJhd0hvcml6b250YWxTY3JvbGxCYXIodCksdGhpcy5zdHlsZS5zY3JvbGxZRGlzYWJsZWR8fHRoaXMuZHJhd1ZlcnRpY2FsU2Nyb2xsQmFyKHQpfX0se2tleTpcInNldFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5jbGVhcigpLHRoaXMuYWRkQWxsLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmVuYWJsZSgpfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe1MoKSh0aGlzLFopLnB1c2godCksdC5wYXJlbnQ9dGhpcyx0aGlzLmNhbnZhcyYmKHQuY2FudmFzPXRoaXMuY2FudmFzKSx0LmFkZENoYW5nZUFjdGlvbih0aGlzLmV2ZW50Q2hhbmdlQ2FsbGJhY2spLHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJhZGRBbGxcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyluW2ldPWFyZ3VtZW50c1tpXTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFkZChlKX0pKX19LHtrZXk6XCJyZW1vdmVcIix2YWx1ZTpmdW5jdGlvbih0KXstMSE9UygpKHRoaXMsWikuaW5kZXhPZih0KSYmdC5yZW1vdmVDaGFuZ2VBY3Rpb24odGhpcy5ldmVudENoYW5nZUNhbGxiYWNrKSx3KCkodGhpcyxaLFMoKSh0aGlzLFopLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHQhPWV9KSkpLHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJjbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztTKCkodGhpcyxaKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5yZW1vdmUoZSl9KSksdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNoYW5nZVwiLHRoaXMpfX0se2tleTpcImdldENvbXBvbmVudHNUcmVlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMsbj17Y29tcG9uZW50OmUsY2hpbGRzOltdfTtyZXR1cm4gZS5hbGxDb21wb25lbnRzJiZlLmFsbENvbXBvbmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG4uY2hpbGRzLnB1c2godC5nZXRDb21wb25lbnRzVHJlZShlKSl9KSksbn19LHtrZXk6XCJkaXNhYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt1KCkoZygpKG4ucHJvdG90eXBlKSxcImRpc2FibGVcIix0aGlzKS5jYWxsKHRoaXMpLFMoKSh0aGlzLFopLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LmRpc2FibGUmJnQuZGlzYWJsZSgpfSkpLHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJlbmFibGVcIix2YWx1ZTpmdW5jdGlvbigpe3UoKShnKCkobi5wcm90b3R5cGUpLFwiZW5hYmxlXCIsdGhpcykuY2FsbCh0aGlzKSxTKCkodGhpcyxaKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5lbmFibGUmJnQuZW5hYmxlKCl9KSksdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNoYW5nZVwiLHRoaXMpfX0se2tleTpcInVwZGF0ZUlubmVySGVpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5OlwidXBkYXRlSW5uZXJXaWR0aFwiLHZhbHVlOmZ1bmN0aW9uKCl7fX0se2tleTpcImdldENvbXBvbmVudElkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9bnVsbDtyZXR1cm4gUygpKHRoaXMsWikuZm9yRWFjaCgoZnVuY3Rpb24obixpKXtuPT10JiYoZT1pKX0pKSxlfX0se2tleTpcImNvbnRyb2xTY3JvbGxpbmdcIix2YWx1ZTpmdW5jdGlvbih0LGUpe2lmKHRoaXMuc3R5bGUuc2Nyb2xsWURpc2FibGVkKXRoaXMub2Zmc2V0U2Nyb2xsWS09ZTtlbHNlIGlmKHRoaXMuc2Nyb2xsQXJlYVNpemVZPD0wKXRoaXMub2Zmc2V0U2Nyb2xsWT0wO2Vsc2V7dmFyIG49dGhpcy5vZmZzZXRTY3JvbGxZL3RoaXMuc2Nyb2xsQXJlYVNpemVZO248PTAmJmU8PTA/dGhpcy5vZmZzZXRTY3JvbGxZPU1hdGgubWluKDAsdGhpcy55KTpuPjEmJmU+PTAmJih0aGlzLm9mZnNldFNjcm9sbFk9dGhpcy5zY3JvbGxBcmVhU2l6ZVkpfWlmKHRoaXMuc3R5bGUuc2Nyb2xsWERpc2FibGVkKXRoaXMub2Zmc2V0U2Nyb2xsWC09dDtlbHNlIGlmKHRoaXMuc2Nyb2xsQXJlYVNpemVYPD0wKXRoaXMub2Zmc2V0U2Nyb2xsWD0wO2Vsc2V7dmFyIGk9dGhpcy5vZmZzZXRTY3JvbGxYL3RoaXMuc2Nyb2xsQXJlYVNpemVYO2k8PTAmJnQ8PTA/dGhpcy5vZmZzZXRTY3JvbGxYPU1hdGgubWluKDAsdGhpcy54KTppPjEmJnQ+PTAmJih0aGlzLm9mZnNldFNjcm9sbFg9dGhpcy5zY3JvbGxBcmVhU2l6ZVgpfX19LHtrZXk6XCJpc0NvbXBvbmVudFZpc2libGVcIix2YWx1ZTpmdW5jdGlvbih0KXtpZihpLlNldHRpbmcuRElTQUJMRV9PUFRJTUlaQVRJT05TKXJldHVybiEwO2lmKHQgaW5zdGFuY2VvZiBOJiYhdC5oaWRkZW4pe3ZhciBlPXRoaXMud2lkdGgsbj10aGlzLmhlaWdodCxyPXQud2lkdGgsbz10LmhlaWdodCxzPXRoaXMuY2FudmFzJiZ0aGlzLmNhbnZhcy53aWR0aHx8ZSxhPXRoaXMuY2FudmFzJiZ0aGlzLmNhbnZhcy5oZWlnaHR8fG47aWYodC54K3I+PXRoaXMueCYmdC54PD10aGlzLngrZSYmdC55K28+PXRoaXMueSYmdC55PD10aGlzLnkrbiYmdC54K3I+PTAmJnQueDw9cyYmdC55K28+PTAmJnQueTw9YSlyZXR1cm4hMH1yZXR1cm4hMX19LHtrZXk6XCJjb21wb25lbnRzXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIFMoKSh0aGlzLFopLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LnB1c2goZSl9KSksdH19LHtrZXk6XCJhbGxDb21wb25lbnRzXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb21wb25lbnRzO3JldHVybiB0LnB1c2godGhpcy5zY3JvbGxiYXJIb3Jpem9udGFsKSx0LnB1c2godGhpcy5zY3JvbGxiYXJWZXJ0aWNhbCksdH19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC53aWR0aCxlPXRoaXMubWF4V2lkdGg/TWF0aC5taW4odGhpcy5tYXhXaWR0aCx0KTpudWxsO3JldHVybiB0aGlzLm1pbldpZHRoP01hdGgubWF4KHRoaXMubWluV2lkdGgsZXx8dCk6dH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGVpZ2h0LGU9dGhpcy5tYXhXaWR0aD9NYXRoLm1pbih0aGlzLm1heEhlaWdodCx0KTpudWxsO3JldHVybiB0aGlzLm1pbkhlaWdodD9NYXRoLm1heCh0aGlzLm1pbkhlaWdodCxlfHx0KTp0fX0se2tleTpcIm1heFdpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLGopfSxzZXQ6ZnVuY3Rpb24odCl7dygpKHRoaXMsaix0KSx0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2hhbmdlXCIsdGhpcyl9fSx7a2V5OlwibWF4SGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFMoKSh0aGlzLHEpfSxzZXQ6ZnVuY3Rpb24odCl7dygpKHRoaXMscSx0KSx0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2hhbmdlXCIsdGhpcyl9fSx7a2V5OlwibWluV2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsSil9LHNldDpmdW5jdGlvbih0KXt3KCkodGhpcyxKLHQpLHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJtaW5IZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsUSl9LHNldDpmdW5jdGlvbih0KXt3KCkodGhpcyxRLHQpLHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJjYW52YXNcIixzZXQ6ZnVuY3Rpb24odCl7VSgpKGcoKShuLnByb3RvdHlwZSksXCJjYW52YXNcIix0LHRoaXMsITApLFMoKSh0aGlzLFopLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY2FudmFzPXR9KSl9LGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcImNhbnZhc1wiLHRoaXMpfX0se2tleTpcInNjcm9sbEFyZWFTaXplWFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVyV2lkdGgtdGhpcy53aWR0aH19LHtrZXk6XCJzY3JvbGxBcmVhU2l6ZVlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbm5lckhlaWdodC10aGlzLmhlaWdodH19LHtrZXk6XCJpc0N1dHRpbmdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4haS5TZXR0aW5nLkRJU0FCTEVfQ09OVEFJTkVSU19DVVRUSU5HJiYodGhpcy5tYXhXaWR0aCYmdGhpcy5pbm5lcldpZHRoPnRoaXMubWF4V2lkdGh8fHRoaXMubWF4SGVpZ2h0JiZ0aGlzLmlubmVySGVpZ2h0PnRoaXMubWF4SGVpZ2h0KSYmbnVsbCE9dGhpcy5jYW52YXNUbXB9fSx7a2V5OlwiZGVmYXVsdFN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUKHtwYWRkaW5nOjAsc3BhY2VCZXR3ZWVuQ29tcG9uZW50czppLlNldHRpbmcuREVGQVVMVF9TUEFDSU5HfSl9fV0sW3trZXk6XCJzb3J0Q29tcG9uZW50c1RyZWVcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbXBvbmVudC5jb21wYXJlVG8oZS5jb21wb25lbnQpfX1dKSxufShCKTtmdW5jdGlvbiB0dCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgZXQ9bmV3IFdlYWtNYXAsbnQ9bmV3IFdlYWtNYXAsaXQ9ZnVuY3Rpb24odCl7ZCgpKG4sdCk7dmFyIGU9dHQobik7ZnVuY3Rpb24gbih0LHIscyxhLGMpe3ZhciBoO28oKSh0aGlzLG4pO2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoLGY9bmV3IEFycmF5KHU+NT91LTU6MCksZD01O2Q8dTtkKyspZltkLTVdPWFyZ3VtZW50c1tkXTtyZXR1cm4gaD1lLmNhbGwuYXBwbHkoZSxbdGhpcyx0LHIscyxhLGNdLmNvbmNhdChmKSksRSgpKGwoKShoKSxcInNlbGVjdGFibGVcIiwhMSksZXQuc2V0KGwoKShoKSx7d3JpdGFibGU6ITAsdmFsdWU6MH0pLG50LnNldChsKCkoaCkse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxpLlNldHRpbmcuRElTQUJMRV9FWFBFUklNRU5UQUxfT1BUSU1JWkFUSU9OU3x8KGgudXBkYXRlSW5uZXJXaWR0aCgpLGgudXBkYXRlSW5uZXJIZWlnaHQoKSxoLmFkZENoYW5nZUFjdGlvbigoZnVuY3Rpb24oKXtoLnVwZGF0ZUlubmVyV2lkdGgoKSxoLnVwZGF0ZUlubmVySGVpZ2h0KCl9KSkpLGh9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuaGlkZGVuKXt1KCkoZygpKG4ucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMsdCk7dmFyIGk9dC5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2kuc2F2ZSgpO3ZhciByPWk7aWYodGhpcy5pc0N1dHRpbmcmJihyPXRoaXMuY2FudmFzVG1wLmdldENvbnRleHQoXCIyZFwiKSksbnVsbCE9dSgpKGcoKShuLnByb3RvdHlwZSksXCJjb21wb25lbnRzXCIsdGhpcykpe3ZhciBvPXRoaXMuc3R5bGUucGFkZGluZzt1KCkoZygpKG4ucHJvdG90eXBlKSxcImNvbXBvbmVudHNcIix0aGlzKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvPWUuZHJhd0NvbXBvbmVudCh0LG8scil9KSl9dGhpcy5pc0N1dHRpbmcmJlkuZHJhd0ltYWdlRGF0YShpLHRoaXMuY2FudmFzVG1wLHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHUoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1Njcm9sbGJhcnNcIix0aGlzKS5jYWxsKHRoaXMsaSksaS5yZXN0b3JlKCl9fX0se2tleTpcImRyYXdDb21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQgaW5zdGFuY2VvZiBOJiYodC54PWUtdGhpcy5vZmZzZXRTY3JvbGxYLHQueT10aGlzLnN0eWxlLnBhZGRpbmctdGhpcy5vZmZzZXRTY3JvbGxZLHRoaXMuaXNDb21wb25lbnRWaXNpYmxlKHQpPyh0LmVuYWJsZSgpLHQuZHJhdyhuKSk6dC5kaXNhYmxlKCksZSs9dC53aWR0aCt0aGlzLnN0eWxlLnNwYWNlQmV0d2VlbkNvbXBvbmVudHMpLGV9fSx7a2V5OlwidXBkYXRlSW5uZXJIZWlnaHRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PTA7dSgpKGcoKShuLnByb3RvdHlwZSksXCJjb21wb25lbnRzXCIsdGhpcykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5oZWlnaHQ+dCYmKHQ9ZS5oZWlnaHQpfSkpLHcoKSh0aGlzLGV0LHQrdGhpcy5zdHlsZS5wYWRkaW5nKX19LHtrZXk6XCJ1cGRhdGVJbm5lcldpZHRoXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wO3UoKShnKCkobi5wcm90b3R5cGUpLFwiY29tcG9uZW50c1wiLHRoaXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0Kz1lLndpZHRofSkpLHcoKSh0aGlzLG50LHQrdGhpcy5zdHlsZS5zcGFjZUJldHdlZW5Db21wb25lbnRzKih1KCkoZygpKG4ucHJvdG90eXBlKSxcImNvbXBvbmVudHNcIix0aGlzKS5sZW5ndGgtMSkrdGhpcy5zdHlsZS5wYWRkaW5nKX19LHtrZXk6XCJpbm5lckhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBpLlNldHRpbmcuRElTQUJMRV9FWFBFUklNRU5UQUxfT1BUSU1JWkFUSU9OUyYmdGhpcy51cGRhdGVJbm5lckhlaWdodCgpLFMoKSh0aGlzLGV0KX19LHtrZXk6XCJpbm5lcldpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuU2V0dGluZy5ESVNBQkxFX0VYUEVSSU1FTlRBTF9PUFRJTUlaQVRJT05TJiZ0aGlzLnVwZGF0ZUlubmVyV2lkdGgoKSxTKCkodGhpcyxudCl9fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmlubmVyV2lkdGh8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC53aWR0aCxlPXRoaXMubWF4V2lkdGg/TWF0aC5taW4odGhpcy5tYXhXaWR0aCx0KTpudWxsO3JldHVybiB0aGlzLm1pbldpZHRoP01hdGgubWF4KHRoaXMubWluV2lkdGgsZXx8dCk6ZXx8dH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmlubmVySGVpZ2h0fHx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGVpZ2h0LGU9dGhpcy5tYXhIZWlnaHQ/TWF0aC5taW4odGhpcy5tYXhIZWlnaHQsdCk6bnVsbDtyZXR1cm4gdGhpcy5taW5IZWlnaHQ/TWF0aC5tYXgodGhpcy5taW5IZWlnaHQsZXx8dCk6ZXx8dH19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpKGcoKShuLnByb3RvdHlwZSksXCJkZWZhdWx0U3R5bGVcIix0aGlzKX19XSksbn0oJCk7ZnVuY3Rpb24gcnQodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIG90PWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPXJ0KG4pO2Z1bmN0aW9uIG4odCxpLHIscyxhKXt2YXIgYztvKCkodGhpcyxuKTtmb3IodmFyIGg9YXJndW1lbnRzLmxlbmd0aCx1PW5ldyBBcnJheShoPjU/aC01OjApLGY9NTtmPGg7ZisrKXVbZi01XT1hcmd1bWVudHNbZl07cmV0dXJuIGM9ZS5jYWxsLmFwcGx5KGUsW3RoaXMsdCxpLHIscyxhXS5jb25jYXQodSkpLEUoKShsKCkoYyksXCJzZWxlY3RhYmxlXCIsITApLGN9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhpZGRlbil7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBlPXQuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtlLnNhdmUoKSx0aGlzLmRyYXdDb21wb25lbnRzKGUpLGUucmVzdG9yZSgpfX19LHtrZXk6XCJkcmF3Q29tcG9uZW50c1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3UoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyx0KX19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5tYXhIZWlnaHR8fHUoKShnKCkobi5wcm90b3R5cGUpLFwiaGVpZ2h0XCIsdGhpcykpK3RoaXMuc3R5bGUucGFkZGluZ319LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybih0aGlzLm1heFdpZHRofHx1KCkoZygpKG4ucHJvdG90eXBlKSxcIndpZHRoXCIsdGhpcykpK3RoaXMuc3R5bGUucGFkZGluZ319LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFQoe2JhY2tncm91bmRDb2xvcjppLlNldHRpbmcuQlVUVE9OX0RFRkFVTFRfQkFDS0dST1VORCxiYWNrZ3JvdW5kQ29sb3JIb3ZlcjppLlNldHRpbmcuQlVUVE9OX0RFRkFVTFRfSE9WRVJfQkFDS0dST1VORCxiYWNrZ3JvdW5kQ29sb3JEb3duOmkuU2V0dGluZy5CVVRUT05fREVGQVVMVF9DTElDS19CQUNLR1JPVU5ELHNjcm9sbFhEaXNhYmxlZDohMCxzY3JvbGxZRGlzYWJsZWQ6ITB9KX19XSksbn0oaXQpO2Z1bmN0aW9uIHN0KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLGk9ZygpKHQpO2lmKGUpe3ZhciByPWcoKSh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KGksYXJndW1lbnRzLHIpfWVsc2Ugbj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdigpKHRoaXMsbil9fXZhciBhdD1mdW5jdGlvbih0KXtkKCkobix0KTt2YXIgZT1zdChuKTtmdW5jdGlvbiBuKHQsaSxyLHMsYSxjLGgpe3ZhciB1O3JldHVybiBvKCkodGhpcyxuKSx1PWUuY2FsbCh0aGlzLGkscixzLGEsYyksRSgpKGwoKSh1KSxcInNlbGVjdGFibGVcIiwhMSksdS5pbWFnZSx1LmltZ1NyYyx1LmltYWdlTG9hZGVyPWgsdCBpbnN0YW5jZW9mIEltYWdlPyh1LmltYWdlPXQsdS5pbWdTcmM9dC5zcmMpOnUuaW1nU3JjPXQsdX1yZXR1cm4gYSgpKG4sW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuaGlkZGVuKXt1KCkoZygpKG4ucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMsdCk7dmFyIGU9dC5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2Uuc2F2ZSgpLG51bGwhPXRoaXMuaW1nU3JjJiZudWxsIT10aGlzLmltYWdlTG9hZGVyJiZ0aGlzLmxvYWRJbWFnZSh0aGlzLmltYWdlTG9hZGVyKSxudWxsIT10aGlzLmltYWdlJiZ0aGlzLmRyYXdJbWFnZShlKSxlLnJlc3RvcmUoKX19fSx7a2V5OlwiZHJhd0ltYWdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7WS5kcmF3SW1hZ2UodCx0aGlzLmltYWdlLE1hdGgucm91bmQodGhpcy54KSxNYXRoLnJvdW5kKHRoaXMueSksTWF0aC5yb3VuZCh0aGlzLndpZHRoKSxNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0KSl9fSx7a2V5OlwibG9hZEltYWdlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZT10LmdldCh0aGlzLmltZ1NyYyl9fSx7a2V5Olwic2l6ZXNcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD11KCkoZygpKG4ucHJvdG90eXBlKSxcIndpZHRoXCIsdGhpcyksZT11KCkoZygpKG4ucHJvdG90eXBlKSxcImhlaWdodFwiLHRoaXMpO2lmKHRoaXMuaW1hZ2UmJih0aGlzLmltYWdlLndpZHRoPnUoKShnKCkobi5wcm90b3R5cGUpLFwid2lkdGhcIix0aGlzKXx8dGhpcy5pbWFnZS5oZWlnaHQ+dSgpKGcoKShuLnByb3RvdHlwZSksXCJoZWlnaHRcIix0aGlzKSkpe3ZhciBpPXRoaXMuaW1hZ2Uud2lkdGgvdGhpcy5pbWFnZS5oZWlnaHQ7dD1NYXRoLmZsb29yKHUoKShnKCkobi5wcm90b3R5cGUpLFwid2lkdGhcIix0aGlzKS8xLjI1KSxlPU1hdGguZmxvb3IodC9pKX1yZXR1cm57d2lkdGg6dCxoZWlnaHQ6ZX19fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZXMuaGVpZ2h0fSxzZXQ6ZnVuY3Rpb24odCl7VSgpKGcoKShuLnByb3RvdHlwZSksXCJoZWlnaHRcIix0LHRoaXMsITApfX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2l6ZXMud2lkdGh9LHNldDpmdW5jdGlvbih0KXtVKCkoZygpKG4ucHJvdG90eXBlKSxcIndpZHRoXCIsdCx0aGlzLCEwKX19XSksbn0oTik7ZnVuY3Rpb24gY3QodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIGx0PWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPWN0KG4pO2Z1bmN0aW9uIG4odCxyLHMsYSxjLGwsaCx1LGYsZCl7dmFyIHA7bygpKHRoaXMsbik7dmFyIHY9bmV3IFQoe2FsaWduZW1lbnQ6YSx2ZXJ0aWNhbEFsaWduZW1lbnQ6YyxiYWNrZ3JvdW5kQ29sb3I6dXx8aS5TZXR0aW5nLkJVVFRPTl9ERUZBVUxUX0JBQ0tHUk9VTkQsYmFja2dyb3VuZENvbG9ySG92ZXI6Znx8aS5TZXR0aW5nLkJVVFRPTl9ERUZBVUxUX0hPVkVSX0JBQ0tHUk9VTkR9KTtyZXR1cm4ocD1lLmNhbGwodGhpcyxyLHMsbCxoLHYpKS5pbWFnZT1uZXcgYXQodCxyLHMsbCxoLG5ldyBUKHthbGlnbmVtZW50OlwiY2VudGVyXCIsdmVydGljYWxBbGlnbmVtZW50OlwiY2VudGVyXCJ9KSxkKSxwLmFkZChwLmltYWdlKSxjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihpLlN0cmluZy5OT1RJQ0VfTUVTU0FHRStcIiBcIitpLlN0cmluZy5CVVRUT05fSU1BR0VfREVQUkVDQVRFRCkscH1yZXR1cm4gYSgpKG4sW3trZXk6XCJsb2FkSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmNvbXBvbmVudHNbMF1pbnN0YW5jZW9mIGF0JiZ0aGlzLmNvbXBvbmVudHNbMF0ubG9hZEltYWdlKHQpfX0se2tleTpcIm1pbldpZHRoXCIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaW1hZ2Uud2lkdGg9dCxVKCkoZygpKG4ucHJvdG90eXBlKSxcIm1pbldpZHRoXCIsdCx0aGlzLCEwKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoKShnKCkobi5wcm90b3R5cGUpLFwibWluV2lkdGhcIix0aGlzKX19LHtrZXk6XCJtaW5IZWlnaHRcIixzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZS5oZWlnaHQ9dCxVKCkoZygpKG4ucHJvdG90eXBlKSxcIm1pbkhlaWdodFwiLHQsdGhpcywhMCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcIm1pbkhlaWdodFwiLHRoaXMpfX0se2tleTpcIm1heFdpZHRoXCIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaW1hZ2Uud2lkdGg9dCxVKCkoZygpKG4ucHJvdG90eXBlKSxcIm1heFdpZHRoXCIsdCx0aGlzLCEwKX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoKShnKCkobi5wcm90b3R5cGUpLFwibWF4V2lkdGhcIix0aGlzKX19LHtrZXk6XCJtYXhIZWlnaHRcIixzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZS5oZWlnaHQ9dCxVKCkoZygpKG4ucHJvdG90eXBlKSxcIm1heEhlaWdodFwiLHQsdGhpcywhMCl9LGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcIm1heEhlaWdodFwiLHRoaXMpfX0se2tleTpcIndpZHRoXCIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMubWluV2lkdGg9dCx0aGlzLm1heFdpZHRoPXR9LGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcIndpZHRoXCIsdGhpcyl9fSx7a2V5OlwiaGVpZ2h0XCIsc2V0OmZ1bmN0aW9uKHQpe3RoaXMubWluSGVpZ2h0PXQsdGhpcy5tYXhIZWlnaHQ9dH0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoKShnKCkobi5wcm90b3R5cGUpLFwiaGVpZ2h0XCIsdGhpcyl9fV0pLG59KG90KSxodD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXtvKCkodGhpcyx0KSx0aGlzLmltYWdlcz17fSx0aGlzLmltYWdlc1Jlc2l6ZWQ9e30sdGhpcy50cmllZExvYWRpbmc9MCx0aGlzLmhhc0Vycm9yPSExLHRoaXMubmJJbWFnZXNUb0xvYWQ9MSx0aGlzLmZpcnN0SW1hZ2U9ITB9cmV0dXJuIGEoKSh0LFt7a2V5OlwibG9hZFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZih0aGlzLmZpcnN0SW1hZ2UmJih0aGlzLm5iSW1hZ2VzVG9Mb2FkPXQubGVuZ3RoLHRoaXMuZmlyc3RJbWFnZT0hMSksISh0Lmxlbmd0aD4wKSlyZXR1cm4gZSgpO3RoaXMubG9hZEltYWdlKHRbMF0sKGZ1bmN0aW9uKGkpe2lmKDEhPWkpcmV0dXJuIG4uaGFzRXJyb3I9ITAsZSgpO3Quc2hpZnQoKSxuLmxvYWQodCxlKX0pKX19LHtrZXk6XCJsb2FkSW1hZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dGhpcy50cmllZExvYWRpbmcrKzt2YXIgaT1uZXcgSW1hZ2U7aS5zcmM9dCxpLm9ubG9hZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT1uLmltYWdlcz9lKCExKToobi5pbWFnZXNbdF09aSxuLnRyaWVkTG9hZGluZz0wLGUoITApKX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7aWYobi50cmllZExvYWRpbmc+PTUpcmV0dXJuIG51bGwhPW4uaW1hZ2VzJiYobi5pbWFnZXNbdF09aSksbi50cmllZExvYWRpbmc9MCxlKCExKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe24ubG9hZEltYWdlKHQsZSl9KSwyNTApfX19LHtrZXk6XCJnZXRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7aWYobnVsbCE9dGhpcy5pbWFnZXMmJnRoaXMuaW1hZ2VzLmhhc093blByb3BlcnR5KHQpKXt2YXIgaT10aGlzLmltYWdlc1t0XTtpZighZSYmIW58fGkud2lkdGg9PWUmJmkuaGVpZ2h0PT1uKXJldHVybiBpO3ZhciByPU1hdGgucm91bmQoZSksbz1NYXRoLnJvdW5kKG4pLHM9dCtcIkBcIityK1wiLVwiK287aWYoIXRoaXMuaW1hZ2VzUmVzaXplZC5oYXNPd25Qcm9wZXJ0eShzKSl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxjPWEuZ2V0Q29udGV4dChcIjJkXCIpO2Eud2lkdGg9cixhLmhlaWdodD1vLFkuZHJhd0ltYWdlKGMsaSwwLDAscixvLDAsMCxpLndpZHRoLGkuaGVpZ2h0KSx0aGlzLmltYWdlc1Jlc2l6ZWRbc109YX1yZXR1cm4gdGhpcy5pbWFnZXNSZXNpemVkW3NdfXJldHVybiBudWxsfX0se2tleTpcImNsZWFyXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmltYWdlcz1udWxsfX1dKSx0fSgpLHV0PW4oMTUpLGZ0PW4ubih1dCksZHQ9bigxMSkscHQ9bi5uKGR0KTtmdW5jdGlvbiB2dCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgeXQ9bmV3IFdlYWtNYXAsZ3Q9bmV3IFdlYWtNYXAsbXQ9ZnVuY3Rpb24odCl7ZCgpKG4sdCk7dmFyIGU9dnQobik7ZnVuY3Rpb24gbih0LHIscyxhLGMpe3ZhciBoO28oKSh0aGlzLG4pO2Zvcih2YXIgdT1hcmd1bWVudHMubGVuZ3RoLGY9bmV3IEFycmF5KHU+NT91LTU6MCksZD01O2Q8dTtkKyspZltkLTVdPWFyZ3VtZW50c1tkXTtyZXR1cm4gaD1lLmNhbGwuYXBwbHkoZSxbdGhpcyx0LHIscyxhLGNdLmNvbmNhdChmKSksRSgpKGwoKShoKSxcInNlbGVjdGFibGVcIiwhMSkseXQuc2V0KGwoKShoKSx7d3JpdGFibGU6ITAsdmFsdWU6MH0pLGd0LnNldChsKCkoaCkse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxpLlNldHRpbmcuRElTQUJMRV9FWFBFUklNRU5UQUxfT1BUSU1JWkFUSU9OU3x8KGgudXBkYXRlSW5uZXJXaWR0aCgpLGgudXBkYXRlSW5uZXJIZWlnaHQoKSxoLmFkZENoYW5nZUFjdGlvbigoZnVuY3Rpb24oKXtoLnVwZGF0ZUlubmVyV2lkdGgoKSxoLnVwZGF0ZUlubmVySGVpZ2h0KCl9KSkpLGh9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuaGlkZGVuKXt1KCkoZygpKG4ucHJvdG90eXBlKSxcImRyYXdcIix0aGlzKS5jYWxsKHRoaXMsdCk7dmFyIGk9dC5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO2kuc2F2ZSgpO3ZhciByPWk7aWYodGhpcy5pc0N1dHRpbmcmJihyPXRoaXMuY2FudmFzVG1wLmdldENvbnRleHQoXCIyZFwiKSksbnVsbCE9dSgpKGcoKShuLnByb3RvdHlwZSksXCJjb21wb25lbnRzXCIsdGhpcykpe3ZhciBvPXRoaXMuc3R5bGUucGFkZGluZzt1KCkoZygpKG4ucHJvdG90eXBlKSxcImNvbXBvbmVudHNcIix0aGlzKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvPWUuZHJhd0NvbXBvbmVudCh0LG8scil9KSl9dGhpcy5pc0N1dHRpbmcmJlkuZHJhd0ltYWdlRGF0YShpLHRoaXMuY2FudmFzVG1wLHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHUoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1Njcm9sbGJhcnNcIix0aGlzKS5jYWxsKHRoaXMsaSksaS5yZXN0b3JlKCl9fX0se2tleTpcImRyYXdDb21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQgaW5zdGFuY2VvZiBOJiYodC54PXRoaXMuc3R5bGUucGFkZGluZy10aGlzLm9mZnNldFNjcm9sbFgsdC55PWUtdGhpcy5vZmZzZXRTY3JvbGxZLHRoaXMuaXNDb21wb25lbnRWaXNpYmxlKHQpPyh0LmVuYWJsZSgpLHQuZHJhdyhuKSk6dC5kaXNhYmxlKCksZSs9dC5oZWlnaHQrdGhpcy5zdHlsZS5zcGFjZUJldHdlZW5Db21wb25lbnRzKSxlfX0se2tleTpcInVwZGF0ZUlubmVySGVpZ2h0XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD0wO3UoKShnKCkobi5wcm90b3R5cGUpLFwiY29tcG9uZW50c1wiLHRoaXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0Kz1lLmhlaWdodH0pKSx3KCkodGhpcyx5dCx0K3RoaXMuc3R5bGUuc3BhY2VCZXR3ZWVuQ29tcG9uZW50cyoodSgpKGcoKShuLnByb3RvdHlwZSksXCJjb21wb25lbnRzXCIsdGhpcykubGVuZ3RoLTEpK3RoaXMuc3R5bGUucGFkZGluZyl9fSx7a2V5OlwidXBkYXRlSW5uZXJXaWR0aFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDt1KCkoZygpKG4ucHJvdG90eXBlKSxcImNvbXBvbmVudHNcIix0aGlzKS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLndpZHRoPnQmJih0PWUud2lkdGgpfSkpLHcoKSh0aGlzLGd0LHQrdGhpcy5zdHlsZS5wYWRkaW5nKX19LHtrZXk6XCJpbm5lckhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBpLlNldHRpbmcuRElTQUJMRV9FWFBFUklNRU5UQUxfT1BUSU1JWkFUSU9OUyYmdGhpcy51cGRhdGVJbm5lckhlaWdodCgpLFMoKSh0aGlzLHl0KX19LHtrZXk6XCJpbm5lcldpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuU2V0dGluZy5ESVNBQkxFX0VYUEVSSU1FTlRBTF9PUFRJTUlaQVRJT05TJiZ0aGlzLnVwZGF0ZUlubmVyV2lkdGgoKSxTKCkodGhpcyxndCl9fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmlubmVyV2lkdGh8fHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC53aWR0aCxlPXRoaXMubWF4V2lkdGg/TWF0aC5taW4odGhpcy5tYXhXaWR0aCx0KTpudWxsO3JldHVybiB0aGlzLm1pbldpZHRoP01hdGgubWF4KHRoaXMubWluV2lkdGgsZXx8dCk6ZXx8dH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmlubmVySGVpZ2h0fHx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGVpZ2h0LGU9dGhpcy5tYXhIZWlnaHQ/TWF0aC5taW4odGhpcy5tYXhIZWlnaHQsdCk6bnVsbDtyZXR1cm4gdGhpcy5taW5IZWlnaHQ/TWF0aC5tYXgodGhpcy5taW5IZWlnaHQsZXx8dCk6ZXx8dH19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpKGcoKShuLnByb3RvdHlwZSksXCJkZWZhdWx0U3R5bGVcIix0aGlzKX19XSksbn0oJCk7ZnVuY3Rpb24gRXQodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIEN0PWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPUV0KG4pO2Z1bmN0aW9uIG4odCxpLHIscyxhKXt2YXIgYztyZXR1cm4gbygpKHRoaXMsbiksYz1lLmNhbGwodGhpcyx0LGkscixzLGEpLEUoKShsKCkoYyksXCJzZWxlY3RhYmxlXCIsITEpLGN9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhpZGRlbil7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBlPXQuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtZLmRyYXdDcm9zcyhlLHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLnN0eWxlLmxpbmVXaWR0aCx0aGlzLnN0eWxlLmNvbG9yLHRoaXMuc3R5bGUubGluZUNhcCksdGhpcy5pbml0PSEwfX19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcIndpZHRoXCIsdGhpcykrdGhpcy5zdHlsZS5saW5lV2lkdGh9LHNldDpmdW5jdGlvbih0KXtVKCkoZygpKG4ucHJvdG90eXBlKSxcIndpZHRoXCIsdCx0aGlzLCEwKSx0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2hhbmdlXCIsdGhpcyl9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoKShnKCkobi5wcm90b3R5cGUpLFwiaGVpZ2h0XCIsdGhpcykrdGhpcy5zdHlsZS5saW5lV2lkdGh9LHNldDpmdW5jdGlvbih0KXtVKCkoZygpKG4ucHJvdG90eXBlKSxcImhlaWdodFwiLHQsdGhpcywhMCksdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNoYW5nZVwiLHRoaXMpfX0se2tleTpcImRlZmF1bHRTdHlsZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVCh7bGluZVdpZHRoOmkuU2V0dGluZy5DUk9TU19ERUZBVUxUX0xJTkVfU0laRSxjb2xvcjppLlNldHRpbmcuQ1JPU1NfREVGQVVMVF9DT0xPUixsaW5lQ2FwOmkuU2V0dGluZy5DUk9TU19ERUZBVUxUX0xJTkVfQ0FQfSl9fV0pLG59KE4pO2Z1bmN0aW9uIFN0KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLGk9ZygpKHQpO2lmKGUpe3ZhciByPWcoKSh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KGksYXJndW1lbnRzLHIpfWVsc2Ugbj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdigpKHRoaXMsbil9fXZhciBBdD1mdW5jdGlvbih0KXtkKCkobix0KTt2YXIgZT1TdChuKTtmdW5jdGlvbiBuKHQscixzKXt2YXIgYTtvKCkodGhpcyxuKTtmb3IodmFyIGM9YXJndW1lbnRzLmxlbmd0aCxoPW5ldyBBcnJheShjPjM/Yy0zOjApLHU9Mzt1PGM7dSsrKWhbdS0zXT1hcmd1bWVudHNbdV07cmV0dXJuIGE9ZS5jYWxsLmFwcGx5KGUsW3RoaXMsMCwwLG51bGwsbnVsbCx0XS5jb25jYXQoaCkpLEUoKShsKCkoYSksXCJzZWxlY3RhYmxlXCIsITEpLGEuZGVsYXlCZWZvcmVDbG9zaW5nPW51bGw9PXI/NTpyLGEudGltZUxhc3RGcmFtZT0wLGEuYW5pbWF0aW9uVGltZT0wLGEuY2xvc2VkPSEwLGEuY2xvc2luZz0hMSxhLmVhc2luZ0Z1bmN0aW9uPXMsYS5jbG9zZUJ1dHRvbj1uZXcgb3QobnVsbCxudWxsLG51bGwsbnVsbCxuZXcgVCh7YWxpZ25lbWVudDppLkFsaWduZW1lbnQuUklHSFQsdmVydGljYWxBbGlnbmVtZW50OmkuVmVydGljYWxBbGlnbmVtZW50LlRPUCxwYWRkaW5nOjEwfSksbmV3IEN0KG51bGwsbnVsbCwxMCwxMCkpLGEuYWRkKGEuY2xvc2VCdXR0b24pLGF9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuaGlkZGVuKXt0aGlzLmNsb3NlQnV0dG9uLmNhbnZhcz10aGlzLmNhbnZhczt2YXIgbj10LmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7bi5zYXZlKCksdGhpcy5pbml0fHwodGhpcy50aW1lTGFzdEZyYW1lPXBlcmZvcm1hbmNlLm5vdygpKSxudWxsIT10aGlzLmNsb3NlQnV0dG9uJiZ0aGlzLmNsb3NlQnV0dG9uLnNldENsaWNrQWN0aW9uKChmdW5jdGlvbigpe2UuY2xvc2UoKX0pKTt2YXIgaT1wZXJmb3JtYW5jZS5ub3coKS10aGlzLnRpbWVMYXN0RnJhbWU7dGhpcy50aW1lTGFzdEZyYW1lPXBlcmZvcm1hbmNlLm5vdygpLHRoaXMuYW5pbWF0aW9uVGltZT49MWUzKnRoaXMuZGVsYXlCZWZvcmVDbG9zaW5nJiYhdGhpcy5jbG9zaW5nJiYhdGhpcy5jbG9zZWQmJnRoaXMuY2xvc2UoKSx0aGlzLmNsb3Npbmc/dGhpcy5zdHlsZS5kaXNhYmxlQW5pbWF0aW9uP3RoaXMuYW5pbWF0aW9uVGltZT0tMTp0aGlzLmFuaW1hdGlvblRpbWUtPWk6dGhpcy5hbmltYXRpb25UaW1lKz1pLHRoaXMuYW5pbWF0aW9uVGltZTwwJiYodGhpcy5jbG9zZWQ9ITAsdGhpcy5jbG9zaW5nPSExKSx0aGlzLmNsb3NlZD90aGlzLmRpc2FibGVDbG9zZUJ1dHRvbigpOih0aGlzLmRyYXdDb21wb25lbnRzKG4pLG51bGwhPXRoaXMuY2xvc2VCdXR0b24mJih0aGlzLmNsb3NlQnV0dG9uLnk9dGhpcy55K3RoaXMuc3R5bGUucGFkZGluZy8yLHRoaXMuY2xvc2VCdXR0b24uZHJhdyhuKSksdGhpcy5lbmFibGVDbG9zZUJ1dHRvbigpKSxuLnJlc3RvcmUoKSx0aGlzLmluaXQ9ITB9fX0se2tleTpcImRyYXdDb21wb25lbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpfX0se2tleTpcImNsb3NlXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVDbG9zZUJ1dHRvbigpLHRoaXMuY2xvc2luZ3x8KHRoaXMuY2xvc2luZz0hMCx0aGlzLmFuaW1hdGlvblRpbWU9dGhpcy5zdHlsZS5hbmltYXRpb25EdXJhdGlvbil9fSx7a2V5Olwib3BlblwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy50aW1lTGFzdEZyYW1lPTAsdGhpcy5hbmltYXRpb25UaW1lPTAsdGhpcy5pbml0PSExLHRoaXMuY2xvc2VkPSExLHRoaXMuY2xvc2luZz0hMX19LHtrZXk6XCJkaXNhYmxlQ2xvc2VCdXR0b25cIix2YWx1ZTpmdW5jdGlvbigpe251bGwhPXRoaXMuY2xvc2VCdXR0b24mJm51bGwhPXRoaXMuY2xvc2VCdXR0b24mJnRoaXMuY2xvc2VCdXR0b24gaW5zdGFuY2VvZiBvdCYmdGhpcy5jbG9zZUJ1dHRvbi5kaXNhYmxlKCl9fSx7a2V5OlwiZW5hYmxlQ2xvc2VCdXR0b25cIix2YWx1ZTpmdW5jdGlvbigpe251bGwhPXRoaXMuY2xvc2VCdXR0b24mJm51bGwhPXRoaXMuY2xvc2VCdXR0b24mJnRoaXMuY2xvc2VCdXR0b24gaW5zdGFuY2VvZiBvdCYmdGhpcy5jbG9zZUJ1dHRvbi5lbmFibGUoKX19LHtrZXk6XCJjb3B5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gZnQoKShuLFt0aGlzLnN0eWxlLmNvcHkoKSx0aGlzLmRlbGF5QmVmb3JlQ2xvc2luZyx0aGlzLmVhc2luZ0Z1bmN0aW9uXS5jb25jYXQocHQoKSh0aGlzLmNvbXBvbmVudHMpKSl9fSx7a2V5OlwiY29tcGFyZVRvQ29tcG9uZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIHQuY29tcGFyZVRvTm90aWZpY2F0aW9uKHRoaXMpfX0se2tleTpcImNvbXBhcmVUb1Rvb2x0aXBcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4tMX19LHtrZXk6XCJjb21wYXJlVG9Ob3RpZmljYXRpb25cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMH19LHtrZXk6XCJjb21wYXJlVG9NZW51XCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuLTF9fSx7a2V5Olwib2Zmc2V0WVwiLGdldDpmdW5jdGlvbigpe3ZhciB0PTE7cmV0dXJuIHRoaXMuc3R5bGUuZGlzYWJsZUFuaW1hdGlvbnx8KHQ9dGhpcy5hbmltYXRpb25UaW1lL3RoaXMuc3R5bGUuYW5pbWF0aW9uRHVyYXRpb24sdGhpcy5lYXNpbmdGdW5jdGlvbiYmKHQ9dGhpcy5lYXNpbmdGdW5jdGlvbih0KSkpLHR9fSx7a2V5OlwieVwiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub2Zmc2V0WTtyZXR1cm4gdGhpcy5zdHlsZS52ZXJ0aWNhbEFsaWduZW1lbnQ9PWkuVmVydGljYWxBbGlnbmVtZW50LlRPUD90aGlzLmhlaWdodCoodDw9MT90OjEpLXRoaXMuaGVpZ2h0OnRoaXMuY2FudmFzLnNjZW5lLmhlaWdodC10aGlzLmhlaWdodCoodDw9MT90OjEpfSxzZXQ6ZnVuY3Rpb24odCl7VSgpKGcoKShuLnByb3RvdHlwZSksXCJ5XCIsdCx0aGlzLCEwKX19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMuc2NlbmU/dGhpcy5jYW52YXMuc2NlbmUud2lkdGg6bnVsbH19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpKGcoKShuLnByb3RvdHlwZSksXCJoZWlnaHRcIix0aGlzKS0odGhpcy5jbG9zZUJ1dHRvbj90aGlzLmNsb3NlQnV0dG9uLmhlaWdodDowKX19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFQoe2FsaWduZW1lbnQ6aS5BbGlnbmVtZW50LkNFTlRFUixiYWNrZ3JvdW5kQ29sb3I6aS5TZXR0aW5nLk5PVElGSUNBVElPTl9ERUZBVUxUX0JBQ0tHUk9VTkQsYW5pbWF0aW9uRHVyYXRpb246aS5TZXR0aW5nLk5PVElGSUNBVElPTl9ERUZBVUxUX0FOSU1BVElPTl9EVVJBVElPTn0pfX0se2tleTpcImhpZGRlblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcImhpZGRlblwiLHRoaXMpfHx0aGlzLmNsb3NlZH0sc2V0OmZ1bmN0aW9uKHQpe1UoKShnKCkobi5wcm90b3R5cGUpLFwiaGlkZGVuXCIsdCx0aGlzLCEwKSx0P3RoaXMuZm9yY2VDbG9zZSgpOnRoaXMub3BlbigpfX1dKSxufShtdCk7ZnVuY3Rpb24gd3QodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIGt0PWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPXd0KG4pO2Z1bmN0aW9uIG4odCl7dmFyIGk7bygpKHRoaXMsbik7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkocj4xP3ItMTowKSxhPTE7YTxyO2ErKylzW2EtMV09YXJndW1lbnRzW2FdO3JldHVybiBpPWUuY2FsbC5hcHBseShlLFt0aGlzLDAsMCxudWxsLG51bGwsdF0uY29uY2F0KHMpKSxFKCkobCgpKGkpLFwic2VsZWN0YWJsZVwiLCExKSxpLmxhc3RLZXk9bnVsbD09aS5sYXN0S2V5Py0xOmkubGFzdEtleSxpLnNlbGVjdGVkQ29tcG9uZW50PW51bGw9PWkuc2VsZWN0ZWRDb21wb25lbnQ/MDppLnNlbGVjdGVkQ29tcG9uZW50LGkuZGlzYWJsZSgpLGl9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIXRoaXMuaGlkZGVuKXt2YXIgbj10LmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7dGhpcy5zdHlsZS5ibHVyQmFja2dyb3VuZCYmdGhpcy5kcmF3Qmx1cihuKSxuLnNhdmUoKSx0aGlzLmRyYXdDb21wb25lbnRzKG4pLHRoaXMuaW5pdHx8KGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsKGZ1bmN0aW9uKHQpe2UuZGlzYWJsZWR8fChlLmxhc3RLZXk9dC5rZXlDb2RlLGUubGFzdEtleSE9aS5LZXkuVVAmJmUubGFzdEtleSE9aS5LZXkuQk9UVE9NfHx0LnByZXZlbnREZWZhdWx0KCkpfSkpLHRoaXMuaW5pdD0hMCk7dmFyIHI9ITE7bnVsbCE9dGhpcy5jb21wb25lbnRzJiYodGhpcy5sYXN0S2V5PT1pLktleS5VUD8odGhpcy5zZWxlY3QodGhpcy5zZWxlY3RlZENvbXBvbmVudC0xKSxyPSEwKTp0aGlzLmxhc3RLZXk9PWkuS2V5LkJPVFRPTT8odGhpcy5zZWxlY3QodGhpcy5zZWxlY3RlZENvbXBvbmVudCsxKSxyPSEwKTp0aGlzLmxhc3RLZXk9PWkuS2V5LkVDSEFQPyh0aGlzLmRpc2FibGUoKSxyPSEwKTp0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXt0LnNlbGVjdGVkJiZlLnNlbGVjdChuKX0pKSx0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCxuKXtpZih0IGluc3RhbmNlb2YgTil7aWYocilpZihlLnNlbGVjdGVkQ29tcG9uZW50PT1uKXtpZih0LnNlbGVjdGFibGUmJih0LnNlbGVjdGVkPSEwKSwhZS5pc0NvbXBvbmVudFZpc2libGUodCkpe3ZhciBvPXQuaGVpZ2h0LHM9ZS5tYXhIZWlnaHQtZS5vZmZzZXRTY3JvbGxZLSh0Lnkrbyk7ZS5vZmZzZXRTY3JvbGxZPS1zLGUuY29udHJvbFNjcm9sbGluZyhudWxsLC1zKX19ZWxzZSB0LnNlbGVjdGVkPSExO2lmKGUuc2VsZWN0ZWRDb21wb25lbnQ9PW4mJmUubGFzdEtleT09aS5LZXkuRU5URVImJnQucmVhY3RvciYmIXQuZGlzYWJsZWQpcmV0dXJuIGUubGFzdEtleT0tMSxlLnNlbGVjdGVkQ29tcG9uZW50PTAsdm9pZCB0LnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2xpY2tcIil9fSkpKSxuLnJlc3RvcmUoKSx0aGlzLmxhc3RLZXk9LTF9fX0se2tleTpcImRyYXdDb21wb25lbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpfX0se2tleTpcImRyYXdCbHVyXCIsdmFsdWU6ZnVuY3Rpb24odCl7WS5ibHVyQ2FudmFzKHQsNSl9fSx7a2V5OlwiZHJhd0JhY2tncm91bmRcIix2YWx1ZTpmdW5jdGlvbih0KXt0LmZpbGxTdHlsZT10aGlzLnN0eWxlLmJhY2tncm91bmRDb2xvcix0LmZpbGxSZWN0KHRoaXMucGFyZW50P3RoaXMucGFyZW50Lng6MCx0aGlzLnBhcmVudD90aGlzLnBhcmVudC55OjAsdGhpcy5tYXhXaWR0aCx0aGlzLm1heEhlaWdodCl9fSx7a2V5OlwiZGlzYWJsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkaXNhYmxlXCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuZGlzYWJsZSYmdC5kaXNhYmxlKCl9KSl9fSx7a2V5OlwiZW5hYmxlXCIsdmFsdWU6ZnVuY3Rpb24oKXt1KCkoZygpKG4ucHJvdG90eXBlKSxcImVuYWJsZVwiLHRoaXMpLmNhbGwodGhpcyksdGhpcy5jb21wb25lbnRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LmVuYWJsZSYmdC5lbmFibGUoKX0pKX19LHtrZXk6XCJzZWxlY3RcIix2YWx1ZTpmdW5jdGlvbih0KXtpZih0aGlzLnNlbGVjdGVkQ29tcG9uZW50PXQsISh0aGlzLmNvbXBvbmVudHMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZWxlY3RhYmxlfSkpLmxlbmd0aDw9MCkmJih0aGlzLnNlbGVjdGVkQ29tcG9uZW50Pj10aGlzLmNvbXBvbmVudHMubGVuZ3RoP3RoaXMuc2VsZWN0ZWRDb21wb25lbnQ9MDp0aGlzLnNlbGVjdGVkQ29tcG9uZW50PDAmJih0aGlzLnNlbGVjdGVkQ29tcG9uZW50PXRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSksdGhpcy5jb21wb25lbnRzW3RoaXMuc2VsZWN0ZWRDb21wb25lbnRdJiYhdGhpcy5jb21wb25lbnRzW3RoaXMuc2VsZWN0ZWRDb21wb25lbnRdLnNlbGVjdGFibGUpKXtpZih0aGlzLmxhc3RLZXk9PWkuS2V5LlVQKXJldHVybiB0aGlzLnNlbGVjdCh0aGlzLnNlbGVjdGVkQ29tcG9uZW50LTEpO2lmKHRoaXMubGFzdEtleT09aS5LZXkuQk9UVE9NKXJldHVybiB0aGlzLnNlbGVjdCh0aGlzLnNlbGVjdGVkQ29tcG9uZW50KzEpfX19LHtrZXk6XCJjb21wYXJlVG9Db21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jb21wYXJlVG9NZW51KHRoaXMpfX0se2tleTpcImNvbXBhcmVUb01lbnVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMH19LHtrZXk6XCJjb21wYXJlVG9Ub29sdGlwXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuLTF9fSx7a2V5OlwiY29tcGFyZVRvTm90aWZpY2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDF9fSx7a2V5OlwiaXNJbnNpZGVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5oaWRkZW59fSx7a2V5Olwic2Nyb2xsQXJlYVNpemVYXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXJXaWR0aC10aGlzLm1heFdpZHRofX0se2tleTpcInNjcm9sbEFyZWFTaXplWVwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVySGVpZ2h0LXRoaXMubWF4SGVpZ2h0fX0se2tleTpcIm1heEhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcIm1heEhlaWdodFwiLHRoaXMpfHx0aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMuc2NlbmUmJnRoaXMuY2FudmFzLnNjZW5lLmhlaWdodH19LHtrZXk6XCJtYXhXaWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMuc2NlbmUmJnRoaXMuY2FudmFzLnNjZW5lLndpZHRofX0se2tleTpcIm1pbldpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50LndpZHRoOjB9fSx7a2V5OlwiZGVmYXVsdFN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUKHtibHVyQmFja2dyb3VuZDppLlNldHRpbmcuTUVOVV9ERUZBVUxUX0JMVVJfQkFDS0dST1VORCxiYWNrZ3JvdW5kQ29sb3I6aS5TZXR0aW5nLk1FTlVfREVGQVVMVF9CQUNLR1JPVU5ELHZlcnRpY2FsQWxpZ25lbWVudDppLlZlcnRpY2FsQWxpZ25lbWVudC5DRU5URVIsc2Nyb2xsWERpc2FibGVkOiEwfSl9fSx7a2V5OlwiaGlkZGVuXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoKShnKCkobi5wcm90b3R5cGUpLFwiaGlkZGVuXCIsdGhpcyl8fHRoaXMuZGlzYWJsZWR9LHNldDpmdW5jdGlvbih0KXtVKCkoZygpKG4ucHJvdG90eXBlKSxcImhpZGRlblwiLHQsdGhpcywhMCksdGhpcy5kaXNhYmxlZD10fX1dKSxufShtdCk7ZnVuY3Rpb24gVHQodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIFJ0PW5ldyBXZWFrTWFwLEx0PW5ldyBXZWFrTWFwLGJ0PW5ldyBXZWFrTWFwLF90PWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPVR0KG4pO2Z1bmN0aW9uIG4odCxpLHIscyxhLGMpe3ZhciBoO28oKSh0aGlzLG4pLGg9ZS5jYWxsKHRoaXMsdCxpLHIscyxhKSxFKCkobCgpKGgpLFwic2VsZWN0YWJsZVwiLCEwKSxSdC5zZXQobCgpKGgpLHt3cml0YWJsZTohMCx2YWx1ZTowfSksTHQuc2V0KGwoKShoKSx7d3JpdGFibGU6ITAsdmFsdWU6MH0pLGJ0LnNldChsKCkoaCkse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxoLnRleHQ9Y3x8XCJcIix3KCkobCgpKGgpLFJ0LDApLHcoKShsKCkoaCksYnQsMCksdygpKGwoKShoKSxMdCwwKSxoLmxhc3RJbnB1dFRleHQ9ITEsaC5vZmZzZXRYPTAsaC5sYXN0VGltZT0wLGgudG90YWxUaW1lPTAsaC5jbGlja0N1cnJlbnRQb3NpdGlvbj1udWxsLGgudGV4dENhY2hlPW51bGwsaC5pbnB1dD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksaC5pbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ0ZXh0XCIpLGguaW5wdXQuc3R5bGUucG9zaXRpb249XCJhYnNvbHV0ZVwiLGguaW5wdXQuc3R5bGUubGVmdD1cIi05OTk5cHhcIixoLmlucHV0LnRhYkluZGV4PS0xLGguaW5wdXQudmFsdWU9aC50ZXh0LGguaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaC5zZWxlY3RlZD0hMX0pKSxoLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLChmdW5jdGlvbigpe3JldHVybiBoLnNlbGVjdGVkPSEwfSkpLGguaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsKGZ1bmN0aW9uKCl7aC50b3RhbFRpbWU9MCxoLmxhc3RJbnB1dFRleHQ9ITAsaC5wb3NpdGlvblN0YXJ0PWguaW5wdXQuc2VsZWN0aW9uU3RhcnQsaC5wb3NpdGlvbkVuZD1oLmlucHV0LnNlbGVjdGlvbkVuZH0pKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGguaW5wdXQpLGguYXBwZW5kVG9DYW52YXM9ITEsaC5ub3RpY2VMb2dnZWQ9ITEsaC5jYW52YXNUbXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTt2YXIgdT1mdW5jdGlvbih0LGUsbil7aWYobil7dmFyIGk9aC5nZXRMZXR0ZXJDbGlja2VkKG4pO251bGwhPWkmJihpPmgucG9zaXRpb25TdGFydENsaWNrP2guc2V0U2VsZWN0aW9uUmFuZ2UoaC5wb3NpdGlvblN0YXJ0Q2xpY2ssaSxcImZvcndhcmRcIik6aTxoLnBvc2l0aW9uU3RhcnRDbGljayYmaC5zZXRTZWxlY3Rpb25SYW5nZShpLGgucG9zaXRpb25TdGFydENsaWNrLFwiYmFja3dhcmRcIikpfX07cmV0dXJuIGguYWRkRG93bkFjdGlvbigoZnVuY3Rpb24odCl7dmFyIGU9aC5nZXRMZXR0ZXJDbGlja2VkKHQpO251bGwhPWUmJihoLnBvc2l0aW9uU3RhcnRDbGljaz1lLGguc2V0U2VsZWN0aW9uUmFuZ2UoZSxlLFwiZm9yd2FyZFwiKSksaC50b3RhbFRpbWU9MH0pKSxoLmFkZENsaWNrQWN0aW9uKChmdW5jdGlvbigpe3JldHVybiBoLmNsaWNrKCl9KSksaC5hZGRNb3ZlQWN0aW9uKHUpLGguYWRkU2Nyb2xsQWN0aW9uKHUpLGh9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhpZGRlbil7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBlPXQuY2FudmFzLHI9ZS5nZXRDb250ZXh0KFwiMmRcIik7ci5zYXZlKCksdGhpcy5pbnB1dC5zZWxlY3Rpb25FbmQhPXRoaXMucG9zaXRpb25FbmQmJih0aGlzLnRvdGFsVGltZT0wKSx0aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMuY29udGFpbmVyJiYhdGhpcy5hcHBlbmRUb0NhbnZhcz8oZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmlucHV0KSx0aGlzLmNhbnZhcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5pbnB1dCksdGhpcy5hcHBlbmRUb0NhbnZhcz0hMCk6dGhpcy5jYW52YXN8fHRoaXMubm90aWNlTG9nZ2VkfHwoY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oaS5TdHJpbmcuV0FSTklOR19NRVNTQUdFK1wiIFwiK2kuU3RyaW5nLklOUFVUX0ZVTExTQ1JFRU4pLHRoaXMubm90aWNlTG9nZ2VkPSEwKSx0aGlzLnNlbGVjdGVkJiYhdGhpcy5kaXNhYmxlZD90aGlzLmNsaWNrKCk6dGhpcy5ibHVyKCksdGhpcy50ZXh0PXRoaXMuaW5wdXQudmFsdWUsdGhpcy5wb3NpdGlvblN0YXJ0PXRoaXMuaW5wdXQuc2VsZWN0aW9uU3RhcnQsdGhpcy5wb3NpdGlvbkVuZD10aGlzLmlucHV0LnNlbGVjdGlvbkVuZDt2YXIgbz1wZXJmb3JtYW5jZS5ub3coKSxzPTA7dGhpcy5sYXN0VGltZT4wJiYocz1vLXRoaXMubGFzdFRpbWUpLHRoaXMubGFzdFRpbWU9byx0aGlzLnRvdGFsVGltZSs9cyx0aGlzLmRyYXdCYWNrZ3JvdW5kKHIpLHRoaXMuZHJhd0JvcmRlcihyKSx0aGlzLmNhbnZhc1RtcC53aWR0aD1lLndpZHRoLHRoaXMuY2FudmFzVG1wLmhlaWdodD1lLmhlaWdodDt2YXIgYT10aGlzLmNhbnZhc1RtcC5nZXRDb250ZXh0KFwiMmRcIik7WS5jbGVhcihhKSx0aGlzLnVwZGF0ZVRleHRDYWNoZSh0aGlzLngrNSksdGhpcy5hdXRvU2Nyb2xsKCksdGhpcy5kcmF3VGV4dChhLHRoaXMueCs1KSxZLmRyYXdJbWFnZURhdGEocix0aGlzLmNhbnZhc1RtcCx0aGlzLngrdGhpcy5zdHlsZS5ib3JkZXJTaXplLHRoaXMueSt0aGlzLnN0eWxlLmJvcmRlclNpemUsdGhpcy53aWR0aC0yKnRoaXMuc3R5bGUuYm9yZGVyU2l6ZSx0aGlzLmhlaWdodC0yKnRoaXMuc3R5bGUuYm9yZGVyU2l6ZSx0aGlzLngrdGhpcy5zdHlsZS5ib3JkZXJTaXplLHRoaXMueSt0aGlzLnN0eWxlLmJvcmRlclNpemUsdGhpcy53aWR0aC0yKnRoaXMuc3R5bGUuYm9yZGVyU2l6ZSx0aGlzLmhlaWdodC0yKnRoaXMuc3R5bGUuYm9yZGVyU2l6ZSksKHRoaXMuaG92ZXJlZHx8dGhpcy5jbGlja2VkKSYmKHRoaXMuY2FudmFzJiZ0aGlzLmNhbnZhcy5jYW52YXM/dGhpcy5jYW52YXMuY2FudmFzLnN0eWxlLmN1cnNvcj1cInRleHRcIjplLnN0eWxlLmN1cnNvcj1cImRlZmF1bHRcIiksdGhpcy5zZWxlY3RlZHx8KHRoaXMudG90YWxUaW1lPTApLHIucmVzdG9yZSgpfX19LHtrZXk6XCJkcmF3VGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xO248dGhpcy50ZXh0Lmxlbmd0aDtuKyspe2lmKG4+LTEpe3ZhciBpPXRoaXMudGV4dENhY2hlLmxldHRlcnNbbl0uc2l6ZXMscj1lLXRoaXMub2Zmc2V0WCxvPXRoaXMueSt0aGlzLnN0eWxlLmJvcmRlclNpemU7dGhpcy5pc0xldHRlclZpc2libGUobikmJih0aGlzLnBvc2l0aW9uU3RhcnQhPXRoaXMucG9zaXRpb25FbmQmJm4+PXRoaXMucG9zaXRpb25TdGFydCYmbjx0aGlzLnBvc2l0aW9uRW5kJiZ0aGlzLmRyYXdIaWdobGlnaHQodCxlLGkpLFkuZHJhd1RleHQodCx0aGlzLnRleHRbbl0sdGhpcy5zdHlsZS5mb250Q29sb3IsdGhpcy5zdHlsZS5mb250U2l6ZSx0aGlzLnN0eWxlLmZvbnRGYW1pbHksXCJkZWZhdWx0XCIsXCJkZWZhdWx0XCIscixvLCExKSksZSs9aS53aWR0aCt0aGlzLnN0eWxlLnNwYWNlQmV0d2VlbkNvbXBvbmVudHN9dGhpcy5wb3NpdGlvbkVuZD09bisxJiZ0aGlzLnNlbGVjdGVkJiYodGhpcy50b3RhbFRpbWU8PTUwMD90aGlzLmRyYXdDdXJzb3IodCxlKTp0aGlzLnRvdGFsVGltZT4xZTMmJih0aGlzLnRvdGFsVGltZT0wKSl9cmV0dXJuIGV9fSx7a2V5OlwiZHJhd0N1cnNvclwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dC5zdHJva2VTdHlsZT10aGlzLnN0eWxlLmJvcmRlckNvbG9yLHQubGluZVdpZHRoPTEsdC5iZWdpblBhdGgoKSx0Lm1vdmVUbyhlLXRoaXMub2Zmc2V0WCx0aGlzLnkrMyksdC5saW5lVG8oZS10aGlzLm9mZnNldFgsdGhpcy55K3RoaXMuc3R5bGUuZm9udFNpemUpLHQuc3Ryb2tlKCl9fSx7a2V5OlwiZHJhd0hpZ2hsaWdodFwiLHZhbHVlOmZ1bmN0aW9uKHQsZSxuKXt0LmZpbGxTdHlsZT10aGlzLnN0eWxlLnNlbGVjdENvbG9yLHQuZmlsbFJlY3QoZS10aGlzLm9mZnNldFgsdGhpcy55K3RoaXMuc3R5bGUuYm9yZGVyU2l6ZSxuLndpZHRoKzIsdGhpcy5oZWlnaHQtMip0aGlzLnN0eWxlLmJvcmRlclNpemUtMSl9fSx7a2V5OlwidXBkYXRlVGV4dENhY2hlXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jYW52YXM/dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpOm51bGwsbj10aGlzLmNhbnZhcyYmdGhpcy5jYW52YXMuc2NlbmV8fHRoaXMuY2FudmFzfHxlJiZlLmNhbnZhcztpZihlJiYoaS5TZXR0aW5nLkRJU0FCTEVfT1BUSU1JWkFUSU9OU3x8IXRoaXMudGV4dENhY2hlfHx0aGlzLnRleHRDYWNoZS5mb250U2l6ZSE9dGhpcy5zdHlsZS5mb250U2l6ZXx8dGhpcy50ZXh0Q2FjaGUuZm9udEZhbWlseSE9dGhpcy5zdHlsZS5mb250RmFtaWx5fHx0aGlzLnRleHQhPXRoaXMudGV4dENhY2hlLnRleHR8fG4mJm4ud2lkdGghPXRoaXMudGV4dENhY2hlLnBhcmVudFdpZHRoKSl7dGhpcy50ZXh0Q2FjaGU9e2ZvbnRTaXplOnRoaXMuc3R5bGUuZm9udFNpemUsZm9udEZhbWlseTp0aGlzLnN0eWxlLmZvbnRGYW1pbHksdGV4dDp0aGlzLnRleHQscGFyZW50V2lkdGg6bi53aWR0aCxsZXR0ZXJzOltdfTtmb3IodmFyIHI9MDtyPHRoaXMudGV4dC5sZW5ndGg7cisrKXt2YXIgbz1ZLndyYXBUZXh0TGluZXMoZSx0aGlzLnRleHRbcl0sdGhpcy53aWR0aCx0aGlzLnN0eWxlLmZvbnRTaXplLHRoaXMuc3R5bGUuZm9udEZhbWlseSwhMCk7dGhpcy50ZXh0Q2FjaGUubGV0dGVyc1tyXT17dGV4dDp0aGlzLnRleHRbcl0sY3VycmVudFg6dCxzaXplczpvfSx0Kz1vLndpZHRoK3RoaXMuc3R5bGUuc3BhY2VCZXR3ZWVuQ29tcG9uZW50c319fX0se2tleTpcImlzQ2xpY2tDdXJyZW50UG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQueCt0aGlzLm9mZnNldFg8PWUrbi53aWR0aCt0aGlzLnN0eWxlLnNwYWNlQmV0d2VlbkNvbXBvbmVudHMmJnQueCt0aGlzLm9mZnNldFg+PWV9fSx7a2V5OlwiaXNDbGlja0FmdGVyUG9zaXRpb25cIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7cmV0dXJuIHQueCt0aGlzLm9mZnNldFg+PWUrbi53aWR0aCt0aGlzLnN0eWxlLnNwYWNlQmV0d2VlbkNvbXBvbmVudHN9fSx7a2V5OlwiZ2V0TGV0dGVyQ2xpY2tlZFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMudGV4dENhY2hlKWZvcih2YXIgZT0wO2U8dGhpcy50ZXh0Lmxlbmd0aDtlKyspe3ZhciBuPXRoaXMudGV4dENhY2hlLmxldHRlcnNbZV07aWYodGhpcy5pc0NsaWNrQ3VycmVudFBvc2l0aW9uKHQsTWF0aC5yb3VuZChuLmN1cnJlbnRYKSxuLnNpemVzKSlyZXR1cm4gZTtpZihlPj10aGlzLnRleHQubGVuZ3RoLTEmJnRoaXMuaXNDbGlja0FmdGVyUG9zaXRpb24odCxNYXRoLnJvdW5kKG4uY3VycmVudFgpLG4uc2l6ZXMpKXJldHVybiBlKzF9fX0se2tleTpcImlzTGV0dGVyVmlzaWJsZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMudGV4dENhY2hlKXt2YXIgZT10aGlzLnRleHRDYWNoZS5sZXR0ZXJzW3RdO2lmKGUpe3ZhciBuPWUuY3VycmVudFgtdGhpcy5vZmZzZXRYO2lmKG4+PXRoaXMueC1lLnNpemVzLndpZHRoJiZuPD10aGlzLngrdGhpcy53aWR0aClyZXR1cm4hMH19cmV0dXJuITF9fSx7a2V5OlwiYXV0b1Njcm9sbFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy50ZXh0Q2FjaGUpe3ZhciB0PXRoaXMuY3Vyc29yUG9zaXRpb24sZT10LmN1cnJlbnRMZXR0ZXI/dC5jdXJyZW50TGV0dGVyLnNpemVzLndpZHRoOjAsbj10LngrZSt0aGlzLnN0eWxlLnNwYWNlQmV0d2VlbkNvbXBvbmVudHMsaT10LngtZS10aGlzLnN0eWxlLnNwYWNlQmV0d2VlbkNvbXBvbmVudHMscj1NYXRoLm1heCgwLE1hdGgucm91bmQobi10aGlzLngtdGhpcy53aWR0aCt0aGlzLnN0eWxlLmJvcmRlclNpemUrMip0aGlzLnN0eWxlLnNwYWNlQmV0d2VlbkNvbXBvbmVudHMpKSxvPU1hdGgubWF4KDAsTWF0aC5yb3VuZChpLXRoaXMueC10aGlzLnN0eWxlLmJvcmRlclNpemUtMip0aGlzLnN0eWxlLnNwYWNlQmV0d2VlbkNvbXBvbmVudHMpKTtpZih0aGlzLm9mZnNldFg8MCYmKHRoaXMub2Zmc2V0WD0wKSxuLXRoaXMub2Zmc2V0WD49dGhpcy54K3RoaXMud2lkdGgtdGhpcy5zdHlsZS5ib3JkZXJTaXplKXJldHVybiB0aGlzLm9mZnNldFg9cixyO2lmKGktdGhpcy5vZmZzZXRYPD10aGlzLngrdGhpcy5zdHlsZS5ib3JkZXJTaXplKXJldHVybiB0aGlzLm9mZnNldFg9byxvfXJldHVybiExfX0se2tleTpcImNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlucHV0LmZvY3VzKCl9fSx7a2V5OlwiYmx1clwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pbnB1dC5ibHVyKCl9fSx7a2V5Olwic2V0U2VsZWN0aW9uUmFuZ2VcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5pbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSh0LGUsbiksdGhpcy5wb3NpdGlvblN0YXJ0PXQsdGhpcy5wb3NpdGlvbkVuZD1lfX0se2tleTpcImN1cnNvclBvc2l0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7aWYodGhpcy50ZXh0Q2FjaGUpe3ZhciB0PXRoaXMucG9zaXRpb25FbmQtMTtpZih0aGlzLnBvc2l0aW9uRW5kIT10aGlzLnBvc2l0aW9uU3RhcnQmJnRoaXMucG9zaXRpb25FbmQ9PXRoaXMucG9zaXRpb25TdGFydENsaWNrJiZ0aGlzLnBvc2l0aW9uU3RhcnQ8dGhpcy5wb3NpdGlvblN0YXJ0Q2xpY2smJih0PXRoaXMucG9zaXRpb25TdGFydC0xKSx0PDApcmV0dXJue2N1cnJlbnRMZXR0ZXI6dGhpcy50ZXh0Q2FjaGUubGV0dGVyc1swXSx4OnRoaXMueCt0aGlzLnN0eWxlLmJvcmRlclNpemV9O3ZhciBlPXRoaXMudGV4dENhY2hlLmxldHRlcnNbdF07aWYoZSlyZXR1cm57Y3VycmVudExldHRlcjplLHg6ZS5jdXJyZW50WH19fX0se2tleTpcInBvc2l0aW9uU3RhcnRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUygpKHRoaXMsUnQpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbnB1dC5zZWxlY3Rpb25TdGFydD10LHcoKSh0aGlzLFJ0LHQpfX0se2tleTpcInBvc2l0aW9uU3RhcnRDbGlja1wiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxMdCl9LHNldDpmdW5jdGlvbih0KXt3KCkodGhpcyxMdCx0KX19LHtrZXk6XCJwb3NpdGlvbkVuZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxidCl9LHNldDpmdW5jdGlvbih0KXt0aGlzLmlucHV0LnNlbGVjdGlvbkVuZD10LHcoKSh0aGlzLGJ0LHQpfX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuYm9yZGVyU2l6ZT90aGlzLnN0eWxlLmJvcmRlclNpemU6MDtyZXR1cm4gdSgpKGcoKShuLnByb3RvdHlwZSksXCJoZWlnaHRcIix0aGlzKT91KCkoZygpKG4ucHJvdG90eXBlKSxcImhlaWdodFwiLHRoaXMpOnRoaXMuc3R5bGUuZm9udFNpemUrMip0fX0se2tleTpcImRlZmF1bHRTdHlsZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVCh7Zm9udFNpemU6TWF0aC5mbG9vcihpLlNldHRpbmcuRk9OVF9TSVpFLzEuMjUpLGZvbnRGYW1pbHk6aS5TZXR0aW5nLkZPTlRfRkFNSUxZLGZvbnRDb2xvcjppLlNldHRpbmcuSU5QVVRfREVGQVVMVF9GT05UX0NPTE9SLGJhY2tncm91bmRDb2xvcjppLlNldHRpbmcuSU5QVVRfREVGQVVMVF9CQUNLR1JPVU5EX0NPTE9SLGJvcmRlckNvbG9yOmkuU2V0dGluZy5JTlBVVF9ERUZBVUxUX0JPUkRFUl9DT0xPUixib3JkZXJDb2xvclNlbGVjdGVkOmkuU2V0dGluZy5JTlBVVF9ERUZBVUxUX0JPUkRFUl9DT0xPUl9TRUxFQ1RFRCxzZWxlY3RDb2xvcjppLlNldHRpbmcuSU5QVVRfREVGQVVMVF9TRUxFQ1RfQ09MT1Isc3BhY2VCZXR3ZWVuQ29tcG9uZW50czoxfSl9fV0pLG59KEIpO2Z1bmN0aW9uIEl0KHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLGk9ZygpKHQpO2lmKGUpe3ZhciByPWcoKSh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KGksYXJndW1lbnRzLHIpfWVsc2Ugbj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdigpKHRoaXMsbil9fXZhciBEdD1uZXcgV2Vha01hcCxPdD1mdW5jdGlvbih0KXtkKCkobix0KTt2YXIgZT1JdChuKTtmdW5jdGlvbiBuKHQscixzLGEpe3ZhciBjO3JldHVybiBvKCkodGhpcyxuKSxjPWUuY2FsbCh0aGlzLHIscyxudWxsLG51bGwsYSksRSgpKGwoKShjKSxcInNlbGVjdGFibGVcIiwhMSksRHQuc2V0KGwoKShjKSx7d3JpdGFibGU6ITAsdmFsdWU6XCJcIn0pLGMudGV4dD10LGMuc2l6ZXNDYWNoZT1udWxsLGkuU2V0dGluZy5ESVNBQkxFX0VYUEVSSU1FTlRBTF9PUFRJTUlaQVRJT05TfHwoYy51cGRhdGVTaXplcygpLGMuYWRkQ2hhbmdlQWN0aW9uKChmdW5jdGlvbih0KXtjLnVwZGF0ZVNpemVzKCksdCE9Yy5wYXJlbnQmJmMucGFyZW50JiZjLnBhcmVudC5yZWFjdG9yJiZjLnBhcmVudC5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNoYW5nZVwiLGwoKShjKSl9KSkpLGN9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhpZGRlbil7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBlPXQuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtlLnNhdmUoKSxZLmRyYXdUZXh0KGUsdGhpcy50ZXh0LHRoaXMuc3R5bGUuZm9udENvbG9yLHRoaXMuc3R5bGUuZm9udFNpemUsdGhpcy5zdHlsZS5mb250RmFtaWx5LHRoaXMuc3R5bGUuYWxpZ25lbWVudCx0aGlzLnN0eWxlLnZlcnRpY2FsQWxpZ25lbWVudCx0aGlzLngsdGhpcy55LHRoaXMuc3R5bGUud3JhcCx0aGlzLnN0eWxlLmJvbGQsdGhpcy5zdHlsZS51bmRlcmxpbmUsbnVsbCx0aGlzLnBhcmVudCksZS5yZXN0b3JlKCl9fX0se2tleTpcInVwZGF0ZVNpemVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNhbnZhcz90aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik6bnVsbCxlPXRoaXMuY2FudmFzJiZ0aGlzLmNhbnZhcy5zY2VuZXx8dGhpcy5jYW52YXN8fHQmJnQuY2FudmFzO2lmKHQmJihpLlNldHRpbmcuRElTQUJMRV9PUFRJTUlaQVRJT05TfHwhdGhpcy5zaXplc0NhY2hlfHx0aGlzLnNpemVzQ2FjaGUuZm9udFNpemUhPXRoaXMuc3R5bGUuZm9udFNpemV8fHRoaXMuc2l6ZXNDYWNoZS5mb250RmFtaWx5IT10aGlzLnN0eWxlLmZvbnRGYW1pbHl8fHRoaXMuc2l6ZXNDYWNoZS53cmFwIT10aGlzLnN0eWxlLndyYXB8fHRoaXMudGV4dCE9dGhpcy5zaXplc0NhY2hlLnRleHR8fGUmJmUud2lkdGghPXRoaXMuc2l6ZXNDYWNoZS5wYXJlbnRXaWR0aHx8bnVsbD09dGhpcy5zaXplc0NhY2hlLnZhbHVlKSl7dmFyIG49WS53cmFwVGV4dExpbmVzKHQsdGhpcy50ZXh0LG51bGwsdGhpcy5zdHlsZS5mb250U2l6ZSx0aGlzLnN0eWxlLmZvbnRGYW1pbHksIXRoaXMuc3R5bGUud3JhcCk7ZSYmKHRoaXMuc2l6ZXNDYWNoZT17Zm9udFNpemU6dGhpcy5zdHlsZS5mb250U2l6ZSxmb250RmFtaWx5OnRoaXMuc3R5bGUuZm9udEZhbWlseSx3cmFwOnRoaXMuc3R5bGUud3JhcCx0ZXh0OnRoaXMudGV4dCxwYXJlbnRXaWR0aDplLndpZHRoLHZhbHVlOm59KX1yZXR1cm4gdGhpcy5zaXplc0NhY2hlJiZ0aGlzLnNpemVzQ2FjaGUudmFsdWV9fSx7a2V5OlwidGV4dFwiLHNldDpmdW5jdGlvbih0KXt3KCkodGhpcyxEdCx0KSx0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2hhbmdlXCIsdGhpcyl9LGdldDpmdW5jdGlvbigpe3JldHVybiBTKCkodGhpcyxEdCl9fSx7a2V5Olwic2l6ZXNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5TZXR0aW5nLkRJU0FCTEVfRVhQRVJJTUVOVEFMX09QVElNSVpBVElPTlMmJnRoaXMudXBkYXRlU2l6ZXMoKSx0aGlzLnNpemVzQ2FjaGUmJnRoaXMuc2l6ZXNDYWNoZS52YWx1ZX19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNpemVzO3JldHVybiB0JiZ0LmhlaWdodH19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuc2l6ZXM7cmV0dXJuIHQmJnQud2lkdGh9fSx7a2V5OlwiZGVmYXVsdFN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUKHtmb250U2l6ZTppLlNldHRpbmcuRk9OVF9TSVpFLGZvbnRGYW1pbHk6aS5TZXR0aW5nLkZPTlRfRkFNSUxZLGZvbnRDb2xvcjppLlNldHRpbmcuTEFCRUxfREVGQVVMVF9GT05UX0NPTE9SLHdyYXA6ITAsYm9sZDohMSx1bmRlcmxpbmU6ITF9KX19XSksbn0oTik7ZnVuY3Rpb24geHQodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIEZ0PWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPXh0KG4pO2Z1bmN0aW9uIG4odCxpLHIscyl7dmFyIGE7cmV0dXJuIG8oKSh0aGlzLG4pLGE9ZS5jYWxsKHRoaXMsdCxpLHIscyksRSgpKGwoKShhKSxcInNlbGVjdGFibGVcIiwhMCksYS5pbml0aWFsQ29sb3I9YS5zdHlsZS5mb250Q29sb3IsYS5pbml0aWFsVW5kZXJsaW5lPWEuc3R5bGUudW5kZXJsaW5lLGF9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhpZGRlbil7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBlPXQuY2FudmFzO3RoaXMuY2xpY2tlZD8odGhpcy5zdHlsZS5zZXQoXCJ1bmRlcmxpbmVcIiwhMSksdGhpcy5zdHlsZS5zZXQoXCJmb250Q29sb3JcIix0aGlzLnN0eWxlLmZvbnRDb2xvckRvd24pLGUuc3R5bGUuY3Vyc29yPVwicG9pbnRlclwiKTp0aGlzLmhvdmVyZWR8fHRoaXMuc2VsZWN0ZWQ/KHRoaXMuc3R5bGUuc2V0KFwidW5kZXJsaW5lXCIsITEpLHRoaXMuc3R5bGUuc2V0KFwiZm9udENvbG9yXCIsdGhpcy5zdHlsZS5mb250Q29sb3JIb3ZlciksdGhpcy5ob3ZlcmVkJiYoZS5zdHlsZS5jdXJzb3I9XCJwb2ludGVyXCIpKToodGhpcy5zdHlsZS5zZXQoXCJ1bmRlcmxpbmVcIix0aGlzLmluaXRpYWxVbmRlcmxpbmUpLHRoaXMuc3R5bGUuc2V0KFwiZm9udENvbG9yXCIsdGhpcy5pbml0aWFsQ29sb3IpKSx0aGlzLmluaXQ9ITB9fX0se2tleTpcImRlZmF1bHRTdHlsZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVCh7Zm9udFNpemU6aS5TZXR0aW5nLkZPTlRfU0laRSxmb250RmFtaWx5OmkuU2V0dGluZy5GT05UX0ZBTUlMWSxmb250Q29sb3I6aS5TZXR0aW5nLkxJTktfREVGQVVMVF9DT0xPUixmb250Q29sb3JIb3ZlcjppLlNldHRpbmcuTElOS19ERUZBVUxUX0hPVkVSX0NPTE9SLGZvbnRDb2xvckRvd246aS5TZXR0aW5nLkxJTktfREVGQVVMVF9DTElDS19DT0xPUix3cmFwOiEwLGJvbGQ6ITEsdW5kZXJsaW5lOiEwfSl9fV0pLG59KE90KTtmdW5jdGlvbiBOdCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgTXQ9ZnVuY3Rpb24odCl7ZCgpKG4sdCk7dmFyIGU9TnQobik7ZnVuY3Rpb24gbih0KXt2YXIgaTtvKCkodGhpcyxuKTtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxzPW5ldyBBcnJheShyPjE/ci0xOjApLGE9MTthPHI7YSsrKXNbYS0xXT1hcmd1bWVudHNbYV07cmV0dXJuIGk9ZS5jYWxsLmFwcGx5KGUsW3RoaXMsbnVsbCxudWxsLG51bGwsbnVsbCx0XS5jb25jYXQocykpLEUoKShsKCkoaSksXCJzZWxlY3RhYmxlXCIsITEpLGkuZGlzYWJsZWQ9ITAsaX1yZXR1cm4gYSgpKG4sW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7aWYoIXRoaXMuaGlkZGVuKXt2YXIgZT10LmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7ZS5zYXZlKCksdGhpcy54K3RoaXMud2lkdGgrdGhpcy5zdHlsZS5wYWRkaW5nPnRoaXMucGFyZW50LndpZHRoJiYodGhpcy54LT10aGlzLndpZHRoK3RoaXMuc3R5bGUucGFkZGluZyksdGhpcy55K3RoaXMuaGVpZ2h0K3RoaXMuc3R5bGUucGFkZGluZz50aGlzLnBhcmVudC5oZWlnaHQmJih0aGlzLnktPXRoaXMuaGVpZ2h0K3RoaXMuc3R5bGUucGFkZGluZyksdSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLGUpLGUucmVzdG9yZSgpfX19LHtrZXk6XCJjb21wYXJlVG9Db21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jb21wYXJlVG9Ub29sdGlwKHRoaXMpfX0se2tleTpcImNvbXBhcmVUb01lbnVcIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gMX19LHtrZXk6XCJjb21wYXJlVG9Ub29sdGlwXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDB9fSx7a2V5OlwiY29tcGFyZVRvTm90aWZpY2F0aW9uXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIDF9fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpKGcoKShuLnByb3RvdHlwZSksXCJ3aWR0aFwiLHRoaXMpK3RoaXMuc3R5bGUucGFkZGluZ30sc2V0OmZ1bmN0aW9uKHQpe1UoKShnKCkobi5wcm90b3R5cGUpLFwid2lkdGhcIix0LHRoaXMsITApfX0se2tleTpcImhlaWdodFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcImhlaWdodFwiLHRoaXMpK3RoaXMuc3R5bGUucGFkZGluZ30sc2V0OmZ1bmN0aW9uKHQpe1UoKShnKCkobi5wcm90b3R5cGUpLFwiaGVpZ2h0XCIsdCx0aGlzLCEwKX19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFQoe2JhY2tncm91bmRDb2xvcjppLlNldHRpbmcuVE9PTFRJUF9ERUZBVUxUX0JBQ0tHUk9VTkR9KX19LHtrZXk6XCJoaWRkZW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpKGcoKShuLnByb3RvdHlwZSksXCJoaWRkZW5cIix0aGlzKXx8dGhpcy5kaXNhYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe1UoKShnKCkobi5wcm90b3R5cGUpLFwiaGlkZGVuXCIsdCx0aGlzLCEwKSx0aGlzLmRpc2FibGVkPXR9fV0pLG59KG10KTtmdW5jdGlvbiBVdCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgUHQ9ZnVuY3Rpb24odCl7ZCgpKG4sdCk7dmFyIGU9VXQobik7ZnVuY3Rpb24gbigpe3ZhciB0LGk7cmV0dXJuIG8oKSh0aGlzLG4pLGk9ZS5jYWxsKHRoaXMpLEUoKShsKCkoaSksXCJzZWxlY3RhYmxlXCIsITEpLEUoKShsKCkoaSksXCJlbmFibGVFdmVudHNcIiwhMSksKHQ9aSkuYWRkQWxsLmFwcGx5KHQsYXJndW1lbnRzKSxpfXJldHVybiBhKCkobixbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCF0aGlzLmhpZGRlbil7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBpPXQuY2FudmFzLHI9aS5nZXRDb250ZXh0KFwiMmRcIik7ci5zYXZlKCksaS5zdHlsZS5jdXJzb3I9XCJkZWZhdWx0XCI7dmFyIG89cjsodGhpcy5tYXhXaWR0aHx8dGhpcy5tYXhIZWlnaHQpJiYobz10aGlzLmNhbnZhc1RtcC5nZXRDb250ZXh0KFwiMmRcIikpO3ZhciBzPXUoKShnKCkobi5wcm90b3R5cGUpLFwiY29tcG9uZW50c1wiLHRoaXMpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQgaW5zdGFuY2VvZiBfdH0pKTtzJiZzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhbnZhcz1lLmNhbnZhc30pKSx0aGlzLmRyYXdDb21wb25lbnRzKG8pLCh0aGlzLm1heFdpZHRofHx0aGlzLm1heEhlaWdodCkmJlkuZHJhd0ltYWdlRGF0YShyLHRoaXMuY2FudmFzVG1wLHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHUoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1Njcm9sbGJhcnNcIix0aGlzKS5jYWxsKHRoaXMsciksci5yZXN0b3JlKCl9fX0se2tleTpcImRyYXdDb21wb25lbnRzXCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5jb21wb25lbnRzLnNvcnQobi5jb21wYXJlQ29tcG9uZW50cykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZHJhdyh0KX0pKX19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFQoe3BhZGRpbmc6aS5TZXR0aW5nLkRFRkFVTFRfUEFERElOR30pfX1dKSxufSgkKTtmdW5jdGlvbiBCdCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgenQ9ZnVuY3Rpb24odCl7ZCgpKG4sdCk7dmFyIGU9QnQobik7ZnVuY3Rpb24gbih0LGkscixzKXt2YXIgYTtyZXR1cm4gbygpKHRoaXMsbiksYT1lLmNhbGwodGhpcyxudWxsLGkscixzKSxFKCkobCgpKGEpLFwic2VsZWN0YWJsZVwiLCExKSxhLmRpc3BsYXlGcmFtZXM9dHx8ITEsYS5mcmFtZXM9MCxhLmxhc3RGcmFtZT0wLGEuY3VycmVudEZQUz0wLGEuaW50ZXJ2YWxDb3VudEZQUz1zZXRJbnRlcnZhbCgoZnVuY3Rpb24oKXtyZXR1cm4gYS5jb3VudEZQUygpfSksMWUzKSxhfXJldHVybiBhKCkobixbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXt0aGlzLmhpZGRlbnx8KHRoaXMudGV4dD1cIkZQUzogXCIrdGhpcy5jdXJyZW50RlBTKyh0aGlzLmRpc3BsYXlGcmFtZXM/XCIgLyBGcmFtZXM6IFwiK3RoaXMuZnJhbWVzOlwiXCIpLHUoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyx0KSx0aGlzLmZyYW1lcysrKX19LHtrZXk6XCJjb3VudEZQU1wiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5sYXN0RnJhbWU+MCYmKHRoaXMuY3VycmVudEZQUz10aGlzLmZyYW1lcy10aGlzLmxhc3RGcmFtZSksdGhpcy5sYXN0RnJhbWU9dGhpcy5mcmFtZXN9fV0pLG59KE90KTtmdW5jdGlvbiBXdCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgSHQ9bmV3IFdlYWtNYXAsR3Q9ZnVuY3Rpb24odCl7ZCgpKG4sdCk7dmFyIGU9V3Qobik7ZnVuY3Rpb24gbih0LGkscixzLGEsYyxoKXt2YXIgdTtyZXR1cm4gbygpKHRoaXMsbiksdT1lLmNhbGwodGhpcyx0LGkscixzLGEpLEh0LnNldChsKCkodSkse3dyaXRhYmxlOiEwLHZhbHVlOjB9KSxFKCkobCgpKHUpLFwic2VsZWN0YWJsZVwiLCExKSx1LnBlcmNlbnQ9bnVsbD09Yz8wOmMsdygpKGwoKSh1KSxIdCx1LnBlcmNlbnQpLHUuZWFzaW5nRnVuY3Rpb249aCx1Lmxhc3RUaW1lPTAsdS50b3RhbFRpbWU9MCx1fXJldHVybiBhKCkobixbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5oaWRkZW4pe3UoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgZT10LmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7ZS5zYXZlKCk7dmFyIGk9cGVyZm9ybWFuY2Uubm93KCkscj0wO1MoKSh0aGlzLEh0KT09dGhpcy5wZXJjZW50fHx0aGlzLnN0eWxlLmRpc2FibGVBbmltYXRpb24/KHRoaXMudG90YWxUaW1lPTAsdGhpcy5sYXN0VGltZT0wKToodGhpcy5sYXN0VGltZT4wJiYocj1pLXRoaXMubGFzdFRpbWUpLHRoaXMudG90YWxUaW1lKz1yLHRoaXMudG90YWxUaW1lPj10aGlzLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uPyh3KCkodGhpcyxIdCx0aGlzLnBlcmNlbnQpLHRoaXMudG90YWxUaW1lPTAsdGhpcy5sYXN0VGltZT0wKTp0aGlzLmxhc3RUaW1lPWkpLHRoaXMuZHJhd0JhY2tncm91bmQoZSksdGhpcy5kcmF3Rm9yZWdyb3VuZChlLHRoaXMud2lkdGhGb3JlZ3JvdW5kKSxlLnJlc3RvcmUoKX19fSx7a2V5OlwiZHJhd0ZvcmVncm91bmRcIix2YWx1ZTpmdW5jdGlvbih0LGUpe3Quc2F2ZSgpLHQuZmlsbFN0eWxlPXRoaXMuc3R5bGUuZm9yZWdyb3VuZENvbG9yLHQuZmlsbFJlY3QodGhpcy54LHRoaXMueSxlLHRoaXMuaGVpZ2h0KSx0LnJlc3RvcmUoKX19LHtrZXk6XCJhbmltYXRpb25QZXJjZW50XCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9UygpKHRoaXMsSHQpPT10aGlzLnBlcmNlbnR8fHRoaXMuc3R5bGUuZGlzYWJsZUFuaW1hdGlvbj8xOnRoaXMudG90YWxUaW1lL3RoaXMuc3R5bGUuYW5pbWF0aW9uRHVyYXRpb247cmV0dXJuIHRoaXMuZWFzaW5nRnVuY3Rpb24mJih0PXRoaXMuZWFzaW5nRnVuY3Rpb24odCkpLHR9fSx7a2V5Olwid2lkdGhGb3JlZ3JvdW5kXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy53aWR0aCx0aGlzLndpZHRoKihTKCkodGhpcyxIdCkrKHRoaXMucGVyY2VudC1TKCkodGhpcyxIdCkpKnRoaXMuYW5pbWF0aW9uUGVyY2VudCkpKX19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFQoe2JhY2tncm91bmRDb2xvcjppLlNldHRpbmcuUFJPR1JFU1NfREVGQVVMVF9CQUNLR1JPVU5ELGZvcmVncm91bmRDb2xvcjppLlNldHRpbmcuUFJPR1JFU1NfREVGQVVMVF9GT1JFR1JPVU5ELGFuaW1hdGlvbkR1cmF0aW9uOmkuU2V0dGluZy5QUk9HUkVTU19ERUZBVUxUX0FOSU1BVElPTl9EVVJBVElPTn0pfX1dKSxufShCKTtmdW5jdGlvbiBYdCh0KXt2YXIgZT1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSZWZsZWN0fHwhUmVmbGVjdC5jb25zdHJ1Y3QpcmV0dXJuITE7aWYoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSlyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSwoZnVuY3Rpb24oKXt9KSkpLCEwfWNhdGNoKHQpe3JldHVybiExfX0oKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixpPWcoKSh0KTtpZihlKXt2YXIgcj1nKCkodGhpcykuY29uc3RydWN0b3I7bj1SZWZsZWN0LmNvbnN0cnVjdChpLGFyZ3VtZW50cyxyKX1lbHNlIG49aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHYoKSh0aGlzLG4pfX12YXIgS3Q9ZnVuY3Rpb24odCl7ZCgpKG4sdCk7dmFyIGU9WHQobik7ZnVuY3Rpb24gbigpe3JldHVybiBvKCkodGhpcyxuKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gYSgpKG4sW3trZXk6XCJyZWdpc3RlckV2ZW50XCIsdmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5ldmVudHNbdF18fCh0aGlzLmV2ZW50c1t0XT1bXSl9fSx7a2V5OlwiZGlzcGF0Y2hFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGU+MT9lLTE6MCksaT0xO2k8ZTtpKyspbltpLTFdPWFyZ3VtZW50c1tpXTtpZih0aGlzLmV2ZW50c1t0XSl7dmFyIHI9dGhpcy5ldmVudHNbdF07ci5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5jYWxsYmFjayYmdC5jYWxsYmFjay5hcHBseSh0LG4pfSkpfX19LHtrZXk6XCJkaXNwYXRjaEV2ZW50Q29tcG9uZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuPjI/bi0yOjApLHI9MjtyPG47cisrKWlbci0yXT1hcmd1bWVudHNbcl07aWYodGhpcy5ldmVudHNbdF0pe3ZhciBvPXRoaXMuZXZlbnRzW3RdO28uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQuY2FsbGJhY2smJnQuY29tcG9uZW50PT1lJiZ0LmNhbGxiYWNrLmFwcGx5KHQsaSl9KSl9fX0se2tleTpcImFkZEV2ZW50TGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5ldmVudHNbdF0mJnRoaXMuZXZlbnRzW3RdLnB1c2goe2NvbXBvbmVudDplLGNhbGxiYWNrOm59KX19LHtrZXk6XCJyZW1vdmVFdmVudExpc3RlbmVyXCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50c1t0XSYmdGhpcy5ldmVudHNbdF0uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5jYWxsYmFjayE9ZX0pKX19LHtrZXk6XCJyZW1vdmVFdmVudExpc3RlbmVyQ29tcG9uZW50XCIsdmFsdWU6ZnVuY3Rpb24odCxlKXt0aGlzLmV2ZW50c1t0XSYmdGhpcy5ldmVudHNbdF0uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5jb21wb25lbnQhPWV9KSl9fSx7a2V5OlwicmVtb3ZlQWxsRXZlbnRMaXN0ZW5lclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5ldmVudHM9W119fV0pLG59KEwpLFl0PW5ldyBXZWFrTWFwLFZ0PW5ldyBXZWFrTWFwLFp0PW5ldyBXZWFrTWFwLGp0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLG4scixzLGEsYyl7dmFyIGw9dGhpcztvKCkodGhpcyx0KSxZdC5zZXQodGhpcyx7d3JpdGFibGU6ITAsdmFsdWU6dm9pZCAwfSksVnQuc2V0KHRoaXMse3dyaXRhYmxlOiEwLHZhbHVlOnZvaWQgMH0pLFp0LnNldCh0aGlzLHt3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSx0aGlzLmNhbnZhcz1ufHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy53aWR0aD1yfHxpLlNldHRpbmcuQ0FOVkFTX1dJRFRILHRoaXMuaGVpZ2h0PXN8fGkuU2V0dGluZy5DQU5WQVNfSEVJR0hULHRoaXMuc2NlbmU9ZSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyksdGhpcy5zdGFydGVkPSExLHRoaXMuaW5pdD0hMSx0aGlzLm1heEZQUz1jfHwtMSx3KCkodGhpcyxZdCwwKSx0aGlzLmhhc0Vycm9yPSExO3ZhciBoPW5ldyBvdChudWxsLG51bGwsbnVsbCxudWxsLG5ldyBUKHthbGlnbmVtZW50OlwiY2VudGVyXCIsYmFja2dyb3VuZENvbG9yOmkuU2V0dGluZy5CVVRUT05fREVGQVVMVF9BTFRFUk5BVElWRV9CQUNLR1JPVU5EfSksbmV3IE90KGkuU3RyaW5nLlJFVFJZLG51bGwsbnVsbCxuZXcgVCh7Zm9udENvbG9yOlwid2hpdGVcIixhbGlnbmVtZW50OlwiY2VudGVyXCJ9KSkpLHU9bmV3IGt0KG5ldyBUKHtzcGFjZUJldHdlZW5Db21wb25lbnRzOjE1fSksbmV3IE90KGkuU3RyaW5nLkVSUk9SX01FU1NBR0VfQ0FOVkFTX0xBQkVMLG51bGwsbnVsbCxuZXcgVCh7Zm9udENvbG9yOlwid2hpdGVcIixhbGlnbmVtZW50OlwiY2VudGVyXCJ9KSksaCk7dS5lbmFibGUoKSx0aGlzLnNjZW5lRXJyb3I9bmV3IFB0KHUpLHRoaXMuc2NlbmVQcmV2aW91cz10aGlzLnNjZW5lLGguYWRkQ2xpY2tBY3Rpb24oKGZ1bmN0aW9uKCl7bC5oYXNFcnJvcj0hMSxsLnNjZW5lPWwuc2NlbmVQcmV2aW91c30pKSx0aGlzLnJlYWN0b3I9bmV3IEt0LHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwibW91c2Vtb3ZlXCIpLHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwiY2xpY2tcIiksdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJtb3VzZWRvd25cIiksdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJtb3VzZXVwXCIpLHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwid2hlZWxcIiksdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJ0b3VjaHN0YXJ0XCIpLHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwidG91Y2hlbmRcIiksdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJ0b3VjaG1vdmVcIiksYSYmdGhpcy5hdXRvUmVzaXplKCksdGhpcy5jcmVhdGVFdmVudHMoKSxpLlNldHRpbmcuRElTQUJMRV9PUFRJTUlaQVRJT05TJiZjb25zb2xlJiZjb25zb2xlLmluZm8oaS5TdHJpbmcuTk9USUNFX01FU1NBR0UrXCIgXCIraS5TdHJpbmcuT1BUSU1JWkFUSU9OX0RJU0FCTEVEKSxpLlNldHRpbmcuRElTQUJMRV9DT05UQUlORVJTX0NVVFRJTkcmJmNvbnNvbGUmJmNvbnNvbGUuaW5mbyhpLlN0cmluZy5OT1RJQ0VfTUVTU0FHRStcIiBcIitpLlN0cmluZy5DT05UQUlORVJfQ1VUVElOR19ESVNBQkxFRCl9cmV0dXJuIGEoKSh0LFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO3RoaXMuZHJhd0NsZWFyKHQpLHRoaXMuZHJhd1NjZW5lKHQpfX0se2tleTpcImRyYXdTY2VuZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuc2NlbmUpe3RoaXMuc2NlbmUucGFyZW50PXRoaXMsdGhpcy5zY2VuZS5jYW52YXM9dGhpczt0cnl7dGhpcy5zY2VuZS5kcmF3KHQpfWNhdGNoKHQpe3RoaXMuaGFzRXJyb3I9ITAsdGhpcy5zY2VuZT10aGlzLnNjZW5lRXJyb3IsY29uc29sZS5lcnJvcihpLlN0cmluZy5FUlJPUl9NRVNTQUdFK1wiIFwiK2kuU3RyaW5nLkVSUk9SX01FU1NBR0VfQ0FOVkFTK1wiXFxuXCIsdCl9fX19LHtrZXk6XCJkcmF3Q2xlYXJcIix2YWx1ZTpmdW5jdGlvbih0KXtZLmNsZWFyKHQpfX0se2tleTpcInN0YXJ0RHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5zdGFydGVkPSEwLHJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24obil7aWYoZS5zdGFydGVkKXt2YXIgaT1uLVMoKShlLFl0KTsoZS5tYXhGUFM8MXx8aT4xZTMvZS5tYXhGUFMpJiYodygpKGUsWXQsbiksZS5kcmF3KCkpLGUuc3RhcnREcmF3KHQpLHQmJnQoKX19KSl9fSx7a2V5Olwic3RvcERyYXdcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuc3RhcnRlZD0hMX19LHtrZXk6XCJhcHBlbmRUb1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3QuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3QucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpLHRoaXMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuY2FudmFzKX19LHtrZXk6XCJ0b2dnbGVGdWxsc2NyZWVuXCIsdmFsdWU6ZnVuY3Rpb24oKXtZLnRvZ2dsZUZ1bGxzY3JlZW4odGhpcy5jYW52YXMsdGhpcy5jb250YWluZXIpfX0se2tleTpcInRvZ2dsZUZ1bGxwYWdlXCIsdmFsdWU6ZnVuY3Rpb24oKXtZLnRvZ2dsZUZ1bGxwYWdlKHRoaXMuY2FudmFzLHRoaXMuY29udGFpbmVyKX19LHtrZXk6XCJhdXRvUmVzaXplXCIsdmFsdWU6ZnVuY3Rpb24oKXtZLmVuYWJsZUF1dG9SZXNpemVDYW52YXModGhpcy5jYW52YXMsdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9fSx7a2V5OlwiZ2V0Q29udGV4dFwiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNhbnZhcz90aGlzLmNhbnZhcy5nZXRDb250ZXh0KHR8fFwiMmRcIik6bnVsbH19LHtrZXk6XCJjcmVhdGVFdmVudHNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7IXRoaXMuaW5pdCYmdGhpcy5jYW52YXMmJihbXCJtb3VzZW1vdmVcIixcImNsaWNrXCIsXCJtb3VzZWRvd25cIixcIm1vdXNldXBcIixcIndoZWVsXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoZSwoZnVuY3Rpb24obil7dmFyIGk9dC5nZXRNb3VzZVBvcyhuKTt0LmRvRXZlbnRzKG4sZSxpKSxuLnByZXZlbnREZWZhdWx0KCl9KSwhMSl9KSksW1widG91Y2hzdGFydFwiLFwidG91Y2htb3ZlXCIsXCJ0b3VjaGVuZFwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt0LmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKGUsKGZ1bmN0aW9uKG4pe3ZhciBpPW4uY2hhbmdlZFRvdWNoZXNbMF0scj10LmdldE1vdXNlUG9zKGkpO3QuZG9FdmVudHMobixlLHIpfSkpfSkpLHRoaXMuaW5pdD0hMCl9fSx7a2V5OlwiZG9FdmVudHNcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dmFyIGk9dGhpcyxyPXRoaXMuZ2V0Q29tcG9uZW50c0F0UG9zaXRpb24obik7dGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoZSx0LCExKSxwdCgpKHIpLnJldmVyc2UoKS5mb3JFYWNoKChmdW5jdGlvbihuKXtyZXR1cm4gaS5yZWFjdG9yLmRpc3BhdGNoRXZlbnRDb21wb25lbnQoZSxuLHQsITApfSkpfX0se2tleTpcImFkZEV2ZW50TGlzdGVuZXJcIix2YWx1ZTpmdW5jdGlvbih0LGUsbil7dGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIodCxlLG4pfX0se2tleTpcImdldE1vdXNlUG9zXCIsdmFsdWU6ZnVuY3Rpb24odCl7cmV0dXJuIFkuZ2V0TW91c2VQb3ModGhpcy5jYW52YXMsdCl9fSx7a2V5OlwiZ2V0QWxsQ29tcG9uZW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuc2NlbmU7cmV0dXJuIHRoaXMuc2NlbmUuZ2V0QWxsQ29tcG9uZW50cyh0KX19LHtrZXk6XCJnZXRDb21wb25lbnRzQXRQb3NpdGlvblwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dGhpcy5zY2VuZSxpPXRoaXMuc2NlbmUuZ2V0Q29tcG9uZW50c1RyZWUobikscj1bbl07cmV0dXJuIGkuY2hpbGRzJiZpLmNoaWxkcy5zb3J0KFB0LnNvcnRDb21wb25lbnRzVHJlZSkucmV2ZXJzZSgpLnNvbWUoKGZ1bmN0aW9uKG4pe2lmKG4uY29tcG9uZW50LmlzSW5zaWRlKHQpJiYhbi5jb21wb25lbnQuaGlkZGVuJiYhbi5jb21wb25lbnQuZGlzYWJsZWQpcmV0dXJuIHIucHVzaC5hcHBseShyLHB0KCkoZS5nZXRDb21wb25lbnRzQXRQb3NpdGlvbih0LG4uY29tcG9uZW50KSkpLCEwfSkpLHJ9fSx7a2V5OlwieFwiLGdldDpmdW5jdGlvbigpe3JldHVybiAwfX0se2tleTpcInlcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhcz90aGlzLmNhbnZhcy53aWR0aDpTKCkodGhpcyxWdCl9LHNldDpmdW5jdGlvbih0KXt3KCkodGhpcyxWdCx0KSx0aGlzLmNhbnZhcy53aWR0aD10LHRoaXMuc2NlbmUmJnRoaXMuc2NlbmUucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXM/dGhpcy5jYW52YXMuaGVpZ2h0OlMoKSh0aGlzLFp0KX0sc2V0OmZ1bmN0aW9uKHQpe3coKSh0aGlzLFp0LHQpLHRoaXMuY2FudmFzLmhlaWdodD10LHRoaXMuc2NlbmUmJnRoaXMuc2NlbmUucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19XSksdH0oKSxxdD17ZWFzZUluQ3ViaWM6ZnVuY3Rpb24odCl7cmV0dXJuIHQqdCp0fSxlYXNlT3V0Qm91bmNlOmZ1bmN0aW9uKHQpe3ZhciBlPTcuNTYyNSxuPTIuNzU7cmV0dXJuIHQ8MS9uP2UqdCp0OnQ8Mi9uP2UqKHQtPTEuNS9uKSp0Ky43NTp0PDIuNS9uP2UqKHQtPTIuMjUvbikqdCsuOTM3NTplKih0LT0yLjYyNS9uKSp0Ky45ODQzNzV9LGVhc2VJbk91dEN1YmljOmZ1bmN0aW9uKHQpe3JldHVybiB0PC41PzQqdCp0KnQ6MS1NYXRoLnBvdygtMip0KzIsMykvMn0sZWFzZUluT3V0U2luZTpmdW5jdGlvbih0KXtyZXR1cm4tKE1hdGguY29zKE1hdGguUEkqdCktMSkvMn0sZWFzZUluT3V0UXVpbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/MTYqdCp0KnQqdCp0OjEtTWF0aC5wb3coLTIqdCsyLDUpLzJ9LGVhc2VJbk91dENpcmM6ZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/KDEtTWF0aC5zcXJ0KDEtTWF0aC5wb3coMip0LDIpKSkvMjooTWF0aC5zcXJ0KDEtTWF0aC5wb3coLTIqdCsyLDIpKSsxKS8yfSxlYXNlSW5PdXRRdWFkOmZ1bmN0aW9uKHQpe3JldHVybiB0PC41PzIqdCp0OjEtTWF0aC5wb3coLTIqdCsyLDIpLzJ9LGVhc2VJbk91dFF1YXJ0OmZ1bmN0aW9uKHQpe3JldHVybiB0PC41PzgqdCp0KnQqdDoxLU1hdGgucG93KC0yKnQrMiw0KS8yfSxlYXNlSW5PdXRFeHBvOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dD8wOjE9PT10PzE6dDwuNT9NYXRoLnBvdygyLDIwKnQtMTApLzI6KDItTWF0aC5wb3coMiwtMjAqdCsxMCkpLzJ9LGVhc2VJbk91dEJhY2s6ZnVuY3Rpb24odCl7dmFyIGU9Mi41OTQ5MDk1O3JldHVybiB0PC41P01hdGgucG93KDIqdCwyKSooNy4xODk4MTkqdC1lKS8yOihNYXRoLnBvdygyKnQtMiwyKSooKGUrMSkqKDIqdC0yKStlKSsyKS8yfX07ZnVuY3Rpb24gSnQodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIFF0PWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPUp0KG4pO2Z1bmN0aW9uIG4odCxpLHIscyxhKXt2YXIgYztyZXR1cm4gbygpKHRoaXMsbiksYz1lLmNhbGwodGhpcyx0LGksbnVsbCxudWxsLGEpLEUoKShsKCkoYyksXCJzZWxlY3RhYmxlXCIsITEpLGMudG9YPXIsYy50b1k9cyxjfXJldHVybiBhKCkobixbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5oaWRkZW4pe3UoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgZT10LmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7WS5kcmF3QXJyb3coZSx0aGlzLngsdGhpcy55LHRoaXMudG9YLHRoaXMudG9ZLHRoaXMuc3R5bGUubGluZVdpZHRoLHRoaXMuc3R5bGUuaGVhZFNpemUsdGhpcy5zdHlsZS5jb2xvcix0aGlzLnN0eWxlLmxpbmVDYXApLHRoaXMuaW5pdD0hMH19fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy54LXRoaXMudG9YKX19LHtrZXk6XCJoZWlnaHRcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy55LXRoaXMudG9ZKX19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFQoe2xpbmVXaWR0aDppLlNldHRpbmcuQVJST1dfREVGQVVMVF9MSU5FX1NJWkUsaGVhZFNpemU6aS5TZXR0aW5nLkFSUk9XX0RFRkFVTFRfSEVBRF9TSVpFLGNvbG9yOmkuU2V0dGluZy5BUlJPV19ERUZBVUxUX0NPTE9SLGxpbmVDYXA6aS5TZXR0aW5nLkFSUk9XX0RFRkFVTFRfTElORV9DQVB9KX19XSksbn0oTik7ZnVuY3Rpb24gJHQodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIHRlPWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPSR0KG4pO2Z1bmN0aW9uIG4odCxpLHIscyxhKXt2YXIgYztyZXR1cm4gbygpKHRoaXMsbiksYz1lLmNhbGwodGhpcyx0LGkscixzLGEpLEUoKShsKCkoYyksXCJzZWxlY3RhYmxlXCIsITEpLGN9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhpZGRlbil7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpO3ZhciBlPXQuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtZLmRyYXdUcmlhbmdsZShlLHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCx0aGlzLnN0eWxlLmxpbmVXaWR0aCx0aGlzLnN0eWxlLmNvbG9yLHRoaXMuc3R5bGUubGluZUNhcCx0aGlzLnN0eWxlLmZpbGwsdGhpcy5zdHlsZS5maWxsQ29sb3IpLHRoaXMuaW5pdD0hMH19fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpKGcoKShuLnByb3RvdHlwZSksXCJ3aWR0aFwiLHRoaXMpK3RoaXMuc3R5bGUubGluZVdpZHRofSxzZXQ6ZnVuY3Rpb24odCl7VSgpKGcoKShuLnByb3RvdHlwZSksXCJ3aWR0aFwiLHQsdGhpcywhMCl9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoKShnKCkobi5wcm90b3R5cGUpLFwiaGVpZ2h0XCIsdGhpcykrdGhpcy5zdHlsZS5saW5lV2lkdGh9LHNldDpmdW5jdGlvbih0KXtVKCkoZygpKG4ucHJvdG90eXBlKSxcImhlaWdodFwiLHQsdGhpcywhMCl9fSx7a2V5OlwiZGVmYXVsdFN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUKHtsaW5lV2lkdGg6aS5TZXR0aW5nLlRSSUFOR0xFX0RFRkFVTFRfTElORV9TSVpFLGNvbG9yOmkuU2V0dGluZy5UUklBTkdMRV9ERUZBVUxUX0NPTE9SLGZpbGw6aS5TZXR0aW5nLlRSSUFOR0xFX0RFRkFVTFRfRklMTCxsaW5lQ2FwOmkuU2V0dGluZy5UUklBTkdMRV9ERUZBVUxUX0xJTkVfQ0FQLGZpbGxDb2xvcjppLlNldHRpbmcuVFJJQU5HTEVfREVGQVVMVF9GSUxMX0NPTE9SfSl9fV0pLG59KE4pO2Z1bmN0aW9uIGVlKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLGk9ZygpKHQpO2lmKGUpe3ZhciByPWcoKSh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KGksYXJndW1lbnRzLHIpfWVsc2Ugbj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdigpKHRoaXMsbil9fXZhciBuZT1uZXcgV2Vha01hcCxpZT1mdW5jdGlvbih0KXtkKCkobix0KTt2YXIgZT1lZShuKTtmdW5jdGlvbiBuKHQscixzLGEsYyxoLHUpe3ZhciBmO3JldHVybiBvKCkodGhpcyxuKSxmPWUuY2FsbCh0aGlzLHQscixzLGEsYyksbmUuc2V0KGwoKShmKSx7d3JpdGFibGU6ITAsdmFsdWU6MH0pLGYub3B0aW9uQ29udGFpbmVyPWgsdSYmKGYuc2VsZWN0ZWRPcHRpb249dSksZi5sYWJlbD1uZXcgT3QoXCJcIix0LHIsYyksZi5sYWJlbC5zdHlsZS5zZXRBbGwoe2FsaWduZW1lbnQ6aS5BbGlnbmVtZW50LkxFRlQsdmVydGljYWxBbGlnbmVtZW50OmkuVmVydGljYWxBbGlnbmVtZW50LkNFTlRFUn0pLGYudHJpYW5nbGU9bmV3IHRlKG51bGwsbnVsbCw4LDgsYyksZi50cmlhbmdsZS5zdHlsZS5zZXRBbGwoe2FsaWduZW1lbnQ6aS5BbGlnbmVtZW50LlJJR0hULHZlcnRpY2FsQWxpZ25lbWVudDppLlZlcnRpY2FsQWxpZ25lbWVudC5DRU5URVJ9KSxmLmFkZEFsbChmLmxhYmVsLGYudHJpYW5nbGUpLGYuYWRkQ2xpY2tBY3Rpb24oKGZ1bmN0aW9uKCl7Zi5vcHRpb25Db250YWluZXImJihmLm9wdGlvbkNvbnRhaW5lci5oaWRkZW49ITEpfSkpLGkuU2V0dGluZy5ESVNBQkxFX0VYUEVSSU1FTlRBTF9PUFRJTUlaQVRJT05TfHwoZi51cGRhdGVXaWR0aCgpLGYuYWRkQ2hhbmdlQWN0aW9uKChmdW5jdGlvbigpe3JldHVybiBmLnVwZGF0ZVdpZHRoKCl9KSkpLGZ9cmV0dXJuIGEoKShuLFt7a2V5OlwiZHJhd1wiLHZhbHVlOmZ1bmN0aW9uKHQpe3RoaXMuaGlkZGVufHwodGhpcy5zZWxlY3RlZE9wdGlvbiYmdGhpcy5zZWxlY3RlZE9wdGlvbi5sYWJlbCYmKHRoaXMubGFiZWwudGV4dD10aGlzLnNlbGVjdGVkT3B0aW9uLmxhYmVsLnRleHQpLHUoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyx0KSx0aGlzLm9wdGlvbkNvbnRhaW5lciYmKHRoaXMub3B0aW9uQ29udGFpbmVyLnNlbGVjdD10aGlzKSl9fSx7a2V5OlwidXBkYXRlV2lkdGhcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMubGFiZWwud2lkdGg7dGhpcy5vcHRpb25Db250YWluZXImJnRoaXMub3B0aW9uQ29udGFpbmVyLmNvbXBvbmVudHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5sYWJlbDtuJiYobi51cGRhdGVTaXplcyYmbi51cGRhdGVTaXplcygpLG4ud2lkdGg+dCYmKHQ9bi53aWR0aCkpfSkpLHcoKSh0aGlzLG5lLHQrdGhpcy5zdHlsZS5wYWRkaW5nK3RoaXMudHJpYW5nbGUud2lkdGgrMTUpfX0se2tleTpcInNlbGVjdGVkT3B0aW9uXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9uQ29udGFpbmVyP3RoaXMub3B0aW9uQ29udGFpbmVyLmNvbXBvbmVudHNbdGhpcy5vcHRpb25Db250YWluZXIuc2VsZWN0ZWRPcHRpb25dOm51bGx9LHNldDpmdW5jdGlvbih0KXt0aGlzLm9wdGlvbkNvbnRhaW5lci5zZWxlY3RlZE9wdGlvbj10LHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJ0ZXh0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRPcHRpb24mJnRoaXMuc2VsZWN0ZWRPcHRpb24ubGFiZWw/dGhpcy5zZWxlY3RlZE9wdGlvbi5sYWJlbC50ZXh0Om51bGx9fSx7a2V5Olwid2lkdGhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5TZXR0aW5nLkRJU0FCTEVfRVhQRVJJTUVOVEFMX09QVElNSVpBVElPTlMmJnRoaXMudXBkYXRlV2lkdGgoKSxTKCkodGhpcyxuZSl9fSx7a2V5OlwiYWxsQ29tcG9uZW50c1wiLGdldDpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiB0LnB1c2guYXBwbHkodCxwdCgpKHUoKShnKCkobi5wcm90b3R5cGUpLFwiYWxsQ29tcG9uZW50c1wiLHRoaXMpKSksdH19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFQoe2JhY2tncm91bmRDb2xvcjppLlNldHRpbmcuU0VMRUNUX0RFRkFVTFRfQkFDS0dST1VORCxiYWNrZ3JvdW5kQ29sb3JIb3ZlcjppLlNldHRpbmcuU0VMRUNUX0RFRkFVTFRfSE9WRVJfQkFDS0dST1VORCxiYWNrZ3JvdW5kQ29sb3JEb3duOmkuU2V0dGluZy5TRUxFQ1RfREVGQVVMVF9DTElDS19CQUNLR1JPVU5ELHBhZGRpbmc6aS5TZXR0aW5nLkRFRkFVTFRfUEFERElOR30pfX1dKSxufShvdCk7ZnVuY3Rpb24gcmUodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIG9lPWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPXJlKG4pO2Z1bmN0aW9uIG4odCxpKXt2YXIgcjtvKCkodGhpcyxuKTt2YXIgcz1uZXcgT3QoXCJPcHRpb25cIik7cmV0dXJuKHI9ZS5jYWxsKHRoaXMsbnVsbCxudWxsLG51bGwsbnVsbCxpLHR8fHMpKS5sYWJlbD10fHxzLHJ9cmV0dXJuIGEoKShuLFt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIE90JiYodGhpcy5jbGVhcigpLHUoKShnKCkobi5wcm90b3R5cGUpLFwiYWRkXCIsdGhpcykuY2FsbCh0aGlzLHQpKX19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQud2lkdGh9fSx7a2V5OlwiZGVmYXVsdFN0eWxlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUKHtiYWNrZ3JvdW5kQ29sb3I6aS5TZXR0aW5nLlNFTEVDVF9ERUZBVUxUX0JBQ0tHUk9VTkQsYmFja2dyb3VuZENvbG9ySG92ZXI6aS5TZXR0aW5nLlNFTEVDVF9ERUZBVUxUX0hPVkVSX0JBQ0tHUk9VTkQsYmFja2dyb3VuZENvbG9yRG93bjppLlNldHRpbmcuU0VMRUNUX0RFRkFVTFRfQ0xJQ0tfQkFDS0dST1VORCxwYWRkaW5nOmkuU2V0dGluZy5ERUZBVUxUX1BBRERJTkd9KX19XSksbn0ob3QpO2Z1bmN0aW9uIHNlKHQpe3ZhciBlPWZ1bmN0aW9uKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiEwO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLChmdW5jdGlvbigpe30pKSksITB9Y2F0Y2godCl7cmV0dXJuITF9fSgpO3JldHVybiBmdW5jdGlvbigpe3ZhciBuLGk9ZygpKHQpO2lmKGUpe3ZhciByPWcoKSh0aGlzKS5jb25zdHJ1Y3RvcjtuPVJlZmxlY3QuY29uc3RydWN0KGksYXJndW1lbnRzLHIpfWVsc2Ugbj1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdigpKHRoaXMsbil9fXZhciBhZT1uZXcgV2Vha01hcCxjZT1mdW5jdGlvbih0KXtkKCkobix0KTt2YXIgZT1zZShuKTtmdW5jdGlvbiBuKHQsaSl7dmFyIHI7bygpKHRoaXMsbik7Zm9yKHZhciBzPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkocz4yP3MtMjowKSxjPTI7YzxzO2MrKylhW2MtMl09YXJndW1lbnRzW2NdO3JldHVybiByPWUuY2FsbC5hcHBseShlLFt0aGlzLG51bGwsbnVsbCxudWxsLHQsaV0uY29uY2F0KGEpKSxhZS5zZXQobCgpKHIpLHt3cml0YWJsZTohMCx2YWx1ZTp2b2lkIDB9KSx3KCkobCgpKHIpLGFlLDApLHIuc2VsZWN0PW51bGwscn1yZXR1cm4gYSgpKG4sW3trZXk6XCJkcmF3XCIsdmFsdWU6ZnVuY3Rpb24odCl7dSgpKGcoKShuLnByb3RvdHlwZSksXCJkcmF3XCIsdGhpcykuY2FsbCh0aGlzLHQpLHRoaXMuc2VsZWN0ZWQmJnRoaXMuc2VsZWN0ZWQmJih0aGlzLnNlbGVjdC5zZWxlY3RlZD0hMCl9fSx7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt1KCkoZygpKG4ucHJvdG90eXBlKSxcImFkZFwiLHRoaXMpLmNhbGwodGhpcyx0KSx0LmFkZENsaWNrQWN0aW9uKChmdW5jdGlvbigpe3coKShlLGFlLGUuZ2V0Q29tcG9uZW50SWQodCkpLGUuc2VsZWN0ZWQ9ITEsZS5oaWRkZW49ITAsZS5zZWxlY3QmJihlLnNlbGVjdC5zZWxlY3RlZD0hMSl9KSl9fSx7a2V5OlwieFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdCYmdGhpcy5zZWxlY3QueH19LHtrZXk6XCJ5XCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZWxlY3QmJnRoaXMuc2VsZWN0LmhlaWdodCxlPXRoaXMuaGVpZ2h0LG49dGhpcy5zZWxlY3QmJnRoaXMuc2VsZWN0Lnk7cmV0dXJuIHRoaXMuY2FudmFzJiZ0aGlzLmNhbnZhcy5zY2VuZSYmbit0K2U+PXRoaXMuY2FudmFzLnNjZW5lLmhlaWdodD9uLWU6bit0fX0se2tleTpcIndpZHRoXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0JiZ0aGlzLnNlbGVjdC53aWR0aH19LHtrZXk6XCJzZWxlY3RlZE9wdGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMuY29tcG9uZW50cy5sZW5ndGgtMSxTKCkodGhpcyxhZSkpKX0sc2V0OmZ1bmN0aW9uKHQpe3coKSh0aGlzLGFlLHQpLHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25DaGFuZ2VcIix0aGlzKX19LHtrZXk6XCJkZWZhdWx0U3R5bGVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFQoe3BhZGRpbmc6MCxzcGFjZUJldHdlZW5Db21wb25lbnRzOjAsYmFja2dyb3VuZENvbG9yOmkuU2V0dGluZy5TRUxFQ1RfREVGQVVMVF9CQUNLR1JPVU5ELGJhY2tncm91bmRDb2xvckhvdmVyOm51bGwsYmFja2dyb3VuZENvbG9yRG93bjpudWxsLHNjcm9sbFhEaXNhYmxlZDohMSxzY3JvbGxZRGlzYWJsZWQ6ITF9KX19LHtrZXk6XCJoaWRkZW5cIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdSgpKGcoKShuLnByb3RvdHlwZSksXCJoaWRkZW5cIix0aGlzKXx8dGhpcy5zZWxlY3QmJiF0aGlzLnNlbGVjdC5zZWxlY3RlZHx8IXRoaXMuc2VsZWN0fSxzZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIFUoKShnKCkobi5wcm90b3R5cGUpLFwiaGlkZGVuXCIsdCx0aGlzLCEwKX19LHtrZXk6XCJzZWxlY3RlZFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcInNlbGVjdGVkXCIsdGhpcyl8fHRoaXMuc2VsZWN0JiZ0aGlzLnNlbGVjdC5zZWxlY3RlZH0sc2V0OmZ1bmN0aW9uKHQpe1UoKShnKCkobi5wcm90b3R5cGUpLFwic2VsZWN0ZWRcIix0LHRoaXMsITApfX1dKSxufShtdCk7ZnVuY3Rpb24gbGUodCl7dmFyIGU9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUmVmbGVjdHx8IVJlZmxlY3QuY29uc3RydWN0KXJldHVybiExO2lmKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgUHJveHkpcmV0dXJuITA7dHJ5e3JldHVybiBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsW10sKGZ1bmN0aW9uKCl7fSkpKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saT1nKCkodCk7aWYoZSl7dmFyIHI9ZygpKHRoaXMpLmNvbnN0cnVjdG9yO249UmVmbGVjdC5jb25zdHJ1Y3QoaSxhcmd1bWVudHMscil9ZWxzZSBuPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB2KCkodGhpcyxuKX19dmFyIGhlPWZ1bmN0aW9uKHQpe2QoKShuLHQpO3ZhciBlPWxlKG4pO2Z1bmN0aW9uIG4odCxpLHIscyl7dmFyIGE7cmV0dXJuIG8oKSh0aGlzLG4pLGE9ZS5jYWxsKHRoaXMsdCxpLHIscixzKSxFKCkobCgpKGEpLFwic2VsZWN0YWJsZVwiLCExKSxhfXJldHVybiBhKCkobixbe2tleTpcImRyYXdcIix2YWx1ZTpmdW5jdGlvbih0KXtpZighdGhpcy5oaWRkZW4pe3UoKShnKCkobi5wcm90b3R5cGUpLFwiZHJhd1wiLHRoaXMpLmNhbGwodGhpcyx0KTt2YXIgZT10LmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7WS5kcmF3Q2lyY2xlKGUsdGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuc3R5bGUubGluZVdpZHRoLHRoaXMuc3R5bGUuY29sb3IsdGhpcy5zdHlsZS5saW5lQ2FwLHRoaXMuc3R5bGUuZmlsbCx0aGlzLnN0eWxlLmZpbGxDb2xvciksdGhpcy5pbml0PSEwfX19LHtrZXk6XCJ3aWR0aFwiLGdldDpmdW5jdGlvbigpe3JldHVybiB1KCkoZygpKG4ucHJvdG90eXBlKSxcIndpZHRoXCIsdGhpcykrdGhpcy5zdHlsZS5saW5lV2lkdGh9LHNldDpmdW5jdGlvbih0KXtVKCkoZygpKG4ucHJvdG90eXBlKSxcIndpZHRoXCIsdCx0aGlzLCEwKSx0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ2hhbmdlXCIsdGhpcyl9fSx7a2V5OlwiaGVpZ2h0XCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUoKShnKCkobi5wcm90b3R5cGUpLFwiaGVpZ2h0XCIsdGhpcykrdGhpcy5zdHlsZS5saW5lV2lkdGh9LHNldDpmdW5jdGlvbih0KXtVKCkoZygpKG4ucHJvdG90eXBlKSxcImhlaWdodFwiLHQsdGhpcywhMCksdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNoYW5nZVwiLHRoaXMpfX0se2tleTpcImRlZmF1bHRTdHlsZVwiLGdldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVCh7bGluZVdpZHRoOmkuU2V0dGluZy5DSVJDTEVfREVGQVVMVF9MSU5FX1NJWkUsY29sb3I6aS5TZXR0aW5nLkNJUkNMRV9ERUZBVUxUX0NPTE9SLGZpbGw6aS5TZXR0aW5nLkNJUkNMRV9ERUZBVUxUX0ZJTEwsbGluZUNhcDppLlNldHRpbmcuQ0lSQ0xFX0RFRkFVTFRfTElORV9DQVAsZmlsbENvbG9yOmkuU2V0dGluZy5DSVJDTEVfREVGQVVMVF9GSUxMX0NPTE9SfSl9fV0pLG59KE4pfV0pfSkpOyIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigoPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIGlmIChtcyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtcyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICByZXR1cm4gcGx1cmFsKG1zLCBkLCAnZGF5JykgfHxcbiAgICBwbHVyYWwobXMsIGgsICdob3VyJykgfHxcbiAgICBwbHVyYWwobXMsIG0sICdtaW51dGUnKSB8fFxuICAgIHBsdXJhbChtcywgcywgJ3NlY29uZCcpIHx8XG4gICAgbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG4sIG5hbWUpIHtcbiAgaWYgKG1zIDwgbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobXMgPCBuICogMS41KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobXMgLyBuKSArICcgJyArIG5hbWU7XG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJztcbn1cbiIsIi8qKlxuICogQ29tcGlsZXMgYSBxdWVyeXN0cmluZ1xuICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciBzdHIgPSAnJztcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgIGlmIChzdHIubGVuZ3RoKSBzdHIgKz0gJyYnO1xuICAgICAgc3RyICs9IGVuY29kZVVSSUNvbXBvbmVudChpKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzdHI7XG59O1xuXG4vKipcbiAqIFBhcnNlcyBhIHNpbXBsZSBxdWVyeXN0cmluZyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBxc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5kZWNvZGUgPSBmdW5jdGlvbihxcyl7XG4gIHZhciBxcnkgPSB7fTtcbiAgdmFyIHBhaXJzID0gcXMuc3BsaXQoJyYnKTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYWlycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgcXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gIH1cbiAgcmV0dXJuIHFyeTtcbn07XG4iLCIvKipcbiAqIFBhcnNlcyBhbiBVUklcbiAqXG4gKiBAYXV0aG9yIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPiAoTUlUIGxpY2Vuc2UpXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG52YXIgcmUgPSAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcblxudmFyIHBhcnRzID0gW1xuICAgICdzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ1xuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZXVyaShzdHIpIHtcbiAgICB2YXIgc3JjID0gc3RyLFxuICAgICAgICBiID0gc3RyLmluZGV4T2YoJ1snKSxcbiAgICAgICAgZSA9IHN0ci5pbmRleE9mKCddJyk7XG5cbiAgICBpZiAoYiAhPSAtMSAmJiBlICE9IC0xKSB7XG4gICAgICAgIHN0ciA9IHN0ci5zdWJzdHJpbmcoMCwgYikgKyBzdHIuc3Vic3RyaW5nKGIsIGUpLnJlcGxhY2UoLzovZywgJzsnKSArIHN0ci5zdWJzdHJpbmcoZSwgc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgdmFyIG0gPSByZS5leGVjKHN0ciB8fCAnJyksXG4gICAgICAgIHVyaSA9IHt9LFxuICAgICAgICBpID0gMTQ7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHVyaVtwYXJ0c1tpXV0gPSBtW2ldIHx8ICcnO1xuICAgIH1cblxuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgdXJpLnNvdXJjZSA9IHNyYztcbiAgICAgICAgdXJpLmhvc3QgPSB1cmkuaG9zdC5zdWJzdHJpbmcoMSwgdXJpLmhvc3QubGVuZ3RoIC0gMSkucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuYXV0aG9yaXR5ID0gdXJpLmF1dGhvcml0eS5yZXBsYWNlKCdbJywgJycpLnJlcGxhY2UoJ10nLCAnJykucmVwbGFjZSgvOy9nLCAnOicpO1xuICAgICAgICB1cmkuaXB2NnVyaSA9IHRydWU7XG4gICAgfVxuXG4gICAgdXJpLnBhdGhOYW1lcyA9IHBhdGhOYW1lcyh1cmksIHVyaVsncGF0aCddKTtcbiAgICB1cmkucXVlcnlLZXkgPSBxdWVyeUtleSh1cmksIHVyaVsncXVlcnknXSk7XG5cbiAgICByZXR1cm4gdXJpO1xufTtcblxuZnVuY3Rpb24gcGF0aE5hbWVzKG9iaiwgcGF0aCkge1xuICAgIHZhciByZWd4ID0gL1xcL3syLDl9L2csXG4gICAgICAgIG5hbWVzID0gcGF0aC5yZXBsYWNlKHJlZ3gsIFwiL1wiKS5zcGxpdChcIi9cIik7XG5cbiAgICBpZiAocGF0aC5zdWJzdHIoMCwgMSkgPT0gJy8nIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5hbWVzLnNwbGljZSgwLCAxKTtcbiAgICB9XG4gICAgaWYgKHBhdGguc3Vic3RyKHBhdGgubGVuZ3RoIC0gMSwgMSkgPT0gJy8nKSB7XG4gICAgICAgIG5hbWVzLnNwbGljZShuYW1lcy5sZW5ndGggLSAxLCAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmFtZXM7XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5S2V5KHVyaSwgcXVlcnkpIHtcbiAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgcXVlcnkucmVwbGFjZSgvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2csIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgICAgIGlmICgkMSkge1xuICAgICAgICAgICAgZGF0YVskMV0gPSAkMjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRhdGE7XG59XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLy8gQSBsaWJyYXJ5IG9mIHNlZWRhYmxlIFJOR3MgaW1wbGVtZW50ZWQgaW4gSmF2YXNjcmlwdC5cbi8vXG4vLyBVc2FnZTpcbi8vXG4vLyB2YXIgc2VlZHJhbmRvbSA9IHJlcXVpcmUoJ3NlZWRyYW5kb20nKTtcbi8vIHZhciByYW5kb20gPSBzZWVkcmFuZG9tKDEpOyAvLyBvciBhbnkgc2VlZC5cbi8vIHZhciB4ID0gcmFuZG9tKCk7ICAgICAgIC8vIDAgPD0geCA8IDEuICBFdmVyeSBiaXQgaXMgcmFuZG9tLlxuLy8gdmFyIHggPSByYW5kb20ucXVpY2soKTsgLy8gMCA8PSB4IDwgMS4gIDMyIGJpdHMgb2YgcmFuZG9tbmVzcy5cblxuLy8gYWxlYSwgYSA1My1iaXQgbXVsdGlwbHktd2l0aC1jYXJyeSBnZW5lcmF0b3IgYnkgSm9oYW5uZXMgQmFhZ8O4ZS5cbi8vIFBlcmlvZDogfjJeMTE2XG4vLyBSZXBvcnRlZCB0byBwYXNzIGFsbCBCaWdDcnVzaCB0ZXN0cy5cbnZhciBhbGVhID0gcmVxdWlyZSgnLi9saWIvYWxlYScpO1xuXG4vLyB4b3IxMjgsIGEgcHVyZSB4b3Itc2hpZnQgZ2VuZXJhdG9yIGJ5IEdlb3JnZSBNYXJzYWdsaWEuXG4vLyBQZXJpb2Q6IDJeMTI4LTEuXG4vLyBSZXBvcnRlZCB0byBmYWlsOiBNYXRyaXhSYW5rIGFuZCBMaW5lYXJDb21wLlxudmFyIHhvcjEyOCA9IHJlcXVpcmUoJy4vbGliL3hvcjEyOCcpO1xuXG4vLyB4b3J3b3csIEdlb3JnZSBNYXJzYWdsaWEncyAxNjAtYml0IHhvci1zaGlmdCBjb21iaW5lZCBwbHVzIHdleWwuXG4vLyBQZXJpb2Q6IDJeMTkyLTJeMzJcbi8vIFJlcG9ydGVkIHRvIGZhaWw6IENvbGxpc2lvbk92ZXIsIFNpbXBQb2tlciwgYW5kIExpbmVhckNvbXAuXG52YXIgeG9yd293ID0gcmVxdWlyZSgnLi9saWIveG9yd293Jyk7XG5cbi8vIHhvcnNoaWZ0NywgYnkgRnJhbsOnb2lzIFBhbm5ldG9uIGFuZCBQaWVycmUgTCdlY3V5ZXIsIHRha2VzXG4vLyBhIGRpZmZlcmVudCBhcHByb2FjaDogaXQgYWRkcyByb2J1c3RuZXNzIGJ5IGFsbG93aW5nIG1vcmUgc2hpZnRzXG4vLyB0aGFuIE1hcnNhZ2xpYSdzIG9yaWdpbmFsIHRocmVlLiAgSXQgaXMgYSA3LXNoaWZ0IGdlbmVyYXRvclxuLy8gd2l0aCAyNTYgYml0cywgdGhhdCBwYXNzZXMgQmlnQ3J1c2ggd2l0aCBubyBzeXN0bWF0aWMgZmFpbHVyZXMuXG4vLyBQZXJpb2QgMl4yNTYtMS5cbi8vIE5vIHN5c3RlbWF0aWMgQmlnQ3J1c2ggZmFpbHVyZXMgcmVwb3J0ZWQuXG52YXIgeG9yc2hpZnQ3ID0gcmVxdWlyZSgnLi9saWIveG9yc2hpZnQ3Jyk7XG5cbi8vIHhvcjQwOTYsIGJ5IFJpY2hhcmQgQnJlbnQsIGlzIGEgNDA5Ni1iaXQgeG9yLXNoaWZ0IHdpdGggYVxuLy8gdmVyeSBsb25nIHBlcmlvZCB0aGF0IGFsc28gYWRkcyBhIFdleWwgZ2VuZXJhdG9yLiBJdCBhbHNvIHBhc3Nlc1xuLy8gQmlnQ3J1c2ggd2l0aCBubyBzeXN0ZW1hdGljIGZhaWx1cmVzLiAgSXRzIGxvbmcgcGVyaW9kIG1heVxuLy8gYmUgdXNlZnVsIGlmIHlvdSBoYXZlIG1hbnkgZ2VuZXJhdG9ycyBhbmQgbmVlZCB0byBhdm9pZFxuLy8gY29sbGlzaW9ucy5cbi8vIFBlcmlvZDogMl40MTI4LTJeMzIuXG4vLyBObyBzeXN0ZW1hdGljIEJpZ0NydXNoIGZhaWx1cmVzIHJlcG9ydGVkLlxudmFyIHhvcjQwOTYgPSByZXF1aXJlKCcuL2xpYi94b3I0MDk2Jyk7XG5cbi8vIFR5Y2hlLWksIGJ5IFNhbXVlbCBOZXZlcyBhbmQgRmlsaXBlIEFyYXVqbywgaXMgYSBiaXQtc2hpZnRpbmcgcmFuZG9tXG4vLyBudW1iZXIgZ2VuZXJhdG9yIGRlcml2ZWQgZnJvbSBDaGFDaGEsIGEgbW9kZXJuIHN0cmVhbSBjaXBoZXIuXG4vLyBodHRwczovL2VkZW4uZGVpLnVjLnB0L35zbmV2ZXMvcHVicy8yMDExLXNuZmEyLnBkZlxuLy8gUGVyaW9kOiB+Ml4xMjdcbi8vIE5vIHN5c3RlbWF0aWMgQmlnQ3J1c2ggZmFpbHVyZXMgcmVwb3J0ZWQuXG52YXIgdHljaGVpID0gcmVxdWlyZSgnLi9saWIvdHljaGVpJyk7XG5cbi8vIFRoZSBvcmlnaW5hbCBBUkM0LWJhc2VkIHBybmcgaW5jbHVkZWQgaW4gdGhpcyBsaWJyYXJ5LlxuLy8gUGVyaW9kOiB+Ml4xNjAwXG52YXIgc3IgPSByZXF1aXJlKCcuL3NlZWRyYW5kb20nKTtcblxuc3IuYWxlYSA9IGFsZWE7XG5zci54b3IxMjggPSB4b3IxMjg7XG5zci54b3J3b3cgPSB4b3J3b3c7XG5zci54b3JzaGlmdDcgPSB4b3JzaGlmdDc7XG5zci54b3I0MDk2ID0geG9yNDA5NjtcbnNyLnR5Y2hlaSA9IHR5Y2hlaTtcblxubW9kdWxlLmV4cG9ydHMgPSBzcjtcbiIsIi8vIEEgcG9ydCBvZiBhbiBhbGdvcml0aG0gYnkgSm9oYW5uZXMgQmFhZ8O4ZSA8YmFhZ29lQGJhYWdvZS5jb20+LCAyMDEwXG4vLyBodHRwOi8vYmFhZ29lLmNvbS9lbi9SYW5kb21NdXNpbmdzL2phdmFzY3JpcHQvXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbnF1aW5sYW4vYmV0dGVyLXJhbmRvbS1udW1iZXJzLWZvci1qYXZhc2NyaXB0LW1pcnJvclxuLy8gT3JpZ2luYWwgd29yayBpcyB1bmRlciBNSVQgbGljZW5zZSAtXG5cbi8vIENvcHlyaWdodCAoQykgMjAxMCBieSBKb2hhbm5lcyBCYWFnw7hlIDxiYWFnb2VAYmFhZ29lLm9yZz5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4vLyBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4vLyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4vLyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4vLyBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbi8vIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1Jcbi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuLy8gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4vLyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4vLyBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuLy8gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuLy8gVEhFIFNPRlRXQVJFLlxuXG5cblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gQWxlYShzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXMsIG1hc2ggPSBNYXNoKCk7XG5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gMjA5MTYzOSAqIG1lLnMwICsgbWUuYyAqIDIuMzI4MzA2NDM2NTM4Njk2M2UtMTA7IC8vIDJeLTMyXG4gICAgbWUuczAgPSBtZS5zMTtcbiAgICBtZS5zMSA9IG1lLnMyO1xuICAgIHJldHVybiBtZS5zMiA9IHQgLSAobWUuYyA9IHQgfCAwKTtcbiAgfTtcblxuICAvLyBBcHBseSB0aGUgc2VlZGluZyBhbGdvcml0aG0gZnJvbSBCYWFnb2UuXG4gIG1lLmMgPSAxO1xuICBtZS5zMCA9IG1hc2goJyAnKTtcbiAgbWUuczEgPSBtYXNoKCcgJyk7XG4gIG1lLnMyID0gbWFzaCgnICcpO1xuICBtZS5zMCAtPSBtYXNoKHNlZWQpO1xuICBpZiAobWUuczAgPCAwKSB7IG1lLnMwICs9IDE7IH1cbiAgbWUuczEgLT0gbWFzaChzZWVkKTtcbiAgaWYgKG1lLnMxIDwgMCkgeyBtZS5zMSArPSAxOyB9XG4gIG1lLnMyIC09IG1hc2goc2VlZCk7XG4gIGlmIChtZS5zMiA8IDApIHsgbWUuczIgKz0gMTsgfVxuICBtYXNoID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQuYyA9IGYuYztcbiAgdC5zMCA9IGYuczA7XG4gIHQuczEgPSBmLnMxO1xuICB0LnMyID0gZi5zMjtcbiAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICB2YXIgeGcgPSBuZXcgQWxlYShzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IHhnLm5leHQ7XG4gIHBybmcuaW50MzIgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgKiAweDEwMDAwMDAwMCkgfCAwOyB9XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHBybmcoKSArIChwcm5nKCkgKiAweDIwMDAwMCB8IDApICogMS4xMTAyMjMwMjQ2MjUxNTY1ZS0xNjsgLy8gMl4tNTNcbiAgfTtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmICh0eXBlb2Yoc3RhdGUpID09ICdvYmplY3QnKSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmZ1bmN0aW9uIE1hc2goKSB7XG4gIHZhciBuID0gMHhlZmM4MjQ5ZDtcblxuICB2YXIgbWFzaCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBkYXRhID0gU3RyaW5nKGRhdGEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgbiArPSBkYXRhLmNoYXJDb2RlQXQoaSk7XG4gICAgICB2YXIgaCA9IDAuMDI1MTk2MDMyODI0MTY5MzggKiBuO1xuICAgICAgbiA9IGggPj4+IDA7XG4gICAgICBoIC09IG47XG4gICAgICBoICo9IG47XG4gICAgICBuID0gaCA+Pj4gMDtcbiAgICAgIGggLT0gbjtcbiAgICAgIG4gKz0gaCAqIDB4MTAwMDAwMDAwOyAvLyAyXjMyXG4gICAgfVxuICAgIHJldHVybiAobiA+Pj4gMCkgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxuICB9O1xuXG4gIHJldHVybiBtYXNoO1xufVxuXG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMuYWxlYSA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgdGhlIFwiVHljaGUtaVwiIHBybmcgYWxnb3JpdGhtIGJ5XG4vLyBTYW11ZWwgTmV2ZXMgYW5kIEZpbGlwZSBBcmF1am8uXG4vLyBTZWUgaHR0cHM6Ly9lZGVuLmRlaS51Yy5wdC9+c25ldmVzL3B1YnMvMjAxMS1zbmZhMi5wZGZcblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gWG9yR2VuKHNlZWQpIHtcbiAgdmFyIG1lID0gdGhpcywgc3Ryc2VlZCA9ICcnO1xuXG4gIC8vIFNldCB1cCBnZW5lcmF0b3IgZnVuY3Rpb24uXG4gIG1lLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYiA9IG1lLmIsIGMgPSBtZS5jLCBkID0gbWUuZCwgYSA9IG1lLmE7XG4gICAgYiA9IChiIDw8IDI1KSBeIChiID4+PiA3KSBeIGM7XG4gICAgYyA9IChjIC0gZCkgfCAwO1xuICAgIGQgPSAoZCA8PCAyNCkgXiAoZCA+Pj4gOCkgXiBhO1xuICAgIGEgPSAoYSAtIGIpIHwgMDtcbiAgICBtZS5iID0gYiA9IChiIDw8IDIwKSBeIChiID4+PiAxMikgXiBjO1xuICAgIG1lLmMgPSBjID0gKGMgLSBkKSB8IDA7XG4gICAgbWUuZCA9IChkIDw8IDE2KSBeIChjID4+PiAxNikgXiBhO1xuICAgIHJldHVybiBtZS5hID0gKGEgLSBiKSB8IDA7XG4gIH07XG5cbiAgLyogVGhlIGZvbGxvd2luZyBpcyBub24taW52ZXJ0ZWQgdHljaGUsIHdoaWNoIGhhcyBiZXR0ZXIgaW50ZXJuYWxcbiAgICogYml0IGRpZmZ1c2lvbiwgYnV0IHdoaWNoIGlzIGFib3V0IDI1JSBzbG93ZXIgdGhhbiB0eWNoZS1pIGluIEpTLlxuICBtZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGEgPSBtZS5hLCBiID0gbWUuYiwgYyA9IG1lLmMsIGQgPSBtZS5kO1xuICAgIGEgPSAobWUuYSArIG1lLmIgfCAwKSA+Pj4gMDtcbiAgICBkID0gbWUuZCBeIGE7IGQgPSBkIDw8IDE2IF4gZCA+Pj4gMTY7XG4gICAgYyA9IG1lLmMgKyBkIHwgMDtcbiAgICBiID0gbWUuYiBeIGM7IGIgPSBiIDw8IDEyIF4gZCA+Pj4gMjA7XG4gICAgbWUuYSA9IGEgPSBhICsgYiB8IDA7XG4gICAgZCA9IGQgXiBhOyBtZS5kID0gZCA9IGQgPDwgOCBeIGQgPj4+IDI0O1xuICAgIG1lLmMgPSBjID0gYyArIGQgfCAwO1xuICAgIGIgPSBiIF4gYztcbiAgICByZXR1cm4gbWUuYiA9IChiIDw8IDcgXiBiID4+PiAyNSk7XG4gIH1cbiAgKi9cblxuICBtZS5hID0gMDtcbiAgbWUuYiA9IDA7XG4gIG1lLmMgPSAyNjU0NDM1NzY5IHwgMDtcbiAgbWUuZCA9IDEzNjcxMzA1NTE7XG5cbiAgaWYgKHNlZWQgPT09IE1hdGguZmxvb3Ioc2VlZCkpIHtcbiAgICAvLyBJbnRlZ2VyIHNlZWQuXG4gICAgbWUuYSA9IChzZWVkIC8gMHgxMDAwMDAwMDApIHwgMDtcbiAgICBtZS5iID0gc2VlZCB8IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gU3RyaW5nIHNlZWQuXG4gICAgc3Ryc2VlZCArPSBzZWVkO1xuICB9XG5cbiAgLy8gTWl4IGluIHN0cmluZyBzZWVkLCB0aGVuIGRpc2NhcmQgYW4gaW5pdGlhbCBiYXRjaCBvZiA2NCB2YWx1ZXMuXG4gIGZvciAodmFyIGsgPSAwOyBrIDwgc3Ryc2VlZC5sZW5ndGggKyAyMDsgaysrKSB7XG4gICAgbWUuYiBePSBzdHJzZWVkLmNoYXJDb2RlQXQoaykgfCAwO1xuICAgIG1lLm5leHQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5KGYsIHQpIHtcbiAgdC5hID0gZi5hO1xuICB0LmIgPSBmLmI7XG4gIHQuYyA9IGYuYztcbiAgdC5kID0gZi5kO1xuICByZXR1cm4gdDtcbn07XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICB2YXIgeGcgPSBuZXcgWG9yR2VuKHNlZWQpLFxuICAgICAgc3RhdGUgPSBvcHRzICYmIG9wdHMuc3RhdGUsXG4gICAgICBwcm5nID0gZnVuY3Rpb24oKSB7IHJldHVybiAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwOyB9O1xuICBwcm5nLmRvdWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGRvIHtcbiAgICAgIHZhciB0b3AgPSB4Zy5uZXh0KCkgPj4+IDExLFxuICAgICAgICAgIGJvdCA9ICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDAsXG4gICAgICAgICAgcmVzdWx0ID0gKHRvcCArIGJvdCkgLyAoMSA8PCAyMSk7XG4gICAgfSB3aGlsZSAocmVzdWx0ID09PSAwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBwcm5nLmludDMyID0geGcubmV4dDtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmICh0eXBlb2Yoc3RhdGUpID09ICdvYmplY3QnKSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMudHljaGVpID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcblxuXG4iLCIvLyBBIEphdmFzY3JpcHQgaW1wbGVtZW50YWlvbiBvZiB0aGUgXCJ4b3IxMjhcIiBwcm5nIGFsZ29yaXRobSBieVxuLy8gR2VvcmdlIE1hcnNhZ2xpYS4gIFNlZSBodHRwOi8vd3d3LmpzdGF0c29mdC5vcmcvdjA4L2kxNC9wYXBlclxuXG4oZnVuY3Rpb24oZ2xvYmFsLCBtb2R1bGUsIGRlZmluZSkge1xuXG5mdW5jdGlvbiBYb3JHZW4oc2VlZCkge1xuICB2YXIgbWUgPSB0aGlzLCBzdHJzZWVkID0gJyc7XG5cbiAgbWUueCA9IDA7XG4gIG1lLnkgPSAwO1xuICBtZS56ID0gMDtcbiAgbWUudyA9IDA7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gbWUueCBeIChtZS54IDw8IDExKTtcbiAgICBtZS54ID0gbWUueTtcbiAgICBtZS55ID0gbWUuejtcbiAgICBtZS56ID0gbWUudztcbiAgICByZXR1cm4gbWUudyBePSAobWUudyA+Pj4gMTkpIF4gdCBeICh0ID4+PiA4KTtcbiAgfTtcblxuICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgIC8vIEludGVnZXIgc2VlZC5cbiAgICBtZS54ID0gc2VlZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBTdHJpbmcgc2VlZC5cbiAgICBzdHJzZWVkICs9IHNlZWQ7XG4gIH1cblxuICAvLyBNaXggaW4gc3RyaW5nIHNlZWQsIHRoZW4gZGlzY2FyZCBhbiBpbml0aWFsIGJhdGNoIG9mIDY0IHZhbHVlcy5cbiAgZm9yICh2YXIgayA9IDA7IGsgPCBzdHJzZWVkLmxlbmd0aCArIDY0OyBrKyspIHtcbiAgICBtZS54IF49IHN0cnNlZWQuY2hhckNvZGVBdChrKSB8IDA7XG4gICAgbWUubmV4dCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvcHkoZiwgdCkge1xuICB0LnggPSBmLng7XG4gIHQueSA9IGYueTtcbiAgdC56ID0gZi56O1xuICB0LncgPSBmLnc7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgdmFyIHhnID0gbmV3IFhvckdlbihzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMDsgfTtcbiAgcHJuZy5kb3VibGUgPSBmdW5jdGlvbigpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdG9wID0geGcubmV4dCgpID4+PiAxMSxcbiAgICAgICAgICBib3QgPSAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwLFxuICAgICAgICAgIHJlc3VsdCA9ICh0b3AgKyBib3QpIC8gKDEgPDwgMjEpO1xuICAgIH0gd2hpbGUgKHJlc3VsdCA9PT0gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgcHJuZy5pbnQzMiA9IHhnLm5leHQ7XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAodHlwZW9mKHN0YXRlKSA9PSAnb2JqZWN0JykgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLnhvcjEyOCA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgUmljaGFyZCBCcmVudCdzIFhvcmdlbnMgeG9yNDA5NiBhbGdvcml0aG0uXG4vL1xuLy8gVGhpcyBmYXN0IG5vbi1jcnlwdG9ncmFwaGljIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yIGlzIGRlc2lnbmVkIGZvclxuLy8gdXNlIGluIE1vbnRlLUNhcmxvIGFsZ29yaXRobXMuIEl0IGNvbWJpbmVzIGEgbG9uZy1wZXJpb2QgeG9yc2hpZnRcbi8vIGdlbmVyYXRvciB3aXRoIGEgV2V5bCBnZW5lcmF0b3IsIGFuZCBpdCBwYXNzZXMgYWxsIGNvbW1vbiBiYXR0ZXJpZXNcbi8vIG9mIHN0YXN0aWNpYWwgdGVzdHMgZm9yIHJhbmRvbW5lc3Mgd2hpbGUgY29uc3VtaW5nIG9ubHkgYSBmZXcgbmFub3NlY29uZHNcbi8vIGZvciBlYWNoIHBybmcgZ2VuZXJhdGVkLiAgRm9yIGJhY2tncm91bmQgb24gdGhlIGdlbmVyYXRvciwgc2VlIEJyZW50J3Ncbi8vIHBhcGVyOiBcIlNvbWUgbG9uZy1wZXJpb2QgcmFuZG9tIG51bWJlciBnZW5lcmF0b3JzIHVzaW5nIHNoaWZ0cyBhbmQgeG9ycy5cIlxuLy8gaHR0cDovL2FyeGl2Lm9yZy9wZGYvMTAwNC4zMTE1djEucGRmXG4vL1xuLy8gVXNhZ2U6XG4vL1xuLy8gdmFyIHhvcjQwOTYgPSByZXF1aXJlKCd4b3I0MDk2Jyk7XG4vLyByYW5kb20gPSB4b3I0MDk2KDEpOyAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlZWQgd2l0aCBpbnQzMiBvciBzdHJpbmcuXG4vLyBhc3NlcnQuZXF1YWwocmFuZG9tKCksIDAuMTUyMDQzNjQ1MDUzODU0Nyk7IC8vICgwLCAxKSByYW5nZSwgNTMgYml0cy5cbi8vIGFzc2VydC5lcXVhbChyYW5kb20uaW50MzIoKSwgMTgwNjUzNDg5Nyk7ICAgLy8gc2lnbmVkIGludDMyLCAzMiBiaXRzLlxuLy9cbi8vIEZvciBub256ZXJvIG51bWVyaWMga2V5cywgdGhpcyBpbXBlbGVtZW50YXRpb24gcHJvdmlkZXMgYSBzZXF1ZW5jZVxuLy8gaWRlbnRpY2FsIHRvIHRoYXQgYnkgQnJlbnQncyB4b3JnZW5zIDMgaW1wbGVtZW50YWlvbiBpbiBDLiAgVGhpc1xuLy8gaW1wbGVtZW50YXRpb24gYWxzbyBwcm92aWRlcyBmb3IgaW5pdGFsaXppbmcgdGhlIGdlbmVyYXRvciB3aXRoXG4vLyBzdHJpbmcgc2VlZHMsIG9yIGZvciBzYXZpbmcgYW5kIHJlc3RvcmluZyB0aGUgc3RhdGUgb2YgdGhlIGdlbmVyYXRvci5cbi8vXG4vLyBPbiBDaHJvbWUsIHRoaXMgcHJuZyBiZW5jaG1hcmtzIGFib3V0IDIuMSB0aW1lcyBzbG93ZXIgdGhhblxuLy8gSmF2YXNjcmlwdCdzIGJ1aWx0LWluIE1hdGgucmFuZG9tKCkuXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXM7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB3ID0gbWUudyxcbiAgICAgICAgWCA9IG1lLlgsIGkgPSBtZS5pLCB0LCB2O1xuICAgIC8vIFVwZGF0ZSBXZXlsIGdlbmVyYXRvci5cbiAgICBtZS53ID0gdyA9ICh3ICsgMHg2MWM4ODY0NykgfCAwO1xuICAgIC8vIFVwZGF0ZSB4b3IgZ2VuZXJhdG9yLlxuICAgIHYgPSBYWyhpICsgMzQpICYgMTI3XTtcbiAgICB0ID0gWFtpID0gKChpICsgMSkgJiAxMjcpXTtcbiAgICB2IF49IHYgPDwgMTM7XG4gICAgdCBePSB0IDw8IDE3O1xuICAgIHYgXj0gdiA+Pj4gMTU7XG4gICAgdCBePSB0ID4+PiAxMjtcbiAgICAvLyBVcGRhdGUgWG9yIGdlbmVyYXRvciBhcnJheSBzdGF0ZS5cbiAgICB2ID0gWFtpXSA9IHYgXiB0O1xuICAgIG1lLmkgPSBpO1xuICAgIC8vIFJlc3VsdCBpcyB0aGUgY29tYmluYXRpb24uXG4gICAgcmV0dXJuICh2ICsgKHcgXiAodyA+Pj4gMTYpKSkgfCAwO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGluaXQobWUsIHNlZWQpIHtcbiAgICB2YXIgdCwgdiwgaSwgaiwgdywgWCA9IFtdLCBsaW1pdCA9IDEyODtcbiAgICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgICAgLy8gTnVtZXJpYyBzZWVkcyBpbml0aWFsaXplIHYsIHdoaWNoIGlzIHVzZWQgdG8gZ2VuZXJhdGVzIFguXG4gICAgICB2ID0gc2VlZDtcbiAgICAgIHNlZWQgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTdHJpbmcgc2VlZHMgYXJlIG1peGVkIGludG8gdiBhbmQgWCBvbmUgY2hhcmFjdGVyIGF0IGEgdGltZS5cbiAgICAgIHNlZWQgPSBzZWVkICsgJ1xcMCc7XG4gICAgICB2ID0gMDtcbiAgICAgIGxpbWl0ID0gTWF0aC5tYXgobGltaXQsIHNlZWQubGVuZ3RoKTtcbiAgICB9XG4gICAgLy8gSW5pdGlhbGl6ZSBjaXJjdWxhciBhcnJheSBhbmQgd2V5bCB2YWx1ZS5cbiAgICBmb3IgKGkgPSAwLCBqID0gLTMyOyBqIDwgbGltaXQ7ICsraikge1xuICAgICAgLy8gUHV0IHRoZSB1bmljb2RlIGNoYXJhY3RlcnMgaW50byB0aGUgYXJyYXksIGFuZCBzaHVmZmxlIHRoZW0uXG4gICAgICBpZiAoc2VlZCkgdiBePSBzZWVkLmNoYXJDb2RlQXQoKGogKyAzMikgJSBzZWVkLmxlbmd0aCk7XG4gICAgICAvLyBBZnRlciAzMiBzaHVmZmxlcywgdGFrZSB2IGFzIHRoZSBzdGFydGluZyB3IHZhbHVlLlxuICAgICAgaWYgKGogPT09IDApIHcgPSB2O1xuICAgICAgdiBePSB2IDw8IDEwO1xuICAgICAgdiBePSB2ID4+PiAxNTtcbiAgICAgIHYgXj0gdiA8PCA0O1xuICAgICAgdiBePSB2ID4+PiAxMztcbiAgICAgIGlmIChqID49IDApIHtcbiAgICAgICAgdyA9ICh3ICsgMHg2MWM4ODY0NykgfCAwOyAgICAgLy8gV2V5bC5cbiAgICAgICAgdCA9IChYW2ogJiAxMjddIF49ICh2ICsgdykpOyAgLy8gQ29tYmluZSB4b3IgYW5kIHdleWwgdG8gaW5pdCBhcnJheS5cbiAgICAgICAgaSA9ICgwID09IHQpID8gaSArIDEgOiAwOyAgICAgLy8gQ291bnQgemVyb2VzLlxuICAgICAgfVxuICAgIH1cbiAgICAvLyBXZSBoYXZlIGRldGVjdGVkIGFsbCB6ZXJvZXM7IG1ha2UgdGhlIGtleSBub256ZXJvLlxuICAgIGlmIChpID49IDEyOCkge1xuICAgICAgWFsoc2VlZCAmJiBzZWVkLmxlbmd0aCB8fCAwKSAmIDEyN10gPSAtMTtcbiAgICB9XG4gICAgLy8gUnVuIHRoZSBnZW5lcmF0b3IgNTEyIHRpbWVzIHRvIGZ1cnRoZXIgbWl4IHRoZSBzdGF0ZSBiZWZvcmUgdXNpbmcgaXQuXG4gICAgLy8gRmFjdG9yaW5nIHRoaXMgYXMgYSBmdW5jdGlvbiBzbG93cyB0aGUgbWFpbiBnZW5lcmF0b3IsIHNvIGl0IGlzIGp1c3RcbiAgICAvLyB1bnJvbGxlZCBoZXJlLiAgVGhlIHdleWwgZ2VuZXJhdG9yIGlzIG5vdCBhZHZhbmNlZCB3aGlsZSB3YXJtaW5nIHVwLlxuICAgIGkgPSAxMjc7XG4gICAgZm9yIChqID0gNCAqIDEyODsgaiA+IDA7IC0taikge1xuICAgICAgdiA9IFhbKGkgKyAzNCkgJiAxMjddO1xuICAgICAgdCA9IFhbaSA9ICgoaSArIDEpICYgMTI3KV07XG4gICAgICB2IF49IHYgPDwgMTM7XG4gICAgICB0IF49IHQgPDwgMTc7XG4gICAgICB2IF49IHYgPj4+IDE1O1xuICAgICAgdCBePSB0ID4+PiAxMjtcbiAgICAgIFhbaV0gPSB2IF4gdDtcbiAgICB9XG4gICAgLy8gU3RvcmluZyBzdGF0ZSBhcyBvYmplY3QgbWVtYmVycyBpcyBmYXN0ZXIgdGhhbiB1c2luZyBjbG9zdXJlIHZhcmlhYmxlcy5cbiAgICBtZS53ID0gdztcbiAgICBtZS5YID0gWDtcbiAgICBtZS5pID0gaTtcbiAgfVxuXG4gIGluaXQobWUsIHNlZWQpO1xufVxuXG5mdW5jdGlvbiBjb3B5KGYsIHQpIHtcbiAgdC5pID0gZi5pO1xuICB0LncgPSBmLnc7XG4gIHQuWCA9IGYuWC5zbGljZSgpO1xuICByZXR1cm4gdDtcbn07XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICBpZiAoc2VlZCA9PSBudWxsKSBzZWVkID0gKyhuZXcgRGF0ZSk7XG4gIHZhciB4ZyA9IG5ldyBYb3JHZW4oc2VlZCksXG4gICAgICBzdGF0ZSA9IG9wdHMgJiYgb3B0cy5zdGF0ZSxcbiAgICAgIHBybmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDA7IH07XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIHRvcCA9IHhnLm5leHQoKSA+Pj4gMTEsXG4gICAgICAgICAgYm90ID0gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMCxcbiAgICAgICAgICByZXN1bHQgPSAodG9wICsgYm90KSAvICgxIDw8IDIxKTtcbiAgICB9IHdoaWxlIChyZXN1bHQgPT09IDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHBybmcuaW50MzIgPSB4Zy5uZXh0O1xuICBwcm5nLnF1aWNrID0gcHJuZztcbiAgaWYgKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLlgpIGNvcHkoc3RhdGUsIHhnKTtcbiAgICBwcm5nLnN0YXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb3B5KHhnLCB7fSk7IH1cbiAgfVxuICByZXR1cm4gcHJuZztcbn1cblxuaWYgKG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGltcGw7XG59IGVsc2UgaWYgKGRlZmluZSAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGltcGw7IH0pO1xufSBlbHNlIHtcbiAgdGhpcy54b3I0MDk2ID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdyBvYmplY3Qgb3IgZ2xvYmFsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcbiIsIi8vIEEgSmF2YXNjcmlwdCBpbXBsZW1lbnRhaW9uIG9mIHRoZSBcInhvcnNoaWZ0N1wiIGFsZ29yaXRobSBieVxuLy8gRnJhbsOnb2lzIFBhbm5ldG9uIGFuZCBQaWVycmUgTCdlY3V5ZXI6XG4vLyBcIk9uIHRoZSBYb3Jnc2hpZnQgUmFuZG9tIE51bWJlciBHZW5lcmF0b3JzXCJcbi8vIGh0dHA6Ly9zYWx1Yy5lbmdyLnVjb25uLmVkdS9yZWZzL2NyeXB0by9ybmcvcGFubmV0b24wNW9udGhleG9yc2hpZnQucGRmXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXM7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFVwZGF0ZSB4b3IgZ2VuZXJhdG9yLlxuICAgIHZhciBYID0gbWUueCwgaSA9IG1lLmksIHQsIHYsIHc7XG4gICAgdCA9IFhbaV07IHQgXj0gKHQgPj4+IDcpOyB2ID0gdCBeICh0IDw8IDI0KTtcbiAgICB0ID0gWFsoaSArIDEpICYgN107IHYgXj0gdCBeICh0ID4+PiAxMCk7XG4gICAgdCA9IFhbKGkgKyAzKSAmIDddOyB2IF49IHQgXiAodCA+Pj4gMyk7XG4gICAgdCA9IFhbKGkgKyA0KSAmIDddOyB2IF49IHQgXiAodCA8PCA3KTtcbiAgICB0ID0gWFsoaSArIDcpICYgN107IHQgPSB0IF4gKHQgPDwgMTMpOyB2IF49IHQgXiAodCA8PCA5KTtcbiAgICBYW2ldID0gdjtcbiAgICBtZS5pID0gKGkgKyAxKSAmIDc7XG4gICAgcmV0dXJuIHY7XG4gIH07XG5cbiAgZnVuY3Rpb24gaW5pdChtZSwgc2VlZCkge1xuICAgIHZhciBqLCB3LCBYID0gW107XG5cbiAgICBpZiAoc2VlZCA9PT0gKHNlZWQgfCAwKSkge1xuICAgICAgLy8gU2VlZCBzdGF0ZSBhcnJheSB1c2luZyBhIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAgdyA9IFhbMF0gPSBzZWVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZWVkIHN0YXRlIHVzaW5nIGEgc3RyaW5nLlxuICAgICAgc2VlZCA9ICcnICsgc2VlZDtcbiAgICAgIGZvciAoaiA9IDA7IGogPCBzZWVkLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIFhbaiAmIDddID0gKFhbaiAmIDddIDw8IDE1KSBeXG4gICAgICAgICAgICAoc2VlZC5jaGFyQ29kZUF0KGopICsgWFsoaiArIDEpICYgN10gPDwgMTMpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBFbmZvcmNlIGFuIGFycmF5IGxlbmd0aCBvZiA4LCBub3QgYWxsIHplcm9lcy5cbiAgICB3aGlsZSAoWC5sZW5ndGggPCA4KSBYLnB1c2goMCk7XG4gICAgZm9yIChqID0gMDsgaiA8IDggJiYgWFtqXSA9PT0gMDsgKytqKTtcbiAgICBpZiAoaiA9PSA4KSB3ID0gWFs3XSA9IC0xOyBlbHNlIHcgPSBYW2pdO1xuXG4gICAgbWUueCA9IFg7XG4gICAgbWUuaSA9IDA7XG5cbiAgICAvLyBEaXNjYXJkIGFuIGluaXRpYWwgMjU2IHZhbHVlcy5cbiAgICBmb3IgKGogPSAyNTY7IGogPiAwOyAtLWopIHtcbiAgICAgIG1lLm5leHQoKTtcbiAgICB9XG4gIH1cblxuICBpbml0KG1lLCBzZWVkKTtcbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQueCA9IGYueC5zbGljZSgpO1xuICB0LmkgPSBmLmk7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgaWYgKHNlZWQgPT0gbnVsbCkgc2VlZCA9ICsobmV3IERhdGUpO1xuICB2YXIgeGcgPSBuZXcgWG9yR2VuKHNlZWQpLFxuICAgICAgc3RhdGUgPSBvcHRzICYmIG9wdHMuc3RhdGUsXG4gICAgICBwcm5nID0gZnVuY3Rpb24oKSB7IHJldHVybiAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwOyB9O1xuICBwcm5nLmRvdWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGRvIHtcbiAgICAgIHZhciB0b3AgPSB4Zy5uZXh0KCkgPj4+IDExLFxuICAgICAgICAgIGJvdCA9ICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDAsXG4gICAgICAgICAgcmVzdWx0ID0gKHRvcCArIGJvdCkgLyAoMSA8PCAyMSk7XG4gICAgfSB3aGlsZSAocmVzdWx0ID09PSAwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBwcm5nLmludDMyID0geGcubmV4dDtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS54KSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMueG9yc2hpZnQ3ID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcblxuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgdGhlIFwieG9yd293XCIgcHJuZyBhbGdvcml0aG0gYnlcbi8vIEdlb3JnZSBNYXJzYWdsaWEuICBTZWUgaHR0cDovL3d3dy5qc3RhdHNvZnQub3JnL3YwOC9pMTQvcGFwZXJcblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gWG9yR2VuKHNlZWQpIHtcbiAgdmFyIG1lID0gdGhpcywgc3Ryc2VlZCA9ICcnO1xuXG4gIC8vIFNldCB1cCBnZW5lcmF0b3IgZnVuY3Rpb24uXG4gIG1lLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IChtZS54IF4gKG1lLnggPj4+IDIpKTtcbiAgICBtZS54ID0gbWUueTsgbWUueSA9IG1lLno7IG1lLnogPSBtZS53OyBtZS53ID0gbWUudjtcbiAgICByZXR1cm4gKG1lLmQgPSAobWUuZCArIDM2MjQzNyB8IDApKSArXG4gICAgICAgKG1lLnYgPSAobWUudiBeIChtZS52IDw8IDQpKSBeICh0IF4gKHQgPDwgMSkpKSB8IDA7XG4gIH07XG5cbiAgbWUueCA9IDA7XG4gIG1lLnkgPSAwO1xuICBtZS56ID0gMDtcbiAgbWUudyA9IDA7XG4gIG1lLnYgPSAwO1xuXG4gIGlmIChzZWVkID09PSAoc2VlZCB8IDApKSB7XG4gICAgLy8gSW50ZWdlciBzZWVkLlxuICAgIG1lLnggPSBzZWVkO1xuICB9IGVsc2Uge1xuICAgIC8vIFN0cmluZyBzZWVkLlxuICAgIHN0cnNlZWQgKz0gc2VlZDtcbiAgfVxuXG4gIC8vIE1peCBpbiBzdHJpbmcgc2VlZCwgdGhlbiBkaXNjYXJkIGFuIGluaXRpYWwgYmF0Y2ggb2YgNjQgdmFsdWVzLlxuICBmb3IgKHZhciBrID0gMDsgayA8IHN0cnNlZWQubGVuZ3RoICsgNjQ7IGsrKykge1xuICAgIG1lLnggXj0gc3Ryc2VlZC5jaGFyQ29kZUF0KGspIHwgMDtcbiAgICBpZiAoayA9PSBzdHJzZWVkLmxlbmd0aCkge1xuICAgICAgbWUuZCA9IG1lLnggPDwgMTAgXiBtZS54ID4+PiA0O1xuICAgIH1cbiAgICBtZS5uZXh0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQueCA9IGYueDtcbiAgdC55ID0gZi55O1xuICB0LnogPSBmLno7XG4gIHQudyA9IGYudztcbiAgdC52ID0gZi52O1xuICB0LmQgPSBmLmQ7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgdmFyIHhnID0gbmV3IFhvckdlbihzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMDsgfTtcbiAgcHJuZy5kb3VibGUgPSBmdW5jdGlvbigpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdG9wID0geGcubmV4dCgpID4+PiAxMSxcbiAgICAgICAgICBib3QgPSAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwLFxuICAgICAgICAgIHJlc3VsdCA9ICh0b3AgKyBib3QpIC8gKDEgPDwgMjEpO1xuICAgIH0gd2hpbGUgKHJlc3VsdCA9PT0gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgcHJuZy5pbnQzMiA9IHhnLm5leHQ7XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAodHlwZW9mKHN0YXRlKSA9PSAnb2JqZWN0JykgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLnhvcndvdyA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLypcbkNvcHlyaWdodCAyMDE5IERhdmlkIEJhdS5cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nXG5hIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcblwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xud2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvXG5wZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG9cbnRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmVcbmluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG5NRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuXG5JTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWVxuQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCxcblRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFXG5TT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIHBvb2wsIG1hdGgpIHtcbi8vXG4vLyBUaGUgZm9sbG93aW5nIGNvbnN0YW50cyBhcmUgcmVsYXRlZCB0byBJRUVFIDc1NCBsaW1pdHMuXG4vL1xuXG52YXIgd2lkdGggPSAyNTYsICAgICAgICAvLyBlYWNoIFJDNCBvdXRwdXQgaXMgMCA8PSB4IDwgMjU2XG4gICAgY2h1bmtzID0gNiwgICAgICAgICAvLyBhdCBsZWFzdCBzaXggUkM0IG91dHB1dHMgZm9yIGVhY2ggZG91YmxlXG4gICAgZGlnaXRzID0gNTIsICAgICAgICAvLyB0aGVyZSBhcmUgNTIgc2lnbmlmaWNhbnQgZGlnaXRzIGluIGEgZG91YmxlXG4gICAgcm5nbmFtZSA9ICdyYW5kb20nLCAvLyBybmduYW1lOiBuYW1lIGZvciBNYXRoLnJhbmRvbSBhbmQgTWF0aC5zZWVkcmFuZG9tXG4gICAgc3RhcnRkZW5vbSA9IG1hdGgucG93KHdpZHRoLCBjaHVua3MpLFxuICAgIHNpZ25pZmljYW5jZSA9IG1hdGgucG93KDIsIGRpZ2l0cyksXG4gICAgb3ZlcmZsb3cgPSBzaWduaWZpY2FuY2UgKiAyLFxuICAgIG1hc2sgPSB3aWR0aCAtIDEsXG4gICAgbm9kZWNyeXB0bzsgICAgICAgICAvLyBub2RlLmpzIGNyeXB0byBtb2R1bGUsIGluaXRpYWxpemVkIGF0IHRoZSBib3R0b20uXG5cbi8vXG4vLyBzZWVkcmFuZG9tKClcbi8vIFRoaXMgaXMgdGhlIHNlZWRyYW5kb20gZnVuY3Rpb24gZGVzY3JpYmVkIGFib3ZlLlxuLy9cbmZ1bmN0aW9uIHNlZWRyYW5kb20oc2VlZCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgdmFyIGtleSA9IFtdO1xuICBvcHRpb25zID0gKG9wdGlvbnMgPT0gdHJ1ZSkgPyB7IGVudHJvcHk6IHRydWUgfSA6IChvcHRpb25zIHx8IHt9KTtcblxuICAvLyBGbGF0dGVuIHRoZSBzZWVkIHN0cmluZyBvciBidWlsZCBvbmUgZnJvbSBsb2NhbCBlbnRyb3B5IGlmIG5lZWRlZC5cbiAgdmFyIHNob3J0c2VlZCA9IG1peGtleShmbGF0dGVuKFxuICAgIG9wdGlvbnMuZW50cm9weSA/IFtzZWVkLCB0b3N0cmluZyhwb29sKV0gOlxuICAgIChzZWVkID09IG51bGwpID8gYXV0b3NlZWQoKSA6IHNlZWQsIDMpLCBrZXkpO1xuXG4gIC8vIFVzZSB0aGUgc2VlZCB0byBpbml0aWFsaXplIGFuIEFSQzQgZ2VuZXJhdG9yLlxuICB2YXIgYXJjNCA9IG5ldyBBUkM0KGtleSk7XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIGEgcmFuZG9tIGRvdWJsZSBpbiBbMCwgMSkgdGhhdCBjb250YWluc1xuICAvLyByYW5kb21uZXNzIGluIGV2ZXJ5IGJpdCBvZiB0aGUgbWFudGlzc2Egb2YgdGhlIElFRUUgNzU0IHZhbHVlLlxuICB2YXIgcHJuZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuID0gYXJjNC5nKGNodW5rcyksICAgICAgICAgICAgIC8vIFN0YXJ0IHdpdGggYSBudW1lcmF0b3IgbiA8IDIgXiA0OFxuICAgICAgICBkID0gc3RhcnRkZW5vbSwgICAgICAgICAgICAgICAgIC8vICAgYW5kIGRlbm9taW5hdG9yIGQgPSAyIF4gNDguXG4gICAgICAgIHggPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBhbmQgbm8gJ2V4dHJhIGxhc3QgYnl0ZScuXG4gICAgd2hpbGUgKG4gPCBzaWduaWZpY2FuY2UpIHsgICAgICAgICAgLy8gRmlsbCB1cCBhbGwgc2lnbmlmaWNhbnQgZGlnaXRzIGJ5XG4gICAgICBuID0gKG4gKyB4KSAqIHdpZHRoOyAgICAgICAgICAgICAgLy8gICBzaGlmdGluZyBudW1lcmF0b3IgYW5kXG4gICAgICBkICo9IHdpZHRoOyAgICAgICAgICAgICAgICAgICAgICAgLy8gICBkZW5vbWluYXRvciBhbmQgZ2VuZXJhdGluZyBhXG4gICAgICB4ID0gYXJjNC5nKDEpOyAgICAgICAgICAgICAgICAgICAgLy8gICBuZXcgbGVhc3Qtc2lnbmlmaWNhbnQtYnl0ZS5cbiAgICB9XG4gICAgd2hpbGUgKG4gPj0gb3ZlcmZsb3cpIHsgICAgICAgICAgICAgLy8gVG8gYXZvaWQgcm91bmRpbmcgdXAsIGJlZm9yZSBhZGRpbmdcbiAgICAgIG4gLz0gMjsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGxhc3QgYnl0ZSwgc2hpZnQgZXZlcnl0aGluZ1xuICAgICAgZCAvPSAyOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgcmlnaHQgdXNpbmcgaW50ZWdlciBtYXRoIHVudGlsXG4gICAgICB4ID4+Pj0gMTsgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICB3ZSBoYXZlIGV4YWN0bHkgdGhlIGRlc2lyZWQgYml0cy5cbiAgICB9XG4gICAgcmV0dXJuIChuICsgeCkgLyBkOyAgICAgICAgICAgICAgICAgLy8gRm9ybSB0aGUgbnVtYmVyIHdpdGhpbiBbMCwgMSkuXG4gIH07XG5cbiAgcHJuZy5pbnQzMiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJjNC5nKDQpIHwgMDsgfVxuICBwcm5nLnF1aWNrID0gZnVuY3Rpb24oKSB7IHJldHVybiBhcmM0LmcoNCkgLyAweDEwMDAwMDAwMDsgfVxuICBwcm5nLmRvdWJsZSA9IHBybmc7XG5cbiAgLy8gTWl4IHRoZSByYW5kb21uZXNzIGludG8gYWNjdW11bGF0ZWQgZW50cm9weS5cbiAgbWl4a2V5KHRvc3RyaW5nKGFyYzQuUyksIHBvb2wpO1xuXG4gIC8vIENhbGxpbmcgY29udmVudGlvbjogd2hhdCB0byByZXR1cm4gYXMgYSBmdW5jdGlvbiBvZiBwcm5nLCBzZWVkLCBpc19tYXRoLlxuICByZXR1cm4gKG9wdGlvbnMucGFzcyB8fCBjYWxsYmFjayB8fFxuICAgICAgZnVuY3Rpb24ocHJuZywgc2VlZCwgaXNfbWF0aF9jYWxsLCBzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAvLyBMb2FkIHRoZSBhcmM0IHN0YXRlIGZyb20gdGhlIGdpdmVuIHN0YXRlIGlmIGl0IGhhcyBhbiBTIGFycmF5LlxuICAgICAgICAgIGlmIChzdGF0ZS5TKSB7IGNvcHkoc3RhdGUsIGFyYzQpOyB9XG4gICAgICAgICAgLy8gT25seSBwcm92aWRlIHRoZSAuc3RhdGUgbWV0aG9kIGlmIHJlcXVlc3RlZCB2aWEgb3B0aW9ucy5zdGF0ZS5cbiAgICAgICAgICBwcm5nLnN0YXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb3B5KGFyYzQsIHt9KTsgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgY2FsbGVkIGFzIGEgbWV0aG9kIG9mIE1hdGggKE1hdGguc2VlZHJhbmRvbSgpKSwgbXV0YXRlXG4gICAgICAgIC8vIE1hdGgucmFuZG9tIGJlY2F1c2UgdGhhdCBpcyBob3cgc2VlZHJhbmRvbS5qcyBoYXMgd29ya2VkIHNpbmNlIHYxLjAuXG4gICAgICAgIGlmIChpc19tYXRoX2NhbGwpIHsgbWF0aFtybmduYW1lXSA9IHBybmc7IHJldHVybiBzZWVkOyB9XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBpdCBpcyBhIG5ld2VyIGNhbGxpbmcgY29udmVudGlvbiwgc28gcmV0dXJuIHRoZVxuICAgICAgICAvLyBwcm5nIGRpcmVjdGx5LlxuICAgICAgICBlbHNlIHJldHVybiBwcm5nO1xuICAgICAgfSkoXG4gIHBybmcsXG4gIHNob3J0c2VlZCxcbiAgJ2dsb2JhbCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuZ2xvYmFsIDogKHRoaXMgPT0gbWF0aCksXG4gIG9wdGlvbnMuc3RhdGUpO1xufVxuXG4vL1xuLy8gQVJDNFxuLy9cbi8vIEFuIEFSQzQgaW1wbGVtZW50YXRpb24uICBUaGUgY29uc3RydWN0b3IgdGFrZXMgYSBrZXkgaW4gdGhlIGZvcm0gb2Zcbi8vIGFuIGFycmF5IG9mIGF0IG1vc3QgKHdpZHRoKSBpbnRlZ2VycyB0aGF0IHNob3VsZCBiZSAwIDw9IHggPCAod2lkdGgpLlxuLy9cbi8vIFRoZSBnKGNvdW50KSBtZXRob2QgcmV0dXJucyBhIHBzZXVkb3JhbmRvbSBpbnRlZ2VyIHRoYXQgY29uY2F0ZW5hdGVzXG4vLyB0aGUgbmV4dCAoY291bnQpIG91dHB1dHMgZnJvbSBBUkM0LiAgSXRzIHJldHVybiB2YWx1ZSBpcyBhIG51bWJlciB4XG4vLyB0aGF0IGlzIGluIHRoZSByYW5nZSAwIDw9IHggPCAod2lkdGggXiBjb3VudCkuXG4vL1xuZnVuY3Rpb24gQVJDNChrZXkpIHtcbiAgdmFyIHQsIGtleWxlbiA9IGtleS5sZW5ndGgsXG4gICAgICBtZSA9IHRoaXMsIGkgPSAwLCBqID0gbWUuaSA9IG1lLmogPSAwLCBzID0gbWUuUyA9IFtdO1xuXG4gIC8vIFRoZSBlbXB0eSBrZXkgW10gaXMgdHJlYXRlZCBhcyBbMF0uXG4gIGlmICgha2V5bGVuKSB7IGtleSA9IFtrZXlsZW4rK107IH1cblxuICAvLyBTZXQgdXAgUyB1c2luZyB0aGUgc3RhbmRhcmQga2V5IHNjaGVkdWxpbmcgYWxnb3JpdGhtLlxuICB3aGlsZSAoaSA8IHdpZHRoKSB7XG4gICAgc1tpXSA9IGkrKztcbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgd2lkdGg7IGkrKykge1xuICAgIHNbaV0gPSBzW2ogPSBtYXNrICYgKGogKyBrZXlbaSAlIGtleWxlbl0gKyAodCA9IHNbaV0pKV07XG4gICAgc1tqXSA9IHQ7XG4gIH1cblxuICAvLyBUaGUgXCJnXCIgbWV0aG9kIHJldHVybnMgdGhlIG5leHQgKGNvdW50KSBvdXRwdXRzIGFzIG9uZSBudW1iZXIuXG4gIChtZS5nID0gZnVuY3Rpb24oY291bnQpIHtcbiAgICAvLyBVc2luZyBpbnN0YW5jZSBtZW1iZXJzIGluc3RlYWQgb2YgY2xvc3VyZSBzdGF0ZSBuZWFybHkgZG91YmxlcyBzcGVlZC5cbiAgICB2YXIgdCwgciA9IDAsXG4gICAgICAgIGkgPSBtZS5pLCBqID0gbWUuaiwgcyA9IG1lLlM7XG4gICAgd2hpbGUgKGNvdW50LS0pIHtcbiAgICAgIHQgPSBzW2kgPSBtYXNrICYgKGkgKyAxKV07XG4gICAgICByID0gciAqIHdpZHRoICsgc1ttYXNrICYgKChzW2ldID0gc1tqID0gbWFzayAmIChqICsgdCldKSArIChzW2pdID0gdCkpXTtcbiAgICB9XG4gICAgbWUuaSA9IGk7IG1lLmogPSBqO1xuICAgIHJldHVybiByO1xuICAgIC8vIEZvciByb2J1c3QgdW5wcmVkaWN0YWJpbGl0eSwgdGhlIGZ1bmN0aW9uIGNhbGwgYmVsb3cgYXV0b21hdGljYWxseVxuICAgIC8vIGRpc2NhcmRzIGFuIGluaXRpYWwgYmF0Y2ggb2YgdmFsdWVzLiAgVGhpcyBpcyBjYWxsZWQgUkM0LWRyb3BbMjU2XS5cbiAgICAvLyBTZWUgaHR0cDovL2dvb2dsZS5jb20vc2VhcmNoP3E9cnNhK2ZsdWhyZXIrcmVzcG9uc2UmYnRuSVxuICB9KSh3aWR0aCk7XG59XG5cbi8vXG4vLyBjb3B5KClcbi8vIENvcGllcyBpbnRlcm5hbCBzdGF0ZSBvZiBBUkM0IHRvIG9yIGZyb20gYSBwbGFpbiBvYmplY3QuXG4vL1xuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQuaSA9IGYuaTtcbiAgdC5qID0gZi5qO1xuICB0LlMgPSBmLlMuc2xpY2UoKTtcbiAgcmV0dXJuIHQ7XG59O1xuXG4vL1xuLy8gZmxhdHRlbigpXG4vLyBDb252ZXJ0cyBhbiBvYmplY3QgdHJlZSB0byBuZXN0ZWQgYXJyYXlzIG9mIHN0cmluZ3MuXG4vL1xuZnVuY3Rpb24gZmxhdHRlbihvYmosIGRlcHRoKSB7XG4gIHZhciByZXN1bHQgPSBbXSwgdHlwID0gKHR5cGVvZiBvYmopLCBwcm9wO1xuICBpZiAoZGVwdGggJiYgdHlwID09ICdvYmplY3QnKSB7XG4gICAgZm9yIChwcm9wIGluIG9iaikge1xuICAgICAgdHJ5IHsgcmVzdWx0LnB1c2goZmxhdHRlbihvYmpbcHJvcF0sIGRlcHRoIC0gMSkpOyB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuICByZXR1cm4gKHJlc3VsdC5sZW5ndGggPyByZXN1bHQgOiB0eXAgPT0gJ3N0cmluZycgPyBvYmogOiBvYmogKyAnXFwwJyk7XG59XG5cbi8vXG4vLyBtaXhrZXkoKVxuLy8gTWl4ZXMgYSBzdHJpbmcgc2VlZCBpbnRvIGEga2V5IHRoYXQgaXMgYW4gYXJyYXkgb2YgaW50ZWdlcnMsIGFuZFxuLy8gcmV0dXJucyBhIHNob3J0ZW5lZCBzdHJpbmcgc2VlZCB0aGF0IGlzIGVxdWl2YWxlbnQgdG8gdGhlIHJlc3VsdCBrZXkuXG4vL1xuZnVuY3Rpb24gbWl4a2V5KHNlZWQsIGtleSkge1xuICB2YXIgc3RyaW5nc2VlZCA9IHNlZWQgKyAnJywgc21lYXIsIGogPSAwO1xuICB3aGlsZSAoaiA8IHN0cmluZ3NlZWQubGVuZ3RoKSB7XG4gICAga2V5W21hc2sgJiBqXSA9XG4gICAgICBtYXNrICYgKChzbWVhciBePSBrZXlbbWFzayAmIGpdICogMTkpICsgc3RyaW5nc2VlZC5jaGFyQ29kZUF0KGorKykpO1xuICB9XG4gIHJldHVybiB0b3N0cmluZyhrZXkpO1xufVxuXG4vL1xuLy8gYXV0b3NlZWQoKVxuLy8gUmV0dXJucyBhbiBvYmplY3QgZm9yIGF1dG9zZWVkaW5nLCB1c2luZyB3aW5kb3cuY3J5cHRvIGFuZCBOb2RlIGNyeXB0b1xuLy8gbW9kdWxlIGlmIGF2YWlsYWJsZS5cbi8vXG5mdW5jdGlvbiBhdXRvc2VlZCgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgb3V0O1xuICAgIGlmIChub2RlY3J5cHRvICYmIChvdXQgPSBub2RlY3J5cHRvLnJhbmRvbUJ5dGVzKSkge1xuICAgICAgLy8gVGhlIHVzZSBvZiAnb3V0JyB0byByZW1lbWJlciByYW5kb21CeXRlcyBtYWtlcyB0aWdodCBtaW5pZmllZCBjb2RlLlxuICAgICAgb3V0ID0gb3V0KHdpZHRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ID0gbmV3IFVpbnQ4QXJyYXkod2lkdGgpO1xuICAgICAgKGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvKS5nZXRSYW5kb21WYWx1ZXMob3V0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRvc3RyaW5nKG91dCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgYnJvd3NlciA9IGdsb2JhbC5uYXZpZ2F0b3IsXG4gICAgICAgIHBsdWdpbnMgPSBicm93c2VyICYmIGJyb3dzZXIucGx1Z2lucztcbiAgICByZXR1cm4gWytuZXcgRGF0ZSwgZ2xvYmFsLCBwbHVnaW5zLCBnbG9iYWwuc2NyZWVuLCB0b3N0cmluZyhwb29sKV07XG4gIH1cbn1cblxuLy9cbi8vIHRvc3RyaW5nKClcbi8vIENvbnZlcnRzIGFuIGFycmF5IG9mIGNoYXJjb2RlcyB0byBhIHN0cmluZ1xuLy9cbmZ1bmN0aW9uIHRvc3RyaW5nKGEpIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCwgYSk7XG59XG5cbi8vXG4vLyBXaGVuIHNlZWRyYW5kb20uanMgaXMgbG9hZGVkLCB3ZSBpbW1lZGlhdGVseSBtaXggYSBmZXcgYml0c1xuLy8gZnJvbSB0aGUgYnVpbHQtaW4gUk5HIGludG8gdGhlIGVudHJvcHkgcG9vbC4gIEJlY2F1c2Ugd2UgZG9cbi8vIG5vdCB3YW50IHRvIGludGVyZmVyZSB3aXRoIGRldGVybWluaXN0aWMgUFJORyBzdGF0ZSBsYXRlcixcbi8vIHNlZWRyYW5kb20gd2lsbCBub3QgY2FsbCBtYXRoLnJhbmRvbSBvbiBpdHMgb3duIGFnYWluIGFmdGVyXG4vLyBpbml0aWFsaXphdGlvbi5cbi8vXG5taXhrZXkobWF0aC5yYW5kb20oKSwgcG9vbCk7XG5cbi8vXG4vLyBOb2RlanMgYW5kIEFNRCBzdXBwb3J0OiBleHBvcnQgdGhlIGltcGxlbWVudGF0aW9uIGFzIGEgbW9kdWxlIHVzaW5nXG4vLyBlaXRoZXIgY29udmVudGlvbi5cbi8vXG5pZiAoKHR5cGVvZiBtb2R1bGUpID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gc2VlZHJhbmRvbTtcbiAgLy8gV2hlbiBpbiBub2RlLmpzLCB0cnkgdXNpbmcgY3J5cHRvIHBhY2thZ2UgZm9yIGF1dG9zZWVkaW5nLlxuICB0cnkge1xuICAgIG5vZGVjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcbiAgfSBjYXRjaCAoZXgpIHt9XG59IGVsc2UgaWYgKCh0eXBlb2YgZGVmaW5lKSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VlZHJhbmRvbTsgfSk7XG59IGVsc2Uge1xuICAvLyBXaGVuIGluY2x1ZGVkIGFzIGEgcGxhaW4gc2NyaXB0LCBzZXQgdXAgTWF0aC5zZWVkcmFuZG9tIGdsb2JhbC5cbiAgbWF0aFsnc2VlZCcgKyBybmduYW1lXSA9IHNlZWRyYW5kb207XG59XG5cblxuLy8gRW5kIGFub255bW91cyBzY29wZSwgYW5kIHBhc3MgaW5pdGlhbCB2YWx1ZXMuXG59KShcbiAgLy8gZ2xvYmFsOiBgc2VsZmAgaW4gYnJvd3NlcnMgKGluY2x1ZGluZyBzdHJpY3QgbW9kZSBhbmQgd2ViIHdvcmtlcnMpLFxuICAvLyBvdGhlcndpc2UgYHRoaXNgIGluIE5vZGUgYW5kIG90aGVyIGVudmlyb25tZW50c1xuICAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSA/IHNlbGYgOiB0aGlzLFxuICBbXSwgICAgIC8vIHBvb2w6IGVudHJvcHkgcG9vbCBzdGFydHMgZW1wdHlcbiAgTWF0aCAgICAvLyBtYXRoOiBwYWNrYWdlIGNvbnRhaW5pbmcgcmFuZG9tLCBwb3csIGFuZCBzZWVkcmFuZG9tXG4pO1xuIiwiXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIHVybCA9IHJlcXVpcmUoJy4vdXJsJyk7XG52YXIgcGFyc2VyID0gcmVxdWlyZSgnc29ja2V0LmlvLXBhcnNlcicpO1xudmFyIE1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXInKTtcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NvY2tldC5pby1jbGllbnQnKTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBsb29rdXA7XG5cbi8qKlxuICogTWFuYWdlcnMgY2FjaGUuXG4gKi9cblxudmFyIGNhY2hlID0gZXhwb3J0cy5tYW5hZ2VycyA9IHt9O1xuXG4vKipcbiAqIExvb2tzIHVwIGFuIGV4aXN0aW5nIGBNYW5hZ2VyYCBmb3IgbXVsdGlwbGV4aW5nLlxuICogSWYgdGhlIHVzZXIgc3VtbW9uczpcbiAqXG4gKiAgIGBpbygnaHR0cDovL2xvY2FsaG9zdC9hJyk7YFxuICogICBgaW8oJ2h0dHA6Ly9sb2NhbGhvc3QvYicpO2BcbiAqXG4gKiBXZSByZXVzZSB0aGUgZXhpc3RpbmcgaW5zdGFuY2UgYmFzZWQgb24gc2FtZSBzY2hlbWUvcG9ydC9ob3N0LFxuICogYW5kIHdlIGluaXRpYWxpemUgc29ja2V0cyBmb3IgZWFjaCBuYW1lc3BhY2UuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb29rdXAgKHVyaSwgb3B0cykge1xuICBpZiAodHlwZW9mIHVyaSA9PT0gJ29iamVjdCcpIHtcbiAgICBvcHRzID0gdXJpO1xuICAgIHVyaSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIHZhciBwYXJzZWQgPSB1cmwodXJpKTtcbiAgdmFyIHNvdXJjZSA9IHBhcnNlZC5zb3VyY2U7XG4gIHZhciBpZCA9IHBhcnNlZC5pZDtcbiAgdmFyIHBhdGggPSBwYXJzZWQucGF0aDtcbiAgdmFyIHNhbWVOYW1lc3BhY2UgPSBjYWNoZVtpZF0gJiYgcGF0aCBpbiBjYWNoZVtpZF0ubnNwcztcbiAgdmFyIG5ld0Nvbm5lY3Rpb24gPSBvcHRzLmZvcmNlTmV3IHx8IG9wdHNbJ2ZvcmNlIG5ldyBjb25uZWN0aW9uJ10gfHxcbiAgICAgICAgICAgICAgICAgICAgICBmYWxzZSA9PT0gb3B0cy5tdWx0aXBsZXggfHwgc2FtZU5hbWVzcGFjZTtcblxuICB2YXIgaW87XG5cbiAgaWYgKG5ld0Nvbm5lY3Rpb24pIHtcbiAgICBkZWJ1ZygnaWdub3Jpbmcgc29ja2V0IGNhY2hlIGZvciAlcycsIHNvdXJjZSk7XG4gICAgaW8gPSBNYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFjYWNoZVtpZF0pIHtcbiAgICAgIGRlYnVnKCduZXcgaW8gaW5zdGFuY2UgZm9yICVzJywgc291cmNlKTtcbiAgICAgIGNhY2hlW2lkXSA9IE1hbmFnZXIoc291cmNlLCBvcHRzKTtcbiAgICB9XG4gICAgaW8gPSBjYWNoZVtpZF07XG4gIH1cbiAgaWYgKHBhcnNlZC5xdWVyeSAmJiAhb3B0cy5xdWVyeSkge1xuICAgIG9wdHMucXVlcnkgPSBwYXJzZWQucXVlcnk7XG4gIH1cbiAgcmV0dXJuIGlvLnNvY2tldChwYXJzZWQucGF0aCwgb3B0cyk7XG59XG5cbi8qKlxuICogUHJvdG9jb2wgdmVyc2lvbi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMucHJvdG9jb2wgPSBwYXJzZXIucHJvdG9jb2w7XG5cbi8qKlxuICogYGNvbm5lY3RgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmlcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5jb25uZWN0ID0gbG9va3VwO1xuXG4vKipcbiAqIEV4cG9zZSBjb25zdHJ1Y3RvcnMgZm9yIHN0YW5kYWxvbmUgYnVpbGQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLk1hbmFnZXIgPSByZXF1aXJlKCcuL21hbmFnZXInKTtcbmV4cG9ydHMuU29ja2V0ID0gcmVxdWlyZSgnLi9zb2NrZXQnKTtcbiIsIlxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBlaW8gPSByZXF1aXJlKCdlbmdpbmUuaW8tY2xpZW50Jyk7XG52YXIgU29ja2V0ID0gcmVxdWlyZSgnLi9zb2NrZXQnKTtcbnZhciBFbWl0dGVyID0gcmVxdWlyZSgnY29tcG9uZW50LWVtaXR0ZXInKTtcbnZhciBwYXJzZXIgPSByZXF1aXJlKCdzb2NrZXQuaW8tcGFyc2VyJyk7XG52YXIgb24gPSByZXF1aXJlKCcuL29uJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJ2NvbXBvbmVudC1iaW5kJyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NrZXQuaW8tY2xpZW50Om1hbmFnZXInKTtcbnZhciBpbmRleE9mID0gcmVxdWlyZSgnaW5kZXhvZicpO1xudmFyIEJhY2tvZmYgPSByZXF1aXJlKCdiYWNrbzInKTtcblxuLyoqXG4gKiBJRTYrIGhhc093blByb3BlcnR5XG4gKi9cblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogTW9kdWxlIGV4cG9ydHNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hbmFnZXI7XG5cbi8qKlxuICogYE1hbmFnZXJgIGNvbnN0cnVjdG9yLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBlbmdpbmUgaW5zdGFuY2Ugb3IgZW5naW5lIHVyaS9vcHRzXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBNYW5hZ2VyICh1cmksIG9wdHMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1hbmFnZXIpKSByZXR1cm4gbmV3IE1hbmFnZXIodXJpLCBvcHRzKTtcbiAgaWYgKHVyaSAmJiAoJ29iamVjdCcgPT09IHR5cGVvZiB1cmkpKSB7XG4gICAgb3B0cyA9IHVyaTtcbiAgICB1cmkgPSB1bmRlZmluZWQ7XG4gIH1cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgb3B0cy5wYXRoID0gb3B0cy5wYXRoIHx8ICcvc29ja2V0LmlvJztcbiAgdGhpcy5uc3BzID0ge307XG4gIHRoaXMuc3VicyA9IFtdO1xuICB0aGlzLm9wdHMgPSBvcHRzO1xuICB0aGlzLnJlY29ubmVjdGlvbihvcHRzLnJlY29ubmVjdGlvbiAhPT0gZmFsc2UpO1xuICB0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKG9wdHMucmVjb25uZWN0aW9uQXR0ZW1wdHMgfHwgSW5maW5pdHkpO1xuICB0aGlzLnJlY29ubmVjdGlvbkRlbGF5KG9wdHMucmVjb25uZWN0aW9uRGVsYXkgfHwgMTAwMCk7XG4gIHRoaXMucmVjb25uZWN0aW9uRGVsYXlNYXgob3B0cy5yZWNvbm5lY3Rpb25EZWxheU1heCB8fCA1MDAwKTtcbiAgdGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKG9wdHMucmFuZG9taXphdGlvbkZhY3RvciB8fCAwLjUpO1xuICB0aGlzLmJhY2tvZmYgPSBuZXcgQmFja29mZih7XG4gICAgbWluOiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5KCksXG4gICAgbWF4OiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksXG4gICAgaml0dGVyOiB0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKVxuICB9KTtcbiAgdGhpcy50aW1lb3V0KG51bGwgPT0gb3B0cy50aW1lb3V0ID8gMjAwMDAgOiBvcHRzLnRpbWVvdXQpO1xuICB0aGlzLnJlYWR5U3RhdGUgPSAnY2xvc2VkJztcbiAgdGhpcy51cmkgPSB1cmk7XG4gIHRoaXMuY29ubmVjdGluZyA9IFtdO1xuICB0aGlzLmxhc3RQaW5nID0gbnVsbDtcbiAgdGhpcy5lbmNvZGluZyA9IGZhbHNlO1xuICB0aGlzLnBhY2tldEJ1ZmZlciA9IFtdO1xuICB2YXIgX3BhcnNlciA9IG9wdHMucGFyc2VyIHx8IHBhcnNlcjtcbiAgdGhpcy5lbmNvZGVyID0gbmV3IF9wYXJzZXIuRW5jb2RlcigpO1xuICB0aGlzLmRlY29kZXIgPSBuZXcgX3BhcnNlci5EZWNvZGVyKCk7XG4gIHRoaXMuYXV0b0Nvbm5lY3QgPSBvcHRzLmF1dG9Db25uZWN0ICE9PSBmYWxzZTtcbiAgaWYgKHRoaXMuYXV0b0Nvbm5lY3QpIHRoaXMub3BlbigpO1xufVxuXG4vKipcbiAqIFByb3BhZ2F0ZSBnaXZlbiBldmVudCB0byBzb2NrZXRzIGFuZCBlbWl0IG9uIGB0aGlzYFxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLmVtaXRBbGwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICBmb3IgKHZhciBuc3AgaW4gdGhpcy5uc3BzKSB7XG4gICAgaWYgKGhhcy5jYWxsKHRoaXMubnNwcywgbnNwKSkge1xuICAgICAgdGhpcy5uc3BzW25zcF0uZW1pdC5hcHBseSh0aGlzLm5zcHNbbnNwXSwgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRlIGBzb2NrZXQuaWRgIG9mIGFsbCBzb2NrZXRzXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUudXBkYXRlU29ja2V0SWRzID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBuc3AgaW4gdGhpcy5uc3BzKSB7XG4gICAgaWYgKGhhcy5jYWxsKHRoaXMubnNwcywgbnNwKSkge1xuICAgICAgdGhpcy5uc3BzW25zcF0uaWQgPSB0aGlzLmdlbmVyYXRlSWQobnNwKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogZ2VuZXJhdGUgYHNvY2tldC5pZGAgZm9yIHRoZSBnaXZlbiBgbnNwYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuc3BcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLmdlbmVyYXRlSWQgPSBmdW5jdGlvbiAobnNwKSB7XG4gIHJldHVybiAobnNwID09PSAnLycgPyAnJyA6IChuc3AgKyAnIycpKSArIHRoaXMuZW5naW5lLmlkO1xufTtcblxuLyoqXG4gKiBNaXggaW4gYEVtaXR0ZXJgLlxuICovXG5cbkVtaXR0ZXIoTWFuYWdlci5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFNldHMgdGhlIGByZWNvbm5lY3Rpb25gIGNvbmZpZy5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHRydWUvZmFsc2UgaWYgaXQgc2hvdWxkIGF1dG9tYXRpY2FsbHkgcmVjb25uZWN0XG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmIG9yIHZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbiA9IGZ1bmN0aW9uICh2KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbjtcbiAgdGhpcy5fcmVjb25uZWN0aW9uID0gISF2O1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgcmVjb25uZWN0aW9uIGF0dGVtcHRzIGNvbmZpZy5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbWF4IHJlY29ubmVjdGlvbiBhdHRlbXB0cyBiZWZvcmUgZ2l2aW5nIHVwXG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmIG9yIHZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbkF0dGVtcHRzID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHM7XG4gIHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzID0gdjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGRlbGF5IGJldHdlZW4gcmVjb25uZWN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gZGVsYXlcbiAqIEByZXR1cm4ge01hbmFnZXJ9IHNlbGYgb3IgdmFsdWVcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUucmVjb25uZWN0aW9uRGVsYXkgPSBmdW5jdGlvbiAodikge1xuICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25EZWxheTtcbiAgdGhpcy5fcmVjb25uZWN0aW9uRGVsYXkgPSB2O1xuICB0aGlzLmJhY2tvZmYgJiYgdGhpcy5iYWNrb2ZmLnNldE1pbih2KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5yYW5kb21pemF0aW9uRmFjdG9yID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy5fcmFuZG9taXphdGlvbkZhY3RvcjtcbiAgdGhpcy5fcmFuZG9taXphdGlvbkZhY3RvciA9IHY7XG4gIHRoaXMuYmFja29mZiAmJiB0aGlzLmJhY2tvZmYuc2V0Sml0dGVyKHYpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgbWF4aW11bSBkZWxheSBiZXR3ZWVuIHJlY29ubmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGRlbGF5XG4gKiBAcmV0dXJuIHtNYW5hZ2VyfSBzZWxmIG9yIHZhbHVlXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnJlY29ubmVjdGlvbkRlbGF5TWF4ID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgdGhpcy5iYWNrb2ZmICYmIHRoaXMuYmFja29mZi5zZXRNYXgodik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBjb25uZWN0aW9uIHRpbWVvdXQuIGBmYWxzZWAgdG8gZGlzYWJsZVxuICpcbiAqIEByZXR1cm4ge01hbmFnZXJ9IHNlbGYgb3IgdmFsdWVcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUudGltZW91dCA9IGZ1bmN0aW9uICh2KSB7XG4gIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX3RpbWVvdXQ7XG4gIHRoaXMuX3RpbWVvdXQgPSB2O1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU3RhcnRzIHRyeWluZyB0byByZWNvbm5lY3QgaWYgcmVjb25uZWN0aW9uIGlzIGVuYWJsZWQgYW5kIHdlIGhhdmUgbm90XG4gKiBzdGFydGVkIHJlY29ubmVjdGluZyB5ZXRcbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5tYXliZVJlY29ubmVjdE9uT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICBpZiAoIXRoaXMucmVjb25uZWN0aW5nICYmIHRoaXMuX3JlY29ubmVjdGlvbiAmJiB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAvLyBrZWVwcyByZWNvbm5lY3Rpb24gZnJvbSBmaXJpbmcgdHdpY2UgZm9yIHRoZSBzYW1lIHJlY29ubmVjdGlvbiBsb29wXG4gICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBjdXJyZW50IHRyYW5zcG9ydCBgc29ja2V0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvcHRpb25hbCwgY2FsbGJhY2tcbiAqIEByZXR1cm4ge01hbmFnZXJ9IHNlbGZcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub3BlbiA9XG5NYW5hZ2VyLnByb3RvdHlwZS5jb25uZWN0ID0gZnVuY3Rpb24gKGZuLCBvcHRzKSB7XG4gIGRlYnVnKCdyZWFkeVN0YXRlICVzJywgdGhpcy5yZWFkeVN0YXRlKTtcbiAgaWYgKH50aGlzLnJlYWR5U3RhdGUuaW5kZXhPZignb3BlbicpKSByZXR1cm4gdGhpcztcblxuICBkZWJ1Zygnb3BlbmluZyAlcycsIHRoaXMudXJpKTtcbiAgdGhpcy5lbmdpbmUgPSBlaW8odGhpcy51cmksIHRoaXMub3B0cyk7XG4gIHZhciBzb2NrZXQgPSB0aGlzLmVuZ2luZTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLnJlYWR5U3RhdGUgPSAnb3BlbmluZyc7XG4gIHRoaXMuc2tpcFJlY29ubmVjdCA9IGZhbHNlO1xuXG4gIC8vIGVtaXQgYG9wZW5gXG4gIHZhciBvcGVuU3ViID0gb24oc29ja2V0LCAnb3BlbicsIGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLm9ub3BlbigpO1xuICAgIGZuICYmIGZuKCk7XG4gIH0pO1xuXG4gIC8vIGVtaXQgYGNvbm5lY3RfZXJyb3JgXG4gIHZhciBlcnJvclN1YiA9IG9uKHNvY2tldCwgJ2Vycm9yJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBkZWJ1ZygnY29ubmVjdF9lcnJvcicpO1xuICAgIHNlbGYuY2xlYW51cCgpO1xuICAgIHNlbGYucmVhZHlTdGF0ZSA9ICdjbG9zZWQnO1xuICAgIHNlbGYuZW1pdEFsbCgnY29ubmVjdF9lcnJvcicsIGRhdGEpO1xuICAgIGlmIChmbikge1xuICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignQ29ubmVjdGlvbiBlcnJvcicpO1xuICAgICAgZXJyLmRhdGEgPSBkYXRhO1xuICAgICAgZm4oZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT25seSBkbyB0aGlzIGlmIHRoZXJlIGlzIG5vIGZuIHRvIGhhbmRsZSB0aGUgZXJyb3JcbiAgICAgIHNlbGYubWF5YmVSZWNvbm5lY3RPbk9wZW4oKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGVtaXQgYGNvbm5lY3RfdGltZW91dGBcbiAgaWYgKGZhbHNlICE9PSB0aGlzLl90aW1lb3V0KSB7XG4gICAgdmFyIHRpbWVvdXQgPSB0aGlzLl90aW1lb3V0O1xuICAgIGRlYnVnKCdjb25uZWN0IGF0dGVtcHQgd2lsbCB0aW1lb3V0IGFmdGVyICVkJywgdGltZW91dCk7XG5cbiAgICBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgb3BlblN1Yi5kZXN0cm95KCk7IC8vIHByZXZlbnRzIGEgcmFjZSBjb25kaXRpb24gd2l0aCB0aGUgJ29wZW4nIGV2ZW50XG4gICAgfVxuXG4gICAgLy8gc2V0IHRpbWVyXG4gICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBkZWJ1ZygnY29ubmVjdCBhdHRlbXB0IHRpbWVkIG91dCBhZnRlciAlZCcsIHRpbWVvdXQpO1xuICAgICAgb3BlblN1Yi5kZXN0cm95KCk7XG4gICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgIHNvY2tldC5lbWl0KCdlcnJvcicsICd0aW1lb3V0Jyk7XG4gICAgICBzZWxmLmVtaXRBbGwoJ2Nvbm5lY3RfdGltZW91dCcsIHRpbWVvdXQpO1xuICAgIH0sIHRpbWVvdXQpO1xuXG4gICAgdGhpcy5zdWJzLnB1c2goe1xuICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdGhpcy5zdWJzLnB1c2gob3BlblN1Yik7XG4gIHRoaXMuc3Vicy5wdXNoKGVycm9yU3ViKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IG9wZW4uXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1Zygnb3BlbicpO1xuXG4gIC8vIGNsZWFyIG9sZCBzdWJzXG4gIHRoaXMuY2xlYW51cCgpO1xuXG4gIC8vIG1hcmsgYXMgb3BlblxuICB0aGlzLnJlYWR5U3RhdGUgPSAnb3Blbic7XG4gIHRoaXMuZW1pdCgnb3BlbicpO1xuXG4gIC8vIGFkZCBuZXcgc3Vic1xuICB2YXIgc29ja2V0ID0gdGhpcy5lbmdpbmU7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHNvY2tldCwgJ2RhdGEnLCBiaW5kKHRoaXMsICdvbmRhdGEnKSkpO1xuICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsICdwaW5nJywgYmluZCh0aGlzLCAnb25waW5nJykpKTtcbiAgdGhpcy5zdWJzLnB1c2gob24oc29ja2V0LCAncG9uZycsIGJpbmQodGhpcywgJ29ucG9uZycpKSk7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHNvY2tldCwgJ2Vycm9yJywgYmluZCh0aGlzLCAnb25lcnJvcicpKSk7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHNvY2tldCwgJ2Nsb3NlJywgYmluZCh0aGlzLCAnb25jbG9zZScpKSk7XG4gIHRoaXMuc3Vicy5wdXNoKG9uKHRoaXMuZGVjb2RlciwgJ2RlY29kZWQnLCBiaW5kKHRoaXMsICdvbmRlY29kZWQnKSkpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBhIHBpbmcuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25waW5nID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmxhc3RQaW5nID0gbmV3IERhdGUoKTtcbiAgdGhpcy5lbWl0QWxsKCdwaW5nJyk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGEgcGFja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9ucG9uZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbWl0QWxsKCdwb25nJywgbmV3IERhdGUoKSAtIHRoaXMubGFzdFBpbmcpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2l0aCBkYXRhLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9uZGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9uZGVjb2RlZCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgdGhpcy5lbWl0KCdwYWNrZXQnLCBwYWNrZXQpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBzb2NrZXQgZXJyb3IuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgZGVidWcoJ2Vycm9yJywgZXJyKTtcbiAgdGhpcy5lbWl0QWxsKCdlcnJvcicsIGVycik7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc29ja2V0IGZvciB0aGUgZ2l2ZW4gYG5zcGAuXG4gKlxuICogQHJldHVybiB7U29ja2V0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5zb2NrZXQgPSBmdW5jdGlvbiAobnNwLCBvcHRzKSB7XG4gIHZhciBzb2NrZXQgPSB0aGlzLm5zcHNbbnNwXTtcbiAgaWYgKCFzb2NrZXQpIHtcbiAgICBzb2NrZXQgPSBuZXcgU29ja2V0KHRoaXMsIG5zcCwgb3B0cyk7XG4gICAgdGhpcy5uc3BzW25zcF0gPSBzb2NrZXQ7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNvY2tldC5vbignY29ubmVjdGluZycsIG9uQ29ubmVjdGluZyk7XG4gICAgc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgc29ja2V0LmlkID0gc2VsZi5nZW5lcmF0ZUlkKG5zcCk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5hdXRvQ29ubmVjdCkge1xuICAgICAgLy8gbWFudWFsbHkgY2FsbCBoZXJlIHNpbmNlIGNvbm5lY3RpbmcgZXZlbnQgaXMgZmlyZWQgYmVmb3JlIGxpc3RlbmluZ1xuICAgICAgb25Db25uZWN0aW5nKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25Db25uZWN0aW5nICgpIHtcbiAgICBpZiAoIX5pbmRleE9mKHNlbGYuY29ubmVjdGluZywgc29ja2V0KSkge1xuICAgICAgc2VsZi5jb25uZWN0aW5nLnB1c2goc29ja2V0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc29ja2V0O1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBhIHNvY2tldCBjbG9zZS5cbiAqXG4gKiBAcGFyYW0ge1NvY2tldH0gc29ja2V0XG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChzb2NrZXQpIHtcbiAgdmFyIGluZGV4ID0gaW5kZXhPZih0aGlzLmNvbm5lY3RpbmcsIHNvY2tldCk7XG4gIGlmICh+aW5kZXgpIHRoaXMuY29ubmVjdGluZy5zcGxpY2UoaW5kZXgsIDEpO1xuICBpZiAodGhpcy5jb25uZWN0aW5nLmxlbmd0aCkgcmV0dXJuO1xuXG4gIHRoaXMuY2xvc2UoKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgcGFja2V0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLnBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgZGVidWcoJ3dyaXRpbmcgcGFja2V0ICVqJywgcGFja2V0KTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAocGFja2V0LnF1ZXJ5ICYmIHBhY2tldC50eXBlID09PSAwKSBwYWNrZXQubnNwICs9ICc/JyArIHBhY2tldC5xdWVyeTtcblxuICBpZiAoIXNlbGYuZW5jb2RpbmcpIHtcbiAgICAvLyBlbmNvZGUsIHRoZW4gd3JpdGUgdG8gZW5naW5lIHdpdGggcmVzdWx0XG4gICAgc2VsZi5lbmNvZGluZyA9IHRydWU7XG4gICAgdGhpcy5lbmNvZGVyLmVuY29kZShwYWNrZXQsIGZ1bmN0aW9uIChlbmNvZGVkUGFja2V0cykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzZWxmLmVuZ2luZS53cml0ZShlbmNvZGVkUGFja2V0c1tpXSwgcGFja2V0Lm9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgc2VsZi5lbmNvZGluZyA9IGZhbHNlO1xuICAgICAgc2VsZi5wcm9jZXNzUGFja2V0UXVldWUoKTtcbiAgICB9KTtcbiAgfSBlbHNlIHsgLy8gYWRkIHBhY2tldCB0byB0aGUgcXVldWVcbiAgICBzZWxmLnBhY2tldEJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gIH1cbn07XG5cbi8qKlxuICogSWYgcGFja2V0IGJ1ZmZlciBpcyBub24tZW1wdHksIGJlZ2lucyBlbmNvZGluZyB0aGVcbiAqIG5leHQgcGFja2V0IGluIGxpbmUuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BhY2tldFF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5wYWNrZXRCdWZmZXIubGVuZ3RoID4gMCAmJiAhdGhpcy5lbmNvZGluZykge1xuICAgIHZhciBwYWNrID0gdGhpcy5wYWNrZXRCdWZmZXIuc2hpZnQoKTtcbiAgICB0aGlzLnBhY2tldChwYWNrKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDbGVhbiB1cCB0cmFuc3BvcnQgc3Vic2NyaXB0aW9ucyBhbmQgcGFja2V0IGJ1ZmZlci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygnY2xlYW51cCcpO1xuXG4gIHZhciBzdWJzTGVuZ3RoID0gdGhpcy5zdWJzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzTGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc3ViID0gdGhpcy5zdWJzLnNoaWZ0KCk7XG4gICAgc3ViLmRlc3Ryb3koKTtcbiAgfVxuXG4gIHRoaXMucGFja2V0QnVmZmVyID0gW107XG4gIHRoaXMuZW5jb2RpbmcgPSBmYWxzZTtcbiAgdGhpcy5sYXN0UGluZyA9IG51bGw7XG5cbiAgdGhpcy5kZWNvZGVyLmRlc3Ryb3koKTtcbn07XG5cbi8qKlxuICogQ2xvc2UgdGhlIGN1cnJlbnQgc29ja2V0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLmNsb3NlID1cbk1hbmFnZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdkaXNjb25uZWN0Jyk7XG4gIHRoaXMuc2tpcFJlY29ubmVjdCA9IHRydWU7XG4gIHRoaXMucmVjb25uZWN0aW5nID0gZmFsc2U7XG4gIGlmICgnb3BlbmluZycgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgIC8vIGBvbmNsb3NlYCB3aWxsIG5vdCBmaXJlIGJlY2F1c2VcbiAgICAvLyBhbiBvcGVuIGV2ZW50IG5ldmVyIGhhcHBlbmVkXG4gICAgdGhpcy5jbGVhbnVwKCk7XG4gIH1cbiAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gIHRoaXMucmVhZHlTdGF0ZSA9ICdjbG9zZWQnO1xuICBpZiAodGhpcy5lbmdpbmUpIHRoaXMuZW5naW5lLmNsb3NlKCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIGVuZ2luZSBjbG9zZS5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5vbmNsb3NlID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICBkZWJ1Zygnb25jbG9zZScpO1xuXG4gIHRoaXMuY2xlYW51cCgpO1xuICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgdGhpcy5yZWFkeVN0YXRlID0gJ2Nsb3NlZCc7XG4gIHRoaXMuZW1pdCgnY2xvc2UnLCByZWFzb24pO1xuXG4gIGlmICh0aGlzLl9yZWNvbm5lY3Rpb24gJiYgIXRoaXMuc2tpcFJlY29ubmVjdCkge1xuICAgIHRoaXMucmVjb25uZWN0KCk7XG4gIH1cbn07XG5cbi8qKlxuICogQXR0ZW1wdCBhIHJlY29ubmVjdGlvbi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5NYW5hZ2VyLnByb3RvdHlwZS5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnJlY29ubmVjdGluZyB8fCB0aGlzLnNraXBSZWNvbm5lY3QpIHJldHVybiB0aGlzO1xuXG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAodGhpcy5iYWNrb2ZmLmF0dGVtcHRzID49IHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKSB7XG4gICAgZGVidWcoJ3JlY29ubmVjdCBmYWlsZWQnKTtcbiAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICB0aGlzLmVtaXRBbGwoJ3JlY29ubmVjdF9mYWlsZWQnKTtcbiAgICB0aGlzLnJlY29ubmVjdGluZyA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHZhciBkZWxheSA9IHRoaXMuYmFja29mZi5kdXJhdGlvbigpO1xuICAgIGRlYnVnKCd3aWxsIHdhaXQgJWRtcyBiZWZvcmUgcmVjb25uZWN0IGF0dGVtcHQnLCBkZWxheSk7XG5cbiAgICB0aGlzLnJlY29ubmVjdGluZyA9IHRydWU7XG4gICAgdmFyIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5za2lwUmVjb25uZWN0KSByZXR1cm47XG5cbiAgICAgIGRlYnVnKCdhdHRlbXB0aW5nIHJlY29ubmVjdCcpO1xuICAgICAgc2VsZi5lbWl0QWxsKCdyZWNvbm5lY3RfYXR0ZW1wdCcsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG4gICAgICBzZWxmLmVtaXRBbGwoJ3JlY29ubmVjdGluZycsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG5cbiAgICAgIC8vIGNoZWNrIGFnYWluIGZvciB0aGUgY2FzZSBzb2NrZXQgY2xvc2VkIGluIGFib3ZlIGV2ZW50c1xuICAgICAgaWYgKHNlbGYuc2tpcFJlY29ubmVjdCkgcmV0dXJuO1xuXG4gICAgICBzZWxmLm9wZW4oZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZGVidWcoJ3JlY29ubmVjdCBhdHRlbXB0IGVycm9yJyk7XG4gICAgICAgICAgc2VsZi5yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLnJlY29ubmVjdCgpO1xuICAgICAgICAgIHNlbGYuZW1pdEFsbCgncmVjb25uZWN0X2Vycm9yJywgZXJyLmRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlYnVnKCdyZWNvbm5lY3Qgc3VjY2VzcycpO1xuICAgICAgICAgIHNlbGYub25yZWNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgZGVsYXkpO1xuXG4gICAgdGhpcy5zdWJzLnB1c2goe1xuICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVjb25uZWN0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk1hbmFnZXIucHJvdG90eXBlLm9ucmVjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYXR0ZW1wdCA9IHRoaXMuYmFja29mZi5hdHRlbXB0cztcbiAgdGhpcy5yZWNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gIHRoaXMudXBkYXRlU29ja2V0SWRzKCk7XG4gIHRoaXMuZW1pdEFsbCgncmVjb25uZWN0JywgYXR0ZW1wdCk7XG59O1xuIiwiXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gb247XG5cbi8qKlxuICogSGVscGVyIGZvciBzdWJzY3JpcHRpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEV2ZW50RW1pdHRlcn0gb2JqIHdpdGggYEVtaXR0ZXJgIG1peGluIG9yIGBFdmVudEVtaXR0ZXJgXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgbmFtZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gb24gKG9iaiwgZXYsIGZuKSB7XG4gIG9iai5vbihldiwgZm4pO1xuICByZXR1cm4ge1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgIG9iai5yZW1vdmVMaXN0ZW5lcihldiwgZm4pO1xuICAgIH1cbiAgfTtcbn1cbiIsIlxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBwYXJzZXIgPSByZXF1aXJlKCdzb2NrZXQuaW8tcGFyc2VyJyk7XG52YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2NvbXBvbmVudC1lbWl0dGVyJyk7XG52YXIgdG9BcnJheSA9IHJlcXVpcmUoJ3RvLWFycmF5Jyk7XG52YXIgb24gPSByZXF1aXJlKCcuL29uJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJ2NvbXBvbmVudC1iaW5kJyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NrZXQuaW8tY2xpZW50OnNvY2tldCcpO1xudmFyIHBhcnNlcXMgPSByZXF1aXJlKCdwYXJzZXFzJyk7XG52YXIgaGFzQmluID0gcmVxdWlyZSgnaGFzLWJpbmFyeTInKTtcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBTb2NrZXQ7XG5cbi8qKlxuICogSW50ZXJuYWwgZXZlbnRzIChibGFja2xpc3RlZCkuXG4gKiBUaGVzZSBldmVudHMgY2FuJ3QgYmUgZW1pdHRlZCBieSB0aGUgdXNlci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG52YXIgZXZlbnRzID0ge1xuICBjb25uZWN0OiAxLFxuICBjb25uZWN0X2Vycm9yOiAxLFxuICBjb25uZWN0X3RpbWVvdXQ6IDEsXG4gIGNvbm5lY3Rpbmc6IDEsXG4gIGRpc2Nvbm5lY3Q6IDEsXG4gIGVycm9yOiAxLFxuICByZWNvbm5lY3Q6IDEsXG4gIHJlY29ubmVjdF9hdHRlbXB0OiAxLFxuICByZWNvbm5lY3RfZmFpbGVkOiAxLFxuICByZWNvbm5lY3RfZXJyb3I6IDEsXG4gIHJlY29ubmVjdGluZzogMSxcbiAgcGluZzogMSxcbiAgcG9uZzogMVxufTtcblxuLyoqXG4gKiBTaG9ydGN1dCB0byBgRW1pdHRlciNlbWl0YC5cbiAqL1xuXG52YXIgZW1pdCA9IEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ7XG5cbi8qKlxuICogYFNvY2tldGAgY29uc3RydWN0b3IuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBTb2NrZXQgKGlvLCBuc3AsIG9wdHMpIHtcbiAgdGhpcy5pbyA9IGlvO1xuICB0aGlzLm5zcCA9IG5zcDtcbiAgdGhpcy5qc29uID0gdGhpczsgLy8gY29tcGF0XG4gIHRoaXMuaWRzID0gMDtcbiAgdGhpcy5hY2tzID0ge307XG4gIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbiAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgdGhpcy5kaXNjb25uZWN0ZWQgPSB0cnVlO1xuICB0aGlzLmZsYWdzID0ge307XG4gIGlmIChvcHRzICYmIG9wdHMucXVlcnkpIHtcbiAgICB0aGlzLnF1ZXJ5ID0gb3B0cy5xdWVyeTtcbiAgfVxuICBpZiAodGhpcy5pby5hdXRvQ29ubmVjdCkgdGhpcy5vcGVuKCk7XG59XG5cbi8qKlxuICogTWl4IGluIGBFbWl0dGVyYC5cbiAqL1xuXG5FbWl0dGVyKFNvY2tldC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIFN1YnNjcmliZSB0byBvcGVuLCBjbG9zZSBhbmQgcGFja2V0IGV2ZW50c1xuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuc3ViRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5zdWJzKSByZXR1cm47XG5cbiAgdmFyIGlvID0gdGhpcy5pbztcbiAgdGhpcy5zdWJzID0gW1xuICAgIG9uKGlvLCAnb3BlbicsIGJpbmQodGhpcywgJ29ub3BlbicpKSxcbiAgICBvbihpbywgJ3BhY2tldCcsIGJpbmQodGhpcywgJ29ucGFja2V0JykpLFxuICAgIG9uKGlvLCAnY2xvc2UnLCBiaW5kKHRoaXMsICdvbmNsb3NlJykpXG4gIF07XG59O1xuXG4vKipcbiAqIFwiT3BlbnNcIiB0aGUgc29ja2V0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vcGVuID1cblNvY2tldC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY29ubmVjdGVkKSByZXR1cm4gdGhpcztcblxuICB0aGlzLnN1YkV2ZW50cygpO1xuICBpZiAoIXRoaXMuaW8ucmVjb25uZWN0aW5nKSB0aGlzLmlvLm9wZW4oKTsgLy8gZW5zdXJlIG9wZW5cbiAgaWYgKCdvcGVuJyA9PT0gdGhpcy5pby5yZWFkeVN0YXRlKSB0aGlzLm9ub3BlbigpO1xuICB0aGlzLmVtaXQoJ2Nvbm5lY3RpbmcnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNlbmRzIGEgYG1lc3NhZ2VgIGV2ZW50LlxuICpcbiAqIEByZXR1cm4ge1NvY2tldH0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMpO1xuICBhcmdzLnVuc2hpZnQoJ21lc3NhZ2UnKTtcbiAgdGhpcy5lbWl0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogT3ZlcnJpZGUgYGVtaXRgLlxuICogSWYgdGhlIGV2ZW50IGlzIGluIGBldmVudHNgLCBpdCdzIGVtaXR0ZWQgbm9ybWFsbHkuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IG5hbWVcbiAqIEByZXR1cm4ge1NvY2tldH0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiAoZXYpIHtcbiAgaWYgKGV2ZW50cy5oYXNPd25Qcm9wZXJ0eShldikpIHtcbiAgICBlbWl0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzKTtcbiAgdmFyIHBhY2tldCA9IHtcbiAgICB0eXBlOiAodGhpcy5mbGFncy5iaW5hcnkgIT09IHVuZGVmaW5lZCA/IHRoaXMuZmxhZ3MuYmluYXJ5IDogaGFzQmluKGFyZ3MpKSA/IHBhcnNlci5CSU5BUllfRVZFTlQgOiBwYXJzZXIuRVZFTlQsXG4gICAgZGF0YTogYXJnc1xuICB9O1xuXG4gIHBhY2tldC5vcHRpb25zID0ge307XG4gIHBhY2tldC5vcHRpb25zLmNvbXByZXNzID0gIXRoaXMuZmxhZ3MgfHwgZmFsc2UgIT09IHRoaXMuZmxhZ3MuY29tcHJlc3M7XG5cbiAgLy8gZXZlbnQgYWNrIGNhbGxiYWNrXG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdKSB7XG4gICAgZGVidWcoJ2VtaXR0aW5nIHBhY2tldCB3aXRoIGFjayBpZCAlZCcsIHRoaXMuaWRzKTtcbiAgICB0aGlzLmFja3NbdGhpcy5pZHNdID0gYXJncy5wb3AoKTtcbiAgICBwYWNrZXQuaWQgPSB0aGlzLmlkcysrO1xuICB9XG5cbiAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgdGhpcy5wYWNrZXQocGFja2V0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNlbmRCdWZmZXIucHVzaChwYWNrZXQpO1xuICB9XG5cbiAgdGhpcy5mbGFncyA9IHt9O1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZW5kcyBhIHBhY2tldC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLnBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgcGFja2V0Lm5zcCA9IHRoaXMubnNwO1xuICB0aGlzLmlvLnBhY2tldChwYWNrZXQpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBlbmdpbmUgYG9wZW5gLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25vcGVuID0gZnVuY3Rpb24gKCkge1xuICBkZWJ1ZygndHJhbnNwb3J0IGlzIG9wZW4gLSBjb25uZWN0aW5nJyk7XG5cbiAgLy8gd3JpdGUgY29ubmVjdCBwYWNrZXQgaWYgbmVjZXNzYXJ5XG4gIGlmICgnLycgIT09IHRoaXMubnNwKSB7XG4gICAgaWYgKHRoaXMucXVlcnkpIHtcbiAgICAgIHZhciBxdWVyeSA9IHR5cGVvZiB0aGlzLnF1ZXJ5ID09PSAnb2JqZWN0JyA/IHBhcnNlcXMuZW5jb2RlKHRoaXMucXVlcnkpIDogdGhpcy5xdWVyeTtcbiAgICAgIGRlYnVnKCdzZW5kaW5nIGNvbm5lY3QgcGFja2V0IHdpdGggcXVlcnkgJXMnLCBxdWVyeSk7XG4gICAgICB0aGlzLnBhY2tldCh7dHlwZTogcGFyc2VyLkNPTk5FQ1QsIHF1ZXJ5OiBxdWVyeX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBhY2tldCh7dHlwZTogcGFyc2VyLkNPTk5FQ1R9KTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gZW5naW5lIGBjbG9zZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHJlYXNvblxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbmNsb3NlID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICBkZWJ1ZygnY2xvc2UgKCVzKScsIHJlYXNvbik7XG4gIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gIHRoaXMuZGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgZGVsZXRlIHRoaXMuaWQ7XG4gIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcsIHJlYXNvbik7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aXRoIHNvY2tldCBwYWNrZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbnBhY2tldCA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgdmFyIHNhbWVOYW1lc3BhY2UgPSBwYWNrZXQubnNwID09PSB0aGlzLm5zcDtcbiAgdmFyIHJvb3ROYW1lc3BhY2VFcnJvciA9IHBhY2tldC50eXBlID09PSBwYXJzZXIuRVJST1IgJiYgcGFja2V0Lm5zcCA9PT0gJy8nO1xuXG4gIGlmICghc2FtZU5hbWVzcGFjZSAmJiAhcm9vdE5hbWVzcGFjZUVycm9yKSByZXR1cm47XG5cbiAgc3dpdGNoIChwYWNrZXQudHlwZSkge1xuICAgIGNhc2UgcGFyc2VyLkNPTk5FQ1Q6XG4gICAgICB0aGlzLm9uY29ubmVjdCgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHBhcnNlci5FVkVOVDpcbiAgICAgIHRoaXMub25ldmVudChwYWNrZXQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHBhcnNlci5CSU5BUllfRVZFTlQ6XG4gICAgICB0aGlzLm9uZXZlbnQocGFja2V0KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBwYXJzZXIuQUNLOlxuICAgICAgdGhpcy5vbmFjayhwYWNrZXQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHBhcnNlci5CSU5BUllfQUNLOlxuICAgICAgdGhpcy5vbmFjayhwYWNrZXQpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHBhcnNlci5ESVNDT05ORUNUOlxuICAgICAgdGhpcy5vbmRpc2Nvbm5lY3QoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBwYXJzZXIuRVJST1I6XG4gICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgcGFja2V0LmRhdGEpO1xuICAgICAgYnJlYWs7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbmV2ZW50ID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICB2YXIgYXJncyA9IHBhY2tldC5kYXRhIHx8IFtdO1xuICBkZWJ1ZygnZW1pdHRpbmcgZXZlbnQgJWonLCBhcmdzKTtcblxuICBpZiAobnVsbCAhPSBwYWNrZXQuaWQpIHtcbiAgICBkZWJ1ZygnYXR0YWNoaW5nIGFjayBjYWxsYmFjayB0byBldmVudCcpO1xuICAgIGFyZ3MucHVzaCh0aGlzLmFjayhwYWNrZXQuaWQpKTtcbiAgfVxuXG4gIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgIGVtaXQuYXBwbHkodGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZWNlaXZlQnVmZmVyLnB1c2goYXJncyk7XG4gIH1cbn07XG5cbi8qKlxuICogUHJvZHVjZXMgYW4gYWNrIGNhbGxiYWNrIHRvIGVtaXQgd2l0aCBhbiBldmVudC5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmFjayA9IGZ1bmN0aW9uIChpZCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBzZW50ID0gZmFsc2U7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcHJldmVudCBkb3VibGUgY2FsbGJhY2tzXG4gICAgaWYgKHNlbnQpIHJldHVybjtcbiAgICBzZW50ID0gdHJ1ZTtcbiAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICBkZWJ1Zygnc2VuZGluZyBhY2sgJWonLCBhcmdzKTtcblxuICAgIHNlbGYucGFja2V0KHtcbiAgICAgIHR5cGU6IGhhc0JpbihhcmdzKSA/IHBhcnNlci5CSU5BUllfQUNLIDogcGFyc2VyLkFDSyxcbiAgICAgIGlkOiBpZCxcbiAgICAgIGRhdGE6IGFyZ3NcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gYSBzZXJ2ZXIgYWNrbm93bGVnZW1lbnQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbmFjayA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgdmFyIGFjayA9IHRoaXMuYWNrc1twYWNrZXQuaWRdO1xuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGFjaykge1xuICAgIGRlYnVnKCdjYWxsaW5nIGFjayAlcyB3aXRoICVqJywgcGFja2V0LmlkLCBwYWNrZXQuZGF0YSk7XG4gICAgYWNrLmFwcGx5KHRoaXMsIHBhY2tldC5kYXRhKTtcbiAgICBkZWxldGUgdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gIH0gZWxzZSB7XG4gICAgZGVidWcoJ2JhZCBhY2sgJXMnLCBwYWNrZXQuaWQpO1xuICB9XG59O1xuXG4vKipcbiAqIENhbGxlZCB1cG9uIHNlcnZlciBjb25uZWN0LlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUub25jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNvbm5lY3RlZCA9IHRydWU7XG4gIHRoaXMuZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gIHRoaXMuZW1pdCgnY29ubmVjdCcpO1xuICB0aGlzLmVtaXRCdWZmZXJlZCgpO1xufTtcblxuLyoqXG4gKiBFbWl0IGJ1ZmZlcmVkIGV2ZW50cyAocmVjZWl2ZWQgYW5kIGVtaXR0ZWQpLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblNvY2tldC5wcm90b3R5cGUuZW1pdEJ1ZmZlcmVkID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IHRoaXMucmVjZWl2ZUJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgIGVtaXQuYXBwbHkodGhpcywgdGhpcy5yZWNlaXZlQnVmZmVyW2ldKTtcbiAgfVxuICB0aGlzLnJlY2VpdmVCdWZmZXIgPSBbXTtcblxuICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5zZW5kQnVmZmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgdGhpcy5wYWNrZXQodGhpcy5zZW5kQnVmZmVyW2ldKTtcbiAgfVxuICB0aGlzLnNlbmRCdWZmZXIgPSBbXTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHVwb24gc2VydmVyIGRpc2Nvbm5lY3QuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5vbmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIGRlYnVnKCdzZXJ2ZXIgZGlzY29ubmVjdCAoJXMpJywgdGhpcy5uc3ApO1xuICB0aGlzLmRlc3Ryb3koKTtcbiAgdGhpcy5vbmNsb3NlKCdpbyBzZXJ2ZXIgZGlzY29ubmVjdCcpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgdXBvbiBmb3JjZWQgY2xpZW50L3NlcnZlciBzaWRlIGRpc2Nvbm5lY3Rpb25zLFxuICogdGhpcyBtZXRob2QgZW5zdXJlcyB0aGUgbWFuYWdlciBzdG9wcyB0cmFja2luZyB1cyBhbmRcbiAqIHRoYXQgcmVjb25uZWN0aW9ucyBkb24ndCBnZXQgdHJpZ2dlcmVkIGZvciB0aGlzLlxuICpcbiAqIEBhcGkgcHJpdmF0ZS5cbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnN1YnMpIHtcbiAgICAvLyBjbGVhbiBzdWJzY3JpcHRpb25zIHRvIGF2b2lkIHJlY29ubmVjdGlvbnNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3Vicy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5zdWJzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5zdWJzID0gbnVsbDtcbiAgfVxuXG4gIHRoaXMuaW8uZGVzdHJveSh0aGlzKTtcbn07XG5cbi8qKlxuICogRGlzY29ubmVjdHMgdGhlIHNvY2tldCBtYW51YWxseS5cbiAqXG4gKiBAcmV0dXJuIHtTb2NrZXR9IHNlbGZcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuU29ja2V0LnByb3RvdHlwZS5jbG9zZSA9XG5Tb2NrZXQucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgIGRlYnVnKCdwZXJmb3JtaW5nIGRpc2Nvbm5lY3QgKCVzKScsIHRoaXMubnNwKTtcbiAgICB0aGlzLnBhY2tldCh7IHR5cGU6IHBhcnNlci5ESVNDT05ORUNUIH0pO1xuICB9XG5cbiAgLy8gcmVtb3ZlIHNvY2tldCBmcm9tIHBvb2xcbiAgdGhpcy5kZXN0cm95KCk7XG5cbiAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgLy8gZmlyZSBldmVudHNcbiAgICB0aGlzLm9uY2xvc2UoJ2lvIGNsaWVudCBkaXNjb25uZWN0Jyk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIGNvbXByZXNzIGZsYWcuXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBpZiBgdHJ1ZWAsIGNvbXByZXNzZXMgdGhlIHNlbmRpbmcgZGF0YVxuICogQHJldHVybiB7U29ja2V0fSBzZWxmXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblNvY2tldC5wcm90b3R5cGUuY29tcHJlc3MgPSBmdW5jdGlvbiAoY29tcHJlc3MpIHtcbiAgdGhpcy5mbGFncy5jb21wcmVzcyA9IGNvbXByZXNzO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgYmluYXJ5IGZsYWdcbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHdoZXRoZXIgdGhlIGVtaXR0ZWQgZGF0YSBjb250YWlucyBiaW5hcnlcbiAqIEByZXR1cm4ge1NvY2tldH0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Tb2NrZXQucHJvdG90eXBlLmJpbmFyeSA9IGZ1bmN0aW9uIChiaW5hcnkpIHtcbiAgdGhpcy5mbGFncy5iaW5hcnkgPSBiaW5hcnk7XG4gIHJldHVybiB0aGlzO1xufTtcbiIsIlxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBwYXJzZXVyaSA9IHJlcXVpcmUoJ3BhcnNldXJpJyk7XG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NrZXQuaW8tY2xpZW50OnVybCcpO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gdXJsO1xuXG4vKipcbiAqIFVSTCBwYXJzZXIuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICogQHBhcmFtIHtPYmplY3R9IEFuIG9iamVjdCBtZWFudCB0byBtaW1pYyB3aW5kb3cubG9jYXRpb24uXG4gKiAgICAgICAgICAgICAgICAgRGVmYXVsdHMgdG8gd2luZG93LmxvY2F0aW9uLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiB1cmwgKHVyaSwgbG9jKSB7XG4gIHZhciBvYmogPSB1cmk7XG5cbiAgLy8gZGVmYXVsdCB0byB3aW5kb3cubG9jYXRpb25cbiAgbG9jID0gbG9jIHx8ICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnICYmIGxvY2F0aW9uKTtcbiAgaWYgKG51bGwgPT0gdXJpKSB1cmkgPSBsb2MucHJvdG9jb2wgKyAnLy8nICsgbG9jLmhvc3Q7XG5cbiAgLy8gcmVsYXRpdmUgcGF0aCBzdXBwb3J0XG4gIGlmICgnc3RyaW5nJyA9PT0gdHlwZW9mIHVyaSkge1xuICAgIGlmICgnLycgPT09IHVyaS5jaGFyQXQoMCkpIHtcbiAgICAgIGlmICgnLycgPT09IHVyaS5jaGFyQXQoMSkpIHtcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgdXJpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXJpID0gbG9jLmhvc3QgKyB1cmk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCEvXihodHRwcz98d3NzPyk6XFwvXFwvLy50ZXN0KHVyaSkpIHtcbiAgICAgIGRlYnVnKCdwcm90b2NvbC1sZXNzIHVybCAlcycsIHVyaSk7XG4gICAgICBpZiAoJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBsb2MpIHtcbiAgICAgICAgdXJpID0gbG9jLnByb3RvY29sICsgJy8vJyArIHVyaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVyaSA9ICdodHRwczovLycgKyB1cmk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcGFyc2VcbiAgICBkZWJ1ZygncGFyc2UgJXMnLCB1cmkpO1xuICAgIG9iaiA9IHBhcnNldXJpKHVyaSk7XG4gIH1cblxuICAvLyBtYWtlIHN1cmUgd2UgdHJlYXQgYGxvY2FsaG9zdDo4MGAgYW5kIGBsb2NhbGhvc3RgIGVxdWFsbHlcbiAgaWYgKCFvYmoucG9ydCkge1xuICAgIGlmICgvXihodHRwfHdzKSQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgb2JqLnBvcnQgPSAnODAnO1xuICAgIH0gZWxzZSBpZiAoL14oaHR0cHx3cylzJC8udGVzdChvYmoucHJvdG9jb2wpKSB7XG4gICAgICBvYmoucG9ydCA9ICc0NDMnO1xuICAgIH1cbiAgfVxuXG4gIG9iai5wYXRoID0gb2JqLnBhdGggfHwgJy8nO1xuXG4gIHZhciBpcHY2ID0gb2JqLmhvc3QuaW5kZXhPZignOicpICE9PSAtMTtcbiAgdmFyIGhvc3QgPSBpcHY2ID8gJ1snICsgb2JqLmhvc3QgKyAnXScgOiBvYmouaG9zdDtcblxuICAvLyBkZWZpbmUgdW5pcXVlIGlkXG4gIG9iai5pZCA9IG9iai5wcm90b2NvbCArICc6Ly8nICsgaG9zdCArICc6JyArIG9iai5wb3J0O1xuICAvLyBkZWZpbmUgaHJlZlxuICBvYmouaHJlZiA9IG9iai5wcm90b2NvbCArICc6Ly8nICsgaG9zdCArIChsb2MgJiYgbG9jLnBvcnQgPT09IG9iai5wb3J0ID8gJycgOiAoJzonICsgb2JqLnBvcnQpKTtcblxuICByZXR1cm4gb2JqO1xufVxuIiwiLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGVidWcnKTtcbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lXG4gICAgICAgICAgICAgICAmJiAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lLnN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgID8gY2hyb21lLnN0b3JhZ2UubG9jYWxcbiAgICAgICAgICAgICAgICAgIDogbG9jYWxzdG9yYWdlKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuICAnIzAwMDBDQycsICcjMDAwMEZGJywgJyMwMDMzQ0MnLCAnIzAwMzNGRicsICcjMDA2NkNDJywgJyMwMDY2RkYnLCAnIzAwOTlDQycsXG4gICcjMDA5OUZGJywgJyMwMENDMDAnLCAnIzAwQ0MzMycsICcjMDBDQzY2JywgJyMwMENDOTknLCAnIzAwQ0NDQycsICcjMDBDQ0ZGJyxcbiAgJyMzMzAwQ0MnLCAnIzMzMDBGRicsICcjMzMzM0NDJywgJyMzMzMzRkYnLCAnIzMzNjZDQycsICcjMzM2NkZGJywgJyMzMzk5Q0MnLFxuICAnIzMzOTlGRicsICcjMzNDQzAwJywgJyMzM0NDMzMnLCAnIzMzQ0M2NicsICcjMzNDQzk5JywgJyMzM0NDQ0MnLCAnIzMzQ0NGRicsXG4gICcjNjYwMENDJywgJyM2NjAwRkYnLCAnIzY2MzNDQycsICcjNjYzM0ZGJywgJyM2NkNDMDAnLCAnIzY2Q0MzMycsICcjOTkwMENDJyxcbiAgJyM5OTAwRkYnLCAnIzk5MzNDQycsICcjOTkzM0ZGJywgJyM5OUNDMDAnLCAnIzk5Q0MzMycsICcjQ0MwMDAwJywgJyNDQzAwMzMnLFxuICAnI0NDMDA2NicsICcjQ0MwMDk5JywgJyNDQzAwQ0MnLCAnI0NDMDBGRicsICcjQ0MzMzAwJywgJyNDQzMzMzMnLCAnI0NDMzM2NicsXG4gICcjQ0MzMzk5JywgJyNDQzMzQ0MnLCAnI0NDMzNGRicsICcjQ0M2NjAwJywgJyNDQzY2MzMnLCAnI0NDOTkwMCcsICcjQ0M5OTMzJyxcbiAgJyNDQ0NDMDAnLCAnI0NDQ0MzMycsICcjRkYwMDAwJywgJyNGRjAwMzMnLCAnI0ZGMDA2NicsICcjRkYwMDk5JywgJyNGRjAwQ0MnLFxuICAnI0ZGMDBGRicsICcjRkYzMzAwJywgJyNGRjMzMzMnLCAnI0ZGMzM2NicsICcjRkYzMzk5JywgJyNGRjMzQ0MnLCAnI0ZGMzNGRicsXG4gICcjRkY2NjAwJywgJyNGRjY2MzMnLCAnI0ZGOTkwMCcsICcjRkY5OTMzJywgJyNGRkNDMDAnLCAnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG4gIC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG4gIC8vIGV4cGxpY2l0bHlcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmIHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gaXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcbiAgLy8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcbiAgcmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG4gICAgLy8gaXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuICAgICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG4gICAgLy8gaXMgZmlyZWZveCA+PSB2MzE/XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG4gICAgLy8gZG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24odikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVyci5tZXNzYWdlO1xuICB9XG59O1xuXG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG4gIHZhciB1c2VDb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblxuICBhcmdzWzBdID0gKHVzZUNvbG9ycyA/ICclYycgOiAnJylcbiAgICArIHRoaXMubmFtZXNwYWNlXG4gICAgKyAodXNlQ29sb3JzID8gJyAlYycgOiAnICcpXG4gICAgKyBhcmdzWzBdXG4gICAgKyAodXNlQ29sb3JzID8gJyVjICcgOiAnICcpXG4gICAgKyAnKycgKyBleHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cbiAgaWYgKCF1c2VDb2xvcnMpIHJldHVybjtcblxuICB2YXIgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG4gIGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpXG5cbiAgLy8gdGhlIGZpbmFsIFwiJWNcIiBpcyBzb21ld2hhdCB0cmlja3ksIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb3RoZXJcbiAgLy8gYXJndW1lbnRzIHBhc3NlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIHRoZSAlYywgc28gd2UgbmVlZCB0b1xuICAvLyBmaWd1cmUgb3V0IHRoZSBjb3JyZWN0IGluZGV4IHRvIGluc2VydCB0aGUgQ1NTIGludG9cbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGxhc3RDID0gMDtcbiAgYXJnc1swXS5yZXBsYWNlKC8lW2EtekEtWiVdL2csIGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgaWYgKCclJScgPT09IG1hdGNoKSByZXR1cm47XG4gICAgaW5kZXgrKztcbiAgICBpZiAoJyVjJyA9PT0gbWF0Y2gpIHtcbiAgICAgIC8vIHdlIG9ubHkgYXJlIGludGVyZXN0ZWQgaW4gdGhlICpsYXN0KiAlY1xuICAgICAgLy8gKHRoZSB1c2VyIG1heSBoYXZlIHByb3ZpZGVkIHRoZWlyIG93bilcbiAgICAgIGxhc3RDID0gaW5kZXg7XG4gICAgfVxuICB9KTtcblxuICBhcmdzLnNwbGljZShsYXN0QywgMCwgYyk7XG59XG5cbi8qKlxuICogSW52b2tlcyBgY29uc29sZS5sb2coKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmxvZ2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbG9nKCkge1xuICAvLyB0aGlzIGhhY2tlcnkgaXMgcmVxdWlyZWQgZm9yIElFOC85LCB3aGVyZVxuICAvLyB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbiBkb2Vzbid0IGhhdmUgJ2FwcGx5J1xuICByZXR1cm4gJ29iamVjdCcgPT09IHR5cGVvZiBjb25zb2xlXG4gICAgJiYgY29uc29sZS5sb2dcbiAgICAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZywgY29uc29sZSwgYXJndW1lbnRzKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2F2ZShuYW1lc3BhY2VzKSB7XG4gIHRyeSB7XG4gICAgaWYgKG51bGwgPT0gbmFtZXNwYWNlcykge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZyA9IG5hbWVzcGFjZXM7XG4gICAgfVxuICB9IGNhdGNoKGUpIHt9XG59XG5cbi8qKlxuICogTG9hZCBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfSByZXR1cm5zIHRoZSBwcmV2aW91c2x5IHBlcnNpc3RlZCBkZWJ1ZyBtb2Rlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9hZCgpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgciA9IGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG5cbiAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnWydkZWZhdWx0J10gPSBjcmVhdGVEZWJ1ZztcbmV4cG9ydHMuY29lcmNlID0gY29lcmNlO1xuZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcbmV4cG9ydHMuZW5hYmxlID0gZW5hYmxlO1xuZXhwb3J0cy5lbmFibGVkID0gZW5hYmxlZDtcbmV4cG9ydHMuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXG4vKipcbiAqIEFjdGl2ZSBgZGVidWdgIGluc3RhbmNlcy5cbiAqL1xuZXhwb3J0cy5pbnN0YW5jZXMgPSBbXTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgdmFyIHByZXZUaW1lO1xuXG4gIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgIC8vIGRpc2FibGVkP1xuICAgIGlmICghZGVidWcuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgdmFyIHNlbGYgPSBkZWJ1ZztcblxuICAgIC8vIHNldCBgZGlmZmAgdGltZXN0YW1wXG4gICAgdmFyIGN1cnIgPSArbmV3IERhdGUoKTtcbiAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgIHNlbGYuZGlmZiA9IG1zO1xuICAgIHNlbGYucHJldiA9IHByZXZUaW1lO1xuICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgcHJldlRpbWUgPSBjdXJyO1xuXG4gICAgLy8gdHVybiB0aGUgYGFyZ3VtZW50c2AgaW50byBhIHByb3BlciBBcnJheVxuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBhcmdzWzBdID0gZXhwb3J0cy5jb2VyY2UoYXJnc1swXSk7XG5cbiAgICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBhcmdzWzBdKSB7XG4gICAgICAvLyBhbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgYXJncy51bnNoaWZ0KCclTycpO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24obWF0Y2gsIGZvcm1hdCkge1xuICAgICAgLy8gaWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSByZXR1cm4gbWF0Y2g7XG4gICAgICBpbmRleCsrO1xuICAgICAgdmFyIGZvcm1hdHRlciA9IGV4cG9ydHMuZm9ybWF0dGVyc1tmb3JtYXRdO1xuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBmb3JtYXR0ZXIpIHtcbiAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICBtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cbiAgICAgICAgLy8gbm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG5cbiAgICAvLyBhcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuICAgIGV4cG9ydHMuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG4gICAgdmFyIGxvZ0ZuID0gZGVidWcubG9nIHx8IGV4cG9ydHMubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cblxuICBkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gIGRlYnVnLmVuYWJsZWQgPSBleHBvcnRzLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgZGVidWcudXNlQ29sb3JzID0gZXhwb3J0cy51c2VDb2xvcnMoKTtcbiAgZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuICBkZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuICAvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMuaW5pdCkge1xuICAgIGV4cG9ydHMuaW5pdChkZWJ1Zyk7XG4gIH1cblxuICBleHBvcnRzLmluc3RhbmNlcy5wdXNoKGRlYnVnKTtcblxuICByZXR1cm4gZGVidWc7XG59XG5cbmZ1bmN0aW9uIGRlc3Ryb3kgKCkge1xuICB2YXIgaW5kZXggPSBleHBvcnRzLmluc3RhbmNlcy5pbmRleE9mKHRoaXMpO1xuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgZXhwb3J0cy5pbnN0YW5jZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG4gKiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG4gIGV4cG9ydHMuc2F2ZShuYW1lc3BhY2VzKTtcblxuICBleHBvcnRzLm5hbWVzID0gW107XG4gIGV4cG9ydHMuc2tpcHMgPSBbXTtcblxuICB2YXIgaTtcbiAgdmFyIHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJykuc3BsaXQoL1tcXHMsXSsvKTtcbiAgdmFyIGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoIXNwbGl0W2ldKSBjb250aW51ZTsgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcbiAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICBleHBvcnRzLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgfVxuICB9XG5cbiAgZm9yIChpID0gMDsgaSA8IGV4cG9ydHMuaW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGluc3RhbmNlID0gZXhwb3J0cy5pbnN0YW5jZXNbaV07XG4gICAgaW5zdGFuY2UuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChpbnN0YW5jZS5uYW1lc3BhY2UpO1xuICB9XG59XG5cbi8qKlxuICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkaXNhYmxlKCkge1xuICBleHBvcnRzLmVuYWJsZSgnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgaWYgKG5hbWVbbmFtZS5sZW5ndGggLSAxXSA9PT0gJyonKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIGksIGxlbjtcbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ29lcmNlIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgcmV0dXJuIHZhbDtcbn1cbiIsIi8qZ2xvYmFsIEJsb2IsRmlsZSovXG5cbi8qKlxuICogTW9kdWxlIHJlcXVpcmVtZW50c1xuICovXG5cbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpO1xudmFyIGlzQnVmID0gcmVxdWlyZSgnLi9pcy1idWZmZXInKTtcbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgd2l0aE5hdGl2ZUJsb2IgPSB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyB8fCAodHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIHRvU3RyaW5nLmNhbGwoQmxvYikgPT09ICdbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl0nKTtcbnZhciB3aXRoTmF0aXZlRmlsZSA9IHR5cGVvZiBGaWxlID09PSAnZnVuY3Rpb24nIHx8ICh0eXBlb2YgRmlsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdG9TdHJpbmcuY2FsbChGaWxlKSA9PT0gJ1tvYmplY3QgRmlsZUNvbnN0cnVjdG9yXScpO1xuXG4vKipcbiAqIFJlcGxhY2VzIGV2ZXJ5IEJ1ZmZlciB8IEFycmF5QnVmZmVyIGluIHBhY2tldCB3aXRoIGEgbnVtYmVyZWQgcGxhY2Vob2xkZXIuXG4gKiBBbnl0aGluZyB3aXRoIGJsb2JzIG9yIGZpbGVzIHNob3VsZCBiZSBmZWQgdGhyb3VnaCByZW1vdmVCbG9icyBiZWZvcmUgY29taW5nXG4gKiBoZXJlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXQgLSBzb2NrZXQuaW8gZXZlbnQgcGFja2V0XG4gKiBAcmV0dXJuIHtPYmplY3R9IHdpdGggZGVjb25zdHJ1Y3RlZCBwYWNrZXQgYW5kIGxpc3Qgb2YgYnVmZmVyc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmRlY29uc3RydWN0UGFja2V0ID0gZnVuY3Rpb24ocGFja2V0KSB7XG4gIHZhciBidWZmZXJzID0gW107XG4gIHZhciBwYWNrZXREYXRhID0gcGFja2V0LmRhdGE7XG4gIHZhciBwYWNrID0gcGFja2V0O1xuICBwYWNrLmRhdGEgPSBfZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0RGF0YSwgYnVmZmVycyk7XG4gIHBhY2suYXR0YWNobWVudHMgPSBidWZmZXJzLmxlbmd0aDsgLy8gbnVtYmVyIG9mIGJpbmFyeSAnYXR0YWNobWVudHMnXG4gIHJldHVybiB7cGFja2V0OiBwYWNrLCBidWZmZXJzOiBidWZmZXJzfTtcbn07XG5cbmZ1bmN0aW9uIF9kZWNvbnN0cnVjdFBhY2tldChkYXRhLCBidWZmZXJzKSB7XG4gIGlmICghZGF0YSkgcmV0dXJuIGRhdGE7XG5cbiAgaWYgKGlzQnVmKGRhdGEpKSB7XG4gICAgdmFyIHBsYWNlaG9sZGVyID0geyBfcGxhY2Vob2xkZXI6IHRydWUsIG51bTogYnVmZmVycy5sZW5ndGggfTtcbiAgICBidWZmZXJzLnB1c2goZGF0YSk7XG4gICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YSkpIHtcbiAgICB2YXIgbmV3RGF0YSA9IG5ldyBBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdEYXRhW2ldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3RGF0YTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgJiYgIShkYXRhIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICB2YXIgbmV3RGF0YSA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICBuZXdEYXRhW2tleV0gPSBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtrZXldLCBidWZmZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0RhdGE7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogUmVjb25zdHJ1Y3RzIGEgYmluYXJ5IHBhY2tldCBmcm9tIGl0cyBwbGFjZWhvbGRlciBwYWNrZXQgYW5kIGJ1ZmZlcnNcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcGFja2V0IC0gZXZlbnQgcGFja2V0IHdpdGggcGxhY2Vob2xkZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBidWZmZXJzIC0gYmluYXJ5IGJ1ZmZlcnMgdG8gcHV0IGluIHBsYWNlaG9sZGVyIHBvc2l0aW9uc1xuICogQHJldHVybiB7T2JqZWN0fSByZWNvbnN0cnVjdGVkIHBhY2tldFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLnJlY29uc3RydWN0UGFja2V0ID0gZnVuY3Rpb24ocGFja2V0LCBidWZmZXJzKSB7XG4gIHBhY2tldC5kYXRhID0gX3JlY29uc3RydWN0UGFja2V0KHBhY2tldC5kYXRhLCBidWZmZXJzKTtcbiAgcGFja2V0LmF0dGFjaG1lbnRzID0gdW5kZWZpbmVkOyAvLyBubyBsb25nZXIgdXNlZnVsXG4gIHJldHVybiBwYWNrZXQ7XG59O1xuXG5mdW5jdGlvbiBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICBpZiAoIWRhdGEpIHJldHVybiBkYXRhO1xuXG4gIGlmIChkYXRhICYmIGRhdGEuX3BsYWNlaG9sZGVyKSB7XG4gICAgcmV0dXJuIGJ1ZmZlcnNbZGF0YS5udW1dOyAvLyBhcHByb3ByaWF0ZSBidWZmZXIgKHNob3VsZCBiZSBuYXR1cmFsIG9yZGVyIGFueXdheSlcbiAgfSBlbHNlIGlmIChpc0FycmF5KGRhdGEpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhW2ldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFbaV0sIGJ1ZmZlcnMpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgZGF0YVtrZXldID0gX3JlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgcmVtb3ZlcyBCbG9icyBvciBGaWxlcyBmcm9tIGRhdGEgdmlhXG4gKiBGaWxlUmVhZGVyJ3MgcmVhZEFzQXJyYXlCdWZmZXIgbWV0aG9kLiBVc2VkIGJlZm9yZSBlbmNvZGluZ1xuICogZGF0YSBhcyBtc2dwYWNrLiBDYWxscyBjYWxsYmFjayB3aXRoIHRoZSBibG9ibGVzcyBkYXRhLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5yZW1vdmVCbG9icyA9IGZ1bmN0aW9uKGRhdGEsIGNhbGxiYWNrKSB7XG4gIGZ1bmN0aW9uIF9yZW1vdmVCbG9icyhvYmosIGN1cktleSwgY29udGFpbmluZ09iamVjdCkge1xuICAgIGlmICghb2JqKSByZXR1cm4gb2JqO1xuXG4gICAgLy8gY29udmVydCBhbnkgYmxvYlxuICAgIGlmICgod2l0aE5hdGl2ZUJsb2IgJiYgb2JqIGluc3RhbmNlb2YgQmxvYikgfHxcbiAgICAgICAgKHdpdGhOYXRpdmVGaWxlICYmIG9iaiBpbnN0YW5jZW9mIEZpbGUpKSB7XG4gICAgICBwZW5kaW5nQmxvYnMrKztcblxuICAgICAgLy8gYXN5bmMgZmlsZXJlYWRlclxuICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHsgLy8gdGhpcy5yZXN1bHQgPT0gYXJyYXlidWZmZXJcbiAgICAgICAgaWYgKGNvbnRhaW5pbmdPYmplY3QpIHtcbiAgICAgICAgICBjb250YWluaW5nT2JqZWN0W2N1cktleV0gPSB0aGlzLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBibG9ibGVzc0RhdGEgPSB0aGlzLnJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIG5vdGhpbmcgcGVuZGluZyBpdHMgY2FsbGJhY2sgdGltZVxuICAgICAgICBpZighIC0tcGVuZGluZ0Jsb2JzKSB7XG4gICAgICAgICAgY2FsbGJhY2soYmxvYmxlc3NEYXRhKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihvYmopOyAvLyBibG9iIC0+IGFycmF5YnVmZmVyXG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9iaikpIHsgLy8gaGFuZGxlIGFycmF5XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICBfcmVtb3ZlQmxvYnMob2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgIWlzQnVmKG9iaikpIHsgLy8gYW5kIG9iamVjdFxuICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICBfcmVtb3ZlQmxvYnMob2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgcGVuZGluZ0Jsb2JzID0gMDtcbiAgdmFyIGJsb2JsZXNzRGF0YSA9IGRhdGE7XG4gIF9yZW1vdmVCbG9icyhibG9ibGVzc0RhdGEpO1xuICBpZiAoIXBlbmRpbmdCbG9icykge1xuICAgIGNhbGxiYWNrKGJsb2JsZXNzRGF0YSk7XG4gIH1cbn07XG4iLCJcbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzb2NrZXQuaW8tcGFyc2VyJyk7XG52YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2NvbXBvbmVudC1lbWl0dGVyJyk7XG52YXIgYmluYXJ5ID0gcmVxdWlyZSgnLi9iaW5hcnknKTtcbnZhciBpc0FycmF5ID0gcmVxdWlyZSgnaXNhcnJheScpO1xudmFyIGlzQnVmID0gcmVxdWlyZSgnLi9pcy1idWZmZXInKTtcblxuLyoqXG4gKiBQcm90b2NvbCB2ZXJzaW9uLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5wcm90b2NvbCA9IDQ7XG5cbi8qKlxuICogUGFja2V0IHR5cGVzLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy50eXBlcyA9IFtcbiAgJ0NPTk5FQ1QnLFxuICAnRElTQ09OTkVDVCcsXG4gICdFVkVOVCcsXG4gICdBQ0snLFxuICAnRVJST1InLFxuICAnQklOQVJZX0VWRU5UJyxcbiAgJ0JJTkFSWV9BQ0snXG5dO1xuXG4vKipcbiAqIFBhY2tldCB0eXBlIGBjb25uZWN0YC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuQ09OTkVDVCA9IDA7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGRpc2Nvbm5lY3RgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5ESVNDT05ORUNUID0gMTtcblxuLyoqXG4gKiBQYWNrZXQgdHlwZSBgZXZlbnRgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5FVkVOVCA9IDI7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGFja2AuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkFDSyA9IDM7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGVycm9yYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuRVJST1IgPSA0O1xuXG4vKipcbiAqIFBhY2tldCB0eXBlICdiaW5hcnkgZXZlbnQnXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkJJTkFSWV9FVkVOVCA9IDU7XG5cbi8qKlxuICogUGFja2V0IHR5cGUgYGJpbmFyeSBhY2tgLiBGb3IgYWNrcyB3aXRoIGJpbmFyeSBhcmd1bWVudHMuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkJJTkFSWV9BQ0sgPSA2O1xuXG4vKipcbiAqIEVuY29kZXIgY29uc3RydWN0b3IuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkVuY29kZXIgPSBFbmNvZGVyO1xuXG4vKipcbiAqIERlY29kZXIgY29uc3RydWN0b3IuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLkRlY29kZXIgPSBEZWNvZGVyO1xuXG4vKipcbiAqIEEgc29ja2V0LmlvIEVuY29kZXIgaW5zdGFuY2VcbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIEVuY29kZXIoKSB7fVxuXG52YXIgRVJST1JfUEFDS0VUID0gZXhwb3J0cy5FUlJPUiArICdcImVuY29kZSBlcnJvclwiJztcblxuLyoqXG4gKiBFbmNvZGUgYSBwYWNrZXQgYXMgYSBzaW5nbGUgc3RyaW5nIGlmIG5vbi1iaW5hcnksIG9yIGFzIGFcbiAqIGJ1ZmZlciBzZXF1ZW5jZSwgZGVwZW5kaW5nIG9uIHBhY2tldCB0eXBlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBwYWNrZXQgb2JqZWN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGhhbmRsZSBlbmNvZGluZ3MgKGxpa2VseSBlbmdpbmUud3JpdGUpXG4gKiBAcmV0dXJuIENhbGxzIGNhbGxiYWNrIHdpdGggQXJyYXkgb2YgZW5jb2RpbmdzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVuY29kZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKG9iaiwgY2FsbGJhY2spe1xuICBkZWJ1ZygnZW5jb2RpbmcgcGFja2V0ICVqJywgb2JqKTtcblxuICBpZiAoZXhwb3J0cy5CSU5BUllfRVZFTlQgPT09IG9iai50eXBlIHx8IGV4cG9ydHMuQklOQVJZX0FDSyA9PT0gb2JqLnR5cGUpIHtcbiAgICBlbmNvZGVBc0JpbmFyeShvYmosIGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZW5jb2RpbmcgPSBlbmNvZGVBc1N0cmluZyhvYmopO1xuICAgIGNhbGxiYWNrKFtlbmNvZGluZ10pO1xuICB9XG59O1xuXG4vKipcbiAqIEVuY29kZSBwYWNrZXQgYXMgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge1N0cmluZ30gZW5jb2RlZFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZW5jb2RlQXNTdHJpbmcob2JqKSB7XG5cbiAgLy8gZmlyc3QgaXMgdHlwZVxuICB2YXIgc3RyID0gJycgKyBvYmoudHlwZTtcblxuICAvLyBhdHRhY2htZW50cyBpZiB3ZSBoYXZlIHRoZW1cbiAgaWYgKGV4cG9ydHMuQklOQVJZX0VWRU5UID09PSBvYmoudHlwZSB8fCBleHBvcnRzLkJJTkFSWV9BQ0sgPT09IG9iai50eXBlKSB7XG4gICAgc3RyICs9IG9iai5hdHRhY2htZW50cyArICctJztcbiAgfVxuXG4gIC8vIGlmIHdlIGhhdmUgYSBuYW1lc3BhY2Ugb3RoZXIgdGhhbiBgL2BcbiAgLy8gd2UgYXBwZW5kIGl0IGZvbGxvd2VkIGJ5IGEgY29tbWEgYCxgXG4gIGlmIChvYmoubnNwICYmICcvJyAhPT0gb2JqLm5zcCkge1xuICAgIHN0ciArPSBvYmoubnNwICsgJywnO1xuICB9XG5cbiAgLy8gaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgdGhlIGlkXG4gIGlmIChudWxsICE9IG9iai5pZCkge1xuICAgIHN0ciArPSBvYmouaWQ7XG4gIH1cblxuICAvLyBqc29uIGRhdGFcbiAgaWYgKG51bGwgIT0gb2JqLmRhdGEpIHtcbiAgICB2YXIgcGF5bG9hZCA9IHRyeVN0cmluZ2lmeShvYmouZGF0YSk7XG4gICAgaWYgKHBheWxvYWQgIT09IGZhbHNlKSB7XG4gICAgICBzdHIgKz0gcGF5bG9hZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEVSUk9SX1BBQ0tFVDtcbiAgICB9XG4gIH1cblxuICBkZWJ1ZygnZW5jb2RlZCAlaiBhcyAlcycsIG9iaiwgc3RyKTtcbiAgcmV0dXJuIHN0cjtcbn1cblxuZnVuY3Rpb24gdHJ5U3RyaW5naWZ5KHN0cikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdHIpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEVuY29kZSBwYWNrZXQgYXMgJ2J1ZmZlciBzZXF1ZW5jZScgYnkgcmVtb3ZpbmcgYmxvYnMsIGFuZFxuICogZGVjb25zdHJ1Y3RpbmcgcGFja2V0IGludG8gb2JqZWN0IHdpdGggcGxhY2Vob2xkZXJzIGFuZFxuICogYSBsaXN0IG9mIGJ1ZmZlcnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQHJldHVybiB7QnVmZmVyfSBlbmNvZGVkXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBlbmNvZGVBc0JpbmFyeShvYmosIGNhbGxiYWNrKSB7XG5cbiAgZnVuY3Rpb24gd3JpdGVFbmNvZGluZyhibG9ibGVzc0RhdGEpIHtcbiAgICB2YXIgZGVjb25zdHJ1Y3Rpb24gPSBiaW5hcnkuZGVjb25zdHJ1Y3RQYWNrZXQoYmxvYmxlc3NEYXRhKTtcbiAgICB2YXIgcGFjayA9IGVuY29kZUFzU3RyaW5nKGRlY29uc3RydWN0aW9uLnBhY2tldCk7XG4gICAgdmFyIGJ1ZmZlcnMgPSBkZWNvbnN0cnVjdGlvbi5idWZmZXJzO1xuXG4gICAgYnVmZmVycy51bnNoaWZ0KHBhY2spOyAvLyBhZGQgcGFja2V0IGluZm8gdG8gYmVnaW5uaW5nIG9mIGRhdGEgbGlzdFxuICAgIGNhbGxiYWNrKGJ1ZmZlcnMpOyAvLyB3cml0ZSBhbGwgdGhlIGJ1ZmZlcnNcbiAgfVxuXG4gIGJpbmFyeS5yZW1vdmVCbG9icyhvYmosIHdyaXRlRW5jb2RpbmcpO1xufVxuXG4vKipcbiAqIEEgc29ja2V0LmlvIERlY29kZXIgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlY29kZXJcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gRGVjb2RlcigpIHtcbiAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbnVsbDtcbn1cblxuLyoqXG4gKiBNaXggaW4gYEVtaXR0ZXJgIHdpdGggRGVjb2Rlci5cbiAqL1xuXG5FbWl0dGVyKERlY29kZXIucHJvdG90eXBlKTtcblxuLyoqXG4gKiBEZWNvZGVzIGFuIGVuY29kZWQgcGFja2V0IHN0cmluZyBpbnRvIHBhY2tldCBKU09OLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBvYmogLSBlbmNvZGVkIHBhY2tldFxuICogQHJldHVybiB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRGVjb2Rlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciBwYWNrZXQ7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykge1xuICAgIHBhY2tldCA9IGRlY29kZVN0cmluZyhvYmopO1xuICAgIGlmIChleHBvcnRzLkJJTkFSWV9FVkVOVCA9PT0gcGFja2V0LnR5cGUgfHwgZXhwb3J0cy5CSU5BUllfQUNLID09PSBwYWNrZXQudHlwZSkgeyAvLyBiaW5hcnkgcGFja2V0J3MganNvblxuICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbmV3IEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KTtcblxuICAgICAgLy8gbm8gYXR0YWNobWVudHMsIGxhYmVsZWQgYmluYXJ5IGJ1dCBubyBiaW5hcnkgZGF0YSB0byBmb2xsb3dcbiAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IucmVjb25QYWNrLmF0dGFjaG1lbnRzID09PSAwKSB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGVjb2RlZCcsIHBhY2tldCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gbm9uLWJpbmFyeSBmdWxsIHBhY2tldFxuICAgICAgdGhpcy5lbWl0KCdkZWNvZGVkJywgcGFja2V0KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNCdWYob2JqKSB8fCBvYmouYmFzZTY0KSB7IC8vIHJhdyBiaW5hcnkgZGF0YVxuICAgIGlmICghdGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dvdCBiaW5hcnkgZGF0YSB3aGVuIG5vdCByZWNvbnN0cnVjdGluZyBhIHBhY2tldCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYWNrZXQgPSB0aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEob2JqKTtcbiAgICAgIGlmIChwYWNrZXQpIHsgLy8gcmVjZWl2ZWQgZmluYWwgYnVmZmVyXG4gICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG51bGw7XG4gICAgICAgIHRoaXMuZW1pdCgnZGVjb2RlZCcsIHBhY2tldCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biB0eXBlOiAnICsgb2JqKTtcbiAgfVxufTtcblxuLyoqXG4gKiBEZWNvZGUgYSBwYWNrZXQgU3RyaW5nIChKU09OIGRhdGEpXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7T2JqZWN0fSBwYWNrZXRcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGRlY29kZVN0cmluZyhzdHIpIHtcbiAgdmFyIGkgPSAwO1xuICAvLyBsb29rIHVwIHR5cGVcbiAgdmFyIHAgPSB7XG4gICAgdHlwZTogTnVtYmVyKHN0ci5jaGFyQXQoMCkpXG4gIH07XG5cbiAgaWYgKG51bGwgPT0gZXhwb3J0cy50eXBlc1twLnR5cGVdKSB7XG4gICAgcmV0dXJuIGVycm9yKCd1bmtub3duIHBhY2tldCB0eXBlICcgKyBwLnR5cGUpO1xuICB9XG5cbiAgLy8gbG9vayB1cCBhdHRhY2htZW50cyBpZiB0eXBlIGJpbmFyeVxuICBpZiAoZXhwb3J0cy5CSU5BUllfRVZFTlQgPT09IHAudHlwZSB8fCBleHBvcnRzLkJJTkFSWV9BQ0sgPT09IHAudHlwZSkge1xuICAgIHZhciBidWYgPSAnJztcbiAgICB3aGlsZSAoc3RyLmNoYXJBdCgrK2kpICE9PSAnLScpIHtcbiAgICAgIGJ1ZiArPSBzdHIuY2hhckF0KGkpO1xuICAgICAgaWYgKGkgPT0gc3RyLmxlbmd0aCkgYnJlYWs7XG4gICAgfVxuICAgIGlmIChidWYgIT0gTnVtYmVyKGJ1ZikgfHwgc3RyLmNoYXJBdChpKSAhPT0gJy0nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgYXR0YWNobWVudHMnKTtcbiAgICB9XG4gICAgcC5hdHRhY2htZW50cyA9IE51bWJlcihidWYpO1xuICB9XG5cbiAgLy8gbG9vayB1cCBuYW1lc3BhY2UgKGlmIGFueSlcbiAgaWYgKCcvJyA9PT0gc3RyLmNoYXJBdChpICsgMSkpIHtcbiAgICBwLm5zcCA9ICcnO1xuICAgIHdoaWxlICgrK2kpIHtcbiAgICAgIHZhciBjID0gc3RyLmNoYXJBdChpKTtcbiAgICAgIGlmICgnLCcgPT09IGMpIGJyZWFrO1xuICAgICAgcC5uc3AgKz0gYztcbiAgICAgIGlmIChpID09PSBzdHIubGVuZ3RoKSBicmVhaztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcC5uc3AgPSAnLyc7XG4gIH1cblxuICAvLyBsb29rIHVwIGlkXG4gIHZhciBuZXh0ID0gc3RyLmNoYXJBdChpICsgMSk7XG4gIGlmICgnJyAhPT0gbmV4dCAmJiBOdW1iZXIobmV4dCkgPT0gbmV4dCkge1xuICAgIHAuaWQgPSAnJztcbiAgICB3aGlsZSAoKytpKSB7XG4gICAgICB2YXIgYyA9IHN0ci5jaGFyQXQoaSk7XG4gICAgICBpZiAobnVsbCA9PSBjIHx8IE51bWJlcihjKSAhPSBjKSB7XG4gICAgICAgIC0taTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBwLmlkICs9IHN0ci5jaGFyQXQoaSk7XG4gICAgICBpZiAoaSA9PT0gc3RyLmxlbmd0aCkgYnJlYWs7XG4gICAgfVxuICAgIHAuaWQgPSBOdW1iZXIocC5pZCk7XG4gIH1cblxuICAvLyBsb29rIHVwIGpzb24gZGF0YVxuICBpZiAoc3RyLmNoYXJBdCgrK2kpKSB7XG4gICAgdmFyIHBheWxvYWQgPSB0cnlQYXJzZShzdHIuc3Vic3RyKGkpKTtcbiAgICB2YXIgaXNQYXlsb2FkVmFsaWQgPSBwYXlsb2FkICE9PSBmYWxzZSAmJiAocC50eXBlID09PSBleHBvcnRzLkVSUk9SIHx8IGlzQXJyYXkocGF5bG9hZCkpO1xuICAgIGlmIChpc1BheWxvYWRWYWxpZCkge1xuICAgICAgcC5kYXRhID0gcGF5bG9hZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVycm9yKCdpbnZhbGlkIHBheWxvYWQnKTtcbiAgICB9XG4gIH1cblxuICBkZWJ1ZygnZGVjb2RlZCAlcyBhcyAlaicsIHN0ciwgcCk7XG4gIHJldHVybiBwO1xufVxuXG5mdW5jdGlvbiB0cnlQYXJzZShzdHIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIERlYWxsb2NhdGVzIGEgcGFyc2VyJ3MgcmVzb3VyY2VzXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5EZWNvZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICB0aGlzLnJlY29uc3RydWN0b3IuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICB9XG59O1xuXG4vKipcbiAqIEEgbWFuYWdlciBvZiBhIGJpbmFyeSBldmVudCdzICdidWZmZXIgc2VxdWVuY2UnLiBTaG91bGRcbiAqIGJlIGNvbnN0cnVjdGVkIHdoZW5ldmVyIGEgcGFja2V0IG9mIHR5cGUgQklOQVJZX0VWRU5UIGlzXG4gKiBkZWNvZGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXRcbiAqIEByZXR1cm4ge0JpbmFyeVJlY29uc3RydWN0b3J9IGluaXRpYWxpemVkIHJlY29uc3RydWN0b3JcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIEJpbmFyeVJlY29uc3RydWN0b3IocGFja2V0KSB7XG4gIHRoaXMucmVjb25QYWNrID0gcGFja2V0O1xuICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBNZXRob2QgdG8gYmUgY2FsbGVkIHdoZW4gYmluYXJ5IGRhdGEgcmVjZWl2ZWQgZnJvbSBjb25uZWN0aW9uXG4gKiBhZnRlciBhIEJJTkFSWV9FVkVOVCBwYWNrZXQuXG4gKlxuICogQHBhcmFtIHtCdWZmZXIgfCBBcnJheUJ1ZmZlcn0gYmluRGF0YSAtIHRoZSByYXcgYmluYXJ5IGRhdGEgcmVjZWl2ZWRcbiAqIEByZXR1cm4ge251bGwgfCBPYmplY3R9IHJldHVybnMgbnVsbCBpZiBtb3JlIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkIG9yXG4gKiAgIGEgcmVjb25zdHJ1Y3RlZCBwYWNrZXQgb2JqZWN0IGlmIGFsbCBidWZmZXJzIGhhdmUgYmVlbiByZWNlaXZlZC5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkJpbmFyeVJlY29uc3RydWN0b3IucHJvdG90eXBlLnRha2VCaW5hcnlEYXRhID0gZnVuY3Rpb24oYmluRGF0YSkge1xuICB0aGlzLmJ1ZmZlcnMucHVzaChiaW5EYXRhKTtcbiAgaWYgKHRoaXMuYnVmZmVycy5sZW5ndGggPT09IHRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKSB7IC8vIGRvbmUgd2l0aCBidWZmZXIgbGlzdFxuICAgIHZhciBwYWNrZXQgPSBiaW5hcnkucmVjb25zdHJ1Y3RQYWNrZXQodGhpcy5yZWNvblBhY2ssIHRoaXMuYnVmZmVycyk7XG4gICAgdGhpcy5maW5pc2hlZFJlY29uc3RydWN0aW9uKCk7XG4gICAgcmV0dXJuIHBhY2tldDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8qKlxuICogQ2xlYW5zIHVwIGJpbmFyeSBwYWNrZXQgcmVjb25zdHJ1Y3Rpb24gdmFyaWFibGVzLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkJpbmFyeVJlY29uc3RydWN0b3IucHJvdG90eXBlLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZWNvblBhY2sgPSBudWxsO1xuICB0aGlzLmJ1ZmZlcnMgPSBbXTtcbn07XG5cbmZ1bmN0aW9uIGVycm9yKG1zZykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IGV4cG9ydHMuRVJST1IsXG4gICAgZGF0YTogJ3BhcnNlciBlcnJvcjogJyArIG1zZ1xuICB9O1xufVxuIiwiXG5tb2R1bGUuZXhwb3J0cyA9IGlzQnVmO1xuXG52YXIgd2l0aE5hdGl2ZUJ1ZmZlciA9IHR5cGVvZiBCdWZmZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIEJ1ZmZlci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJztcbnZhciB3aXRoTmF0aXZlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbic7XG5cbnZhciBpc1ZpZXcgPSBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSAnZnVuY3Rpb24nID8gQXJyYXlCdWZmZXIuaXNWaWV3KG9iaikgOiAob2JqLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIG9iaiBpcyBhIGJ1ZmZlciBvciBhbiBhcnJheWJ1ZmZlci5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBpc0J1ZihvYmopIHtcbiAgcmV0dXJuICh3aXRoTmF0aXZlQnVmZmVyICYmIEJ1ZmZlci5pc0J1ZmZlcihvYmopKSB8fFxuICAgICAgICAgICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiYgKG9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhvYmopKSk7XG59XG4iLCIvKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kZWJ1ZycpO1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWVcbiAgICAgICAgICAgICAgICYmICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWUuc3RvcmFnZVxuICAgICAgICAgICAgICAgICAgPyBjaHJvbWUuc3RvcmFnZS5sb2NhbFxuICAgICAgICAgICAgICAgICAgOiBsb2NhbHN0b3JhZ2UoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG4gICcjMDAwMENDJywgJyMwMDAwRkYnLCAnIzAwMzNDQycsICcjMDAzM0ZGJywgJyMwMDY2Q0MnLCAnIzAwNjZGRicsICcjMDA5OUNDJyxcbiAgJyMwMDk5RkYnLCAnIzAwQ0MwMCcsICcjMDBDQzMzJywgJyMwMENDNjYnLCAnIzAwQ0M5OScsICcjMDBDQ0NDJywgJyMwMENDRkYnLFxuICAnIzMzMDBDQycsICcjMzMwMEZGJywgJyMzMzMzQ0MnLCAnIzMzMzNGRicsICcjMzM2NkNDJywgJyMzMzY2RkYnLCAnIzMzOTlDQycsXG4gICcjMzM5OUZGJywgJyMzM0NDMDAnLCAnIzMzQ0MzMycsICcjMzNDQzY2JywgJyMzM0NDOTknLCAnIzMzQ0NDQycsICcjMzNDQ0ZGJyxcbiAgJyM2NjAwQ0MnLCAnIzY2MDBGRicsICcjNjYzM0NDJywgJyM2NjMzRkYnLCAnIzY2Q0MwMCcsICcjNjZDQzMzJywgJyM5OTAwQ0MnLFxuICAnIzk5MDBGRicsICcjOTkzM0NDJywgJyM5OTMzRkYnLCAnIzk5Q0MwMCcsICcjOTlDQzMzJywgJyNDQzAwMDAnLCAnI0NDMDAzMycsXG4gICcjQ0MwMDY2JywgJyNDQzAwOTknLCAnI0NDMDBDQycsICcjQ0MwMEZGJywgJyNDQzMzMDAnLCAnI0NDMzMzMycsICcjQ0MzMzY2JyxcbiAgJyNDQzMzOTknLCAnI0NDMzNDQycsICcjQ0MzM0ZGJywgJyNDQzY2MDAnLCAnI0NDNjYzMycsICcjQ0M5OTAwJywgJyNDQzk5MzMnLFxuICAnI0NDQ0MwMCcsICcjQ0NDQzMzJywgJyNGRjAwMDAnLCAnI0ZGMDAzMycsICcjRkYwMDY2JywgJyNGRjAwOTknLCAnI0ZGMDBDQycsXG4gICcjRkYwMEZGJywgJyNGRjMzMDAnLCAnI0ZGMzMzMycsICcjRkYzMzY2JywgJyNGRjMzOTknLCAnI0ZGMzNDQycsICcjRkYzM0ZGJyxcbiAgJyNGRjY2MDAnLCAnI0ZGNjYzMycsICcjRkY5OTAwJywgJyNGRjk5MzMnLCAnI0ZGQ0MwMCcsICcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG4gIC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcbiAgLy8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2VcbiAgLy8gZXhwbGljaXRseVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgd2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBpcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuICByZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbih2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyLm1lc3NhZ2U7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgdmFyIHVzZUNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuXG4gIGFyZ3NbMF0gPSAodXNlQ29sb3JzID8gJyVjJyA6ICcnKVxuICAgICsgdGhpcy5uYW1lc3BhY2VcbiAgICArICh1c2VDb2xvcnMgPyAnICVjJyA6ICcgJylcbiAgICArIGFyZ3NbMF1cbiAgICArICh1c2VDb2xvcnMgPyAnJWMgJyA6ICcgJylcbiAgICArICcrJyArIGV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuO1xuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0JylcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb2coKSB7XG4gIC8vIHRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAnb2JqZWN0JyA9PT0gdHlwZW9mIGNvbnNvbGVcbiAgICAmJiBjb25zb2xlLmxvZ1xuICAgICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobnVsbCA9PSBuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlcztcbiAgICB9XG4gIH0gY2F0Y2goZSkge31cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmRlYnVnO1xuICB9IGNhdGNoKGUpIHt9XG5cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7fVxufVxuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWdbJ2RlZmF1bHQnXSA9IGNyZWF0ZURlYnVnO1xuZXhwb3J0cy5jb2VyY2UgPSBjb2VyY2U7XG5leHBvcnRzLmRpc2FibGUgPSBkaXNhYmxlO1xuZXhwb3J0cy5lbmFibGUgPSBlbmFibGU7XG5leHBvcnRzLmVuYWJsZWQgPSBlbmFibGVkO1xuZXhwb3J0cy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cbi8qKlxuICogQWN0aXZlIGBkZWJ1Z2AgaW5zdGFuY2VzLlxuICovXG5leHBvcnRzLmluc3RhbmNlcyA9IFtdO1xuXG4vKipcbiAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuICovXG5cbmV4cG9ydHMubmFtZXMgPSBbXTtcbmV4cG9ydHMuc2tpcHMgPSBbXTtcblxuLyoqXG4gKiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG4gKlxuICogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycyA9IHt9O1xuXG4vKipcbiAqIFNlbGVjdCBhIGNvbG9yLlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG4gIHZhciBoYXNoID0gMCwgaTtcblxuICBmb3IgKGkgaW4gbmFtZXNwYWNlKSB7XG4gICAgaGFzaCAgPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cblxuICByZXR1cm4gZXhwb3J0cy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBleHBvcnRzLmNvbG9ycy5sZW5ndGhdO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblxuICB2YXIgcHJldlRpbWU7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG4gIGRlYnVnLmRlc3Ryb3kgPSBkZXN0cm95O1xuXG4gIC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZXhwb3J0cy5pbml0KSB7XG4gICAgZXhwb3J0cy5pbml0KGRlYnVnKTtcbiAgfVxuXG4gIGV4cG9ydHMuaW5zdGFuY2VzLnB1c2goZGVidWcpO1xuXG4gIHJldHVybiBkZWJ1Zztcbn1cblxuZnVuY3Rpb24gZGVzdHJveSAoKSB7XG4gIHZhciBpbmRleCA9IGV4cG9ydHMuaW5zdGFuY2VzLmluZGV4T2YodGhpcyk7XG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICBleHBvcnRzLmluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBpO1xuICB2YXIgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgZXhwb3J0cy5pbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBleHBvcnRzLmluc3RhbmNlc1tpXTtcbiAgICBpbnN0YW5jZS5lbmFibGVkID0gZXhwb3J0cy5lbmFibGVkKGluc3RhbmNlLm5hbWVzcGFjZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICBpZiAobmFtZVtuYW1lLmxlbmd0aCAtIDFdID09PSAnKicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHRvQXJyYXlcblxuZnVuY3Rpb24gdG9BcnJheShsaXN0LCBpbmRleCkge1xuICAgIHZhciBhcnJheSA9IFtdXG5cbiAgICBpbmRleCA9IGluZGV4IHx8IDBcblxuICAgIGZvciAodmFyIGkgPSBpbmRleCB8fCAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJheVtpIC0gaW5kZXhdID0gbGlzdFtpXVxuICAgIH1cblxuICAgIHJldHVybiBhcnJheVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0dGhyb3cgbmV3IEVycm9yKFwiZGVmaW5lIGNhbm5vdCBiZSB1c2VkIGluZGlyZWN0XCIpO1xufTtcbiIsIi8qIGdsb2JhbHMgX193ZWJwYWNrX2FtZF9vcHRpb25zX18gKi9cbm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX2FtZF9vcHRpb25zX187XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhbHBoYWJldCA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ei1fJy5zcGxpdCgnJylcbiAgLCBsZW5ndGggPSA2NFxuICAsIG1hcCA9IHt9XG4gICwgc2VlZCA9IDBcbiAgLCBpID0gMFxuICAsIHByZXY7XG5cbi8qKlxuICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3BlY2lmaWVkIG51bWJlci5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtIFRoZSBudW1iZXIgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG51bWJlci5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGVuY29kZShudW0pIHtcbiAgdmFyIGVuY29kZWQgPSAnJztcblxuICBkbyB7XG4gICAgZW5jb2RlZCA9IGFscGhhYmV0W251bSAlIGxlbmd0aF0gKyBlbmNvZGVkO1xuICAgIG51bSA9IE1hdGguZmxvb3IobnVtIC8gbGVuZ3RoKTtcbiAgfSB3aGlsZSAobnVtID4gMCk7XG5cbiAgcmV0dXJuIGVuY29kZWQ7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBpbnRlZ2VyIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgZ2l2ZW4gc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge051bWJlcn0gVGhlIGludGVnZXIgdmFsdWUgcmVwcmVzZW50ZWQgYnkgdGhlIHN0cmluZy5cbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIGRlY29kZShzdHIpIHtcbiAgdmFyIGRlY29kZWQgPSAwO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBkZWNvZGVkID0gZGVjb2RlZCAqIGxlbmd0aCArIG1hcFtzdHIuY2hhckF0KGkpXTtcbiAgfVxuXG4gIHJldHVybiBkZWNvZGVkO1xufVxuXG4vKipcbiAqIFllYXN0OiBBIHRpbnkgZ3Jvd2luZyBpZCBnZW5lcmF0b3IuXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gQSB1bmlxdWUgaWQuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiB5ZWFzdCgpIHtcbiAgdmFyIG5vdyA9IGVuY29kZSgrbmV3IERhdGUoKSk7XG5cbiAgaWYgKG5vdyAhPT0gcHJldikgcmV0dXJuIHNlZWQgPSAwLCBwcmV2ID0gbm93O1xuICByZXR1cm4gbm93ICsnLicrIGVuY29kZShzZWVkKyspO1xufVxuXG4vL1xuLy8gTWFwIGVhY2ggY2hhcmFjdGVyIHRvIGl0cyBpbmRleC5cbi8vXG5mb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSBtYXBbYWxwaGFiZXRbaV1dID0gaTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgYHllYXN0YCwgYGVuY29kZWAgYW5kIGBkZWNvZGVgIGZ1bmN0aW9ucy5cbi8vXG55ZWFzdC5lbmNvZGUgPSBlbmNvZGU7XG55ZWFzdC5kZWNvZGUgPSBkZWNvZGU7XG5tb2R1bGUuZXhwb3J0cyA9IHllYXN0O1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5pbXBvcnQgR2FtZUNvbnN0YW50cyBmcm9tIFwiLi9lbmdpbmUvQ29uc3RhbnRzXCI7XG5pbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vZW5naW5lL0dhbWVDb250cm9sbGVyXCI7XG5pbXBvcnQgR2FtZUNvbnRyb2xsZXJXb3JrZXIgZnJvbSBcIi4vZW5naW5lL0dhbWVDb250cm9sbGVyV29ya2VyXCI7XG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3VpL0dhbWVVSVwiO1xuaW1wb3J0IEdhbWVFbmdpbmUgZnJvbSBcIi4vZW5naW5lL0dhbWVFbmdpbmVcIjtcbmltcG9ydCB7IE5vdGlmaWNhdGlvbk1lc3NhZ2UgYXMgTm90aWZpY2F0aW9uLCBTdHlsZSwgTGFiZWwgfSBmcm9tIFwianNnYW1ldG9vbHNcIjtcblxuLy8gUG9seWZpbGxzXG5pZih0eXBlb2Yod2luZG93KSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cub0NhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdENhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm9DYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG59XG5cbmlmKHR5cGVvZihkb2N1bWVudCkgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsIFwiZnVsbHNjcmVlbkVsZW1lbnRcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCB8fCBkb2N1bWVudC5vRnVsbHNjcmVlbkVsZW1lbnQ7XG4gICAgfVxuICB9KTtcbn1cblxuaWYodHlwZW9mKGRvY3VtZW50KSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbiA9IGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuIHx8IGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4gfHwgZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4gfHwgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbjtcbn1cblxuaWYoIVN0cmluZy5wcm90b3R5cGUudHJpbSkge1xuICBTdHJpbmcucHJvdG90eXBlLnRyaW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csICcnKTtcbiAgfTtcbn1cblxuLy8gVGVzdCBpZiBXb3JrZXJkIGFyZSBzdXBwb3J0ZWRcbmZ1bmN0aW9uIFdvcmtlcnNBdmFpbGFibGUoY2FsbGJhY2spIHtcbiAgaWYodHlwZW9mKHdpbmRvdykgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0cnkge1xuICAgICAgaWYoIXdpbmRvdy5Xb3JrZXIpIHRocm93IFwiV29ya2VycyBub3Qgc3VwcG9ydGVkXCI7XG4gICAgICBjb25zdCB0ZXN0V29ya2VyID0gbmV3IFdvcmtlcihcImRpc3QvR2FtZUVuZ2luZVdvcmtlci5qc1wiKTtcblxuICAgICAgaWYodGVzdFdvcmtlcikge1xuICAgICAgICB0ZXN0V29ya2VyLnBvc3RNZXNzYWdlKFwicGluZ1wiKTtcblxuICAgICAgICB0ZXN0V29ya2VyLm9ubWVzc2FnZSA9IGUgPT4ge1xuICAgICAgICAgIGlmKGUuZGF0YSA9PSBcInBvbmdcIikge1xuICAgICAgICAgICAgdGVzdFdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZmFsc2UpO1xuICAgIH1cbiAgfVxufVxuXG5sZXQgd29ya2Vyc0F2YWlsYWJsZSA9IGZhbHNlO1xuXG5Xb3JrZXJzQXZhaWxhYmxlKHJlc3VsdCA9PiB7XG4gIHdvcmtlcnNBdmFpbGFibGUgPSByZXN1bHQ7IFxufSk7XG5cbi8vIE9sZCBnYW1lIEFQSVxuZnVuY3Rpb24gR2FtZShncmlkLCBzbmFrZSwgc3BlZWQsIGFwcGVuZFRvLCBlbmFibGVQYXVzZSwgZW5hYmxlUmV0cnksIHByb2dyZXNzaXZlU3BlZWQsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIGRpc3BsYXlGUFMsIG91dHB1dFR5cGUsIHNldHRpbmdzLCB1aSwgb25saW5lTW9kZSkge1xuICBsZXQgY29udHJvbGxlcjtcblxuICBjb25zdCBlbmdpbmUgPSBuZXcgR2FtZUVuZ2luZShncmlkLCBzbmFrZSwgc3BlZWQsIGVuYWJsZVBhdXNlLCBlbmFibGVSZXRyeSwgcHJvZ3Jlc3NpdmVTcGVlZCk7XG4gIGVuZ2luZS5pbml0KCk7XG4gIFxuICBpZih3b3JrZXJzQXZhaWxhYmxlICYmIHNldHRpbmdzLmVuYWJsZU11bHRpdGhyZWFkaW5nKSB7XG4gICAgY29udHJvbGxlciA9IG5ldyBHYW1lQ29udHJvbGxlcldvcmtlcihlbmdpbmUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnRyb2xsZXIgPSBuZXcgR2FtZUNvbnRyb2xsZXIoZW5naW5lKTtcbiAgfVxuICBcbiAgaWYodWkpIHtcbiAgICBjb250cm9sbGVyLmdhbWVVSSA9IHVpO1xuICB9IGVsc2Uge1xuICAgIGNvbnRyb2xsZXIuZ2FtZVVJID0gbmV3IEdhbWVVSShjb250cm9sbGVyLCBhcHBlbmRUbywgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgZGlzcGxheUZQUywgb3V0cHV0VHlwZSwgc2V0dGluZ3MpO1xuICB9XG4gIFxuICBpZihvbmxpbmVNb2RlKSBjb250cm9sbGVyLm9ubGluZU1vZGUgPSB0cnVlO1xuICBjb250cm9sbGVyLmluaXQoKTtcbiAgXG4gIHJldHVybiBjb250cm9sbGVyO1xufVxuXG4vLyBPbGQgTm90aWZpY2F0aW9uTWVzc2FnZSBBUElcbmZ1bmN0aW9uIE5vdGlmaWNhdGlvbk1lc3NhZ2UodGV4dCwgdGV4dENvbG9yLCBiYWNrZ3JvdW5kQ29sb3IsIGRlbGF5QmVmb3JlQ2xvc2luZywgYW5pbWF0aW9uRGVsYXksIGZvbnRTaXplLCBmb250RmFtaWx5LCBmb3JlR3JvdW5kLCBkaXNhYmxlQW5pbWF0aW9uLCBjbG9zZUJ1dHRvbikge1xuICByZXR1cm4gbmV3IE5vdGlmaWNhdGlvbihuZXcgU3R5bGUoe1xuICAgIFwiYmFja2dyb3VuZENvbG9yXCI6IGJhY2tncm91bmRDb2xvcixcbiAgICBcImZvcmVHcm91bmRcIjogZm9yZUdyb3VuZCxcbiAgICBcImRpc2FibGVBbmltYXRpb25cIjogZGlzYWJsZUFuaW1hdGlvblxuICB9KSwgZGVsYXlCZWZvcmVDbG9zaW5nLCBudWxsLCBuZXcgTGFiZWwodGV4dCwgbnVsbCwgbnVsbCwgbmV3IFN0eWxlKHtcbiAgICBcImZvbnRTaXplXCI6IGZvbnRTaXplLFxuICAgIFwiZm9udEZhbWlseVwiOiBmb250RmFtaWx5LFxuICAgIFwiZm9udENvbG9yXCI6IHRleHRDb2xvciB8fCBcIndoaXRlXCIsXG4gICAgXCJhbGlnbmVtZW50XCI6IFwiY2VudGVyXCIsXG4gICAgXCJ2ZXJ0aWNhbEFsaWduZW1lbnRcIjogXCJjZW50ZXJcIlxuICB9KSkpO1xufVxuXG4vLyBDb25zdGFudHMgc2hpbVxuLy8gUGxheWVyIHR5cGVcbmlmKHR5cGVvZih3aW5kb3cpICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIHdpbmRvdy5QTEFZRVJfQUkgPSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuQUk7XG4gIHdpbmRvdy5QTEFZRVJfSFVNQU4gPSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFVNQU47XG4gIHdpbmRvdy5QTEFZRVJfSFlCUklEX0hVTUFOX0FJID0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSTtcbiAgLy8gQUkgbGV2ZWxcbiAgd2luZG93LkFJX0xFVkVMX1JBTkRPTSA9IEdhbWVDb25zdGFudHMuQWlMZXZlbC5SQU5ET007XG4gIHdpbmRvdy5BSV9MRVZFTF9MT1cgPSBHYW1lQ29uc3RhbnRzLkFpTGV2ZWwuTE9XO1xuICB3aW5kb3cuQUlfTEVWRUxfREVGQVVMVCA9IEdhbWVDb25zdGFudHMuQWlMZXZlbC5ERUZBVUxUO1xuICB3aW5kb3cuQUlfTEVWRUxfSElHSCA9IEdhbWVDb25zdGFudHMuQWlMZXZlbC5ISUdIO1xuICB3aW5kb3cuQUlfTEVWRUxfVUxUUkEgPSBHYW1lQ29uc3RhbnRzLkFpTGV2ZWwuVUxUUkE7XG4gIC8vIERpcmVjdGlvbnNcbiAgd2luZG93LlVQID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA7XG4gIHdpbmRvdy5SSUdIVCA9IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUO1xuICB3aW5kb3cuQk9UVE9NID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NO1xuICB3aW5kb3cuTEVGVCA9IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQ7XG4gIHdpbmRvdy5BTkdMRV8xID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMTtcbiAgd2luZG93LkFOR0xFXzIgPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV8yO1xuICB3aW5kb3cuQU5HTEVfMyA9IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkFOR0xFXzM7XG4gIHdpbmRvdy5BTkdMRV80ID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfNDtcbiAgLy8gSW5mb3NcbiAgd2luZG93LkFQUF9WRVJTSU9OID0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkFQUF9WRVJTSU9OO1xuICB3aW5kb3cuREFURV9WRVJTSU9OID0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkRBVEVfVkVSU0lPTjtcbn1cblxuZXhwb3J0IHsgR2FtZSwgV29ya2Vyc0F2YWlsYWJsZSwgTm90aWZpY2F0aW9uTWVzc2FnZSB9IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlRmFjdG9yeSB7XG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2UpIHtcbiAgICB0aGlzLmluTWVtb3J5U3RvcmFnZSA9IHt9O1xuICAgIHRoaXMuX2lzU3VwcG9ydGVkO1xuXG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2UgfHwgd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHRoaXMuc3RvcmFnZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gVGVzdCBpZiBsb2NhbCBzdG9yYWdlIGlzIHN1cHBvcnRlZFxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0ZXN0S2V5ID0gXCJfX3NvbWVfcmFuZG9tX2tleV95b3VfYXJlX25vdF9nb2luZ190b191c2VfX1wiO1xuICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0odGVzdEtleSwgdGVzdEtleSk7XG4gICAgICB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbSh0ZXN0S2V5KTtcbiAgICAgIHRoaXMuX2lzU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIHRoaXMuX2lzU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGlzU3VwcG9ydGVkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1N1cHBvcnRlZDtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIGlmKHRoaXMuaXNTdXBwb3J0ZWQpIHtcbiAgICAgIHRoaXMuc3RvcmFnZS5jbGVhcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluTWVtb3J5U3RvcmFnZSA9IHt9O1xuICAgIH1cbiAgfVxuXG4gIGdldEl0ZW0obmFtZSkge1xuICAgIGlmKHRoaXMuaXNTdXBwb3J0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShuYW1lKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmluTWVtb3J5U3RvcmFnZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5NZW1vcnlTdG9yYWdlW25hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAga2V5KGluZGV4KSB7XG4gICAgaWYodGhpcy5pc1N1cHBvcnRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5rZXkoaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5pbk1lbW9yeVN0b3JhZ2UpW2luZGV4XSB8fCBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUl0ZW0obmFtZSkge1xuICAgIGlmKHRoaXMuaXNTdXBwb3J0ZWQpIHtcbiAgICAgIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy5pbk1lbW9yeVN0b3JhZ2VbbmFtZV07XG4gICAgfVxuICB9XG5cbiAgc2V0SXRlbShuYW1lLCB2YWx1ZSkge1xuICAgIGlmKHRoaXMuaXNTdXBwb3J0ZWQpIHtcbiAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKG5hbWUsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbk1lbW9yeVN0b3JhZ2VbbmFtZV0gPSBTdHJpbmcodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGxlbmd0aCgpIHtcbiAgICBpZih0aGlzLmlzU3VwcG9ydGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW5NZW1vcnlTdG9yYWdlKS5sZW5ndGg7XG4gICAgfVxuICB9XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5jbGFzcyBUaW1lciB7XG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBkZWxheSwgdGltZXJJbnRlcnZhbCkge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgdGhpcy50aW1lckludGVydmFsID0gdGltZXJJbnRlcnZhbDtcblxuICAgIHRoaXMucmVtYWluaW5nID0gZGVsYXk7XG4gICAgdGhpcy50aW1lcklkO1xuICAgIHRoaXMuc3RhcnQ7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICB0aGlzLnRpbWVySW50ZXJ2YWwgIT0gbnVsbCAmJiB0aGlzLnRpbWVySW50ZXJ2YWwuc3RvcCAhPSBudWxsICYmIHRoaXMudGltZXJJbnRlcnZhbC5zdG9wKCk7XG4gICAgdGhpcy5yZW1haW5pbmcgLT0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnQ7XG4gIH1cblxuICByZXN1bWUoKSB7XG4gICAgdGhpcy5zdGFydCA9IERhdGUubm93KCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgdGhpcy50aW1lckludGVydmFsICE9IG51bGwgJiYgdGhpcy50aW1lckludGVydmFsLnN0b3AgIT0gbnVsbCAmJiB0aGlzLnRpbWVySW50ZXJ2YWwuc3RvcCgpO1xuICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQodGhpcy5jYWxsYmFjaywgdGhpcy5yZW1haW5pbmcpO1xuICAgIHRoaXMudGltZXJJbnRlcnZhbCAhPSBudWxsICYmIHRoaXMudGltZXJJbnRlcnZhbC5zdGFydCAhPSBudWxsICYmIHRoaXMudGltZXJJbnRlcnZhbC5zdGFydCgpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgdGhpcy50aW1lckludGVydmFsICE9IG51bGwgJiYgdGhpcy50aW1lckludGVydmFsLnN0b3AgIT0gbnVsbCAmJiB0aGlzLnRpbWVySW50ZXJ2YWwuc3RvcCgpO1xuICAgIHRoaXMucmVtYWluaW5nID0gdGhpcy5kZWxheTtcbiAgfVxuXG4gIGdldFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVtYWluaW5nIC0gKERhdGUubm93KCkgLSB0aGlzLnN0YXJ0KTtcbiAgfVxufVxuXG5jbGFzcyBUaW1lckludGVydmFsIHtcbiAgY29uc3RydWN0b3IoY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5pbnRlcnZhbDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLmNhbGxiYWNrLCAxMDAwKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgfVxufVxuXG5leHBvcnQgeyBUaW1lciwgVGltZXJJbnRlcnZhbCB9IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIENhc2VUeXBlOiB7XG4gICAgRU1QVFk6IDAsXG4gICAgU05BS0U6IDEsXG4gICAgRlJVSVQ6IDIsXG4gICAgV0FMTDogMyxcbiAgICBTTkFLRV9ERUFEOiA0LFxuICAgIFNVUlJPVU5ERUQ6IDUsXG4gICAgRlJVSVRfR09MRDogNixcbiAgICBDUk9TU0VEOiA3XG4gIH0sXG4gIFBsYXllclR5cGU6IHtcbiAgICBBSTogXCJQTEFZRVJfQUlcIixcbiAgICBIVU1BTjogXCJQTEFZRVJfSFVNQU5cIixcbiAgICBIWUJSSURfSFVNQU5fQUk6IFwiUExBWUVSX0hZQlJJRF9IVU1BTl9BSVwiXG4gIH0sXG4gIEFpTGV2ZWw6IHtcbiAgICBSQU5ET006IFwiQUlfTEVWRUxfUkFORE9NXCIsXG4gICAgTE9XOiBcIkFJX0xFVkVMX0xPV1wiLFxuICAgIERFRkFVTFQ6IFwiQUlfTEVWRUxfREVGQVVMVFwiLFxuICAgIEhJR0g6IFwiQUlfTEVWRUxfSElHSFwiLFxuICAgIFVMVFJBOiBcIkFJX0xFVkVMX1VMVFJBXCIsXG4gICAgQ1VTVE9NOiBcIkFJX0xFVkVMX0NVU1RPTVwiLFxuICAgIE1PQ0s6IFwiQUlfTEVWRUxfTU9DS1wiXG4gIH0sXG4gIE91dHB1dFR5cGU6IHtcbiAgICBURVhUOiBcIk9VVFBVVF9URVhUXCIsXG4gICAgR1JBUEhJQ0FMOiBcIk9VVFBVVF9HUkFQSElDQUxcIlxuICB9LFxuICBTZXR0aW5nOiB7XG4gICAgQ0FOVkFTX1dJRFRIOiA4MDAsXG4gICAgQ0FOVkFTX0hFSUdIVDogNjAwLFxuICAgIEZPTlRfRkFNSUxZOiBcIkRlbGl1c1wiLFxuICAgIEZPTlRfU0laRTogMzIsXG4gICAgSEVBREVSX0hFSUdIVF9ERUZBVUxUOiA3NSxcbiAgICBUQVJHRVRfRlBTOiA2MCxcbiAgICBUSU1FX01VTFRJUExJRVI6IDE1LFxuICAgIElNQUdFX1NOQUtFX0hVRTogNzUsXG4gICAgSU1BR0VfU05BS0VfU0FUVVJBVElPTjogNTAsXG4gICAgSU1BR0VfU05BS0VfVkFMVUU6IDc3LFxuICAgIENBUlNfVE9fUFJFUkVOREVSOiBbXCJBXCIsIFwiQlwiLCBcIkNcIiwgXCJEXCIsIFwiRVwiLCBcIkZcIiwgXCJHXCIsIFwiSFwiLCBcIklcIiwgXCJKXCIsIFwiS1wiLCBcIkxcIiwgXCJNXCIsIFwiTlwiLCBcIk9cIiwgXCJQXCIsIFwiUVwiLCBcIlJcIiwgXCJTXCIsIFwiVFwiLCBcIlZcIiwgXCJXXCIsIFwiWFwiLCBcIllcIiwgXCJaXCIsIFwiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImVcIiwgXCJmXCIsIFwiZ1wiLCBcImhcIiwgXCJpXCIsIFwialwiLCBcImtcIiwgXCJsXCIsIFwibVwiLCBcIm5cIiwgXCJvXCIsIFwicFwiLCBcInFcIiwgXCJyXCIsIFwic1wiLCBcInRcIiwgXCJ2XCIsIFwid1wiLCBcInhcIiwgXCJ5XCIsIFwielwiLCBcIjBcIiwgXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCIsIFwiNVwiLCBcIjZcIiwgXCI3XCIsIFwiOFwiLCBcIjlcIiwgXCLDl1wiXSxcbiAgICBBUFBfVkVSU0lPTjogXCIyLjJcIixcbiAgICBEQVRFX1ZFUlNJT046IFwiMTAvMTgvMjAyMFwiLFxuICAgIFBST0JfR09MRF9GUlVJVF8xX1BMQVlFUjogMTAwLFxuICAgIFBST0JfR09MRF9GUlVJVF9NVUxUSVBMRV9QTEFZRVJTOiA1MCxcbiAgICBJTkZPX05PVElGX0NPTE9SOiBcInJnYmEoNTIsIDE1MiwgMjE5LCAwLjUpXCIsXG4gICAgRVJST1JfTk9USUZfQ09MT1I6IFwicmdiYSgyMzEsIDc2LCA2MCwgMC41KVwiXG4gIH0sXG4gIERpcmVjdGlvbjoge1xuICAgIFVQOiAwLFxuICAgIFRPUDogMCxcbiAgICBSSUdIVDogMSxcbiAgICBCT1RUT006IDIsXG4gICAgRE9XTjogMixcbiAgICBMRUZUOiAzLFxuICAgIEFOR0xFXzE6IDQsXG4gICAgQU5HTEVfMjogNSxcbiAgICBBTkdMRV8zOiA2LFxuICAgIEFOR0xFXzQ6IDdcbiAgfSxcbiAgS2V5OiB7XG4gICAgVVA6IDM4LFxuICAgIFJJR0hUOiAzOSxcbiAgICBCT1RUT006IDQwLFxuICAgIExFRlQ6IDM3LFxuICAgIEVOVEVSOiAxM1xuICB9LFxuICBFcnJvcjoge1xuICAgIFJPT01fTk9UX0ZPVU5EOiBcIlJPT01fTk9UX0ZPVU5EXCIsXG4gICAgUk9PTV9BTFJFQURZX0pPSU5FRDogXCJST09NX0FMUkVBRFlfSk9JTkVEXCIsXG4gICAgSU5WQUxJRF9TRVRUSU5HUzogXCJJTlZBTElEX1NFVFRJTkdTXCIsXG4gICAgTUFYX1JPT01fTElNSVRfUkVBQ0hFRDogXCJNQVhfUk9PTV9MSU1JVF9SRUFDSEVEXCIsXG4gICAgQVVUSEVOVElDQVRJT05fUkVRVUlSRUQ6IFwiQVVUSEVOVElDQVRJT05fUkVRVUlSRURcIixcbiAgICBBTFJFQURZX0NSRUFURURfUk9PTTogXCJBTFJFQURZX0NSRUFURURfUk9PTVwiLFxuICAgIEJBTk5FRDogXCJCQU5ORURcIixcbiAgICBESVNDT05ORUNURUQ6IFwiRElTQ09OTkVDVEVEXCJcbiAgfSxcbiAgR2FtZVN0YXRlOiB7XG4gICAgU1RBUlRJTkc6IFwiU1RBUlRJTkdcIixcbiAgICBTVEFSVEVEOiBcIlNUQVJURURcIixcbiAgICBTRUFSQ0hJTkdfUExBWUVSUzogXCJTRUFSQ0hJTkdfUExBWUVSU1wiLFxuICAgIEFVVEhFTlRJQ0FUSU9OX1NVQ0NFU1M6IFwiQVVUSEVOVElDQVRJT05fU1VDQ0VTU1wiXG4gIH1cbn07IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gIH1cblxuICByZWdpc3RlckNhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gIH1cbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE5LTIwMjAgRWxpYXN0aWsgKGVsaWFzdGlrc29mdHMuY29tKVxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFwiU25ha2VJQVwiLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggXCJTbmFrZUlBXCIuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbmltcG9ydCBHYW1lQ29uc3RhbnRzIGZyb20gXCIuL0NvbnN0YW50c1wiO1xuaW1wb3J0IFJlYWN0b3IgZnJvbSBcIi4vUmVhY3RvclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGVuZ2luZSwgdWkpIHtcbiAgICB0aGlzLmdhbWVVSSA9IHVpO1xuICAgIHRoaXMuZ2FtZUVuZ2luZSA9IGVuZ2luZTtcbiAgICAvLyBDb3B5IG9mIGdhbWUgZW5naW5lIHZhcmlhYmxlc1xuICAgIHRoaXMuZ3JpZCA9IG51bGw7XG4gICAgdGhpcy5zbmFrZXMgPSBudWxsO1xuICAgIHRoaXMubGFzdEtleSA9IC0xO1xuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgdGhpcy5pc1Jlc2V0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmV4aXRlZCA9IGZhbHNlO1xuICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLnN0YXJ0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5zY29yZU1heCA9IGZhbHNlO1xuICAgIHRoaXMuZ2FtZUZpbmlzaGVkID0gZmFsc2U7XG4gICAgdGhpcy5lcnJvck9jY3VycmVkID0gZmFsc2U7XG4gICAgdGhpcy5jbGllbnRTaWRlUHJlZGljdGlvbnNNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50UGxheWVyID0gbnVsbDtcbiAgICB0aGlzLm9ubGluZU1vZGUgPSBmYWxzZTtcbiAgICAvLyBFdmVudHNcbiAgICB0aGlzLnJlYWN0b3IgPSBuZXcgUmVhY3RvcigpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25TdGFydFwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uUGF1c2VcIik7XG4gICAgdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvbkNvbnRpbnVlXCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25SZXNldFwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uU3RvcFwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uRXhpdFwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uS2lsbFwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uU2NvcmVJbmNyZWFzZWRcIik7XG4gICAgdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvblVwZGF0ZVwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uVXBkYXRlQ291bnRlclwiKTtcbiAgfVxuICBcbiAgaW5pdCgpIHtcbiAgICB0aGlzLnVwZGF0ZShcImluaXRcIiwge1xuICAgICAgXCJzbmFrZXNcIjogdGhpcy5nYW1lRW5naW5lLnNuYWtlcyxcbiAgICAgIFwiZ3JpZFwiOiB0aGlzLmdhbWVFbmdpbmUuZ3JpZCxcbiAgICAgIFwiZW5hYmxlUGF1c2VcIjogdGhpcy5nYW1lRW5naW5lLmVuYWJsZVBhdXNlLFxuICAgICAgXCJlbmFibGVSZXRyeVwiOiB0aGlzLmdhbWVFbmdpbmUuZW5hYmxlUmV0cnksXG4gICAgICBcInByb2dyZXNzaXZlU3BlZWRcIjogdGhpcy5nYW1lRW5naW5lLnByb2dyZXNzaXZlU3BlZWQsXG4gICAgICBcIm9mZnNldEZyYW1lXCI6IHRoaXMuZ2FtZUVuZ2luZS5zcGVlZCAqIEdhbWVDb25zdGFudHMuU2V0dGluZy5USU1FX01VTFRJUExJRVIsXG4gICAgICBcImVycm9yT2NjdXJyZWRcIjogdGhpcy5nYW1lRW5naW5lLmVycm9yT2NjdXJyZWRcbiAgICB9KTtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZS5vblJlc2V0KCgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlKFwicmVzZXRcIiwge1xuICAgICAgICBcInBhdXNlZFwiOiB0aGlzLmdhbWVFbmdpbmUucGF1c2VkLFxuICAgICAgICBcImlzUmVzZXRlZFwiOiB0aGlzLmdhbWVFbmdpbmUuaXNSZXNldGVkLFxuICAgICAgICBcImV4aXRlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZXhpdGVkLFxuICAgICAgICBcImdyaWRcIjogdGhpcy5nYW1lRW5naW5lLmdyaWQsXG4gICAgICAgIFwibnVtRnJ1aXRcIjogdGhpcy5nYW1lRW5naW5lLm51bUZydWl0LFxuICAgICAgICBcInRpY2tzXCI6IHRoaXMuZ2FtZUVuZ2luZS50aWNrcyxcbiAgICAgICAgXCJzY29yZU1heFwiOiB0aGlzLmdhbWVFbmdpbmUuc2NvcmVNYXgsXG4gICAgICAgIFwiZ2FtZU92ZXJcIjogdGhpcy5nYW1lRW5naW5lLmdhbWVPdmVyLFxuICAgICAgICBcImdhbWVGaW5pc2hlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZ2FtZUZpbmlzaGVkLFxuICAgICAgICBcImdhbWVNYXplV2luXCI6IHRoaXMuZ2FtZUVuZ2luZS5nYW1lTWF6ZVdpbixcbiAgICAgICAgXCJzdGFydGluZ1wiOiB0aGlzLmdhbWVFbmdpbmUuc3RhcnRpbmcsXG4gICAgICAgIFwiaW5pdGlhbFNwZWVkXCI6IHRoaXMuZ2FtZUVuZ2luZS5pbml0aWFsU3BlZWQsXG4gICAgICAgIFwic3BlZWRcIjogdGhpcy5nYW1lRW5naW5lLnNwZWVkLFxuICAgICAgICBcInNuYWtlc1wiOiB0aGlzLmdhbWVFbmdpbmUuc25ha2VzLFxuICAgICAgICBcImNvbmZpcm1SZXNldFwiOiBmYWxzZSxcbiAgICAgICAgXCJjb25maXJtRXhpdFwiOiBmYWxzZSxcbiAgICAgICAgXCJnZXRJbmZvc1wiOiBmYWxzZSxcbiAgICAgICAgXCJnZXRJbmZvc0dhbWVcIjogZmFsc2UsXG4gICAgICAgIFwiZXJyb3JPY2N1cnJlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZXJyb3JPY2N1cnJlZCxcbiAgICAgICAgXCJvZmZzZXRGcmFtZVwiOiB0aGlzLmdhbWVFbmdpbmUuc3BlZWQgKiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuVElNRV9NVUxUSVBMSUVSLFxuICAgICAgICBcImFpU3R1Y2tcIjogdGhpcy5nYW1lRW5naW5lLmFpU3R1Y2ssXG4gICAgICAgIFwicHJlY0FpU3R1Y2tcIjogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uUmVzZXRcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmdhbWVFbmdpbmUub25TdGFydCgoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZShcInN0YXJ0XCIsIHtcbiAgICAgICAgXCJzbmFrZXNcIjogdGhpcy5nYW1lRW5naW5lLnNuYWtlcyxcbiAgICAgICAgXCJncmlkXCI6IHRoaXMuZ2FtZUVuZ2luZS5ncmlkLFxuICAgICAgICBcInN0YXJ0aW5nXCI6IHRoaXMuZ2FtZUVuZ2luZS5zdGFydGluZyxcbiAgICAgICAgXCJjb3VudEJlZm9yZVBsYXlcIjogdGhpcy5nYW1lRW5naW5lLmNvdW50QmVmb3JlUGxheSxcbiAgICAgICAgXCJwYXVzZWRcIjogdGhpcy5nYW1lRW5naW5lLnBhdXNlZCxcbiAgICAgICAgXCJpc1Jlc2V0ZWRcIjogdGhpcy5nYW1lRW5naW5lLmlzUmVzZXRlZCxcbiAgICAgICAgXCJjb25maXJtUmVzZXRcIjogZmFsc2UsXG4gICAgICAgIFwiY29uZmlybUV4aXRcIjogZmFsc2UsXG4gICAgICAgIFwiZ2V0SW5mb3NcIjogZmFsc2UsXG4gICAgICAgIFwiZ2V0SW5mb3NHYW1lXCI6IGZhbHNlLFxuICAgICAgICBcImVycm9yT2NjdXJyZWRcIjogdGhpcy5nYW1lRW5naW5lLmVycm9yT2NjdXJyZWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblN0YXJ0XCIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5nYW1lRW5naW5lLm9uUGF1c2UoKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoXCJwYXVzZVwiLCB7XG4gICAgICAgIFwicGF1c2VkXCI6IHRoaXMuZ2FtZUVuZ2luZS5wYXVzZWQsXG4gICAgICAgIFwiY29uZmlybVJlc2V0XCI6IGZhbHNlLFxuICAgICAgICBcImNvbmZpcm1FeGl0XCI6IGZhbHNlLFxuICAgICAgICBcImdldEluZm9zXCI6IGZhbHNlLFxuICAgICAgICBcImdldEluZm9zR2FtZVwiOiBmYWxzZSxcbiAgICAgICAgXCJlcnJvck9jY3VycmVkXCI6IHRoaXMuZ2FtZUVuZ2luZS5lcnJvck9jY3VycmVkXG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25QYXVzZVwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZS5vbkNvbnRpbnVlKCgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlKFwiY29udGludWVcIiwge1xuICAgICAgICBcImNvbmZpcm1SZXNldFwiOiBmYWxzZSxcbiAgICAgICAgXCJjb25maXJtRXhpdFwiOiBmYWxzZSxcbiAgICAgICAgXCJnZXRJbmZvc1wiOiBmYWxzZSxcbiAgICAgICAgXCJnZXRJbmZvc0dhbWVcIjogZmFsc2UsXG4gICAgICAgIFwiZXJyb3JPY2N1cnJlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZXJyb3JPY2N1cnJlZFxuICAgICAgfSk7XG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uQ29udGludWVcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmdhbWVFbmdpbmUub25TdG9wKCgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlKFwic3RvcFwiLCB7XG4gICAgICAgIFwicGF1c2VkXCI6IHRoaXMuZ2FtZUVuZ2luZS5wYXVzZWQsXG4gICAgICAgIFwic2NvcmVNYXhcIjogdGhpcy5nYW1lRW5naW5lLnNjb3JlTWF4LFxuICAgICAgICBcImdhbWVPdmVyXCI6IHRoaXMuZ2FtZUVuZ2luZS5nYW1lT3ZlcixcbiAgICAgICAgXCJnYW1lRmluaXNoZWRcIjogdGhpcy5nYW1lRW5naW5lLmdhbWVGaW5pc2hlZCxcbiAgICAgICAgXCJjb25maXJtUmVzZXRcIjogZmFsc2UsXG4gICAgICAgIFwiY29uZmlybUV4aXRcIjogZmFsc2UsXG4gICAgICAgIFwiZ2V0SW5mb3NcIjogZmFsc2UsXG4gICAgICAgIFwiZ2V0SW5mb3NHYW1lXCI6IGZhbHNlLFxuICAgICAgICBcImVycm9yT2NjdXJyZWRcIjogdGhpcy5nYW1lRW5naW5lLmVycm9yT2NjdXJyZWRcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblN0b3BcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLmdhbWVFbmdpbmUub25FeGl0KCgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlKFwiZXhpdFwiLCB7XG4gICAgICAgIFwicGF1c2VkXCI6IHRoaXMuZ2FtZUVuZ2luZS5wYXVzZWQsXG4gICAgICAgIFwiZ2FtZU92ZXJcIjogdGhpcy5nYW1lRW5naW5lLmdhbWVPdmVyLFxuICAgICAgICBcImdhbWVGaW5pc2hlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZ2FtZUZpbmlzaGVkLFxuICAgICAgICBcImV4aXRlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZXhpdGVkLFxuICAgICAgICBcImNvbmZpcm1SZXNldFwiOiBmYWxzZSxcbiAgICAgICAgXCJjb25maXJtRXhpdFwiOiBmYWxzZSxcbiAgICAgICAgXCJnZXRJbmZvc1wiOiBmYWxzZSxcbiAgICAgICAgXCJnZXRJbmZvc0dhbWVcIjogZmFsc2UsXG4gICAgICAgIFwiZXJyb3JPY2N1cnJlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZXJyb3JPY2N1cnJlZFxuICAgICAgfSk7XG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uRXhpdFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZS5vbktpbGwoKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoXCJraWxsXCIsIHtcbiAgICAgICAgXCJwYXVzZWRcIjogdGhpcy5nYW1lRW5naW5lLnBhdXNlZCxcbiAgICAgICAgXCJnYW1lT3ZlclwiOiB0aGlzLmdhbWVFbmdpbmUuZ2FtZU92ZXIsXG4gICAgICAgIFwia2lsbGVkXCI6IHRoaXMuZ2FtZUVuZ2luZS5raWxsZWQsXG4gICAgICAgIFwic25ha2VzXCI6IHRoaXMuZ2FtZUVuZ2luZS5zbmFrZXMsXG4gICAgICAgIFwiZ2FtZUZpbmlzaGVkXCI6IHRoaXMuZ2FtZUVuZ2luZS5nYW1lRmluaXNoZWQsXG4gICAgICAgIFwiZ3JpZFwiOiB0aGlzLmdhbWVFbmdpbmUuZ3JpZCxcbiAgICAgICAgXCJjb25maXJtUmVzZXRcIjogZmFsc2UsXG4gICAgICAgIFwiY29uZmlybUV4aXRcIjogZmFsc2UsXG4gICAgICAgIFwiZ2V0SW5mb3NcIjogZmFsc2UsXG4gICAgICAgIFwiZ2V0SW5mb3NHYW1lXCI6IGZhbHNlLFxuICAgICAgICBcImVycm9yT2NjdXJyZWRcIjogdGhpcy5nYW1lRW5naW5lLmVycm9yT2NjdXJyZWRcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uS2lsbFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZS5vblNjb3JlSW5jcmVhc2VkKCgpID0+IHtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TY29yZUluY3JlYXNlZFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZS5vblVwZGF0ZSgoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZShcInVwZGF0ZVwiLCB7XG4gICAgICAgIFwicGF1c2VkXCI6IHRoaXMuZ2FtZUVuZ2luZS5wYXVzZWQsXG4gICAgICAgIFwiaXNSZXNldGVkXCI6IHRoaXMuZ2FtZUVuZ2luZS5pc1Jlc2V0ZWQsXG4gICAgICAgIFwiZXhpdGVkXCI6IHRoaXMuZ2FtZUVuZ2luZS5leGl0ZWQsXG4gICAgICAgIFwiZ3JpZFwiOiB0aGlzLmdhbWVFbmdpbmUuZ3JpZCxcbiAgICAgICAgXCJudW1GcnVpdFwiOiB0aGlzLmdhbWVFbmdpbmUubnVtRnJ1aXQsXG4gICAgICAgIFwidGlja3NcIjogdGhpcy5nYW1lRW5naW5lLnRpY2tzLFxuICAgICAgICBcInNjb3JlTWF4XCI6IHRoaXMuZ2FtZUVuZ2luZS5zY29yZU1heCxcbiAgICAgICAgXCJnYW1lT3ZlclwiOiB0aGlzLmdhbWVFbmdpbmUuZ2FtZU92ZXIsXG4gICAgICAgIFwiZ2FtZUZpbmlzaGVkXCI6IHRoaXMuZ2FtZUVuZ2luZS5nYW1lRmluaXNoZWQsXG4gICAgICAgIFwiZ2FtZU1hemVXaW5cIjogdGhpcy5nYW1lRW5naW5lLmdhbWVNYXplV2luLFxuICAgICAgICBcInN0YXJ0aW5nXCI6IHRoaXMuZ2FtZUVuZ2luZS5zdGFydGluZyxcbiAgICAgICAgXCJpbml0aWFsU3BlZWRcIjogdGhpcy5nYW1lRW5naW5lLmluaXRpYWxTcGVlZCxcbiAgICAgICAgXCJzcGVlZFwiOiB0aGlzLmdhbWVFbmdpbmUuc3BlZWQsXG4gICAgICAgIFwic25ha2VzXCI6IHRoaXMuZ2FtZUVuZ2luZS5zbmFrZXMsXG4gICAgICAgIFwiY291bnRCZWZvcmVQbGF5XCI6IHRoaXMuZ2FtZUVuZ2luZS5jb3VudEJlZm9yZVBsYXksXG4gICAgICAgIFwibnVtRnJ1aXRcIjogdGhpcy5nYW1lRW5naW5lLm51bUZydWl0LFxuICAgICAgICBcIm9mZnNldEZyYW1lXCI6IDAsXG4gICAgICAgIFwiZXJyb3JPY2N1cnJlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZXJyb3JPY2N1cnJlZCxcbiAgICAgICAgXCJhaVN0dWNrXCI6IHRoaXMuZ2FtZUVuZ2luZS5haVN0dWNrXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblVwZGF0ZVwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2FtZUVuZ2luZS5vblVwZGF0ZUNvdW50ZXIoKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoXCJ1cGRhdGVDb3VudGVyXCIsIHtcbiAgICAgICAgXCJwYXVzZWRcIjogdGhpcy5nYW1lRW5naW5lLnBhdXNlZCxcbiAgICAgICAgXCJpc1Jlc2V0ZWRcIjogdGhpcy5nYW1lRW5naW5lLmlzUmVzZXRlZCxcbiAgICAgICAgXCJleGl0ZWRcIjogdGhpcy5nYW1lRW5naW5lLmV4aXRlZCxcbiAgICAgICAgXCJncmlkXCI6IHRoaXMuZ2FtZUVuZ2luZS5ncmlkLFxuICAgICAgICBcIm51bUZydWl0XCI6IHRoaXMuZ2FtZUVuZ2luZS5udW1GcnVpdCxcbiAgICAgICAgXCJ0aWNrc1wiOiB0aGlzLmdhbWVFbmdpbmUudGlja3MsXG4gICAgICAgIFwic2NvcmVNYXhcIjogdGhpcy5nYW1lRW5naW5lLnNjb3JlTWF4LFxuICAgICAgICBcImdhbWVPdmVyXCI6IHRoaXMuZ2FtZUVuZ2luZS5nYW1lT3ZlcixcbiAgICAgICAgXCJnYW1lRmluaXNoZWRcIjogdGhpcy5nYW1lRW5naW5lLmdhbWVGaW5pc2hlZCxcbiAgICAgICAgXCJnYW1lTWF6ZVdpblwiOiB0aGlzLmdhbWVFbmdpbmUuZ2FtZU1hemVXaW4sXG4gICAgICAgIFwic3RhcnRpbmdcIjogdGhpcy5nYW1lRW5naW5lLnN0YXJ0aW5nLFxuICAgICAgICBcImluaXRpYWxTcGVlZFwiOiB0aGlzLmdhbWVFbmdpbmUuaW5pdGlhbFNwZWVkLFxuICAgICAgICBcInNwZWVkXCI6IHRoaXMuZ2FtZUVuZ2luZS5zcGVlZCxcbiAgICAgICAgXCJzbmFrZXNcIjogdGhpcy5nYW1lRW5naW5lLnNuYWtlcyxcbiAgICAgICAgXCJjb3VudEJlZm9yZVBsYXlcIjogdGhpcy5nYW1lRW5naW5lLmNvdW50QmVmb3JlUGxheSxcbiAgICAgICAgXCJudW1GcnVpdFwiOiB0aGlzLmdhbWVFbmdpbmUubnVtRnJ1aXQsXG4gICAgICAgIFwiZXJyb3JPY2N1cnJlZFwiOiB0aGlzLmdhbWVFbmdpbmUuZXJyb3JPY2N1cnJlZFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25VcGRhdGVDb3VudGVyXCIpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5nYW1lRW5naW5lLnJlc2V0KCk7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLmdhbWVFbmdpbmUuc3RhcnQoKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5nYW1lRW5naW5lLnN0b3AoKTtcbiAgfVxuXG4gIGZpbmlzaChmaW5pc2gpIHtcbiAgICB0aGlzLmdhbWVFbmdpbmUuc3RvcChmaW5pc2gpO1xuICB9XG5cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5nYW1lRW5naW5lLnBhdXNlKCk7XG4gIH1cblxuICBraWxsKCkge1xuICAgIHRoaXMuZ2FtZUVuZ2luZS5raWxsKCk7XG4gIH1cblxuICB0aWNrKCkge1xuICAgIHRoaXMuZ2FtZUVuZ2luZS5wYXVzZWQgPSBmYWxzZTtcbiAgICB0aGlzLmdhbWVFbmdpbmUuY291bnRCZWZvcmVQbGF5ID0gLTE7XG4gICAgdGhpcy5nYW1lRW5naW5lLnRpY2soKTtcbiAgfVxuXG4gIGV4aXQoKSB7XG4gICAgdGhpcy5nYW1lRW5naW5lLmV4aXQoKTtcbiAgfVxuXG4gIGZvcmNlU3RhcnQoKSB7XG4gICAgdGhpcy5nYW1lRW5naW5lLmZvcmNlU3RhcnQoKTtcbiAgfVxuXG4gIHVwZGF0ZUVuZ2luZShrZXksIGRhdGEpIHtcbiAgICB0aGlzLmdhbWVFbmdpbmVba2V5XSA9IGRhdGE7XG4gIH1cblxuICBzZXREaXNwbGF5RlBTKGRpc3BsYXkpIHtcbiAgICB0aGlzLmdhbWVVSS5zZXREaXNwbGF5RlBTKGRpc3BsYXkpO1xuICB9XG5cbiAgc2V0Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xuICAgIHRoaXMuZ2FtZVVJLnNldE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICB9XG5cbiAgY2xvc2VSYW5raW5nKCkge1xuICAgIHRoaXMuZ2FtZVVJLmdhbWVSYW5raW5nICYmIHRoaXMuZ2FtZVVJLmdhbWVSYW5raW5nLmZvcmNlQ2xvc2UoKTtcbiAgfVxuXG4gIHNldFRpbWVUb0Rpc3BsYXkodGltZSkge1xuICAgIHRoaXMuZ2FtZVVJLnNldFRpbWVUb0Rpc3BsYXkodGltZSk7XG4gIH1cblxuICBzZXRCZXN0U2NvcmUoc2NvcmUpIHtcbiAgICB0aGlzLmdhbWVVSS5zZXRCZXN0U2NvcmUoc2NvcmUpO1xuICB9XG5cbiAgZGVzdHJveVNuYWtlcyhleGNlcHRpb25JZHMsIHR5cGVzKSB7XG4gICAgdGhpcy5nYW1lRW5naW5lLmRlc3Ryb3lTbmFrZXMoZXhjZXB0aW9uSWRzLCB0eXBlcyk7XG4gIH1cblxuICBrZXkoa2V5KSB7XG4gICAgdGhpcy5nYW1lRW5naW5lLmxhc3RLZXkgPSBrZXk7XG4gICAgdGhpcy5sYXN0S2V5ID0ga2V5O1xuXG4gICAgY29uc3QgcGxheWVyU25ha2UgPSB0aGlzLnNuYWtlc1t0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKV07XG5cbiAgICBpZihwbGF5ZXJTbmFrZSAhPSBudWxsICYmIHBsYXllclNuYWtlLmxhc3RLZXkgIT0gbnVsbCkge1xuICAgICAgcGxheWVyU25ha2UubGFzdEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBnZXRDdXJyZW50UGxheWVyKCkge1xuICAgIGlmKHRoaXMuc25ha2VzICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG5iUGxheWVycyA9IHRoaXMuZ2V0TkJQbGF5ZXIoR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOKTtcbiAgICAgIGNvbnN0IG5iUGxheWVyc0h5YnJpZCA9IHRoaXMuZ2V0TkJQbGF5ZXIoR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSk7XG4gICAgXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5zbmFrZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYoKHRoaXMuY3VycmVudFBsYXllciA9PSBudWxsICYmIG5iUGxheWVycyA8PSAxICYmIG5iUGxheWVyc0h5YnJpZCA8PSAxICYmICh0aGlzLnNuYWtlc1tpXSAmJiAodGhpcy5zbmFrZXNbaV0ucGxheWVyID09IEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IVU1BTiB8fCB0aGlzLnNuYWtlc1tpXS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSkpIHx8IHRoaXMuY3VycmVudFBsYXllciA9PSAoaSArIDEpKSkge1xuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgZ2V0TkJQbGF5ZXIodHlwZSkge1xuICAgIGxldCBudW1QbGF5ZXIgPSAwO1xuXG4gICAgaWYodGhpcy5zbmFrZXMgIT0gbnVsbCkge1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc25ha2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmKHRoaXMuc25ha2VzW2ldICYmIHRoaXMuc25ha2VzW2ldLnBsYXllciA9PSB0eXBlKSB7XG4gICAgICAgICAgbnVtUGxheWVyKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVtUGxheWVyO1xuICB9XG5cbiAgZ2V0UGxheWVyKG51bSwgdHlwZSkge1xuICAgIGxldCBudW1QbGF5ZXIgPSAwO1xuXG4gICAgaWYodGhpcy5zbmFrZXMgIT0gbnVsbCkge1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc25ha2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmKHRoaXMuc25ha2VzW2ldICYmIHRoaXMuc25ha2VzW2ldLnBsYXllciA9PSB0eXBlKSB7XG4gICAgICAgICAgbnVtUGxheWVyKys7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYobnVtUGxheWVyID09IG51bSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNuYWtlc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdXBkYXRlKG1lc3NhZ2UsIGRhdGEsIHVwZGF0ZUVuZ2luZSkge1xuICAgIGlmKHRoaXMuZ2FtZVVJICE9IG51bGwgJiYgZGF0YSAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkYXRhS2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZGF0YUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYoKCF0aGlzLmNsaWVudFNpZGVQcmVkaWN0aW9uc01vZGUgJiYgIXRoaXMub25saW5lTW9kZSkgfHwgKHRoaXMuY2xpZW50U2lkZVByZWRpY3Rpb25zTW9kZSAmJiAoZGF0YUtleXNbaV0gPT0gXCJzbmFrZXNcIiB8fCBkYXRhS2V5c1tpXSA9PSBcImdyaWRcIiB8fCBkYXRhS2V5c1tpXSA9PSBcIm9mZnNldEZyYW1lXCIgfHwgZGF0YUtleXNbaV0gPT0gXCJnYW1lT3ZlclwiKSAmJiAoIXRoaXMub25saW5lTW9kZSB8fCAodGhpcy5vbmxpbmVNb2RlICYmIGRhdGFLZXlzW2ldICE9IFwiZXJyb3JPY2N1cnJlZFwiKSkpIHx8ICghdGhpcy5jbGllbnRTaWRlUHJlZGljdGlvbnNNb2RlICYmIHRoaXMub25saW5lTW9kZSAmJiBkYXRhS2V5c1tpXSAhPSBcImVycm9yT2NjdXJyZWRcIikpIHtcbiAgICAgICAgICBpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5nYW1lVUksIGRhdGFLZXlzW2ldKSAmJiB0eXBlb2YoZGF0YVtkYXRhS2V5c1tpXV0pICE9PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mKHRoaXMuZ2FtZVVJW2RhdGFLZXlzW2ldXSkgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5nYW1lVUlbZGF0YUtleXNbaV1dID0gZGF0YVtkYXRhS2V5c1tpXV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYodXBkYXRlRW5naW5lKSB7XG4gICAgICAgICAgICBpZihkYXRhLnNuYWtlcyAmJiBkYXRhLnNuYWtlc1t0aGlzLmdldEN1cnJlbnRQbGF5ZXIoKV0pIHtcbiAgICAgICAgICAgICAgZGF0YS5zbmFrZXNbdGhpcy5nZXRDdXJyZW50UGxheWVyKCldLmxhc3RLZXkgPSB0aGlzLmxhc3RLZXk7XG4gICAgICAgICAgICAgIHRoaXMubGFzdEtleSA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihkYXRhLmdyaWQpIHtcbiAgICAgICAgICAgICAgZGF0YS5ncmlkLnJuZ0dhbWUgPSBudWxsO1xuICAgICAgICAgICAgICBkYXRhLmdyaWQucm5nR3JpZCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudXBkYXRlRW5naW5lKGRhdGFLZXlzW2ldLCBkYXRhW2RhdGFLZXlzW2ldXSk7XG4gICAgICAgICAgfVxuICAgIFxuICAgICAgICAgIGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCBkYXRhS2V5c1tpXSkgJiYgdHlwZW9mKGRhdGFbZGF0YUtleXNbaV1dKSAhPT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZih0aGlzW2RhdGFLZXlzW2ldXSkgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpc1tkYXRhS2V5c1tpXV0gPSBkYXRhW2RhdGFLZXlzW2ldXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYoZGF0YS5oYXNPd25Qcm9wZXJ0eShcImtpbGxlZFwiKSAmJiBkYXRhLmtpbGxlZCAmJiB0aGlzLmdhbWVVSSAmJiB0aGlzLmdhbWVVSS5zZXRLaWxsKSB7XG4gICAgICAgIHRoaXMuZ2FtZVVJLnNldEtpbGwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblJlc2V0KGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJvblJlc2V0XCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uU3RhcnQoY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uU3RhcnRcIiwgY2FsbGJhY2spO1xuICB9XG5cbiAgb25Db250aW51ZShjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25Db250aW51ZVwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBvblN0b3AoY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uU3RvcFwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBvblBhdXNlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJvblBhdXNlXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uRXhpdChjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25FeGl0XCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uS2lsbChjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25LaWxsXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uU2NvcmVJbmNyZWFzZWQoY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uU2NvcmVJbmNyZWFzZWRcIiwgY2FsbGJhY2spO1xuICB9XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5pbXBvcnQgaTE4bmV4dCBmcm9tIFwiaTE4bmV4dFwiO1xuaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gXCIuL0dhbWVDb250cm9sbGVyXCI7XG5pbXBvcnQgR3JpZCBmcm9tIFwiLi9HcmlkXCI7XG5pbXBvcnQgU25ha2UgZnJvbSBcIi4vU25ha2VcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uTWVzc2FnZSB9IGZyb20gXCJqc2dhbWV0b29sc1wiO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi9TaGltXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb250cm9sbGVyU29ja2V0IGV4dGVuZHMgR2FtZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcihzb2NrZXQsIHVpLCBlbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnMsIHNldHRpbmdzKSB7XG4gICAgc3VwZXIobmV3IEdhbWUobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgc2V0dGluZ3MsIHVpLCB0cnVlKSwgdWkpO1xuICAgIHRoaXMuZW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zID0gZW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zIHx8IGZhbHNlO1xuICAgIHRoaXMuc29ja2V0ID0gc29ja2V0O1xuICAgIHRoaXMucGluZ0xhdGVuY3kgPSAtMTtcbiAgfVxuXG4gIHBhcnNlRGF0YShtLCBkLCB1cGRhdGVFbmdpbmUpIHtcbiAgICBjb25zdCBkYXRhID0gW20sIGRdO1xuXG4gICAgaWYoZGF0YS5sZW5ndGggPiAxKSB7XG4gICAgICBsZXQgZ3JpZCA9IHRoaXMuZ3JpZDtcblxuICAgICAgaWYoZGF0YVsxXS5oYXNPd25Qcm9wZXJ0eShcImdyaWRcIikgJiYgZGF0YVsxXVtcImdyaWRcIl0gIT0gbnVsbCAmJiBkYXRhWzFdW1wiZ3JpZFwiXVtcImdyaWRcIl0gIT0gbnVsbCkge1xuICAgICAgICBncmlkID0gT2JqZWN0LmFzc2lnbihuZXcgR3JpZCgpLCBkYXRhWzFdW1wiZ3JpZFwiXSk7XG4gICAgICAgIGRhdGFbMV1bXCJncmlkXCJdID0gZ3JpZDtcbiAgICAgIH1cblxuICAgICAgaWYoZGF0YVsxXS5oYXNPd25Qcm9wZXJ0eShcInNuYWtlc1wiKSAmJiBkYXRhWzFdW1wic25ha2VzXCJdICE9IG51bGwpIHtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGRhdGFbMV1bXCJzbmFrZXNcIl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBkYXRhWzFdW1wic25ha2VzXCJdW2ldLmdyaWQgPSBncmlkO1xuICAgICAgICAgIGRhdGFbMV1bXCJzbmFrZXNcIl1baV0gPSBPYmplY3QuYXNzaWduKG5ldyBTbmFrZSgpLCBkYXRhWzFdW1wic25ha2VzXCJdW2ldKTtcblxuICAgICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBkYXRhWzFdW1wic25ha2VzXCJdW2ldLnF1ZXVlLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBkYXRhWzFdW1wic25ha2VzXCJdW2ldLnF1ZXVlW2pdID0gT2JqZWN0LmFzc2lnbihuZXcgUG9zaXRpb24oKSwgZGF0YVsxXVtcInNuYWtlc1wiXVtpXS5xdWV1ZVtqXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRoaXMudXBkYXRlKGRhdGFbMF0sIGRhdGFbMV0sIHVwZGF0ZUVuZ2luZSk7XG4gICAgfVxuICB9XG5cbiAgaW5pdCgpIHtcbiAgICB0aGlzLnNvY2tldC5vbihcImluaXRcIiwgZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhcnNlRGF0YShcImluaXRcIiwgZGF0YSwgdGhpcy5lbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnMpO1xuICAgICAgdGhpcy5nYW1lRW5naW5lLnVwZGF0ZShcInVwZGF0ZVwiLCB7IFwiZW5naW5lTG9hZGluZ1wiOiBmYWxzZSB9LCB0cnVlKTtcblxuICAgICAgaWYodGhpcy5lbmFibGVDbGllbnRTaWRlUHJlZGljdGlvbnMpIHtcbiAgICAgICAgdGhpcy5nYW1lRW5naW5lLnVwZGF0ZShcInVwZGF0ZVwiLCB7IFwiY2xpZW50U2lkZVByZWRpY3Rpb25zTW9kZVwiOiB0cnVlIH0sIHRydWUpO1xuICAgICAgICBpZihkYXRhICYmIGRhdGFbXCJjdXJyZW50UGxheWVyXCJdKVxuICAgICAgICAgIHRoaXMuZ2FtZUVuZ2luZS5jdXJyZW50UGxheWVyID0gZGF0YVtcImN1cnJlbnRQbGF5ZXJcIl07XG4gICAgICAgIGlmKGRhdGEgJiYgZGF0YVtcImNvdW50QmVmb3JlUGxheVwiXSA8IDApXG4gICAgICAgICAgdGhpcy5nYW1lRW5naW5lLmZvcmNlU3RhcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwicmVzZXRcIiwgZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhcnNlRGF0YShcInJlc2V0XCIsIGRhdGEsIHRoaXMuZW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zKTtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25SZXNldFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwic3RhcnRcIiwgZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhcnNlRGF0YShcInN0YXJ0XCIsIGRhdGEpO1xuICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblN0YXJ0XCIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zb2NrZXQub24oXCJwYXVzZVwiLCBkYXRhID0+IHtcbiAgICAgIHRoaXMucGFyc2VEYXRhKFwicGF1c2VcIiwgZGF0YSk7XG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uUGF1c2VcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNvY2tldC5vbihcImNvbnRpbnVlXCIsIGRhdGEgPT4ge1xuICAgICAgdGhpcy5wYXJzZURhdGEoXCJjb250aW51ZVwiLCBkYXRhKTtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25Db250aW51ZVwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwic3RvcFwiLCBkYXRhID0+IHtcbiAgICAgIHRoaXMucGFyc2VEYXRhKFwic3RvcFwiLCBkYXRhLCB0aGlzLmVuYWJsZUNsaWVudFNpZGVQcmVkaWN0aW9ucyk7XG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uU3RvcFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwiZXhpdFwiLCBkYXRhID0+IHtcbiAgICAgIHRoaXMucGFyc2VEYXRhKFwiZXhpdFwiLCBkYXRhKTtcbiAgICAgIHRoaXMuZ2FtZUVuZ2luZS5leGl0KCk7XG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uRXhpdFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwia2lsbFwiLCBkYXRhID0+IHtcbiAgICAgIHRoaXMucGFyc2VEYXRhKFwia2lsbFwiLCBkYXRhKTtcbiAgICAgIHRoaXMuZ2FtZUVuZ2luZS5raWxsKCk7XG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uS2lsbFwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwic2NvcmVJbmNyZWFzZWRcIiwgZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhcnNlRGF0YShcInNjb3JlSW5jcmVhc2VkXCIsIGRhdGEpO1xuICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblNjb3JlSW5jcmVhc2VkXCIpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zb2NrZXQub24oXCJ1cGRhdGVcIiwgZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhcnNlRGF0YShcInVwZGF0ZVwiLCBkYXRhLCB0aGlzLmVuYWJsZUNsaWVudFNpZGVQcmVkaWN0aW9ucyk7XG5cbiAgICAgIGlmKCF0aGlzLmdhbWVFbmdpbmUuY2xpZW50U2lkZVByZWRpY3Rpb25zTW9kZSkge1xuICAgICAgICB0aGlzLmdhbWVVSS5vZmZzZXRGcmFtZSA9IDA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25VcGRhdGVcIik7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNvY2tldC5vbihcInVwZGF0ZUNvdW50ZXJcIiwgZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhcnNlRGF0YShcInVwZGF0ZUNvdW50ZXJcIiwgZGF0YSk7XG5cbiAgICAgIGlmKGRhdGEgJiYgZGF0YS5jb3VudEJlZm9yZVBsYXkgPCAwKSB7XG4gICAgICAgIGlmKHRoaXMuZW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zKSB7XG4gICAgICAgICAgdGhpcy5nYW1lRW5naW5lLmZvcmNlU3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uVXBkYXRlQ291bnRlclwiKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwibm90aWZpY2F0aW9uXCIsICh0ZXh0LCBkdXJhdGlvbiwgdGV4dENvbG9yLCBiYWNrZ3JvdW5kQ29sb3IsIGZvcmVncm91bmQpID0+IHtcbiAgICAgIHRoaXMuZ2FtZVVJLnNldE5vdGlmaWNhdGlvbihuZXcgTm90aWZpY2F0aW9uTWVzc2FnZSh0ZXh0LCB0ZXh0Q29sb3IsIGJhY2tncm91bmRDb2xvciwgZHVyYXRpb24sIG51bGwsIG51bGwsIG51bGwsIGZvcmVncm91bmQpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uY2UoXCJlcnJvclwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmdhbWVVSS5zZXROb3RpZmljYXRpb24obmV3IE5vdGlmaWNhdGlvbk1lc3NhZ2UoaTE4bmV4dC50KFwiZW5naW5lLnNlcnZlcnMuZXJyb3JDb25uZWN0aW9uXCIpLCBudWxsLCBHYW1lQ29uc3RhbnRzLlNldHRpbmcuRVJST1JfTk9USUZfQ09MT1IsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uY2UoXCJjb25uZWN0X2Vycm9yXCIsICgpID0+IHtcbiAgICAgIHRoaXMuZ2FtZVVJLnNldE5vdGlmaWNhdGlvbihuZXcgTm90aWZpY2F0aW9uTWVzc2FnZShpMThuZXh0LnQoXCJlbmdpbmUuc2VydmVycy5lcnJvckNvbm5lY3Rpb25cIiksIG51bGwsIEdhbWVDb25zdGFudHMuU2V0dGluZy5FUlJPUl9OT1RJRl9DT0xPUiwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgdHJ1ZSkpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zb2NrZXQub25jZShcImNvbm5lY3RfdGltZW91dFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmdhbWVVSS5zZXROb3RpZmljYXRpb24obmV3IE5vdGlmaWNhdGlvbk1lc3NhZ2UoaTE4bmV4dC50KFwiZW5naW5lLnNlcnZlcnMuZXJyb3JDb25uZWN0aW9uXCIpLCBudWxsLCBHYW1lQ29uc3RhbnRzLlNldHRpbmcuRVJST1JfTk9USUZfQ09MT1IsIG51bGwsIG51bGwsIG51bGwsIG51bGwsIHRydWUpKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uY2UoXCJyZWNvbm5lY3RfZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5nYW1lVUkuc2V0Tm90aWZpY2F0aW9uKG5ldyBOb3RpZmljYXRpb25NZXNzYWdlKGkxOG5leHQudChcImVuZ2luZS5zZXJ2ZXJzLmVycm9yQ29ubmVjdGlvblwiKSwgbnVsbCwgR2FtZUNvbnN0YW50cy5TZXR0aW5nLkVSUk9SX05PVElGX0NPTE9SLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCB0cnVlKSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnNvY2tldC5lbWl0KFwicmVzZXRcIik7XG4gIH1cbiAgXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuc29ja2V0LmVtaXQoXCJzdGFydFwiKTtcbiAgfVxuICBcbiAgc3RvcCgpIHtcbiAgICB0aGlzLnNvY2tldC5lbWl0KFwic3RvcFwiKTtcbiAgfVxuXG4gIGZpbmlzaChmaW5pc2gpIHtcbiAgICB0aGlzLnNvY2tldC5lbWl0KGZpbmlzaCA/IFwiZmluaXNoXCIgOiBcInN0b3BcIik7XG4gIH1cbiAgXG4gIHBhdXNlKCkge1xuICAgIHRoaXMuc29ja2V0LmVtaXQoXCJwYXVzZVwiKTtcbiAgfVxuXG4gIGtpbGwoKSB7XG4gICAgdGhpcy5zb2NrZXQuZW1pdChcImtpbGxcIik7XG4gIH1cblxuICB0aWNrKCkge1xuICAgIHRoaXMuc29ja2V0LmVtaXQoXCJ0aWNrXCIpO1xuICB9XG5cbiAgZXhpdCgpIHtcbiAgICB0aGlzLnNvY2tldC5lbWl0KFwiZXhpdFwiKTtcbiAgfVxuXG4gIGtleShrZXkpIHtcbiAgICB0aGlzLnNvY2tldC5lbWl0KFwia2V5XCIsIGtleSk7XG4gICAgdGhpcy5nYW1lRW5naW5lLmtleShrZXkpO1xuICAgIHRoaXMubGFzdEtleSA9IHRoaXMuZ2FtZUVuZ2luZS5sYXN0S2V5O1xuICB9XG5cbiAgZm9yY2VTdGFydCgpIHtcbiAgICB0aGlzLnNvY2tldC5lbWl0KFwiZm9yY2VTdGFydFwiKTtcbiAgfVxuXG4gIHVwZGF0ZUVuZ2luZShrZXksIHZhbHVlKSB7XG4gICAgdGhpcy5nYW1lRW5naW5lLnVwZGF0ZUVuZ2luZShrZXksIHZhbHVlKTtcbiAgfVxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IEdhbWVDb250cm9sbGVyIGZyb20gXCIuL0dhbWVDb250cm9sbGVyXCI7XG5pbXBvcnQgR3JpZCBmcm9tIFwiLi9HcmlkXCI7XG5pbXBvcnQgU25ha2UgZnJvbSBcIi4vU25ha2VcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi9Qb3NpdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29udHJvbGxlcldvcmtlciBleHRlbmRzIEdhbWVDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoZ2FtZSwgdWkpIHtcbiAgICBzdXBlcihnYW1lLCB1aSk7XG4gICAgdGhpcy53b3JrZXI7XG4gICAgdGhpcy53b3JrZXJSZWFkeSA9IGZhbHNlO1xuICAgIHRoaXMubWVzc2FnZVF1ZXVlID0gW107IC8vIFF1ZXVlIG9mIG1lc3NhZ2UgaWYgdGhlIHdvcmtlciBpcyBzdGlsbCBsb2FkaW5nXG4gIH1cblxuICBpbml0KCkge1xuICAgIGlmKHdpbmRvdy5Xb3JrZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud29ya2VyID0gbmV3IFdvcmtlcihcImRpc3QvR2FtZUVuZ2luZVdvcmtlci5qc1wiKTtcbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICB0aGlzLnVwZGF0ZShcImluaXRcIiwge1xuICAgICAgICAgIFwiZXJyb3JPY2N1cnJlZFwiOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlKFwiaW5pdFwiLCB7XG4gICAgICAgIFwiZW5naW5lTG9hZGluZ1wiOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgaWYodGhpcy53b3JrZXIgaW5zdGFuY2VvZiBXb3JrZXIpIHtcbiAgICAgICAgaWYodGhpcy5nYW1lRW5naW5lICYmIHRoaXMuZ2FtZUVuZ2luZS5ncmlkICYmIHRoaXMuZ2FtZUVuZ2luZS5ncmlkLnJuZ0dyaWQpIHRoaXMuZ2FtZUVuZ2luZS5ncmlkLnJuZ0dyaWQgPSBudWxsO1xuICAgICAgICBpZih0aGlzLmdhbWVFbmdpbmUgJiYgdGhpcy5nYW1lRW5naW5lLmdyaWQgJiYgdGhpcy5nYW1lRW5naW5lLmdyaWQucm5nR2FtZSkgdGhpcy5nYW1lRW5naW5lLmdyaWQucm5nR2FtZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy53b3JrZXIub25tZXNzYWdlID0gZSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGUuZGF0YTtcblxuICAgICAgICAgIGlmKGRhdGEgPT0gXCJyZWFkeVwiKSB7XG4gICAgICAgICAgICB0aGlzLndvcmtlclJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKFwiaW5pdFwiLCB7IFwiZW5naW5lTG9hZGluZ1wiOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKFtcImluaXRcIiwgdGhpcy5nYW1lRW5naW5lXSk7XG4gICAgICAgICAgICB0aGlzLnBhc3NRdWV1ZWRNZXNzYWdlcygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZihkYXRhLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgbGV0IGdyaWQgPSB0aGlzLmdhbWVVSS5ncmlkO1xuICBcbiAgICAgICAgICAgICAgaWYoZGF0YVsxXS5oYXNPd25Qcm9wZXJ0eShcImdyaWRcIikgJiYgZGF0YVsxXVtcImdyaWRcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdyaWQgPSBPYmplY3QuYXNzaWduKG5ldyBHcmlkKCksIGRhdGFbMV1bXCJncmlkXCJdKTtcbiAgICAgICAgICAgICAgICBkYXRhWzFdW1wiZ3JpZFwiXSA9IGdyaWQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmKGRhdGFbMV0uaGFzT3duUHJvcGVydHkoXCJzbmFrZXNcIikgJiYgZGF0YVsxXVtcInNuYWtlc1wiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGRhdGFbMV1bXCJzbmFrZXNcIl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIGRhdGFbMV1bXCJzbmFrZXNcIl1baV0uZ3JpZCA9IGdyaWQ7XG4gICAgICAgICAgICAgICAgICBkYXRhWzFdW1wic25ha2VzXCJdW2ldID0gT2JqZWN0LmFzc2lnbihuZXcgU25ha2UoKSwgZGF0YVsxXVtcInNuYWtlc1wiXVtpXSk7XG4gIFxuICAgICAgICAgICAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGRhdGFbMV1bXCJzbmFrZXNcIl1baV0ucXVldWUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVsxXVtcInNuYWtlc1wiXVtpXS5xdWV1ZVtqXSA9IE9iamVjdC5hc3NpZ24obmV3IFBvc2l0aW9uKCksIGRhdGFbMV1bXCJzbmFrZXNcIl1baV0ucXVldWVbal0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgdGhpcy51cGRhdGUoZGF0YVswXSwgZGF0YVsxXSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBzd2l0Y2goZGF0YVswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXNldFwiOlxuICAgICAgICAgICAgICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblJlc2V0XCIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uU3RhcnRcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicGF1c2VcIjpcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25QYXVzZVwiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb250aW51ZVwiOlxuICAgICAgICAgICAgICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNvbnRpbnVlXCIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0b3BcIjpcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImV4aXRcIjpcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25FeGl0XCIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImtpbGxcIjpcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25LaWxsXCIpO1xuICAgICAgICAgICAgICAgICAgdGhpcy53b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NvcmVJbmNyZWFzZWRcIjpcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TY29yZUluY3JlYXNlZFwiKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1cGRhdGVcIjpcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25VcGRhdGVcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXBkYXRlQ291bnRlclwiOlxuICAgICAgICAgICAgICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblVwZGF0ZUNvdW50ZXJcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKHRoaXMuZ2FtZVVJICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZShcImluaXRcIiwge1xuICAgICAgICAgICAgXCJlcnJvck9jY3VycmVkXCI6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZih0aGlzLmdhbWVVSSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMudXBkYXRlKFwiaW5pdFwiLCB7XG4gICAgICAgICAgXCJlcnJvck9jY3VycmVkXCI6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5wYXNzTWVzc2FnZShbXCJyZXNldFwiXSk7XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLnBhc3NNZXNzYWdlKFtcInN0YXJ0XCJdKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5wYXNzTWVzc2FnZShbXCJzdG9wXCJdKTtcbiAgfVxuXG4gIGZpbmlzaChmaW5pc2gpIHtcbiAgICB0aGlzLnBhc3NNZXNzYWdlKFtmaW5pc2ggPyBcImZpbmlzaFwiIDogXCJzdG9wXCJdKTtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIHRoaXMucGFzc01lc3NhZ2UoW1wicGF1c2VcIl0pO1xuICB9XG5cbiAga2lsbCgpIHtcbiAgICB0aGlzLnBhc3NNZXNzYWdlKFtcImtpbGxcIl0pO1xuICB9XG5cbiAgdGljaygpIHtcbiAgICB0aGlzLnBhc3NNZXNzYWdlKFtcInRpY2tcIl0pO1xuICB9XG5cbiAgZXhpdCgpIHtcbiAgICB0aGlzLnBhc3NNZXNzYWdlKFtcImV4aXRcIl0pO1xuICB9XG5cbiAga2V5KGtleSkge1xuICAgIHRoaXMucGFzc01lc3NhZ2UoW1wia2V5XCIsIGtleV0pO1xuICB9XG5cbiAgZm9yY2VTdGFydCgpIHtcbiAgICB0aGlzLnBhc3NNZXNzYWdlKFtcImZvcmNlU3RhcnRcIl0pO1xuICB9XG5cbiAgdXBkYXRlRW5naW5lKGtleSwgZGF0YSkge1xuICAgIHRoaXMucGFzc01lc3NhZ2UoW1widXBkYXRlXCIsIHtcbiAgICAgIFwia2V5XCI6IGtleSxcbiAgICAgIFwiZGF0YVwiOiBkYXRhXG4gICAgfV0pO1xuICB9XG5cbiAgZGVzdHJveVNuYWtlcyhleGNlcHRpb25JZHMsIHR5cGVzKSB7XG4gICAgdGhpcy5wYXNzTWVzc2FnZShbXCJkZXN0cm95U25ha2VzXCIsIGV4Y2VwdGlvbklkcywgdHlwZXNdKTtcbiAgfVxuXG4gIHBhc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBpZih0aGlzLndvcmtlclJlYWR5ICYmIHRoaXMud29ya2VyIGluc3RhbmNlb2YgV29ya2VyKSB7XG4gICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICBwYXNzUXVldWVkTWVzc2FnZXMoKSB7XG4gICAgaWYodGhpcy53b3JrZXJSZWFkeSAmJiB0aGlzLndvcmtlciBpbnN0YW5jZW9mIFdvcmtlcikge1xuICAgICAgdGhpcy5tZXNzYWdlUXVldWUuZm9yRWFjaChtZXNzYWdlID0+IHtcbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5tZXNzYWdlUXVldWUgPSBbXTtcbiAgICB9XG4gIH1cbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE5LTIwMjAgRWxpYXN0aWsgKGVsaWFzdGlrc29mdHMuY29tKVxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFwiU25ha2VJQVwiLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggXCJTbmFrZUlBXCIuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi8gIFxuaW1wb3J0IEdhbWVVdGlscyBmcm9tIFwiLi9HYW1lVXRpbHNcIjtcbmltcG9ydCBHYW1lQ29uc3RhbnRzIGZyb20gXCIuL0NvbnN0YW50c1wiO1xuaW1wb3J0IFJlYWN0b3IgZnJvbSBcIi4vUmVhY3RvclwiO1xuaW1wb3J0IEdyaWQgZnJvbSBcIi4vR3JpZFwiO1xuaW1wb3J0IFNuYWtlIGZyb20gXCIuL1NuYWtlXCI7XG5pbXBvcnQgc2VlZHJhbmRvbSBmcm9tIFwic2VlZHJhbmRvbVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lRW5naW5lIHtcbiAgY29uc3RydWN0b3IoZ3JpZCwgc25ha2UsIHNwZWVkLCBlbmFibGVQYXVzZSwgZW5hYmxlUmV0cnksIHByb2dyZXNzaXZlU3BlZWQsIGFpU3R1Y2tMaW1pdCkge1xuICAgIC8vIEdhbWUgc2V0dGluZ3NcbiAgICB0aGlzLmdyaWQgPSBncmlkO1xuICAgIHRoaXMuc25ha2VzID0gc25ha2U7XG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkID09IG51bGwgPyA4IDogc3BlZWQ7XG4gICAgdGhpcy5pbml0aWFsU3BlZWQgPSBzcGVlZCA9PSBudWxsID8gOCA6IHNwZWVkO1xuICAgIHRoaXMuaW5pdGlhbFNwZWVkVW50b3VjaGVkID0gc3BlZWQgPT0gbnVsbCA/IDggOiBzcGVlZDtcbiAgICB0aGlzLmVuYWJsZVBhdXNlID0gZW5hYmxlUGF1c2UgPT0gbnVsbCA/IHRydWUgOiBlbmFibGVQYXVzZTtcbiAgICB0aGlzLmVuYWJsZVJldHJ5ID0gZW5hYmxlUmV0cnkgPT0gbnVsbCA/IHRydWUgOiBlbmFibGVSZXRyeTtcbiAgICB0aGlzLnByb2dyZXNzaXZlU3BlZWQgPSBwcm9ncmVzc2l2ZVNwZWVkID09IG51bGwgPyBmYWxzZSA6IHByb2dyZXNzaXZlU3BlZWQ7XG4gICAgdGhpcy5haVN0dWNrTGltaXQgPSBhaVN0dWNrTGltaXQgPT0gbnVsbCA/IDMgOiBhaVN0dWNrTGltaXQ7XG4gICAgdGhpcy5jb3VudEJlZm9yZVBsYXkgPSAzO1xuICAgIC8vIEdhbWUgdmFyaWFibGVzXG4gICAgdGhpcy5sYXN0S2V5ID0gLTE7XG4gICAgdGhpcy5udW1GcnVpdCA9IDE7XG4gICAgdGhpcy50aWNrcyA9IDA7XG4gICAgLy8gR2FtZSBzdGF0ZSB2YXJpYWJsZXNcbiAgICB0aGlzLmZpcnN0U3RhcnQgPSB0cnVlO1xuICAgIHRoaXMuc3RhcnRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgdGhpcy5leGl0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmtpbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNSZXNldGVkID0gdHJ1ZTtcbiAgICB0aGlzLmdhbWVPdmVyID0gZmFsc2U7XG4gICAgdGhpcy5nYW1lRmluaXNoZWQgPSBmYWxzZTsgLy8gb25seSB1c2VkIGlmIDIgYW5kIG1vcmUgc25ha2VzXG4gICAgdGhpcy5nYW1lTWF6ZVdpbiA9IGZhbHNlOyAvLyB1c2VkIGluIG1hemUgbW9kZVxuICAgIHRoaXMuc2NvcmVNYXggPSBmYWxzZTtcbiAgICB0aGlzLmVycm9yT2NjdXJyZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNsaWVudFNpZGVQcmVkaWN0aW9uc01vZGUgPSBmYWxzZTsgLy8gRW5hYmxlIGNsaWVudC1zaWRlIHByZWRpY3Rpb25zIG1vZGUgZm9yIHRoZSBvbmxpbmUgZ2FtZSAoZGlzYWJsZSBzb21lIGZ1bmN0aW9ucylcbiAgICB0aGlzLmFpU3R1Y2sgPSBmYWxzZTsgLy8gdHJ1ZSBpZiBvbmUgQUkgaXMgc3R1Y2sgLSBkaXNhYmxlZCBpZiBhbiBodW1hbiBwbGF5ZXIgaXMgcGxheWluZ1xuICAgIC8vIEludGVydmFscywgdGltZW91dHMsIGZyYW1lc1xuICAgIHRoaXMuaW50ZXJ2YWxQbGF5O1xuICAgIC8vIEV2ZW50c1xuICAgIHRoaXMucmVhY3RvciA9IG5ldyBSZWFjdG9yKCk7XG4gICAgdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvblN0YXJ0XCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25QYXVzZVwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uQ29udGludWVcIik7XG4gICAgdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvblJlc2V0XCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25TdG9wXCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25FeGl0XCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25LaWxsXCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25TY29yZUluY3JlYXNlZFwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uVXBkYXRlXCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25VcGRhdGVDb3VudGVyXCIpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBpZighdGhpcy5jbGllbnRTaWRlUHJlZGljdGlvbnNNb2RlKSB7XG4gICAgICBpZih0aGlzLnNuYWtlcyA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZXJyb3JPY2N1cnJlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuc25ha2VzID0gW107XG4gICAgICB9IGVsc2UgaWYoIUFycmF5LmlzQXJyYXkodGhpcy5zbmFrZXMpKSB7XG4gICAgICAgIHRoaXMuc25ha2VzID0gW3RoaXMuc25ha2VzXTtcbiAgICAgIH0gZWxzZSBpZigoQXJyYXkuaXNBcnJheSh0aGlzLnNuYWtlcykgJiYgdGhpcy5zbmFrZXMubGVuZ3RoIDw9IDApIHx8ICh0aGlzLmdyaWQubWF6ZSAmJiB0aGlzLnNuYWtlcy5sZW5ndGggPiAxKSkge1xuICAgICAgICB0aGlzLmVycm9yT2NjdXJyZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZih0aGlzLmdyaWQgaW5zdGFuY2VvZiBHcmlkID09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuZXJyb3JPY2N1cnJlZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYoIXRoaXMuZXJyb3JPY2N1cnJlZCkge1xuICAgICAgICB0aGlzLmluaXRHcmlkQW5kU25ha2VzKCk7XG5cbiAgICAgICAgLy8gSW5pdCBTbmFrZSBjb2xvcnNcbiAgICAgICAgbGV0IHN0YXJ0SHVlID0gR2FtZVV0aWxzLnJhbmRSYW5nZSgwLCAzNjAsIHRoaXMuZ3JpZCA/IG5ldyBzZWVkcmFuZG9tKHRoaXMuZ3JpZC5zZWVkR2FtZSkgOiBudWxsKTtcbiAgXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmKHRoaXMuc25ha2VzW2ldIGluc3RhbmNlb2YgU25ha2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JPY2N1cnJlZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0SHVlID0gR2FtZVV0aWxzLmFkZEh1ZShzdGFydEh1ZSwgTWF0aC5yb3VuZCgzNjAgLyAodGhpcy5zbmFrZXMubGVuZ3RoKSkpO1xuICAgICAgICAgICAgdGhpcy5zbmFrZXNbaV0uY29sb3IgPSBzdGFydEh1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbml0R3JpZEFuZFNuYWtlcygpIHtcbiAgICB0aGlzLmdyaWQucmVzZXQoKTtcbiAgICB0aGlzLmdyaWQuaW5pdCgpO1xuXG4gICAgaWYodGhpcy5zbmFrZXMgIT0gbnVsbCkge1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc25ha2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuc25ha2VzW2ldLnJlc2V0KCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNuYWtlc1tpXS5pbml0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5ncmlkLnNldEZydWl0KHRoaXMuc25ha2VzLmxlbmd0aCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgdGhpcy5pc1Jlc2V0ZWQgPSB0cnVlO1xuICAgIHRoaXMuZXhpdGVkID0gZmFsc2U7XG4gICAgdGhpcy5jbGVhckludGVydmFsUGxheSgpO1xuXG4gICAgdGhpcy5udW1GcnVpdCA9IDE7XG4gICAgdGhpcy50aWNrcyA9IDA7XG4gICAgdGhpcy5sYXN0S2V5ID0gLTE7XG4gICAgdGhpcy5zY29yZU1heCA9IGZhbHNlO1xuICAgIHRoaXMuZXJyb3JPY2N1cnJlZCA9IGZhbHNlO1xuICAgIHRoaXMuZ2FtZU92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLmdhbWVGaW5pc2hlZCA9IGZhbHNlO1xuICAgIHRoaXMuZ2FtZU1hemVXaW4gPSBmYWxzZTtcbiAgICB0aGlzLnN0YXJ0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5pbml0aWFsU3BlZWQgPSB0aGlzLmluaXRpYWxTcGVlZFVudG91Y2hlZDtcbiAgICB0aGlzLnNwZWVkID0gdGhpcy5pbml0aWFsU3BlZWRVbnRvdWNoZWQ7XG4gICAgdGhpcy5haVN0dWNrID0gZmFsc2U7XG5cbiAgICBpZih0aGlzLmdyaWQuc2VlZEdyaWQpIHtcbiAgICAgIHRoaXMuZ3JpZC5zZWVkR3JpZCA9IFwiXCIgKyAocGFyc2VJbnQodGhpcy5ncmlkLnNlZWRHcmlkKSArIDEpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZ3JpZC5zZWVkR2FtZSkge1xuICAgICAgdGhpcy5ncmlkLnNlZWRHYW1lID0gXCJcIiArIChwYXJzZUludCh0aGlzLmdyaWQuc2VlZEdhbWUpICsgMSk7XG4gICAgfVxuXG4gICAgdGhpcy5pbml0R3JpZEFuZFNuYWtlcygpO1xuXG4gICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblJlc2V0XCIpO1xuICAgIHRoaXMuc3RhcnQoKTtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25VcGRhdGVDb3VudGVyXCIpO1xuICAgIFxuICAgIGlmKCF0aGlzLmVycm9yT2NjdXJyZWQpIHtcbiAgICAgIGlmKHRoaXMuc25ha2VzICE9IG51bGwpIHtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc25ha2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYodGhpcy5zbmFrZXNbaV0uZXJyb3JJbml0KSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yT2NjdXJyZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMucGF1c2VkICYmICF0aGlzLmdhbWVPdmVyICYmICF0aGlzLmtpbGxlZCAmJiAhdGhpcy5zY29yZU1heCAmJiAhdGhpcy5zdGFydGluZykge1xuICAgICAgICB0aGlzLnN0YXJ0aW5nID0gdHJ1ZTtcblxuICAgICAgICBpZighdGhpcy5maXJzdFN0YXJ0KSB7XG4gICAgICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNvbnRpbnVlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb3VudEJlZm9yZVBsYXkgPSAzO1xuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWxQbGF5KCk7XG4gICAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25VcGRhdGVDb3VudGVyXCIpO1xuXG4gICAgICAgIHRoaXMuaW50ZXJ2YWxQbGF5ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY291bnRCZWZvcmVQbGF5LS07XG4gICAgICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblVwZGF0ZUNvdW50ZXJcIik7XG5cbiAgICAgICAgICBpZih0aGlzLmNvdW50QmVmb3JlUGxheSA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuZm9yY2VTdGFydCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yY2VTdGFydCgpIHtcbiAgICB0aGlzLmNsZWFySW50ZXJ2YWxQbGF5KCk7XG4gICAgdGhpcy5jb3VudEJlZm9yZVBsYXkgPSAtMTtcbiAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNSZXNldGVkID0gZmFsc2U7XG4gICAgdGhpcy5maXJzdFN0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy5zdGFydGluZyA9IGZhbHNlO1xuICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TdGFydFwiKTtcbiAgICB0aGlzLnRpY2soKTtcbiAgfVxuXG4gIGNsZWFySW50ZXJ2YWxQbGF5KCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbFBsYXkpO1xuICB9XG5cbiAgY29udGludWUoKSB7XG4gICAgaWYoIXRoaXMuY2xpZW50U2lkZVByZWRpY3Rpb25zTW9kZSkge1xuICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvbkNvbnRpbnVlXCIpO1xuICAgIH1cbiAgfVxuXG4gIHN0b3AoZmluaXNoKSB7XG4gICAgaWYoIXRoaXMuZ2FtZU92ZXIgJiYgIXRoaXMuY2xpZW50U2lkZVByZWRpY3Rpb25zTW9kZSkge1xuICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xuICAgICAgdGhpcy5nYW1lT3ZlciA9IHRydWU7XG4gICAgICBpZihmaW5pc2gpIHRoaXMuZ2FtZUZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbFBsYXkoKTtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TdG9wXCIpO1xuICAgIH1cbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIGlmKCF0aGlzLnBhdXNlZCAmJiAhdGhpcy5jbGllbnRTaWRlUHJlZGljdGlvbnNNb2RlKSB7XG4gICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgICB0aGlzLmNsZWFySW50ZXJ2YWxQbGF5KCk7XG4gICAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uUGF1c2VcIik7XG4gICAgfVxuICB9XG5cbiAga2lsbCgpIHtcbiAgICBpZighdGhpcy5raWxsZWQpIHtcbiAgICAgIHRoaXMucGF1c2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgdGhpcy5raWxsZWQgPSB0cnVlO1xuXG4gICAgICBpZih0aGlzLnNuYWtlcyAhPSBudWxsKSB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuc25ha2VzW2ldLmtpbGwoKTtcbiAgICAgICAgICB0aGlzLnNuYWtlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5jbGVhckludGVydmFsUGxheSgpO1xuICAgICAgdGhpcy5ncmlkID0gbnVsbDtcbiAgICAgIHRoaXMuc25ha2VzID0gbnVsbDtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25LaWxsXCIpO1xuICAgIH1cbiAgfVxuXG4gIGV4aXQoKSB7XG4gICAgaWYoIXRoaXMuZXhpdGVkKSB7XG4gICAgICB0aGlzLnN0b3AoKTtcbiAgICAgIHRoaXMuZXhpdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25FeGl0XCIpO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3lTbmFrZXMoZXhjZXB0aW9uSWRzLCB0eXBlcykge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYoZXhjZXB0aW9uSWRzICYmIEFycmF5LmlzQXJyYXkoZXhjZXB0aW9uSWRzKSAmJiBleGNlcHRpb25JZHMuaW5kZXhPZihpKSA8IDAgJiYgdHlwZXMuaW5kZXhPZih0aGlzLnNuYWtlc1tpXS5wbGF5ZXIpID4gLTEpIHRoaXMuc25ha2VzW2ldLnNldEdhbWVPdmVyKHRoaXMudGlja3MpO1xuICAgIH1cbiAgfVxuXG4gIGdldE5CUGxheWVyKHR5cGUpIHtcbiAgICBsZXQgbnVtUGxheWVyID0gMDtcblxuICAgIGlmKHRoaXMuc25ha2VzICE9IG51bGwpIHtcbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZih0aGlzLnNuYWtlc1tpXS5wbGF5ZXIgPT0gdHlwZSkge1xuICAgICAgICAgIG51bVBsYXllcisrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bVBsYXllcjtcbiAgfVxuXG4gIGdldFBsYXllcihudW0sIHR5cGUpIHtcbiAgICBsZXQgbnVtUGxheWVyID0gMDtcblxuICAgIGlmKHRoaXMuc25ha2VzICE9IG51bGwpIHtcbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZih0aGlzLnNuYWtlc1tpXS5wbGF5ZXIgPT0gdHlwZSkge1xuICAgICAgICAgIG51bVBsYXllcisrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYobnVtUGxheWVyID09IG51bSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNuYWtlc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdGljaygpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZG9UaWNrKCk7XG4gICAgfSwgdGhpcy5pbml0aWFsU3BlZWQgKiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuVElNRV9NVUxUSVBMSUVSKTtcbiAgfVxuXG4gIGRvVGljaygpIHtcbiAgICBpZighdGhpcy5wYXVzZWQgJiYgIXRoaXMua2lsbGVkKSB7XG4gICAgICBpZih0aGlzLmxhc3RUaW1lID09IDApIHRoaXMubGFzdFRpbWUgPSB0aW1lO1xuICAgICAgdGhpcy50aWNrcysrO1xuXG4gICAgICBsZXQgc2NvcmVJbmNyZWFzZWQsIHNldEZydWl0RXJyb3IgPSBmYWxzZTtcblxuICAgICAgaWYodGhpcy5ncmlkICYmICghdGhpcy5ncmlkLm1hemUgfHwgdGhpcy5ncmlkLm1hemVGb3JjZUF1dG8gfHwgKCh0aGlzLmdyaWQubWF6ZSAmJiAodGhpcy5nZXROQlBsYXllcihHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFVNQU4pIDw9IDAgJiYgdGhpcy5nZXROQlBsYXllcihHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSA8PSAwKSkpIHx8ICh0aGlzLmdyaWQubWF6ZSAmJiAoKHRoaXMuZ2V0TkJQbGF5ZXIoR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOKSA+IDAgfHwgdGhpcy5nZXROQlBsYXllcihHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSA+IDApICYmICh0aGlzLmdldFBsYXllcigxLCBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSB8fCB0aGlzLmdldFBsYXllcigxLCBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFVNQU4pKS5sYXN0S2V5ICE9IC0xKSkpKSB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGluaXRpYWxEaXJlY3Rpb24gPSB0aGlzLnNuYWtlc1tpXS5kaXJlY3Rpb247XG4gICAgICAgICAgbGV0IHNldEZydWl0ID0gZmFsc2U7XG4gICAgICAgICAgbGV0IGdvbGRGcnVpdCA9IGZhbHNlO1xuICAgICAgICAgIHNldEZydWl0RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnNuYWtlc1tpXS5sYXN0VGFpbE1vdmVkID0gZmFsc2U7XG5cbiAgICAgICAgICBpZighdGhpcy5zbmFrZXNbaV0uZ2FtZU92ZXIgJiYgIXRoaXMuc25ha2VzW2ldLnNjb3JlTWF4KSB7XG4gICAgICAgICAgICBpZih0aGlzLnNuYWtlc1tpXS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOIHx8IHRoaXMuc25ha2VzW2ldLnBsYXllciA9PSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSB7XG4gICAgICAgICAgICAgIHRoaXMuc25ha2VzW2ldLm1vdmVUbyh0aGlzLnNuYWtlc1tpXS5sYXN0S2V5KTtcbiAgICAgICAgICAgICAgdGhpcy5zbmFrZXNbaV0ubGFzdEtleSA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHRoaXMuc25ha2VzW2ldLnBsYXllciA9PSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuQUkgJiYgKCF0aGlzLmNsaWVudFNpZGVQcmVkaWN0aW9uc01vZGUgfHwgKHRoaXMuY2xpZW50U2lkZVByZWRpY3Rpb25zTW9kZSAmJiB0aGlzLnNuYWtlc1tpXS5haUxldmVsICE9IEdhbWVDb25zdGFudHMuQWlMZXZlbC5SQU5ET00pKSkge1xuICAgICAgICAgICAgICB0aGlzLnNuYWtlc1tpXS5tb3ZlVG8odGhpcy5zbmFrZXNbaV0uYWkoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBoZWFkU25ha2VQb3MgPSB0aGlzLnNuYWtlc1tpXS5nZXRIZWFkUG9zaXRpb24oKTtcblxuICAgICAgICAgICAgaWYodGhpcy5zbmFrZXNbaV0ucGxheWVyID09IEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IWUJSSURfSFVNQU5fQUkgJiYgdGhpcy5ncmlkLmlzRGVhZFBvc2l0aW9uKHRoaXMuc25ha2VzW2ldLmdldE5leHRQb3NpdGlvbihoZWFkU25ha2VQb3MsIHRoaXMuc25ha2VzW2ldLmRpcmVjdGlvbikpKSB7XG4gICAgICAgICAgICAgIHRoaXMuc25ha2VzW2ldLmRpcmVjdGlvbiA9IGluaXRpYWxEaXJlY3Rpb247XG4gICAgICAgICAgICAgIHRoaXMuc25ha2VzW2ldLm1vdmVUbyh0aGlzLnNuYWtlc1tpXS5haSgpKTtcbiAgICAgICAgICAgICAgdGhpcy5zbmFrZXNbaV0ubGFzdEtleSA9IC0xO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoZWFkU25ha2VQb3MgPSB0aGlzLnNuYWtlc1tpXS5nZXROZXh0UG9zaXRpb24oaGVhZFNuYWtlUG9zLCB0aGlzLnNuYWtlc1tpXS5kaXJlY3Rpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZih0aGlzLmdyaWQuaXNEZWFkUG9zaXRpb24oaGVhZFNuYWtlUG9zKSkge1xuICAgICAgICAgICAgICB0aGlzLnNuYWtlc1tpXS5zZXRHYW1lT3Zlcih0aGlzLnRpY2tzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmKHRoaXMuZ3JpZC5nZXQoaGVhZFNuYWtlUG9zKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUIHx8IHRoaXMuZ3JpZC5nZXQoaGVhZFNuYWtlUG9zKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUX0dPTEQpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmdyaWQuZ2V0KGhlYWRTbmFrZVBvcykgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5GUlVJVCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zbmFrZXNbaV0uc2NvcmUrKztcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZC5zZXQoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSwgdGhpcy5ncmlkLmZydWl0UG9zKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZC5mcnVpdFBvcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKHRoaXMuZ3JpZC5nZXQoaGVhZFNuYWtlUG9zKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUX0dPTEQpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc25ha2VzW2ldLnNjb3JlICs9IDM7XG4gICAgICAgICAgICAgICAgICB0aGlzLmdyaWQuc2V0KEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFksIHRoaXMuZ3JpZC5mcnVpdFBvc0dvbGQpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkLmZydWl0UG9zR29sZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICBnb2xkRnJ1aXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3JlSW5jcmVhc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNuYWtlc1tpXS5pbnNlcnQoaGVhZFNuYWtlUG9zKTtcblxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZ3JpZC5tYXplKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmdhbWVNYXplV2luID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLnNuYWtlc1tpXS5oYXNNYXhTY29yZSgpICYmIHRoaXMuc25ha2VzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnNjb3JlTWF4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc25ha2VzW2ldLnNjb3JlTWF4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLm51bUZydWl0Kys7XG4gICAgICAgICAgICAgICAgICBpZighZ29sZEZydWl0KSBzZXRGcnVpdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zbmFrZXMubGVuZ3RoIDw9IDEgJiYgdGhpcy5wcm9ncmVzc2l2ZVNwZWVkICYmIHRoaXMuc25ha2VzW2ldLnNjb3JlID4gMCAmJiB0aGlzLmluaXRpYWxTcGVlZCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFNwZWVkID0gTWF0aC5jZWlsKCgoLXRoaXMuaW5pdGlhbFNwZWVkVW50b3VjaGVkIC8gMTAwKSAqIHRoaXMuc25ha2VzW2ldLnNjb3JlKSArIHRoaXMuaW5pdGlhbFNwZWVkVW50b3VjaGVkKTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbFNwZWVkID0gdGhpcy5pbml0aWFsU3BlZWQgPCAxID8gMSA6IHRoaXMuaW5pdGlhbFNwZWVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNuYWtlc1tpXS5pbnNlcnQoaGVhZFNuYWtlUG9zKTtcblxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmdyaWQubWF6ZSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zbmFrZXNbaV0ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnNuYWtlc1tpXS5sYXN0VGFpbE1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZighdGhpcy5zY29yZU1heCAmJiBzZXRGcnVpdCAmJiAhdGhpcy5jbGllbnRTaWRlUHJlZGljdGlvbnNNb2RlKSB7XG4gICAgICAgICAgICBzZXRGcnVpdEVycm9yID0gIXRoaXMuZ3JpZC5zZXRGcnVpdCh0aGlzLnNuYWtlcy5sZW5ndGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCF0aGlzLnNjb3JlTWF4ICYmICFzZXRGcnVpdEVycm9yICYmICh0aGlzLmdyaWQuZGV0ZWN0Q29ycmlkb3IodGhpcy5ncmlkLmZydWl0UG9zKSB8fCB0aGlzLmdyaWQuaXNGcnVpdFN1cnJvdW5kZWQodGhpcy5ncmlkLmZydWl0UG9zLCB0cnVlKSkgJiYgIXRoaXMuY2xpZW50U2lkZVByZWRpY3Rpb25zTW9kZSkge1xuICAgICAgICAgIHNldEZydWl0RXJyb3IgPSAhdGhpcy5ncmlkLnNldEZydWl0KHRoaXMuc25ha2VzLmxlbmd0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZighdGhpcy5zY29yZU1heCAmJiB0aGlzLmdyaWQuZnJ1aXRQb3NHb2xkICE9IG51bGwgJiYgKHRoaXMuZ3JpZC5kZXRlY3RDb3JyaWRvcih0aGlzLmdyaWQuZnJ1aXRQb3NHb2xkKSB8fCB0aGlzLmdyaWQuaXNGcnVpdFN1cnJvdW5kZWQodGhpcy5ncmlkLmZydWl0UG9zR29sZCwgdHJ1ZSkpKSB7XG4gICAgICAgICAgdGhpcy5ncmlkLnNldChHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZLCB0aGlzLmdyaWQuZnJ1aXRQb3NHb2xkKTtcbiAgICAgICAgICB0aGlzLmdyaWQuZnJ1aXRQb3NHb2xkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYk92ZXIgPSAwO1xuXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLnNuYWtlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICh0aGlzLnNuYWtlc1tqXS5nYW1lT3ZlciB8fCB0aGlzLnNuYWtlc1tqXS5zY29yZU1heCkgJiYgbmJPdmVyKys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVja2luZyBpZiB0aGUgQUlzIGFyZSBhbGwgc3R1Y2tcbiAgICAgICAgbGV0IGVuZEdhbWVBSVN0dWNrID0gZmFsc2U7XG5cbiAgICAgICAgZm9yKGxldCBrID0gMDsgayA8IHRoaXMuc25ha2VzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgaWYoIXRoaXMuc25ha2VzW2tdLmdhbWVPdmVyICYmIHRoaXMuc25ha2VzW2tdLmlzQUlTdHVjaygxLCAxKSkge1xuICAgICAgICAgICAgdGhpcy5haVN0dWNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYodGhpcy5zbmFrZXNba10uaXNBSVN0dWNrKHRoaXMuYWlTdHVja0xpbWl0LCB0aGlzLmFpU3R1Y2tMaW1pdCkpIHsgLy8gTGltaXQgb2YgYWlTdHVja0xpbWl0IGxvb3BzIC0gZW5kIHRoZSBnYW1lXG4gICAgICAgICAgICAgIGVuZEdhbWVBSVN0dWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVuZEdhbWVBSVN0dWNrID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmKCgodGhpcy5zbmFrZXNba10ucGxheWVyID09IEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IVU1BTiB8fCB0aGlzLnNuYWtlc1trXS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSkgJiYgIXRoaXMuc25ha2VzW2tdLmdhbWVPdmVyKSB8fCAodGhpcy5zbmFrZXNba10ucGxheWVyID09IEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5BSSAmJiAhdGhpcy5zbmFrZXNba10uZ2FtZU92ZXIpKSB7XG4gICAgICAgICAgICB0aGlzLmFpU3R1Y2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGVuZEdhbWVBSVN0dWNrID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IFxuICAgICAgICB9XG5cbiAgICAgICAgaWYobmJPdmVyID49IHRoaXMuc25ha2VzLmxlbmd0aCB8fCBzZXRGcnVpdEVycm9yIHx8IGVuZEdhbWVBSVN0dWNrKSB7XG4gICAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgICBpZih0aGlzLnNuYWtlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVGaW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblVwZGF0ZVwiKTtcblxuICAgICAgICBpZihzY29yZUluY3JlYXNlZCkge1xuICAgICAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TY29yZUluY3JlYXNlZFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnRpY2soKTtcbiAgICB9XG4gIH1cblxuICBvblJlc2V0KGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJvblJlc2V0XCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uU3RhcnQoY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uU3RhcnRcIiwgY2FsbGJhY2spO1xuICB9XG5cbiAgb25Db250aW51ZShjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25Db250aW51ZVwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBvblN0b3AoY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uU3RvcFwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBvblBhdXNlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJvblBhdXNlXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uRXhpdChjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25FeGl0XCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uS2lsbChjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25LaWxsXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uU2NvcmVJbmNyZWFzZWQoY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uU2NvcmVJbmNyZWFzZWRcIiwgY2FsbGJhY2spO1xuICB9XG5cbiAgb25VcGRhdGUoY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uVXBkYXRlXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIG9uVXBkYXRlQ291bnRlcihjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25VcGRhdGVDb3VudGVyXCIsIGNhbGxiYWNrKTtcbiAgfVxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IFJlYWN0b3IgZnJvbSBcIi4vUmVhY3RvclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lR3JvdXAge1xuICBjb25zdHJ1Y3RvcihnYW1lcykge1xuICAgIHRoaXMuZ2FtZXMgPSBnYW1lcyA9PSB1bmRlZmluZWQgPyBbXSA6IGdhbWVzO1xuICAgIHRoaXMucmVhY3RvciA9IG5ldyBSZWFjdG9yKCk7XG4gICAgdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvblN0YXJ0XCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25QYXVzZVwiKTtcbiAgICB0aGlzLnJlYWN0b3IucmVnaXN0ZXJFdmVudChcIm9uQ29udGludWVcIik7XG4gICAgdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvblN0b3BcIik7XG4gICAgdGhpcy5yZWFjdG9yLnJlZ2lzdGVyRXZlbnQoXCJvblJlc2V0XCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25FeGl0XCIpO1xuICAgIHRoaXMucmVhY3Rvci5yZWdpc3RlckV2ZW50KFwib25TY29yZUluY3JlYXNlZFwiKTtcbiAgICBcbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZ2FtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKGkgPT0gMCkge1xuICAgICAgICB0aGlzLmdhbWVzW2ldLmVuYWJsZUtleU1lbnUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0aGlzLmdhbWVzW2ldLm9uUGF1c2UoKGkgPT4ge1xuICAgICAgICB0aGlzLnBhdXNlQWxsKGkpO1xuICAgICAgfSkuYmluZChudWxsLCBpKSk7XG5cbiAgICAgIHRoaXMuZ2FtZXNbaV0ub25Db250aW51ZSgoaSA9PiB7XG4gICAgICAgIHRoaXMuc3RhcnRBbGwoaSk7XG4gICAgICB9KS5iaW5kKG51bGwsIGkpKTtcblxuICAgICAgdGhpcy5nYW1lc1tpXS5vbkV4aXQoKGkgPT4ge1xuICAgICAgICB0aGlzLmNoZWNrRXhpdChpKTtcbiAgICAgIH0pLmJpbmQobnVsbCwgaSkpO1xuXG4gICAgICB0aGlzLmdhbWVzW2ldLm9uU3RvcCgoaSA9PiB7XG4gICAgICAgIHRoaXMuY2hlY2tTdG9wKGkpO1xuICAgICAgfSkuYmluZChudWxsLCBpKSk7XG5cbiAgICAgIHRoaXMuZ2FtZXNbaV0ub25SZXNldCgoaSA9PiB7XG4gICAgICAgIHRoaXMucmVzZXRBbGwoaSk7XG4gICAgICB9KS5iaW5kKG51bGwsIGkpKTtcblxuICAgICAgdGhpcy5nYW1lc1tpXS5vblNjb3JlSW5jcmVhc2VkKChpID0+IHtcbiAgICAgICAgdGhpcy5jaGVja09uU2NvcmVJbmNyZWFzZWQoaSk7XG4gICAgICB9KS5iaW5kKG51bGwsIGkpKTtcbiAgICB9XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICB0aGlzLnN0YXJ0QWxsKG51bGwpO1xuICB9XG5cbiAgc3RhcnRBbGwoZ2FtZSkge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmdhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZih0aGlzLmdhbWVzW2ldLnBhdXNlZCAmJiAhdGhpcy5nYW1lc1tpXS5zdGFydGluZyAmJiAoZ2FtZSA9PSBudWxsIHx8IGkgIT0gZ2FtZSkpIHtcbiAgICAgICAgdGhpcy5nYW1lc1tpXS5zdGFydCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TdGFydFwiKTtcbiAgfVxuXG4gIG9uU3RhcnQoY2FsbGJhY2spIHtcbiAgICB0aGlzLnJlYWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcIm9uU3RhcnRcIiwgY2FsbGJhY2spO1xuICB9XG5cbiAgcGF1c2VBbGwoZ2FtZSkge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmdhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZighdGhpcy5nYW1lc1tpXS5wYXVzZWQgJiYgKGdhbWUgPT0gbnVsbCB8fCBpICE9IGdhbWUpKSB7XG4gICAgICAgIHRoaXMuZ2FtZXNbaV0ucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlYWN0b3IuZGlzcGF0Y2hFdmVudChcIm9uUGF1c2VcIik7XG4gIH1cblxuICBvblBhdXNlKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZWFjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJvblBhdXNlXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHJlc2V0QWxsKGdhbWUpIHtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYoIXRoaXMuZ2FtZXNbaV0uaXNSZXNldGVkICYmIChnYW1lID09IG51bGwgfHwgaSAhPSBnYW1lKSkge1xuICAgICAgICB0aGlzLmdhbWVzW2ldLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblJlc2V0XCIpO1xuICB9XG5cbiAgb25SZXNldChjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25SZXNldFwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBjaGVja0V4aXQoZ2FtZSkge1xuICAgIGxldCBhbGxFeGl0ZWQgPSB0cnVlO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZ2FtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKCF0aGlzLmdhbWVzW2ldLmV4aXRlZCkge1xuICAgICAgICBhbGxFeGl0ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihhbGxFeGl0ZWQpIHtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25FeGl0XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXJ0QWxsKGdhbWUpO1xuICAgIH1cbiAgfVxuXG4gIG9uRXhpdChjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25FeGl0XCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGNoZWNrU3RvcCgpIHtcbiAgICBsZXQgYWxsU3RvcHBlZCA9IHRydWU7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYoIXRoaXMuZ2FtZXNbaV0uZ2FtZU92ZXIpIHtcbiAgICAgICAgYWxsU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKGFsbFN0b3BwZWQpIHtcbiAgICAgIHRoaXMucmVhY3Rvci5kaXNwYXRjaEV2ZW50KFwib25TdG9wXCIpO1xuICAgIH1cbiAgfVxuXG4gIG9uU3RvcChjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25TdG9wXCIsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHN0b3BBbGwoZmluaXNoZWQpIHtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYoZmluaXNoZWQpIHtcbiAgICAgICAgdGhpcy5nYW1lc1tpXS5maW5pc2godHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmdhbWVzW2ldLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBraWxsQWxsKCkge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmdhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmdhbWVzW2ldLmtpbGwoKTtcbiAgICB9XG4gIH1cblxuICBjaGVja09uU2NvcmVJbmNyZWFzZWQoKSB7XG4gICAgdGhpcy5yZWFjdG9yLmRpc3BhdGNoRXZlbnQoXCJvblNjb3JlSW5jcmVhc2VkXCIpO1xuICB9XG5cbiAgb25TY29yZUluY3JlYXNlZChjYWxsYmFjaykge1xuICAgIHRoaXMucmVhY3Rvci5hZGRFdmVudExpc3RlbmVyKFwib25TY29yZUluY3JlYXNlZFwiLCBjYWxsYmFjayk7XG4gIH1cblxuICBzZXREaXNwbGF5RlBTKHZhbHVlKSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZ2FtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZ2FtZXNbaV0uc2V0RGlzcGxheUZQUyh2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgc2V0Tm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmdhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmdhbWVzW2ldLnNldE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24uY29weSgpKTtcbiAgICB9XG4gIH1cblxuICBjbG9zZU5vdGlmaWNhdGlvbigpIHtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5nYW1lc1tpXS5zZXROb3RpZmljYXRpb24obnVsbCk7XG4gICAgfVxuICB9XG5cbiAgZXJyb3JPY2N1cnJlZCgpIHtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYodGhpcy5nYW1lc1tpXS5lcnJvck9jY3VycmVkKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjbG9zZVJhbmtpbmcoKSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZ2FtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZ2FtZXNbaV0uY2xvc2VSYW5raW5nKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVzdHJveVNuYWtlcyhleGNlcHRpb25JZHMsIHR5cGVzKSB7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZ2FtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZ2FtZXNbaV0uZGVzdHJveVNuYWtlcyhleGNlcHRpb25JZHMsIHR5cGVzKTtcblxuICAgICAgaWYoZXhjZXB0aW9uSWRzICYmIEFycmF5LmlzQXJyYXkoZXhjZXB0aW9uSWRzKSkge1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgZXhjZXB0aW9uSWRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgZXhjZXB0aW9uSWRzW2pdIC09IDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRXaW5uZXJzKCkge1xuICAgIGNvbnN0IHdpbm5lcnMgPSBbXTtcbiAgICBjb25zdCBpbmRleCA9IFtdO1xuICAgIGxldCBtYXhTY29yZSA9IC0xO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZ2FtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLmdhbWVzW2ldLnNuYWtlcy5sZW5ndGg7IGorKykge1xuICAgICAgICBpZih0aGlzLmdhbWVzW2ldLnNuYWtlc1tqXS5zY29yZSA+IG1heFNjb3JlKSB7XG4gICAgICAgICAgbWF4U2NvcmUgPSB0aGlzLmdhbWVzW2ldLnNuYWtlc1tqXS5zY29yZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmKG1heFNjb3JlID49IDApIHtcbiAgICAgIGxldCBpZHggPSAwO1xuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgdGhpcy5nYW1lc1tpXS5zbmFrZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBpZih0aGlzLmdhbWVzW2ldLnNuYWtlc1tqXS5zY29yZSA+PSBtYXhTY29yZSkge1xuICAgICAgICAgICAgd2lubmVycy5wdXNoKHRoaXMuZ2FtZXNbaV0uc25ha2VzW2pdKTtcbiAgICAgICAgICAgIGluZGV4LnB1c2goaWR4KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZHgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB3aW5uZXJzOiB3aW5uZXJzLFxuICAgICAgc2NvcmU6IG1heFNjb3JlLFxuICAgICAgaW5kZXg6IGluZGV4XG4gICAgfVxuICB9XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJhbmRSYW5nZTogZnVuY3Rpb24obWluLCBtYXgsIHJuZykgeyAvLyBSZXR1cm4gYW4gaW50ZWdlciBiZXR3ZWVuIG1pbiAoaW5jbHVzaXZlKSBhbmQgbWF4IChpbmNsdXNpdmUpXG4gICAgcmV0dXJuIE1hdGguZmxvb3IoKHJuZyA/IHJuZygpIDogTWF0aC5yYW5kb20oKSkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICB9LFxuICBhZGRIdWU6IGZ1bmN0aW9uKGh1ZSwgYWRkKSB7XG4gICAgY29uc3QgcmVzID0gaHVlICsgYWRkO1xuICBcbiAgICBpZihyZXMgPiAzNjApIHtcbiAgICAgIHJldHVybiAocmVzIC0gMzYwKTtcbiAgICB9IGVsc2UgaWYocmVzIDwgMCkge1xuICAgICAgcmV0dXJuICgzNjAgKyByZXMpO1xuICAgIH1cbiAgXG4gICAgcmV0dXJuIHJlcztcbiAgfSxcbiAgc2h1ZmZsZTogZnVuY3Rpb24oYSwgcm5nKSB7XG4gICAgbGV0IGosIHg7XG4gICAgXG4gICAgZm9yKGxldCBpID0gYS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICBqID0gTWF0aC5mbG9vcigocm5nID8gcm5nKCkgOiBNYXRoLnJhbmRvbSgpKSAqIChpICsgMSkpO1xuICAgICAgeCA9IGFbaV07XG4gICAgICBhW2ldID0gYVtqXTtcbiAgICAgIGFbal0gPSB4O1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gYTtcbiAgfSxcbiAgbWlsbGlzZWNvbmRzRm9ybWF0OiBmdW5jdGlvbihtaWxsaXNlY29uZHMpIHtcbiAgICBtaWxsaXNlY29uZHMgLz0gMTAwMDtcbiAgICByZXR1cm4gKFwiMFwiICsgTWF0aC50cnVuYyhtaWxsaXNlY29uZHMgLyA2MCkpLnNsaWNlKC0yKSArIFwiOlwiICsgKFwiMFwiICsgTWF0aC50cnVuYyhtaWxsaXNlY29uZHMgJSA2MCkpLnNsaWNlKC0yKTtcbiAgfSxcbiAgc2Vjb25kc0Zvcm1hdDogZnVuY3Rpb24oc2Vjb25kcykge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kc0Zvcm1hdChzZWNvbmRzICogMTAwMCk7XG4gIH1cbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE5LTIwMjAgRWxpYXN0aWsgKGVsaWFzdGlrc29mdHMuY29tKVxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFwiU25ha2VJQVwiLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggXCJTbmFrZUlBXCIuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbmltcG9ydCBHYW1lVXRpbHMgZnJvbSBcIi4vR2FtZVV0aWxzXCI7XG5pbXBvcnQgR2FtZUNvbnN0YW50cyBmcm9tIFwiLi9Db25zdGFudHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi9Qb3NpdGlvblwiO1xuaW1wb3J0IHNlZWRyYW5kb20gZnJvbSBcInNlZWRyYW5kb21cIjtcbmltcG9ydCAqIGFzIExvd2xpZ2h0IGZyb20gXCIuLi8uLi9saWJzL2xvd2xpZ2h0LmFzdGFyLm1pblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkIHtcbiAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgZ2VuZXJhdGVXYWxscywgYm9yZGVyV2FsbHMsIG1hemUsIGN1c3RvbUdyaWQsIG1hemVGb3JjZUF1dG8sIHNlZWRHcmlkLCBzZWVkR2FtZSwgcHJvYkdvbGRGcnVpdEluY3JlYXNlKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoID09IHVuZGVmaW5lZCA/IDIwIDogd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgPT0gdW5kZWZpbmVkID8gMjAgOiBoZWlnaHQ7XG4gICAgdGhpcy5nZW5lcmF0ZVdhbGxzID0gZ2VuZXJhdGVXYWxscyA9PSB1bmRlZmluZWQgPyBmYWxzZSA6IGdlbmVyYXRlV2FsbHM7XG4gICAgdGhpcy5ib3JkZXJXYWxscyA9IGJvcmRlcldhbGxzID09IHVuZGVmaW5lZCA/IGZhbHNlIDogYm9yZGVyV2FsbHM7XG4gICAgdGhpcy5tYXplID0gbWF6ZSA9PSB1bmRlZmluZWQgPyBmYWxzZSA6IG1hemU7XG4gICAgdGhpcy5tYXplRmlyc3RQb3NpdGlvbiA9IG5ldyBQb3NpdGlvbigxLCAxLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCk7XG4gICAgdGhpcy5tYXplRm9yY2VBdXRvID0gbWF6ZUZvcmNlQXV0byA9PSB1bmRlZmluZWQgPyBmYWxzZSA6IG1hemVGb3JjZUF1dG87XG4gICAgdGhpcy5ncmlkO1xuICAgIHRoaXMuaW5pdGlhbEdyaWQ7XG4gICAgdGhpcy5mcnVpdFBvcztcbiAgICB0aGlzLmZydWl0UG9zR29sZDtcbiAgICB0aGlzLmN1c3RvbUdyaWQgPSBjdXN0b21HcmlkO1xuICAgIHRoaXMuc2VlZEdyaWQgPSBzZWVkR3JpZCA/IFwiXCIgKyBwYXJzZUludChzZWVkR3JpZCkgOiB1bmRlZmluZWQ7XG4gICAgdGhpcy5zZWVkR2FtZSA9IHNlZWRHcmlkID8gXCJcIiArIHBhcnNlSW50KHNlZWRHYW1lKSA6IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJuZ0dyaWQ7XG4gICAgdGhpcy5ybmdHYW1lO1xuICAgIHRoaXMucHJvYkdvbGRGcnVpdEluY3JlYXNlID0gcHJvYkdvbGRGcnVpdEluY3JlYXNlID09IHVuZGVmaW5lZCA/IGZhbHNlIDogcHJvYkdvbGRGcnVpdEluY3JlYXNlO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBpZih0aGlzLmN1c3RvbUdyaWQgIT0gdW5kZWZpbmVkIHx8IHRoaXMuaW5pdGlhbEdyaWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICBsZXQgZ3JpZFRvQ29weTtcblxuICAgICAgaWYodGhpcy5pbml0aWFsR3JpZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgZ3JpZFRvQ29weSA9IHRoaXMuaW5pdGlhbEdyaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBncmlkVG9Db3B5ID0gdGhpcy5jdXN0b21HcmlkO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhlaWdodCA9IGdyaWRUb0NvcHkubGVuZ3RoO1xuICAgICAgdGhpcy53aWR0aCA9IGdyaWRUb0NvcHlbMF0ubGVuZ3RoO1xuXG4gICAgICB0aGlzLmluaXRpYWxHcmlkID0gbmV3IEFycmF5KHRoaXMuaGVpZ2h0KTtcbiAgICAgIHRoaXMuZ3JpZCA9IG5ldyBBcnJheSh0aGlzLmhlaWdodCk7XG5cbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmhlaWdodDsgaSsrKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbEdyaWRbaV0gPSBncmlkVG9Db3B5W2ldLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuZ3JpZFtpXSA9IGdyaWRUb0NvcHlbaV0uc2xpY2UoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ncmlkID0gbmV3IEFycmF5KHRoaXMuaGVpZ2h0KTtcblxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuaGVpZ2h0OyBpKyspIHtcbiAgICAgICAgdGhpcy5ncmlkW2ldID0gbmV3IEFycmF5KHRoaXMud2lkdGgpO1xuXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLndpZHRoOyBqKyspIHtcbiAgICAgICAgICBpZigodGhpcy5ib3JkZXJXYWxscyAmJiAoaSA9PSAwIHx8IGkgPT0gdGhpcy5oZWlnaHQgLSAxIHx8IGogPT0gMCB8fCBqID09IHRoaXMud2lkdGggLSAxKSkgfHwgKHRoaXMuZ2VuZXJhdGVXYWxscyAmJiB0aGlzLnJuZ0dyaWQgJiYgdGhpcy5ybmdHcmlkKCkgPiAwLjY1KSB8fCB0aGlzLm1hemUpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFtpXVtqXSA9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuV0FMTDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ncmlkW2ldW2pdID0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5tYXplKSB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVNYXplKCk7XG4gICAgICB9IGVsc2UgaWYodGhpcy5nZW5lcmF0ZVdhbGxzKSB7XG4gICAgICAgIHRoaXMuZml4V2FsbHModGhpcy5ib3JkZXJXYWxscyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5mcnVpdFBvc0dvbGQgPSBudWxsO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5ncmlkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaW5pdGlhbEdyaWQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5mcnVpdFBvcyA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmZydWl0UG9zR29sZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJuZ0dyaWQgPSBuZXcgc2VlZHJhbmRvbSh0aGlzLnNlZWRHcmlkKTtcbiAgICB0aGlzLnJuZ0dhbWUgPSBuZXcgc2VlZHJhbmRvbSh0aGlzLnNlZWRHYW1lKTtcbiAgfVxuXG4gIGZpeFdhbGxzKGJvcmRlcldhbGxzKSB7XG4gICAgbGV0IHN0YXJ0WSwgc3RhcnRYLCBlbmRZLCBlbmRYO1xuXG4gICAgaWYoYm9yZGVyV2FsbHMpIHtcbiAgICAgIHN0YXJ0WSA9IDE7IGVuZFkgPSB0aGlzLmhlaWdodCAtIDE7XG4gICAgICBzdGFydFggPSAxOyBlbmRYID0gdGhpcy53aWR0aCAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0WSA9IDA7IGVuZFkgPSB0aGlzLmhlaWdodDtcbiAgICAgIHN0YXJ0WCA9IDA7IGVuZFggPSB0aGlzLndpZHRoO1xuICAgIH1cblxuICAgIGZvcihsZXQgaSA9IHN0YXJ0WTsgaSA8IGVuZFk7IGkrKykge1xuICAgICAgZm9yKGxldCBqID0gc3RhcnRYOyBqIDwgZW5kWDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSBuZXcgUG9zaXRpb24oaiwgaSk7XG4gICAgICAgIGNvbnN0IHVwcGVyQ2FzZSA9IHRoaXMuZ2V0TmV4dFBvc2l0aW9uKGN1cnJlbnRQb3MsIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKTtcbiAgICAgICAgY29uc3QgdXBwZXJMZWZ0Q2FzZSA9IHRoaXMuZ2V0TmV4dFBvc2l0aW9uKHVwcGVyQ2FzZSwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVCk7XG4gICAgICAgIGNvbnN0IHVwcGVyUmlnaHRDYXNlID0gdGhpcy5nZXROZXh0UG9zaXRpb24odXBwZXJDYXNlLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCk7XG4gICAgICAgIGNvbnN0IGRvd25DYXNlID0gdGhpcy5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvcywgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKTtcbiAgICAgICAgY29uc3QgZG93bkxlZnRDYXNlID0gdGhpcy5nZXROZXh0UG9zaXRpb24oZG93bkNhc2UsIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQpO1xuICAgICAgICBjb25zdCBkb3duUmlnaHRDYXNlID0gdGhpcy5nZXROZXh0UG9zaXRpb24oZG93bkNhc2UsIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKTtcblxuICAgICAgICBpZih0aGlzLmdldCh1cHBlckxlZnRDYXNlKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLldBTEwgfHwgdGhpcy5nZXQodXBwZXJSaWdodENhc2UpID09IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuV0FMTCB8fCB0aGlzLmdldChkb3duTGVmdENhc2UpID09IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuV0FMTCB8fCB0aGlzLmdldChkb3duUmlnaHRDYXNlKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLldBTEwpIHtcbiAgICAgICAgICB0aGlzLnNldChHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZLCBjdXJyZW50UG9zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1hemVfcmVjdXJzaW9uKHIsIGMpIHtcbiAgICBjb25zdCBkaXJlY3Rpb25zID0gR2FtZVV0aWxzLnNodWZmbGUoW0dhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUXSwgdGhpcy5ybmdHcmlkKTtcblxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkaXJlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzd2l0Y2goZGlyZWN0aW9uc1tpXSkge1xuICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQOlxuICAgICAgICAgIGlmKHIgLSAyIDw9IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgaWYodGhpcy5nZXQobmV3IFBvc2l0aW9uKGMsIHIgLSAyKSkgIT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSwgbmV3IFBvc2l0aW9uKGMsIHIgLSAyKSk7XG4gICAgICAgICAgICB0aGlzLnNldChHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZLCBuZXcgUG9zaXRpb24oYywgciAtIDEpKTtcbiAgICAgICAgICAgIHRoaXMubWF6ZV9yZWN1cnNpb24ociAtIDIsIGMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUOlxuICAgICAgICAgIGlmKGMgKyAyID49IHRoaXMud2lkdGggLSAxKSBjb250aW51ZTtcblxuICAgICAgICAgIGlmKHRoaXMuZ2V0KG5ldyBQb3NpdGlvbihjICsgMiwgcikpICE9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFksIG5ldyBQb3NpdGlvbihjICsgMiwgcikpO1xuICAgICAgICAgICAgdGhpcy5zZXQoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSwgbmV3IFBvc2l0aW9uKGMgKyAxLCByKSk7XG4gICAgICAgICAgICB0aGlzLm1hemVfcmVjdXJzaW9uKHIsIGMgKyAyKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT006XG4gICAgICAgICAgaWYociArIDIgPj0gdGhpcy5oZWlnaHQgLSAxKSBjb250aW51ZTtcblxuICAgICAgICAgIGlmKHRoaXMuZ2V0KG5ldyBQb3NpdGlvbihjLCByICsgMikpICE9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFksIG5ldyBQb3NpdGlvbihjLCByICsgMikpO1xuICAgICAgICAgICAgdGhpcy5zZXQoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSwgbmV3IFBvc2l0aW9uKGMsIHIgKyAxKSk7XG4gICAgICAgICAgICB0aGlzLm1hemVfcmVjdXJzaW9uKHIgKyAyLCBjKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUOlxuICAgICAgICAgIGlmKGMgLSAyIDw9IDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgaWYodGhpcy5nZXQobmV3IFBvc2l0aW9uKGMgLSAyLCByKSkgIT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSwgbmV3IFBvc2l0aW9uKGMgLSAyLCByKSk7XG4gICAgICAgICAgICB0aGlzLnNldChHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZLCBuZXcgUG9zaXRpb24oYyAtIDEsIHIpKTtcbiAgICAgICAgICAgIHRoaXMubWF6ZV9yZWN1cnNpb24ociwgYyAtIDIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdlbmVyYXRlTWF6ZSgpIHtcbiAgICB0aGlzLm1hemVGaXJzdFBvc2l0aW9uID0gbmV3IFBvc2l0aW9uKDEsIDEsIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKTtcbiAgICB0aGlzLnNldChHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZLCB0aGlzLm1hemVGaXJzdFBvc2l0aW9uKTtcbiAgICB0aGlzLm1hemVfcmVjdXJzaW9uKDEsIDEpO1xuICB9XG5cbiAgc2V0KHZhbHVlLCBwb3NpdGlvbikge1xuICAgIHRoaXMuZ3JpZFtwb3NpdGlvbi55XVtwb3NpdGlvbi54XSA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0KHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JpZFtwb3NpdGlvbi55XVtwb3NpdGlvbi54XTtcbiAgfVxuXG4gIHZhbFRvQ2hhcih2YWx1ZSkge1xuICAgIHN3aXRjaCh2YWx1ZSkge1xuICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZOlxuICAgICAgICByZXR1cm4gXCItXCI7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuU05BS0U6XG4gICAgICAgIHJldHVybiBcIm9cIjtcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5TTkFLRV9ERUFEOlxuICAgICAgICByZXR1cm4gXCJPXCI7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVQ6XG4gICAgICAgIHJldHVybiBcInhcIjtcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5XQUxMOlxuICAgICAgICByZXR1cm4gXCIjXCI7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuU1VSUk9VTkRFRDpcbiAgICAgICAgcmV0dXJuIFwiL1wiO1xuICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUX0dPTEQ6XG4gICAgICAgIHJldHVybiBcIlhcIjtcbiAgICB9XG4gIH1cblxuICBnZXRJbWFnZUNhc2UocG9zaXRpb24pIHtcbiAgICBzd2l0Y2godGhpcy5nZXQocG9zaXRpb24pKSB7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuV0FMTDpcbiAgICAgICAgcmV0dXJuIFwid2FsbC5wbmdcIjtcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5GUlVJVDpcbiAgICAgICAgcmV0dXJuIFwiZnJ1aXQucG5nXCI7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVRfR09MRDpcbiAgICAgICAgcmV0dXJuIFwiZnJ1aXRfZ29sZC5wbmdcIjtcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWTpcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuU05BS0U6XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLlNOQUtFX0RFQUQ6XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLlNVUlJPVU5ERUQ6XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkNST1NTRUQ6XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cblxuICAgIHJldHVybiBcInVua25vd24ucG5nXCI7XG4gIH1cblxuICBnZXRHcmFwaChpZ25vcmVTbmFrZVBvcykge1xuICAgIGNvbnN0IHJlcyA9IG5ldyBBcnJheSh0aGlzLmhlaWdodCk7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5oZWlnaHQ7IGkrKykge1xuICAgICAgcmVzW2ldID0gbmV3IEFycmF5KHRoaXMud2lkdGgpO1xuXG4gICAgICBmb3IobGV0IGogPSAwOyBqIDwgdGhpcy53aWR0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQb3MgPSBuZXcgUG9zaXRpb24oaiwgaSk7XG5cbiAgICAgICAgaWYoaWdub3JlU25ha2VQb3MgJiYgdGhpcy5nZXQoY3VycmVudFBvcykgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5TTkFLRSkge1xuICAgICAgICAgIHJlc1tpXVtqXSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZih0aGlzLmlzRGVhZFBvc2l0aW9uKGN1cnJlbnRQb3MpKSB7XG4gICAgICAgICAgcmVzW2ldW2pdID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNbaV1bal0gPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfVxuXG4gIGdldFJhbmRvbVBvc2l0aW9uKCkge1xuICAgIHJldHVybiBuZXcgUG9zaXRpb24oR2FtZVV0aWxzLnJhbmRSYW5nZSgwLCB0aGlzLndpZHRoIC0gMSwgdGhpcy5ybmdHYW1lKSwgR2FtZVV0aWxzLnJhbmRSYW5nZSgwLCB0aGlzLmhlaWdodCAtIDEsIHRoaXMucm5nR2FtZSkpO1xuICB9XG5cbiAgc2V0RnJ1aXQobnVtYmVyUGxheWVycywgZ29sZCkge1xuICAgIGNvbnN0IHRyaWVkID0gWzFdO1xuXG4gICAgaWYoIWdvbGQgJiYgdGhpcy5mcnVpdFBvcyAhPSBudWxsICYmIHRoaXMuZ2V0KHRoaXMuZnJ1aXRQb3MpID09IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVQpIHtcbiAgICAgIHRoaXMuc2V0KEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFksIHRoaXMuZnJ1aXRQb3MpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZ2V0VG90YWwoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSkgPiAwKSB7XG4gICAgICBsZXQgcmFuZG9tUG9zLCBpc0NvcnJpZG9yO1xuXG4gICAgICBkbyB7XG4gICAgICAgIHJhbmRvbVBvcyA9IHRoaXMuZ2V0UmFuZG9tUG9zaXRpb24oKTtcbiAgICAgICAgaXNDb3JyaWRvciA9IHRoaXMuZGV0ZWN0Q29ycmlkb3IocmFuZG9tUG9zKTtcblxuICAgICAgICBpZihpc0NvcnJpZG9yICYmIHRoaXMuZ2V0KHJhbmRvbVBvcykgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSkge1xuICAgICAgICAgIHRoaXMuc2V0KEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuU1VSUk9VTkRFRCwgcmFuZG9tUG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuZ2V0VG90YWwoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSkgPD0gMCkge1xuICAgICAgICAgIGlmKHRoaXMuZnJ1aXRQb3NHb2xkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSB3aGlsZSh0aGlzLmdldChyYW5kb21Qb3MpICE9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFkgfHwgdGhpcy5pc0ZydWl0U3Vycm91bmRlZChyYW5kb21Qb3MsIHRydWUpIHx8ICh0aGlzLm1hemUgJiYgIXRoaXMudGVzdEZydWl0TWF6ZShyYW5kb21Qb3MsIHRyaWVkKSkgfHwgaXNDb3JyaWRvcik7XG5cbiAgICAgIGlmKGdvbGQpIHtcbiAgICAgICAgdGhpcy5mcnVpdFBvc0dvbGQgPSByYW5kb21Qb3M7XG4gICAgICAgIHRoaXMuc2V0KEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVRfR09MRCwgcmFuZG9tUG9zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZnJ1aXRQb3MgPSByYW5kb21Qb3M7XG4gICAgICAgIHRoaXMuc2V0KEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVQsIHJhbmRvbVBvcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHRoaXMuZ2V0VG90YWwoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSkgPD0gMCAmJiB0aGlzLmZydWl0UG9zR29sZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZighdGhpcy5tYXplICYmIHRoaXMuZnJ1aXRQb3NHb2xkID09IG51bGwgJiYgR2FtZVV0aWxzLnJhbmRSYW5nZSgxLCAodGhpcy5wcm9iR29sZEZydWl0SW5jcmVhc2UgPyAzIDogKG51bWJlclBsYXllcnMgPiAxID8gR2FtZUNvbnN0YW50cy5TZXR0aW5nLlBST0JfR09MRF9GUlVJVF9NVUxUSVBMRV9QTEFZRVJTIDogR2FtZUNvbnN0YW50cy5TZXR0aW5nLlBST0JfR09MRF9GUlVJVF8xX1BMQVlFUikpLCB0aGlzLnJuZ0dhbWUpID09IDEpIHtcbiAgICAgIHRoaXMuc2V0RnJ1aXQobnVtYmVyUGxheWVycywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0ZXN0RnJ1aXRNYXplKHBvc2l0aW9uLCB0cmllZCkgeyAvLyBNYXplIG1vZGU6IGF2b2lkIHB1dHRpbmcgdGhlIGZydWl0IHRvbyBjbG9zZSB0byB0aGUgU25ha2VcbiAgICBjb25zdCBncmlkID0gdGhpcy5nZXRHcmFwaCh0cnVlKTtcbiAgICBjb25zdCBncmFwaCA9IG5ldyBMb3dsaWdodC5Bc3Rhci5Db25maWd1cmF0aW9uKGdyaWQsIHtcbiAgICAgIG9yZGVyOiBcInl4XCIsXG4gICAgICB0b3J1czogZmFsc2UsXG4gICAgICBkaWFnb25hbHM6IGZhbHNlLFxuICAgICAgY3V0dGluZzogZmFsc2UsXG4gICAgICBjb3N0KGEsIGIpIHsgcmV0dXJuIGIgPT0gMSA/IG51bGwgOiAxIH1cbiAgICB9KTtcbiAgICBjb25zdCBwYXRoID0gZ3JhcGgucGF0aCh7eDogdGhpcy5tYXplRmlyc3RQb3NpdGlvbi54LCB5OiB0aGlzLm1hemVGaXJzdFBvc2l0aW9uLnl9LCB7eDogcG9zaXRpb24ueCwgeTogcG9zaXRpb24ueX0pO1xuXG4gICAgaWYocGF0aC5sZW5ndGggPCBNYXRoLmNlaWwodGhpcy5nZXRUb3RhbChHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZKSAvICgxICogTWF0aC5jZWlsKHRyaWVkWzBdIC8gNCkpKSkge1xuICAgICAgdHJpZWRbMF0rKztcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdHJpZWRbMF0rKztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlzQ2FzZVN1cnJvdW5kZWQocG9zaXRpb24sIGZpbGwsIGZvdW5kVmFscywgZm9yYmlkZGVuVmFscykge1xuICAgIGlmKCFwb3NpdGlvbikgcmV0dXJuIGZhbHNlO1xuXG4gICAgY29uc3QgZ3JpZENvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZ3JpZCkpO1xuICAgIGNvbnN0IGNoZWNrTGlzdCA9IFtwb3NpdGlvbl07XG5cbiAgICB3aGlsZShjaGVja0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gY2hlY2tMaXN0WzBdO1xuICAgICAgY2hlY2tMaXN0LnNoaWZ0KCk7XG5cbiAgICAgIGNvbnN0IGRpcmVjdGlvbnMgPSBbdGhpcy5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvc2l0aW9uLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUCksIHRoaXMuZ2V0TmV4dFBvc2l0aW9uKGN1cnJlbnRQb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKSwgdGhpcy5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvc2l0aW9uLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUKSwgdGhpcy5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvc2l0aW9uLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCldOyAvLyBVUCwgRE9XTiwgTEVGVCwgUklHSFRcblxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGRpcmVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYoZ3JpZENvcHlbZGlyZWN0aW9uc1tpXS55XVtkaXJlY3Rpb25zW2ldLnhdICE9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuQ1JPU1NFRCAmJiBmb3JiaWRkZW5WYWxzLmluZGV4T2YodGhpcy5nZXQoZGlyZWN0aW9uc1tpXSkpID4gLTEpIHtcbiAgICAgICAgICBjaGVja0xpc3QucHVzaChkaXJlY3Rpb25zW2ldKTtcblxuICAgICAgICAgIGlmKGZvdW5kVmFscy5pbmRleE9mKHRoaXMuZ2V0KGRpcmVjdGlvbnNbaV0pKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYoZmlsbCAmJiB0aGlzLmdldChkaXJlY3Rpb25zW2ldKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZKSB7XG4gICAgICAgICAgICB0aGlzLnNldChHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLlNVUlJPVU5ERUQsIGRpcmVjdGlvbnNbaV0pO1xuICAgICAgICAgICAgZ3JpZENvcHlbZGlyZWN0aW9uc1tpXS55XVtkaXJlY3Rpb25zW2ldLnhdID0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5TVVJST1VOREVEO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBncmlkQ29weVtkaXJlY3Rpb25zW2ldLnldW2RpcmVjdGlvbnNbaV0ueF0gPSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkNST1NTRUQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYoZmlsbCAmJiAodGhpcy5nZXQocG9zaXRpb24pID09IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFkgfHwgdGhpcy5nZXQocG9zaXRpb24pID09IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVQpIHx8IHRoaXMuZ2V0KHBvc2l0aW9uKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUX0dPTEQpIHtcbiAgICAgIHRoaXMuc2V0KEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuU1VSUk9VTkRFRCwgcG9zaXRpb24pO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaXNGcnVpdFN1cnJvdW5kZWQocG9zaXRpb24sIGZpbGwpIHtcbiAgICBjb25zdCBzdXJyb3VuZGVkID0gdGhpcy5pc0Nhc2VTdXJyb3VuZGVkKHBvc2l0aW9uLCBmYWxzZSwgW0dhbWVDb25zdGFudHMuQ2FzZVR5cGUuU05BS0VdLCBbR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSwgR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5TTkFLRV0pO1xuXG4gICAgaWYoc3Vycm91bmRlZCAmJiBmaWxsKSB7XG4gICAgICB0aGlzLmlzQ2FzZVN1cnJvdW5kZWQocG9zaXRpb24sIHRydWUsIFtHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLlNOQUtFXSwgW0dhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFksIEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuU05BS0VdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3Vycm91bmRlZDtcbiAgfVxuXG4gIGRldGVjdENvcnJpZG9yKHBvc2l0aW9uLCBncmlkQ29weSA9IHRoaXMuZ3JpZCA/IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5ncmlkKSkgOiBudWxsKSB7XG4gICAgaWYodGhpcy5tYXplIHx8ICFwb3NpdGlvbiAgfHwgIWdyaWRDb3B5KSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCBwb3NUb3AgPSB0aGlzLmdldE5leHRQb3NpdGlvbihwb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVE9QKTtcbiAgICBjb25zdCBwb3NCb3R0b20gPSB0aGlzLmdldE5leHRQb3NpdGlvbihwb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKTtcbiAgICBjb25zdCBwb3NSaWdodCA9IHRoaXMuZ2V0TmV4dFBvc2l0aW9uKHBvc2l0aW9uLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCk7XG4gICAgY29uc3QgcG9zTGVmdCA9IHRoaXMuZ2V0TmV4dFBvc2l0aW9uKHBvc2l0aW9uLCBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUKTtcblxuICAgIGNvbnN0IGlzRGVhZFBvc2l0aW9uVG9wID0gdGhpcy5pc0RlYWRQb3NpdGlvbihwb3NUb3AsIHRydWUsIHRydWUpO1xuICAgIGNvbnN0IGlzRGVhZFBvc2l0aW9uQm90dG9tID0gdGhpcy5pc0RlYWRQb3NpdGlvbihwb3NCb3R0b20sIHRydWUsIHRydWUpO1xuICAgIGNvbnN0IGlzRGVhZFBvc2l0aW9uUmlnaHQgPSB0aGlzLmlzRGVhZFBvc2l0aW9uKHBvc1JpZ2h0LCB0cnVlLCB0cnVlKTtcbiAgICBjb25zdCBpc0RlYWRQb3NpdGlvbkxlZnQgPSB0aGlzLmlzRGVhZFBvc2l0aW9uKHBvc0xlZnQsIHRydWUsIHRydWUpO1xuICAgIGNvbnN0IG51bURlYWRQb3NpdGlvbkFycm91bmQgPSBpc0RlYWRQb3NpdGlvblRvcCArIGlzRGVhZFBvc2l0aW9uQm90dG9tICsgaXNEZWFkUG9zaXRpb25SaWdodCArIGlzRGVhZFBvc2l0aW9uTGVmdDtcblxuICAgIGlmKG51bURlYWRQb3NpdGlvbkFycm91bmQgPD0gMSB8fCB0aGlzLmlzRGVhZFBvc2l0aW9uKHBvc2l0aW9uLCB0cnVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZihudW1EZWFkUG9zaXRpb25BcnJvdW5kID49IDMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGdyaWRDb3B5W3Bvc2l0aW9uLnldW3Bvc2l0aW9uLnhdID0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5DUk9TU0VEO1xuXG4gICAgY29uc3QgY29ycmlkb3JUb3AgPSBncmlkQ29weVtwb3NUb3AueV1bcG9zVG9wLnhdICE9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuQ1JPU1NFRCA/IHRoaXMuZGV0ZWN0Q29ycmlkb3IocG9zVG9wLCBncmlkQ29weSkgOiBmYWxzZTtcbiAgICBjb25zdCBjb3JyaWRvckJvdHRvbSA9IGdyaWRDb3B5W3Bvc0JvdHRvbS55XVtwb3NCb3R0b20ueF0gIT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5DUk9TU0VEID8gdGhpcy5kZXRlY3RDb3JyaWRvcihwb3NCb3R0b20sIGdyaWRDb3B5KSA6IGZhbHNlO1xuICAgIGNvbnN0IGNvcnJpZG9yTGVmdCA9IGdyaWRDb3B5W3Bvc0xlZnQueV1bcG9zTGVmdC54XSAhPSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkNST1NTRUQgPyB0aGlzLmRldGVjdENvcnJpZG9yKHBvc0xlZnQsIGdyaWRDb3B5KSA6IGZhbHNlO1xuICAgIGNvbnN0IGNvcnJpZG9yUmlnaHQgPSBncmlkQ29weVtwb3NSaWdodC55XVtwb3NSaWdodC54XSAhPSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkNST1NTRUQgPyB0aGlzLmRldGVjdENvcnJpZG9yKHBvc1JpZ2h0LCBncmlkQ29weSkgOiBmYWxzZTtcblxuICAgIGlmKGNvcnJpZG9yQm90dG9tIHx8IGNvcnJpZG9yVG9wIHx8IGNvcnJpZG9yTGVmdCB8fCBjb3JyaWRvclJpZ2h0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRPbkxpbmUodHlwZSwgbGluZSkge1xuICAgIGxldCB0b3QgPSAwO1xuXG4gICAgZm9yKGxldCBqID0gMDsgaiA8IHRoaXMud2lkdGg7IGorKykge1xuICAgICAgaWYodGhpcy5nZXQobmV3IFBvc2l0aW9uKGosIGxpbmUpKSA9PSB0eXBlKSB7XG4gICAgICAgIHRvdCsrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0b3Q7XG4gIH1cblxuICBnZXRUb3RhbCh0eXBlKSB7XG4gICAgbGV0IHRvdCA9IDA7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5oZWlnaHQ7IGkrKykge1xuICAgICAgdG90ICs9IHRoaXMuZ2V0T25MaW5lKHR5cGUsIGkpO1xuICAgIH1cblxuICAgIHJldHVybiB0b3Q7XG4gIH1cblxuICBnZXROZXh0UG9zaXRpb24ob2xkUG9zLCBuZXdEaXJlY3Rpb24pIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBQb3NpdGlvbihvbGRQb3MueCwgb2xkUG9zLnksIG5ld0RpcmVjdGlvbik7XG5cbiAgICBzd2l0Y2gobmV3RGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQ6XG4gICAgICAgIHBvc2l0aW9uLngtLTtcbiAgICAgICAgcG9zaXRpb24uZGlyZWN0aW9uID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQOlxuICAgICAgICBwb3NpdGlvbi55LS07XG4gICAgICAgIHBvc2l0aW9uLmRpcmVjdGlvbiA9IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQ6XG4gICAgICAgIHBvc2l0aW9uLngrKztcbiAgICAgICAgcG9zaXRpb24uZGlyZWN0aW9uID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT006XG4gICAgICAgIHBvc2l0aW9uLnkrKztcbiAgICAgICAgcG9zaXRpb24uZGlyZWN0aW9uID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5LZXkuTEVGVDpcbiAgICAgICAgcG9zaXRpb24ueC0tO1xuICAgICAgICBwb3NpdGlvbi5kaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLktleS5MRUZUO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5LZXkuVVA6XG4gICAgICAgIHBvc2l0aW9uLnktLTtcbiAgICAgICAgcG9zaXRpb24uZGlyZWN0aW9uID0gR2FtZUNvbnN0YW50cy5LZXkuVVA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLktleS5SSUdIVDpcbiAgICAgICAgcG9zaXRpb24ueCsrO1xuICAgICAgICBwb3NpdGlvbi5kaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuS2V5LkJPVFRPTTpcbiAgICAgICAgcG9zaXRpb24ueSsrO1xuICAgICAgICBwb3NpdGlvbi5kaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT007XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmKHBvc2l0aW9uLnggPCAwKSB7XG4gICAgICBwb3NpdGlvbi54ID0gdGhpcy53aWR0aCAtIDE7XG4gICAgfSBlbHNlIGlmKHBvc2l0aW9uLnggPj0gdGhpcy53aWR0aCkge1xuICAgICAgcG9zaXRpb24ueCA9IDA7XG4gICAgfVxuXG4gICAgaWYocG9zaXRpb24ueSA8IDApIHtcbiAgICAgIHBvc2l0aW9uLnkgPSB0aGlzLmhlaWdodCAtIDE7XG4gICAgfSBlbHNlIGlmKHBvc2l0aW9uLnkgPj0gdGhpcy5oZWlnaHQpIHtcbiAgICAgIHBvc2l0aW9uLnkgPSAwO1xuICAgIH1cblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuXG4gIGdldERpcmVjdGlvblRvKHBvc2l0aW9uLCBvdGhlclBvc2l0aW9uKSB7XG4gICAgaWYodGhpcy5nZXROZXh0UG9zaXRpb24ocG9zaXRpb24sIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKS5lcXVhbHMob3RoZXJQb3NpdGlvbikpIHtcbiAgICAgIHJldHVybiBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUDtcbiAgICB9IGVsc2UgaWYodGhpcy5nZXROZXh0UG9zaXRpb24ocG9zaXRpb24sIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTSkuZXF1YWxzKG90aGVyUG9zaXRpb24pKSB7XG4gICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NO1xuICAgIH0gZWxzZSBpZih0aGlzLmdldE5leHRQb3NpdGlvbihwb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQpLmVxdWFscyhvdGhlclBvc2l0aW9uKSkge1xuICAgICAgcmV0dXJuIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUO1xuICAgIH0gZWxzZSBpZih0aGlzLmdldE5leHRQb3NpdGlvbihwb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVCkuZXF1YWxzKG90aGVyUG9zaXRpb24pKSB7XG4gICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVDtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBpbnZlcnREaXJlY3Rpb24oZGlyZWN0aW9uKSB7XG4gICAgaWYoZGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKSB7XG4gICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NO1xuICAgIH0gZWxzZSBpZihkaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKSB7XG4gICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA7XG4gICAgfSBlbHNlIGlmKGRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCkge1xuICAgICAgcmV0dXJuIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQ7XG4gICAgfSBlbHNlIGlmKGRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUKSB7XG4gICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpc0RlYWRQb3NpdGlvbihwb3NpdGlvbiwgZXhjbHVkZVNuYWtlLCBpbmNsdWRlU3Vycm91bmRlZCkge1xuICAgIHJldHVybiAoIWV4Y2x1ZGVTbmFrZSAmJiB0aGlzLmdldChwb3NpdGlvbikgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5TTkFLRSkgfHwgKHRoaXMuZ2V0KHBvc2l0aW9uKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLldBTEwpIHx8ICh0aGlzLmdldChwb3NpdGlvbikgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5TTkFLRV9ERUFEKSB8fCAoISFpbmNsdWRlU3Vycm91bmRlZCAmJiB0aGlzLmdldChwb3NpdGlvbikgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5TVVJST1VOREVEKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIGxldCByZXMgPSBcIlwiO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuaGVpZ2h0OyBpKyspIHtcbiAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLndpZHRoOyBqKyspIHtcbiAgICAgICAgcmVzICs9IHRoaXMudmFsVG9DaGFyKHRoaXMuZ2V0KG5ldyBQb3NpdGlvbihqLCBpKSkpICsgXCIgXCI7XG4gICAgICB9XG5cbiAgICAgIHJlcyArPSBcIlxcblwiO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH1cbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE5LTIwMjAgRWxpYXN0aWsgKGVsaWFzdGlrc29mdHMuY29tKVxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFwiU25ha2VJQVwiLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggXCJTbmFrZUlBXCIuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbmltcG9ydCBpbyBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xuaW1wb3J0IEdhbWVDb250cm9sbGVyU29ja2V0IGZyb20gXCIuL0dhbWVDb250cm9sbGVyU29ja2V0XCI7XG5pbXBvcnQgR2FtZUNvbnN0YW50cyBmcm9tIFwiLi9Db25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT25saW5lQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy51cmw7XG4gICAgdGhpcy5wb3J0O1xuICAgIHRoaXMuc29ja2V0O1xuICAgIHRoaXMudG9rZW47XG4gICAgdGhpcy5pZDtcbiAgICB0aGlzLnNlcnZlclNldHRpbmdzO1xuICAgIHRoaXMuY3VycmVudFJvb207XG4gICAgdGhpcy5nYW1lO1xuICAgIHRoaXMuc2VydmVyVmVyc2lvbjtcbiAgICB0aGlzLmVuZ2luZVNlcnZlclZlcnNpb247XG4gICAgdGhpcy5pbnRlcnZhbFJlY29ubmVjdDtcbiAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuY3JlYXRpbmdSb29tID0gZmFsc2U7XG4gICAgdGhpcy5qb2luaW5nUm9vbSA9IGZhbHNlO1xuICAgIHRoaXMubG9hZGluZ1Jvb21zID0gZmFsc2U7XG4gICAgdGhpcy5waW5nTGF0ZW5jeSA9IC0xO1xuICAgIHRoaXMudWk7XG4gIH1cblxuICBjb25uZWN0KHVybCwgcG9ydCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5wb3J0ID0gcG9ydDtcblxuICAgIGlmKHRoaXMudXJsICE9IG51bGwgJiYgdGhpcy51cmwuY2hhckF0KHRoaXMudXJsLmxlbmd0aCAtIDEpID09IFwiL1wiKSB7XG4gICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnN1YnN0cmluZygwLCB0aGlzLnVybC5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgXG4gICAgdGhpcy5zb2NrZXQgPSBuZXcgaW8odGhpcy5nZXRVUkwoKSArICh0aGlzLnRva2VuID8gXCI/dG9rZW49XCIgKyB0aGlzLnRva2VuIDogXCJcIikpO1xuXG4gICAgdGhpcy5zb2NrZXQub25jZShcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zb2NrZXQub25jZShcImF1dGhlbnRcIiwgZGF0YSA9PiB7XG4gICAgICAgIGlmKGRhdGEgPT0gR2FtZUNvbnN0YW50cy5HYW1lU3RhdGUuQVVUSEVOVElDQVRJT05fU1VDQ0VTUykge1xuICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCBkYXRhLCB0aGlzLnNvY2tldC5pZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIFxuICAgICAgdGhpcy5zb2NrZXQub25jZShcInRva2VuXCIsICh0b2tlbikgPT4ge1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgICAgIHRoaXMuY29ubmVjdCh0aGlzLnVybCwgdGhpcy5wb3J0LCBjYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwiZXJyb3JcIiwgZGF0YSA9PiB7XG4gICAgICBjYWxsYmFjayhmYWxzZSwgZGF0YSk7XG4gICAgICB0aGlzLmRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc29ja2V0Lm9uKFwiY29ubmVjdF9lcnJvclwiLCBkYXRhID0+IHtcbiAgICAgIGNhbGxiYWNrKGZhbHNlLCBkYXRhKTtcbiAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zb2NrZXQub25jZShcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgaWYoIXRoaXMuZGlzY29ubmVjdGVkKSB7XG4gICAgICAgIGNhbGxiYWNrKGZhbHNlLCBHYW1lQ29uc3RhbnRzLkVycm9yLkRJU0NPTk5FQ1RFRCk7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5zb2NrZXQub24oXCJwb25nXCIsIG1zID0+IHtcbiAgICAgIHRoaXMucGluZ0xhdGVuY3kgPSBtcztcbiAgICAgIGlmKHRoaXMudWkpIHRoaXMudWkucGluZ0xhdGVuY3kgPSBtcztcbiAgICB9KTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3QoKSB7XG4gICAgaWYodGhpcy5zb2NrZXQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5kaXNjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zdG9wR2FtZSgpO1xuICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgIHRoaXMuY3JlYXRpbmdSb29tID0gZmFsc2U7XG4gICAgICB0aGlzLmpvaW5pbmdSb29tID0gZmFsc2U7XG4gICAgICB0aGlzLmxvYWRpbmdSb29tcyA9IGZhbHNlO1xuICAgICAgdGhpcy5waW5nTGF0ZW5jeSA9IC0xO1xuICAgIH1cbiAgfVxuXG4gIHN0b3BHYW1lKCkge1xuICAgIGlmKHRoaXMuZ2FtZSAhPSBudWxsICYmIHRoaXMuZ2FtZS5nYW1lVUkgIT0gbnVsbCkge1xuICAgICAgdGhpcy5nYW1lLmtpbGwoKTtcbiAgICAgIHRoaXMuZ2FtZS5nYW1lVUkuc2V0S2lsbCgpO1xuICAgICAgdGhpcy51aSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgZGlzcGxheVJvb21zKGNhbGxiYWNrKSB7XG4gICAgaWYoIXRoaXMubG9hZGluZ1Jvb21zKSB7XG4gICAgICB0aGlzLmxvYWRpbmdSb29tcyA9IHRydWU7XG5cbiAgICAgIGNvbnN0IGlvUm9vbXMgPSBuZXcgaW8odGhpcy5nZXRVUkwoKSArIFwiL3Jvb21zXCIgKyAodGhpcy50b2tlbiA/IFwiP3Rva2VuPVwiICsgdGhpcy50b2tlbiA6IFwiXCIpKTtcbiAgICBcbiAgICAgIGlvUm9vbXMub25jZShcInJvb21zXCIsIGRhdGEgPT4ge1xuICAgICAgICBjYWxsYmFjayh0cnVlLCBkYXRhKTtcbiAgICAgICAgaW9Sb29tcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLmxvYWRpbmdSb29tcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNlcnZlclNldHRpbmdzID0gZGF0YS5zZXR0aW5ncztcbiAgICAgIH0pO1xuICAgIFxuICAgICAgaW9Sb29tcy5vbmNlKFwiZXJyb3JcIiwgZGF0YSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKGZhbHNlLCBkYXRhKTtcbiAgICAgICAgaW9Sb29tcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLmxvYWRpbmdSb29tcyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlvUm9vbXMub25jZShcImF1dGhlbnRcIiwgZGF0YSA9PiB7XG4gICAgICAgIGlmKGRhdGEgPT0gR2FtZUNvbnN0YW50cy5FcnJvci5BVVRIRU5USUNBVElPTl9SRVFVSVJFRCkge1xuICAgICAgICAgIGNhbGxiYWNrKGZhbHNlLCBkYXRhKTtcbiAgICAgICAgICBpb1Jvb21zLmNsb3NlKCk7XG4gICAgICAgICAgdGhpcy5sb2FkaW5nUm9vbXMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgXG4gICAgICBpb1Jvb21zLm9uY2UoXCJjb25uZWN0X2Vycm9yXCIsICgpID0+IHtcbiAgICAgICAgY2FsbGJhY2soZmFsc2UsIGRhdGEpO1xuICAgICAgICBpb1Jvb21zLmNsb3NlKCk7XG4gICAgICAgIHRoaXMubG9hZGluZ1Jvb21zID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soZmFsc2UsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZVJvb20oZGF0YSwgY2FsbGJhY2spIHtcbiAgICBpZighdGhpcy5jcmVhdGluZ1Jvb20pIHtcbiAgICAgIHRoaXMuY3JlYXRpbmdSb29tID0gdHJ1ZTtcbiAgICAgIFxuICAgICAgY29uc3QgaW9DcmVhdGUgPSBuZXcgaW8odGhpcy5nZXRVUkwoKSArIFwiL2NyZWF0ZVJvb21cIiArICh0aGlzLnRva2VuID8gXCI/dG9rZW49XCIgKyB0aGlzLnRva2VuIDogXCJcIikpO1xuXG4gICAgICBpb0NyZWF0ZS5vbmNlKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgIGlvQ3JlYXRlLmVtaXQoXCJjcmVhdGVcIiwgZGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgaW9DcmVhdGUub25jZShcInByb2Nlc3NcIiwgZGF0YSA9PiB7XG4gICAgICAgIGlmKGRhdGEuc3VjY2VzcyAhPSBudWxsKSB7XG4gICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgc3VjY2VzczogZGF0YS5zdWNjZXNzLFxuICAgICAgICAgICAgY29ubmVjdGlvbl9lcnJvcjogZmFsc2UsXG4gICAgICAgICAgICBjb2RlOiBkYXRhLmNvZGUsXG4gICAgICAgICAgICBlcnJvckNvZGU6IGRhdGEuZXJyb3JDb2RlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBjb25uZWN0aW9uX2Vycm9yOiB0cnVlLFxuICAgICAgICAgICAgY29kZTogbnVsbCxcbiAgICAgICAgICAgIGVycm9yQ29kZTogKGRhdGEgIT0gbnVsbCA/IGRhdGEgOiBudWxsKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaW9DcmVhdGUuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5jcmVhdGluZ1Jvb20gPSBmYWxzZTtcbiAgICAgIH0pO1xuXG4gICAgICBpb0NyZWF0ZS5vbmNlKFwiZXJyb3JcIiwgZGF0YSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBjb25uZWN0aW9uX2Vycm9yOiB0cnVlLFxuICAgICAgICAgIGVycm9yQ29kZTogKGRhdGEgIT0gbnVsbCA/IGRhdGEgOiBudWxsKVxuICAgICAgICB9KTtcblxuICAgICAgICBpb0NyZWF0ZS5jbG9zZSgpO1xuICAgICAgICB0aGlzLmNyZWF0aW5nUm9vbSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlvQ3JlYXRlLm9uY2UoXCJhdXRoZW50XCIsIGRhdGEgPT4ge1xuICAgICAgICBpZihkYXRhID09IEdhbWVDb25zdGFudHMuRXJyb3IuQVVUSEVOVElDQVRJT05fUkVRVUlSRUQpIHtcbiAgICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbm5lY3Rpb25fZXJyb3I6IHRydWUsXG4gICAgICAgICAgICBlcnJvckNvZGU6IChkYXRhICE9IG51bGwgPyBkYXRhIDogbnVsbClcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlvQ3JlYXRlLmNsb3NlKCk7XG4gICAgICAgICAgdGhpcy5jcmVhdGluZ1Jvb20gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlvQ3JlYXRlLm9uY2UoXCJjb25uZWN0X2Vycm9yXCIsIGRhdGEgPT4ge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgY29ubmVjdGlvbl9lcnJvcjogdHJ1ZSxcbiAgICAgICAgICBlcnJvckNvZGU6IChkYXRhICE9IG51bGwgPyBkYXRhIDogbnVsbClcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaW9DcmVhdGUuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5jcmVhdGluZ1Jvb20gPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBjb25uZWN0aW9uX2Vycm9yOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgam9pblJvb20oY29kZSwgY2FsbGJhY2spIHtcbiAgICBpZighdGhpcy5qb2luaW5nUm9vbSkge1xuICAgICAgdGhpcy5qb2luaW5nUm9vbSA9IHRydWU7XG5cbiAgICAgIGlmKHRoaXMuc29ja2V0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zb2NrZXQuZW1pdChcImpvaW4tcm9vbVwiLCB7XG4gICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICB2ZXJzaW9uOiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT05cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zb2NrZXQub25jZShcImpvaW4tcm9vbVwiLCBkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRSb29tID0gY29kZTtcbiAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgICB0aGlzLmpvaW5pbmdSb29tID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayh7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRHYW1lKHVpLCBzZXR0aW5ncykge1xuICAgIGlmKHRoaXMuc29ja2V0ICE9IG51bGwgJiYgdGhpcy5jdXJyZW50Um9vbSAmJiB1aSAhPSBudWxsKSB7XG4gICAgICB0aGlzLmdhbWUgPSBudWxsO1xuICAgICAgdGhpcy5zdG9wR2FtZSgpO1xuICAgICAgdGhpcy5nYW1lID0gbmV3IEdhbWVDb250cm9sbGVyU29ja2V0KHRoaXMuc29ja2V0LCB1aSwgc2V0dGluZ3MgJiYgc2V0dGluZ3Mub25saW5lRW5hYmxlQ2xpZW50U2lkZVByZWRpY3Rpb25zICYmIHRoaXMuZW5naW5lU2VydmVyVmVyc2lvbiA9PSBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQVBQX1ZFUlNJT04sIHNldHRpbmdzKTtcbiAgICAgIHVpLmNvbnRyb2xsZXIgPSB0aGlzLmdhbWU7XG4gICAgICB1aS5waW5nTGF0ZW5jeSA9IHRoaXMucGluZ0xhdGVuY3k7XG4gICAgICB0aGlzLnVpID0gdWk7XG4gICAgICByZXR1cm4gdGhpcy5nYW1lO1xuICAgIH1cbiAgfVxuXG4gIGdldFVSTCgpIHtcbiAgICBpZih0aGlzLnBvcnQgIT0gbnVsbCAmJiB0aGlzLnBvcnQudHJpbSgpICE9IFwiXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnVybCArIFwiOlwiICsgdGhpcy5wb3J0O1xuICAgIH0gXG4gICAgXG4gICAgcmV0dXJuIHRoaXMudXJsO1xuICB9XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5pbXBvcnQgR2FtZUNvbnN0YW50cyBmcm9tIFwiLi9Db25zdGFudHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9zaXRpb24ge1xuICBjb25zdHJ1Y3Rvcih4LCB5LCBkaXJlY3Rpb24pIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gIH1cblxuICBjb3B5KCkge1xuICAgIHJldHVybiBuZXcgUG9zaXRpb24odGhpcy54LCB0aGlzLnksIHRoaXMuZGlyZWN0aW9uKTtcbiAgfVxuXG4gIGNvbnZlcnRUb0tleURpcmVjdGlvbigpIHtcbiAgICBzd2l0Y2godGhpcy5kaXJlY3Rpb24pIHtcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA6XG4gICAgICAgIHJldHVybiBHYW1lQ29uc3RhbnRzLktleS5VUDtcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQ6XG4gICAgICAgIHJldHVybiBHYW1lQ29uc3RhbnRzLktleS5SSUdIVDtcbiAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVDpcbiAgICAgICAgcmV0dXJuIEdhbWVDb25zdGFudHMuS2V5LkxFRlQ7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTTpcbiAgICAgICAgcmV0dXJuIEdhbWVDb25zdGFudHMuS2V5LkJPVFRPTTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzLmRpcmVjdGlvbjtcbiAgICB9XG4gIH1cblxuICBjb252ZXJ0VG9TaW1wbGVEaXJlY3Rpb24oKSB7XG4gICAgc3dpdGNoKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuS2V5LlVQOlxuICAgICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuS2V5LlJJR0hUOlxuICAgICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQ7XG4gICAgICBjYXNlIEdhbWVDb25zdGFudHMuS2V5LkxFRlQ6XG4gICAgICAgIHJldHVybiBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUO1xuICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLktleS5CT1RUT006XG4gICAgICAgIHJldHVybiBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT007XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb247XG4gICAgfVxuICB9XG5cbiAgZXF1YWxzKG90aGVyUG9zaXRpb24pIHtcbiAgICBpZihvdGhlclBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLnggPT0gb3RoZXJQb3NpdGlvbi54ICYmIHRoaXMueSA9PSBvdGhlclBvc2l0aW9uLnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbn0iLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE5LTIwMjAgRWxpYXN0aWsgKGVsaWFzdGlrc29mdHMuY29tKVxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFwiU25ha2VJQVwiLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggXCJTbmFrZUlBXCIuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbmltcG9ydCBFdmVudCBmcm9tIFwiLi9FdmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFjdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgfVxuXG4gIHJlZ2lzdGVyRXZlbnQoZXZlbnROYW1lKSB7XG4gICAgdGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IG5ldyBFdmVudChldmVudE5hbWUpO1xuICB9XG5cbiAgZGlzcGF0Y2hFdmVudChldmVudE5hbWUsIGV2ZW50QXJncykge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uY2FsbGJhY2tzO1xuICAgIFxuICAgIGZvcihsZXQgaSA9IDAsIGwgPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjYWxsYmFja3NbaV0oZXZlbnRBcmdzKTtcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdLnJlZ2lzdGVyQ2FsbGJhY2soY2FsbGJhY2spO1xuICB9XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5pbXBvcnQgR2FtZUNvbnN0YW50cyBmcm9tIFwiLi9Db25zdGFudHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi9Qb3NpdGlvblwiO1xuaW1wb3J0IEdyaWQgZnJvbSBcIi4vR3JpZFwiO1xuaW1wb3J0IHsgU25ha2VBSSwgU25ha2VBSVJhbmRvbSwgU25ha2VBSUxvdywgU25ha2VBSU5vcm1hbCwgU25ha2VBSUhpZ2gsIFNuYWtlQUlNb2NrIH0gZnJvbSBcIi4vYWkvaW5kZXhcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU25ha2Uge1xuICBjb25zdHJ1Y3RvcihkaXJlY3Rpb24sIGxlbmd0aCwgZ3JpZCwgcGxheWVyLCBhaUxldmVsLCBhdXRvUmV0cnksIG5hbWUsIGN1c3RvbUFJKSB7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gPT0gdW5kZWZpbmVkID8gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQgOiBkaXJlY3Rpb247XG4gICAgdGhpcy5pbml0aWFsRGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb247XG4gICAgdGhpcy5pbml0aWFsTGVuZ3RoID0gbGVuZ3RoID09IHVuZGVmaW5lZCA/IDMgOiBsZW5ndGg7XG4gICAgdGhpcy5pbml0VHJpZWREaXJlY3Rpb25zID0gW107XG4gICAgdGhpcy5lcnJvckluaXQgPSBmYWxzZTtcbiAgICB0aGlzLmdyaWQgPSBncmlkIHx8IG5ldyBHcmlkKCk7XG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIHRoaXMubGFzdEtleSA9IC0xO1xuICAgIHRoaXMubGFzdFRhaWw7XG4gICAgdGhpcy5sYXN0VGFpbE1vdmVkO1xuICAgIHRoaXMudGlja3NEZWFkID0gMDtcbiAgICB0aGlzLnBsYXllciA9IHBsYXllciA9PSB1bmRlZmluZWQgPyBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFVNQU4gOiBwbGF5ZXI7XG4gICAgdGhpcy5haUxldmVsID0gYWlMZXZlbCA9PSB1bmRlZmluZWQgPyBHYW1lQ29uc3RhbnRzLkFpTGV2ZWwuREVGQVVMVCA6IGFpTGV2ZWw7XG4gICAgdGhpcy5hdXRvUmV0cnkgPSBhdXRvUmV0cnkgPT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhdXRvUmV0cnk7XG4gICAgdGhpcy5zY29yZSA9IDA7XG4gICAgdGhpcy5nYW1lT3ZlciA9IGZhbHNlO1xuICAgIHRoaXMuc2NvcmVNYXggPSBmYWxzZTtcbiAgICB0aGlzLmNvbG9yO1xuICAgIHRoaXMubmFtZSA9IG5hbWUgPT0gdW5kZWZpbmVkID8gXCJTbmFrZVwiIDogbmFtZTtcbiAgICB0aGlzLnNuYWtlQUkgPSBuZXcgU25ha2VBSSgpO1xuICAgIHRoaXMuY3VzdG9tQUkgPSBjdXN0b21BSTtcbiAgICB0aGlzLnRpY2tzV2l0aG91dEFjdGlvbiA9IDA7XG5cbiAgICB0aGlzLmluaXRBSSgpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICBpZih0aGlzLmluaXRpYWxMZW5ndGggPD0gMCkge1xuICAgICAgdGhpcy5lcnJvckluaXQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmKHRoaXMuZ3JpZC5tYXplICYmIHRoaXMuaW5pdFRyaWVkRGlyZWN0aW9ucy5sZW5ndGggPD0gMCkge1xuICAgICAgdGhpcy5pbml0aWFsRGlyZWN0aW9uID0gdGhpcy5ncmlkLm1hemVGaXJzdFBvc2l0aW9uLmRpcmVjdGlvbjtcbiAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5pbml0aWFsRGlyZWN0aW9uO1xuICAgIH1cblxuICAgIGxldCBzcGFjZUxpbmVBdmFpbGFibGUgPSAwO1xuICAgIGxldCBzcGFjZUNvbEF2YWlsYWJsZSA9IDA7XG5cbiAgICBpZigodGhpcy5pbml0aWFsRGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUICYmIHRoaXMuaW5pdFRyaWVkRGlyZWN0aW9ucy5pbmRleE9mKEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKSA9PSAtMSkgfHwgKHRoaXMuaW5pdGlhbERpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUICYmIHRoaXMuaW5pdFRyaWVkRGlyZWN0aW9ucy5pbmRleE9mKEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQpID09IC0xKSkge1xuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JpZC5oZWlnaHQ7IGkrKykge1xuICAgICAgICBsZXQgZW1wdHlPbkxpbmUgPSAwO1xuXG4gICAgICAgIGZvcihsZXQgaiA9IDA7IGogPCB0aGlzLmdyaWQud2lkdGg7IGorKykge1xuICAgICAgICAgIGlmKHRoaXMuZ3JpZC5nZXQobmV3IFBvc2l0aW9uKGosIGkpKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZKSB7XG4gICAgICAgICAgICBlbXB0eU9uTGluZSsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbXB0eU9uTGluZSA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYoZW1wdHlPbkxpbmUgPj0gdGhpcy5pbml0aWFsTGVuZ3RoKSB7XG4gICAgICAgICAgICBzcGFjZUxpbmVBdmFpbGFibGUrKztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZigodGhpcy5pbml0aWFsRGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQICYmIHRoaXMuaW5pdFRyaWVkRGlyZWN0aW9ucy5pbmRleE9mKEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKSA9PSAtMSkgfHwgKHRoaXMuaW5pdGlhbERpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT00gJiYgdGhpcy5pbml0VHJpZWREaXJlY3Rpb25zLmluZGV4T2YoR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKSA9PSAtMSkpIHtcbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmdyaWQud2lkdGg7IGkrKykge1xuICAgICAgICBsZXQgZW1wdHlPbkNvbCA9IDA7XG5cbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IHRoaXMuZ3JpZC5oZWlnaHQ7IGorKykge1xuICAgICAgICAgIGlmKHRoaXMuZ3JpZC5nZXQobmV3IFBvc2l0aW9uKGksIGopKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkVNUFRZKSB7XG4gICAgICAgICAgICBlbXB0eU9uQ29sKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVtcHR5T25Db2wgPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmKGVtcHR5T25Db2wgPj0gdGhpcy5pbml0aWFsTGVuZ3RoKSB7XG4gICAgICAgICAgICBzcGFjZUNvbEF2YWlsYWJsZSsrO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5pbml0VHJpZWREaXJlY3Rpb25zLnB1c2godGhpcy5pbml0aWFsRGlyZWN0aW9uKTtcblxuICAgIGlmKChzcGFjZUxpbmVBdmFpbGFibGUgPD0gMCAmJiAodGhpcy5pbml0aWFsRGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUIHx8IHRoaXMuaW5pdGlhbERpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUKSkgfHwgKHNwYWNlQ29sQXZhaWxhYmxlIDw9IDAgJiYgKHRoaXMuaW5pdGlhbERpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUCB8fCB0aGlzLmluaXRpYWxEaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKSkpIHtcbiAgICAgIGlmKHRoaXMuaW5pdFRyaWVkRGlyZWN0aW9ucy5pbmRleE9mKEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKSA9PSAtMSkge1xuICAgICAgICB0aGlzLmluaXRpYWxEaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVDtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdCgpO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuaW5pdFRyaWVkRGlyZWN0aW9ucy5pbmRleE9mKEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQpID09IC0xKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbERpcmVjdGlvbiA9IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQ7XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdCgpO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuaW5pdFRyaWVkRGlyZWN0aW9ucy5pbmRleE9mKEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKSA9PSAtMSkge1xuICAgICAgICB0aGlzLmluaXRpYWxEaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUDtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdCgpO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuaW5pdFRyaWVkRGlyZWN0aW9ucy5pbmRleE9mKEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTSkgPT0gLTEpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsRGlyZWN0aW9uID0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVycm9ySW5pdCA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IHBvc05vdFZhbGlkYXRlZCA9IHRydWU7XG4gICAgbGV0IHBvc2l0aW9uc1RvQWRkID0gW107XG4gICAgbGV0IHN0YXJ0UG9zLCBjdXJyZW50UG9zO1xuXG4gICAgd2hpbGUocG9zTm90VmFsaWRhdGVkKSB7XG4gICAgICBwb3NOb3RWYWxpZGF0ZWQgPSBmYWxzZTtcblxuICAgICAgaWYodGhpcy5ncmlkLm1hemUpIHtcbiAgICAgICAgc3RhcnRQb3MgPSB0aGlzLmdyaWQubWF6ZUZpcnN0UG9zaXRpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydFBvcyA9IHRoaXMuZ3JpZC5nZXRSYW5kb21Qb3NpdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBpZighc3RhcnRQb3MpIHtcbiAgICAgICAgdGhpcy5lcnJvckluaXQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRQb3MgPSBuZXcgUG9zaXRpb24oc3RhcnRQb3MueCwgc3RhcnRQb3MueSwgdGhpcy5pbml0aWFsRGlyZWN0aW9uKTtcbiAgICAgIHBvc2l0aW9uc1RvQWRkID0gW107XG5cbiAgICAgIGZvcihsZXQgaSA9IHRoaXMuaW5pdGlhbExlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmKGkgPCB0aGlzLmluaXRpYWxMZW5ndGggLSAxKSB7XG4gICAgICAgICAgaWYodGhpcy5pbml0aWFsRGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKSB7XG4gICAgICAgICAgICBjdXJyZW50UG9zID0gdGhpcy5ncmlkLmdldE5leHRQb3NpdGlvbihuZXcgUG9zaXRpb24oY3VycmVudFBvcy54LCBjdXJyZW50UG9zLnksIHRoaXMuaW5pdGlhbERpcmVjdGlvbiksIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKTtcbiAgICAgICAgICB9IGVsc2UgaWYodGhpcy5pbml0aWFsRGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQb3MgPSB0aGlzLmdyaWQuZ2V0TmV4dFBvc2l0aW9uKG5ldyBQb3NpdGlvbihjdXJyZW50UG9zLngsIGN1cnJlbnRQb3MueSwgdGhpcy5pbml0aWFsRGlyZWN0aW9uKSwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVCk7XG4gICAgICAgICAgfSBlbHNlIGlmKHRoaXMuaW5pdGlhbERpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT00pIHtcbiAgICAgICAgICAgIGN1cnJlbnRQb3MgPSB0aGlzLmdyaWQuZ2V0TmV4dFBvc2l0aW9uKG5ldyBQb3NpdGlvbihjdXJyZW50UG9zLngsIGN1cnJlbnRQb3MueSwgdGhpcy5pbml0aWFsRGlyZWN0aW9uKSwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKTtcbiAgICAgICAgICB9IGVsc2UgaWYodGhpcy5pbml0aWFsRGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKSB7XG4gICAgICAgICAgICBjdXJyZW50UG9zID0gdGhpcy5ncmlkLmdldE5leHRQb3NpdGlvbihuZXcgUG9zaXRpb24oY3VycmVudFBvcy54LCBjdXJyZW50UG9zLnksIHRoaXMuaW5pdGlhbERpcmVjdGlvbiksIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLmdyaWQuZ2V0KGN1cnJlbnRQb3MpICE9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRU1QVFkpIHtcbiAgICAgICAgICBwb3NOb3RWYWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBvc2l0aW9uc1RvQWRkLnB1c2gobmV3IFBvc2l0aW9uKGN1cnJlbnRQb3MueCwgY3VycmVudFBvcy55LCBjdXJyZW50UG9zLmRpcmVjdGlvbikpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuZ3JpZC5tYXplICYmIHBvc05vdFZhbGlkYXRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbml0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIFNuYWtlIGlzIG5lYXIgYSBkZWFkIHBvc2l0aW9uXG4gICAgbGV0IG5lYXJEZWFkUG9zaXRpb24gPSBmYWxzZTtcblxuICAgIGlmKCF0aGlzLmdyaWQubWF6ZSkge1xuICAgICAgY29uc3QgZmlyc3RQb3NpdGlvbiA9IG5ldyBQb3NpdGlvbihwb3NpdGlvbnNUb0FkZFtwb3NpdGlvbnNUb0FkZC5sZW5ndGggLSAxXS54LCBwb3NpdGlvbnNUb0FkZFtwb3NpdGlvbnNUb0FkZC5sZW5ndGggLSAxXS55LCB0aGlzLmRpcmVjdGlvbik7XG4gIFxuICAgICAgaWYoKHRoaXMuZ3JpZC5pc0RlYWRQb3NpdGlvbih0aGlzLmdyaWQuZ2V0TmV4dFBvc2l0aW9uKGZpcnN0UG9zaXRpb24sIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKSwgZmFsc2UpICYmIHRoaXMuZGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKSB8fCAodGhpcy5ncmlkLmlzRGVhZFBvc2l0aW9uKHRoaXMuZ3JpZC5nZXROZXh0UG9zaXRpb24oZmlyc3RQb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKSwgZmFsc2UpICYmIHRoaXMuZGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTSkgfHwgKHRoaXMuZ3JpZC5pc0RlYWRQb3NpdGlvbih0aGlzLmdyaWQuZ2V0TmV4dFBvc2l0aW9uKGZpcnN0UG9zaXRpb24sIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQpLCBmYWxzZSkgJiYgdGhpcy5kaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVCkgfHwgKHRoaXMuZ3JpZC5pc0RlYWRQb3NpdGlvbih0aGlzLmdyaWQuZ2V0TmV4dFBvc2l0aW9uKGZpcnN0UG9zaXRpb24sIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKSwgZmFsc2UpICYmIHRoaXMuZGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKSkge1xuICAgICAgICBuZWFyRGVhZFBvc2l0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmdyaWQuaW52ZXJ0RGlyZWN0aW9uKHRoaXMuZGlyZWN0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIFxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbnNUb0FkZC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYobmVhckRlYWRQb3NpdGlvbikge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHBvc2l0aW9uc1RvQWRkW3Bvc2l0aW9uc1RvQWRkLmxlbmd0aCAtIGkgLSAxXTtcbiAgICAgICAgcG9zaXRpb24uZGlyZWN0aW9uID0gIHRoaXMuZ3JpZC5pbnZlcnREaXJlY3Rpb24ocG9zaXRpb24uZGlyZWN0aW9uKTtcbiAgICAgICAgdGhpcy5pbnNlcnQocG9zaXRpb25zVG9BZGRbcG9zaXRpb25zVG9BZGQubGVuZ3RoIC0gaSAtIDFdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0KHBvc2l0aW9uc1RvQWRkW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZih0aGlzLmdyaWQubWF6ZSAmJiB0aGlzLnBsYXllciA9PSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSB7XG4gICAgICB0aGlzLnBsYXllciA9IEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IVU1BTjtcbiAgICB9XG5cbiAgICBpZih0aGlzLnBsYXllciA9PSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSB7XG4gICAgICB0aGlzLmFpTGV2ZWwgPSBHYW1lQ29uc3RhbnRzLkFpTGV2ZWwuSElHSDtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RUYWlsID0gdGhpcy5nZXQodGhpcy5xdWV1ZS5sZW5ndGggLSAxKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGluaXRBSSgpIHtcbiAgICBpZighdGhpcy5jdXN0b21BSSkge1xuICAgICAgc3dpdGNoKHRoaXMuYWlMZXZlbCkge1xuICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuQWlMZXZlbC5SQU5ET006XG4gICAgICAgICAgdGhpcy5zbmFrZUFJID0gbmV3IFNuYWtlQUlSYW5kb20oKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkFpTGV2ZWwuTE9XOlxuICAgICAgICAgIHRoaXMuc25ha2VBSSA9IG5ldyBTbmFrZUFJTG93KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5BaUxldmVsLkRFRkFVTFQ6XG4gICAgICAgICAgdGhpcy5zbmFrZUFJID0gbmV3IFNuYWtlQUlOb3JtYWwoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkFpTGV2ZWwuSElHSDpcbiAgICAgICAgICB0aGlzLnNuYWtlQUkgPSBuZXcgU25ha2VBSUhpZ2goKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkFpTGV2ZWwuVUxUUkE6XG4gICAgICAgICAgdGhpcy5zbmFrZUFJID0gbmV3IFNuYWtlQUlIaWdoKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5BaUxldmVsLk1PQ0s6XG4gICAgICAgICAgdGhpcy5zbmFrZUFJID0gbmV3IFNuYWtlQUlNb2NrKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy5zbmFrZUFJID0gbmV3IFNuYWtlQUlOb3JtYWwoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zbmFrZUFJID0gdGhpcy5jdXN0b21BSTtcbiAgICAgIHRoaXMuYWlMZXZlbCA9IEdhbWVDb25zdGFudHMuQWlMZXZlbC5DVVNUT007XG4gICAgfVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmluaXRpYWxEaXJlY3Rpb247XG4gICAgdGhpcy5pbml0VHJpZWREaXJlY3Rpb25zID0gW107XG4gICAgdGhpcy5lcnJvckluaXQgPSBmYWxzZTtcbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgdGhpcy5zY29yZSA9IDA7XG4gICAgdGhpcy5nYW1lT3ZlciA9IGZhbHNlO1xuICAgIHRoaXMuc2NvcmVNYXggPSBmYWxzZTtcbiAgICB0aGlzLmxhc3RUYWlsTW92ZWQgPSB0cnVlO1xuICAgIHRoaXMubGFzdFRhaWwgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sYXN0S2V5ID0gLTE7XG4gICAgdGhpcy50aWNrc0RlYWQgPSAwO1xuICAgIHRoaXMudGlja3NXaXRob3V0QWN0aW9uID0gMDtcbiAgICBpZih0aGlzLnNuYWtlQUkpIHRoaXMuc25ha2VBSS5haUZydWl0R29hbCA9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVQ7XG4gIH1cblxuICBpbnNlcnQocG9zaXRpb24pIHtcbiAgICB0aGlzLnF1ZXVlLnVuc2hpZnQocG9zaXRpb24pO1xuICAgIHRoaXMuZ3JpZC5zZXQoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5TTkFLRSwgcG9zaXRpb24pO1xuICB9XG5cbiAgcmVtb3ZlKCkge1xuICAgIGNvbnN0IGxhc3QgPSB0aGlzLnF1ZXVlLnBvcCgpO1xuICAgIHRoaXMuZ3JpZC5zZXQoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSwgbGFzdCk7XG4gICAgdGhpcy5sYXN0VGFpbCA9IGxhc3Q7XG4gIH1cblxuICBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMucXVldWUubGVuZ3RoO1xuICB9XG5cbiAgZ2V0KGluZGV4KSB7XG4gICAgaWYodGhpcy5xdWV1ZVtpbmRleF0gIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMucXVldWVbaW5kZXhdLmNvcHkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc2V0KGluZGV4LCBwb3NpdGlvbikge1xuICAgIGlmKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aGlzLmxlbmd0aCgpKSB7XG4gICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHBvc2l0aW9uO1xuICAgIH1cbiAgfVxuXG4gIGdldEhlYWRQb3NpdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoMCk7XG4gIH1cblxuICBnZXRUYWlsUG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KHRoaXMubGVuZ3RoKCkgLSAxKTtcbiAgfVxuXG4gIGhhc01heFNjb3JlKCkge1xuICAgIHJldHVybiB0aGlzLmdyaWQuZ2V0VG90YWwoR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5FTVBUWSkgPD0gMCAmJiAhdGhpcy5ncmlkLmZydWl0UG9zR29sZCAmJiAhdGhpcy5ncmlkLmZydWl0UG9zO1xuICB9XG5cbiAgc2V0R2FtZU92ZXIodGlja3MpIHtcbiAgICB0aGlzLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICB0aGlzLnRpY2tzRGVhZCA9IHRpY2tzO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoKCk7IGkrKykge1xuICAgICAgdGhpcy5ncmlkLnNldChHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLlNOQUtFX0RFQUQsIHRoaXMuZ2V0KGkpKTtcbiAgICB9XG4gIH1cblxuICBraWxsKCkge1xuICAgIHRoaXMuYXV0b1JldHJ5ID0gZmFsc2U7XG4gICAgdGhpcy5ncmlkID0gbnVsbDtcbiAgICB0aGlzLnF1ZXVlID0gbnVsbDtcbiAgfVxuXG4gIGtleVRvRGlyZWN0aW9uKGtleSkge1xuICAgIGlmKGtleSA9PSBHYW1lQ29uc3RhbnRzLktleS5MRUZUICYmIHRoaXMuZGlyZWN0aW9uICE9IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUICYmIHRoaXMuZGlyZWN0aW9uICE9IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQpIHtcbiAgICAgIHJldHVybiBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUO1xuICAgIH1cblxuICAgIGlmKGtleSA9PSBHYW1lQ29uc3RhbnRzLktleS5VUCAmJiB0aGlzLmRpcmVjdGlvbiAhPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT00gJiYgdGhpcy5kaXJlY3Rpb24gIT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVApIHtcbiAgICAgIHJldHVybiBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUDtcbiAgICB9XG5cbiAgICBpZihrZXkgPT0gR2FtZUNvbnN0YW50cy5LZXkuUklHSFQgJiYgdGhpcy5kaXJlY3Rpb24gIT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVCAmJiB0aGlzLmRpcmVjdGlvbiAhPSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCkge1xuICAgICAgcmV0dXJuIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUO1xuICAgIH1cblxuICAgIGlmKGtleSA9PSBHYW1lQ29uc3RhbnRzLktleS5CT1RUT00gJiYgdGhpcy5kaXJlY3Rpb24gIT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVAgJiYgdGhpcy5kaXJlY3Rpb24gIT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKSB7XG4gICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbW92ZVRvKGtleSkge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHRoaXMua2V5VG9EaXJlY3Rpb24oa2V5KTtcblxuICAgIGlmKGRpcmVjdGlvbiAhPSBudWxsKSB7XG4gICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbiAgICB9XG4gIH1cblxuICBnZXROZXh0UG9zaXRpb24ob2xkUG9zLCBuZXdEaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy5ncmlkLmdldE5leHRQb3NpdGlvbihvbGRQb3MsIG5ld0RpcmVjdGlvbik7XG4gIH1cblxuICBnZXREaXJlY3Rpb25Ubyhwb3NpdGlvbiwgb3RoZXJQb3NpdGlvbikge1xuICAgIHJldHVybiB0aGlzLmdyaWQuZ2V0RGlyZWN0aW9uVG8ocG9zaXRpb24sIG90aGVyUG9zaXRpb24pO1xuICB9XG5cbiAgZ2V0R3JhcGhpY0RpcmVjdGlvbkZvcihjdXJyZW50LCBuZXh0LCBwcmVjKSB7XG4gICAgaWYobmV4dCA9PSB1bmRlZmluZWQgfHwgcHJlYyA9PSB1bmRlZmluZWQpIHJldHVybiBjdXJyZW50LmRpcmVjdGlvbjtcblxuICAgIGNvbnN0IGRpcmVjdGlvblRvUHJlYyA9IHRoaXMuZ2V0RGlyZWN0aW9uVG8oY3VycmVudCwgcHJlYyk7XG4gICAgY29uc3QgZGlyZWN0aW9uVG9OZXh0ID0gdGhpcy5nZXREaXJlY3Rpb25UbyhjdXJyZW50LCBuZXh0KTtcblxuICAgIGlmKGRpcmVjdGlvblRvUHJlYyA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUICYmIGRpcmVjdGlvblRvTmV4dCA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT00gfHwgZGlyZWN0aW9uVG9QcmVjID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTSAmJiBkaXJlY3Rpb25Ub05leHQgPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVCkge1xuICAgICAgcmV0dXJuIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkFOR0xFXzE7XG4gICAgfSBlbHNlIGlmKGRpcmVjdGlvblRvUHJlYyA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCAmJiBkaXJlY3Rpb25Ub05leHQgPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NIHx8IGRpcmVjdGlvblRvUHJlYyA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT00gJiYgZGlyZWN0aW9uVG9OZXh0ID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKSB7XG4gICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMjtcbiAgICB9IGVsc2UgaWYoZGlyZWN0aW9uVG9QcmVjID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQICYmIGRpcmVjdGlvblRvTmV4dCA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCB8fCBkaXJlY3Rpb25Ub1ByZWMgPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQgJiYgZGlyZWN0aW9uVG9OZXh0ID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQKSB7XG4gICAgICByZXR1cm4gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMztcbiAgICB9IGVsc2UgaWYoZGlyZWN0aW9uVG9QcmVjID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlVQICYmIGRpcmVjdGlvblRvTmV4dCA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUIHx8IGRpcmVjdGlvblRvUHJlYyA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUICYmIGRpcmVjdGlvblRvTmV4dCA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUCkge1xuICAgICAgcmV0dXJuIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkFOR0xFXzQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdXJyZW50LmRpcmVjdGlvbjtcbiAgICB9XG4gIH1cblxuICBnZXRHcmFwaGljRGlyZWN0aW9uKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0R3JhcGhpY0RpcmVjdGlvbkZvcih0aGlzLmdldChpbmRleCksIHRoaXMuZ2V0KGluZGV4IC0gMSksIHRoaXMuZ2V0KGluZGV4ICsgMSkpO1xuICB9XG5cbiAgY29weSgpIHtcbiAgICBjb25zdCBzbmFrZSA9IG5ldyBTbmFrZShkaXJlY3Rpb24sIDMsIG5ldyBHcmlkKHRoaXMuZ3JpZC53aWR0aCwgdGhpcy5ncmlkLmhlaWdodCwgZmFsc2UsIGZhbHNlKSwgdGhpcy5wbGF5ZXIsIHRoaXMuYWlMZXZlbCwgZmFsc2UpO1xuXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHNuYWtlLmdyaWQuaGVpZ2h0OyBpKyspIHtcbiAgICAgIGZvcihsZXQgaiA9IDA7IGogPCBzbmFrZS5ncmlkLndpZHRoOyBqKyspIHtcbiAgICAgICAgc25ha2UuZ3JpZC5zZXQodGhpcy5ncmlkLmdldChuZXcgUG9zaXRpb24oaiwgaSkpLCBuZXcgUG9zaXRpb24oaiwgaSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNuYWtlLnF1ZXVlID0gW107XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5xdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgc25ha2UucXVldWUucHVzaChlbGVtLmNvcHkoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNuYWtlO1xuICB9XG5cbiAgYWkoKSB7XG4gICAgaWYodGhpcy5zbmFrZUFJICYmIHRoaXMuc25ha2VBSS5haSkge1xuICAgICAgY29uc3QgYWN0aW9uID0gdGhpcy5zbmFrZUFJLmFpKHRoaXMpO1xuXG4gICAgICBpZighYWN0aW9uIHx8IHRoaXMua2V5VG9EaXJlY3Rpb24oYWN0aW9uKSA9PSB0aGlzLmRpcmVjdGlvbikge1xuICAgICAgICB0aGlzLnRpY2tzV2l0aG91dEFjdGlvbisrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aWNrc1dpdGhvdXRBY3Rpb24gPSAwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlzQUlTdHVjayh3aWR0aExpbWl0LCBoZWlnaHRMaW1pdCkge1xuICAgIGlmKHRoaXMuc25ha2VBSSAmJiB0aGlzLnNuYWtlQUkuYWkpIHtcbiAgICAgIGlmKCh0aGlzLmRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5MRUZUIHx8IHRoaXMuZGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUKSAmJiB0aGlzLnRpY2tzV2l0aG91dEFjdGlvbiA+PSB0aGlzLmdyaWQud2lkdGggKiB3aWR0aExpbWl0KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmKCh0aGlzLmRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUCB8fCB0aGlzLmRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT00pICYmIHRoaXMudGlja3NXaXRob3V0QWN0aW9uID49IHRoaXMuZ3JpZC5oZWlnaHQgKiBoZWlnaHRMaW1pdCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRBSUxldmVsVGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5zbmFrZUFJID8gdGhpcy5zbmFrZUFJLmFpTGV2ZWxUZXh0IDogXCI/Pz9cIjtcbiAgfVxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IEdhbWVDb25zdGFudHMgZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTbmFrZUFJIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5haUZydWl0R29hbCA9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVQ7XG4gICAgdGhpcy5fYWlMZXZlbFRleHQgPSBcImN1c3RvbVwiO1xuICB9XG5cbiAgYWkoc25ha2UpIHtcbiAgICBjb25zdCBjdXJyZW50UG9zaXRpb24gPSBzbmFrZS5nZXRIZWFkUG9zaXRpb24oKTtcbiAgICBjb25zdCBmcnVpdFBvcyA9IHNuYWtlLmdyaWQuZnJ1aXRQb3M7XG4gICAgY29uc3QgZnJ1aXRQb3NHb2xkID0gc25ha2UuZ3JpZC5mcnVpdFBvc0dvbGQ7XG5cbiAgICBpZihmcnVpdFBvcyAmJiBzbmFrZS5ncmlkLmdldChmcnVpdFBvcykgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5GUlVJVCkge1xuICAgICAgY29uc3QgZGlzdEZydWl0ID0gTWF0aC5hYnMoZnJ1aXRQb3MueCAtIGN1cnJlbnRQb3NpdGlvbi54KSArIE1hdGguYWJzKGZydWl0UG9zLnkgLSBjdXJyZW50UG9zaXRpb24ueSk7XG4gICAgICBjb25zdCBkaXN0RnJ1aXRHb2xkID0gZnJ1aXRQb3NHb2xkID8gTWF0aC5hYnMoZnJ1aXRQb3NHb2xkLnggLSBjdXJyZW50UG9zaXRpb24ueCkgKyBNYXRoLmFicyhmcnVpdFBvc0dvbGQueSAtIGN1cnJlbnRQb3NpdGlvbi55KSA6IC0xO1xuICAgIFxuICAgICAgaWYoZnJ1aXRQb3NHb2xkICYmIHNuYWtlLmdyaWQuZ2V0KGZydWl0UG9zR29sZCkgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5GUlVJVF9HT0xEICYmIHRoaXMuYWlGcnVpdEdvYWwgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5GUlVJVCkge1xuICAgICAgICBpZihkaXN0RnJ1aXRHb2xkIDw9IGRpc3RGcnVpdCkge1xuICAgICAgICAgIHRoaXMuYWlGcnVpdEdvYWwgPSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUX0dPTEQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5haUZydWl0R29hbCA9IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZighZnJ1aXRQb3NHb2xkIHx8IHNuYWtlLmdyaWQuZ2V0KGZydWl0UG9zR29sZCkgIT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5GUlVJVF9HT0xEKSB7XG4gICAgICAgIHRoaXMuYWlGcnVpdEdvYWwgPSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZigoIWZydWl0UG9zIHx8IHNuYWtlLmdyaWQuZ2V0KGZydWl0UG9zKSAhPSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUKSAmJiBmcnVpdFBvc0dvbGQgJiYgc25ha2UuZ3JpZC5nZXQoZnJ1aXRQb3NHb2xkKSA9PSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUX0dPTEQpIHtcbiAgICAgIHRoaXMuYWlGcnVpdEdvYWwgPSBHYW1lQ29uc3RhbnRzLkNhc2VUeXBlLkZSVUlUX0dPTEQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXQgYWlMZXZlbFRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FpTGV2ZWxUZXh0O1xuICB9XG59IiwiXG4vKlxuICogQ29weXJpZ2h0IChDKSAyMDE5LTIwMjAgRWxpYXN0aWsgKGVsaWFzdGlrc29mdHMuY29tKVxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFwiU25ha2VJQVwiLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggXCJTbmFrZUlBXCIuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbmltcG9ydCBTbmFrZUFJTG93IGZyb20gXCIuL1NuYWtlQUlMb3dcIjtcbmltcG9ydCBTbmFrZUFJTm9ybWFsIGZyb20gXCIuL1NuYWtlQUlOb3JtYWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU25ha2VBSUhpZ2ggZXh0ZW5kcyBTbmFrZUFJTm9ybWFsIHtcbiAgY29uc3RydWN0b3Ioc25ha2UpIHtcbiAgICBzdXBlcih0cnVlKTtcbiAgICB0aGlzLmFpTG93ID0gbmV3IFNuYWtlQUlMb3coc25ha2UpO1xuICAgIHRoaXMuX2FpTGV2ZWxUZXh0ID0gXCJoaWdoXCI7XG4gIH1cblxuICBhaShzbmFrZSkge1xuICAgIGNvbnN0IHJlcyA9IHN1cGVyLmFpKHNuYWtlKTtcblxuICAgIGlmKCFyZXMpIHtcbiAgICAgIHJldHVybiB0aGlzLmFpTG93LmFpKHNuYWtlKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSIsIlxuLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5pbXBvcnQgU25ha2VBSSBmcm9tIFwiLi9TbmFrZUFJXCI7XG5pbXBvcnQgR2FtZUNvbnN0YW50cyBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlQUlMb3cgZXh0ZW5kcyBTbmFrZUFJIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9haUxldmVsVGV4dCA9IFwibG93XCI7XG4gIH1cblxuICBhaShzbmFrZSkge1xuICAgIHN1cGVyLmFpKHNuYWtlKTtcblxuICAgIGlmKHNuYWtlLmdyaWQuZnJ1aXRQb3MgIT0gbnVsbCkge1xuICAgICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gc25ha2UuZ2V0SGVhZFBvc2l0aW9uKCk7XG4gICAgICBjb25zdCBmcnVpdFBvcyA9IHRoaXMuYWlGcnVpdEdvYWwgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5GUlVJVF9HT0xEID8gc25ha2UuZ3JpZC5mcnVpdFBvc0dvbGQgOiBzbmFrZS5ncmlkLmZydWl0UG9zO1xuICAgICAgbGV0IGRpcmVjdGlvbk5leHQgPSBHYW1lQ29uc3RhbnRzLktleS5SSUdIVDtcblxuICAgICAgaWYoZnJ1aXRQb3MueCA+IGN1cnJlbnRQb3NpdGlvbi54KSB7XG4gICAgICAgIGlmKGZydWl0UG9zLnggLSBjdXJyZW50UG9zaXRpb24ueCA+IHNuYWtlLmdyaWQud2lkdGggLyAyKSB7XG4gICAgICAgICAgZGlyZWN0aW9uTmV4dCA9IEdhbWVDb25zdGFudHMuS2V5LkxFRlQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlyZWN0aW9uTmV4dCA9IEdhbWVDb25zdGFudHMuS2V5LlJJR0hUO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYoZnJ1aXRQb3MueCA8IGN1cnJlbnRQb3NpdGlvbi54KSB7XG4gICAgICAgIGlmKGN1cnJlbnRQb3NpdGlvbi54IC0gZnJ1aXRQb3MueCA+IHNuYWtlLmdyaWQud2lkdGggLyAyKSB7XG4gICAgICAgICAgZGlyZWN0aW9uTmV4dCA9IEdhbWVDb25zdGFudHMuS2V5LlJJR0hUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpcmVjdGlvbk5leHQgPSBHYW1lQ29uc3RhbnRzLktleS5MRUZUO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYoZnJ1aXRQb3MueSA8IGN1cnJlbnRQb3NpdGlvbi55KSB7XG4gICAgICAgIGlmKGN1cnJlbnRQb3NpdGlvbi55IC0gZnJ1aXRQb3MueSA+IHNuYWtlLmdyaWQuaGVpZ2h0IC8gMikge1xuICAgICAgICAgIGRpcmVjdGlvbk5leHQgPSBHYW1lQ29uc3RhbnRzLktleS5CT1RUT007XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGlyZWN0aW9uTmV4dCA9IEdhbWVDb25zdGFudHMuS2V5LlVQO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYoZnJ1aXRQb3MueSA+IGN1cnJlbnRQb3NpdGlvbi55KSB7XG4gICAgICAgIGlmKGZydWl0UG9zLnkgLSBjdXJyZW50UG9zaXRpb24ueSA+IHNuYWtlLmdyaWQuaGVpZ2h0IC8gMikge1xuICAgICAgICAgIGRpcmVjdGlvbk5leHQgPSBHYW1lQ29uc3RhbnRzLktleS5VUDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkaXJlY3Rpb25OZXh0ID0gR2FtZUNvbnN0YW50cy5LZXkuQk9UVE9NO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBuZXh0UG9zaXRpb24gPSBzbmFrZS5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvc2l0aW9uLCBkaXJlY3Rpb25OZXh0KTtcblxuICAgICAgaWYoc25ha2UuZ3JpZC5pc0RlYWRQb3NpdGlvbihuZXh0UG9zaXRpb24pKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnREaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbjtcbiAgICAgICAgbGV0IGZpcnN0RGlmZmVyZW50RGlyZWN0aW9uID0gbnVsbDtcblxuICAgICAgICBmb3IobGV0IGkgPSAxOyBpIDwgc25ha2UucXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZihzbmFrZS5nZXQoaSkuZGlyZWN0aW9uICE9IGN1cnJlbnREaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGZpcnN0RGlmZmVyZW50RGlyZWN0aW9uID0gc25ha2UuZ2V0KGkpLmRpcmVjdGlvbjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5leHRQb3NpdGlvbiA9IHNuYWtlLmdldE5leHRQb3NpdGlvbihjdXJyZW50UG9zaXRpb24sIGZpcnN0RGlmZmVyZW50RGlyZWN0aW9uKTtcblxuICAgICAgICBpZihzbmFrZS5ncmlkLmlzRGVhZFBvc2l0aW9uKG5leHRQb3NpdGlvbikpIHtcbiAgICAgICAgICBpZighc25ha2UuZ3JpZC5pc0RlYWRQb3NpdGlvbihzbmFrZS5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvc2l0aW9uLCBHYW1lQ29uc3RhbnRzLktleS5VUCkpKSB7XG4gICAgICAgICAgICBkaXJlY3Rpb25OZXh0ID0gR2FtZUNvbnN0YW50cy5LZXkuVVA7XG4gICAgICAgICAgfSBlbHNlIGlmKCFzbmFrZS5ncmlkLmlzRGVhZFBvc2l0aW9uKHNuYWtlLmdldE5leHRQb3NpdGlvbihjdXJyZW50UG9zaXRpb24sIEdhbWVDb25zdGFudHMuS2V5LlJJR0hUKSkpIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbk5leHQgPSBHYW1lQ29uc3RhbnRzLktleS5SSUdIVDtcbiAgICAgICAgICB9IGVsc2UgaWYoIXNuYWtlLmdyaWQuaXNEZWFkUG9zaXRpb24oc25ha2UuZ2V0TmV4dFBvc2l0aW9uKGN1cnJlbnRQb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5LZXkuQk9UVE9NKSkpIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbk5leHQgPSBHYW1lQ29uc3RhbnRzLktleS5CT1RUT007XG4gICAgICAgICAgfSBlbHNlIGlmKCFzbmFrZS5ncmlkLmlzRGVhZFBvc2l0aW9uKHNuYWtlLmdldE5leHRQb3NpdGlvbihjdXJyZW50UG9zaXRpb24sIEdhbWVDb25zdGFudHMuS2V5LkxFRlQpKSkge1xuICAgICAgICAgICAgZGlyZWN0aW9uTmV4dCA9IEdhbWVDb25zdGFudHMuS2V5LkxFRlQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRpcmVjdGlvbk5leHQgPSBuZXh0UG9zaXRpb24uY29udmVydFRvS2V5RGlyZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpcmVjdGlvbk5leHQ7XG4gICAgfVxuICB9XG59IiwiXG4vKlxuICogQ29weXJpZ2h0IChDKSAyMDE5LTIwMjAgRWxpYXN0aWsgKGVsaWFzdGlrc29mdHMuY29tKVxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFwiU25ha2VJQVwiLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggXCJTbmFrZUlBXCIuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cbmltcG9ydCBTbmFrZUFJIGZyb20gXCIuL1NuYWtlQUlcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU25ha2VBSU1vY2sgZXh0ZW5kcyBTbmFrZUFJIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9haUxldmVsVGV4dCA9IFwibW9ja1wiO1xuICB9XG5cbiAgYWkoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCJcbi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IFNuYWtlQUkgZnJvbSBcIi4vU25ha2VBSVwiO1xuaW1wb3J0IEdhbWVDb25zdGFudHMgZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi9Qb3NpdGlvblwiO1xuaW1wb3J0ICogYXMgTG93bGlnaHQgZnJvbSBcIi4uLy4uLy4uL2xpYnMvbG93bGlnaHQuYXN0YXIubWluXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlQUlOb3JtYWwgZXh0ZW5kcyBTbmFrZUFJIHtcbiAgY29uc3RydWN0b3IoZW5hYmxlVG9ydXMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZW5hYmxlVG9ydXMgPSBlbmFibGVUb3J1cztcbiAgICB0aGlzLl9haUxldmVsVGV4dCA9IFwibm9ybWFsXCI7XG4gIH1cblxuICBhaShzbmFrZSkge1xuICAgIHN1cGVyLmFpKHNuYWtlKTtcblxuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHNuYWtlLmdldEhlYWRQb3NpdGlvbigpO1xuICAgIGNvbnN0IGZydWl0UG9zID0gc25ha2UuZ3JpZC5mcnVpdFBvcztcbiAgICBjb25zdCBmcnVpdFBvc0dvbGQgPSBzbmFrZS5ncmlkLmZydWl0UG9zR29sZDtcbiAgICBsZXQgZnJ1aXRUYXJnZXQgPSBmcnVpdFBvcztcblxuICAgIGlmKGN1cnJlbnRQb3NpdGlvbiAmJiAoZnJ1aXRQb3MgfHwgZnJ1aXRQb3NHb2xkKSkge1xuICAgICAgY29uc3QgZ3JpZCA9IHNuYWtlLmdyaWQuZ2V0R3JhcGgoZmFsc2UpO1xuXG4gICAgICBjb25zdCBncmFwaCA9IG5ldyBMb3dsaWdodC5Bc3Rhci5Db25maWd1cmF0aW9uKGdyaWQsIHtcbiAgICAgICAgb3JkZXI6IFwieXhcIixcbiAgICAgICAgdG9ydXM6IHRoaXMuZW5hYmxlVG9ydXMgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgIGRpYWdvbmFsczogZmFsc2UsXG4gICAgICAgIGN1dHRpbmc6IGZhbHNlLFxuICAgICAgICBzdGF0aWM6IHRydWUsXG4gICAgICAgIGNvc3QoYSwgYikgeyByZXR1cm4gYiA9PSAxID8gbnVsbCA6IDEgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmKGZydWl0UG9zR29sZCAmJiB0aGlzLmFpRnJ1aXRHb2FsID09IEdhbWVDb25zdGFudHMuQ2FzZVR5cGUuRlJVSVRfR09MRCkge1xuICAgICAgICBmcnVpdFRhcmdldCA9IGZydWl0UG9zR29sZDtcbiAgICAgIH1cblxuICAgICAgbGV0IHBhdGggPSBncmFwaC5wYXRoKHsgeDogY3VycmVudFBvc2l0aW9uLngsIHk6IGN1cnJlbnRQb3NpdGlvbi55IH0sIHsgeDogZnJ1aXRUYXJnZXQgPyBmcnVpdFRhcmdldC54IDogbnVsbCwgeTogZnJ1aXRUYXJnZXQgPyBmcnVpdFRhcmdldC55IDogbnVsbCB9KTtcblxuICAgICAgaWYocGF0aC5sZW5ndGggPCAxKSB7XG4gICAgICAgIGlmKHRoaXMuYWlGcnVpdEdvYWwgPT0gR2FtZUNvbnN0YW50cy5DYXNlVHlwZS5GUlVJVF9HT0xEIHx8ICFmcnVpdFBvc0dvbGQpIHtcbiAgICAgICAgICBmcnVpdFRhcmdldCA9IGZydWl0UG9zO1xuICAgICAgICB9XG5cbiAgICAgICAgcGF0aCA9IGdyYXBoLnBhdGgoeyB4OiBjdXJyZW50UG9zaXRpb24ueCwgeTogY3VycmVudFBvc2l0aW9uLnkgfSwgeyB4OiBmcnVpdFRhcmdldCA/IGZydWl0VGFyZ2V0LnggOiBudWxsLCB5OiBmcnVpdFRhcmdldCA/IGZydWl0VGFyZ2V0LnkgOiBudWxsIH0pO1xuICAgICAgfVxuXG4gICAgICBpZihwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgY29uc3QgbmV4dFBvc2l0aW9uID0gbmV3IFBvc2l0aW9uKHBhdGhbMV0ueCwgcGF0aFsxXS55KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihudWxsLCBudWxsLCBzbmFrZS5nZXREaXJlY3Rpb25UbyhjdXJyZW50UG9zaXRpb24sIG5leHRQb3NpdGlvbikpLmNvbnZlcnRUb0tleURpcmVjdGlvbigpO1xuICAgICAgfVxuXG4gICAgICBncmlkLCBncmFwaCwgcGF0aCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn0iLCJcbi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IFNuYWtlQUkgZnJvbSBcIi4vU25ha2VBSVwiO1xuaW1wb3J0IEdhbWVDb25zdGFudHMgZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xuaW1wb3J0IEdhbWVVdGlscyBmcm9tIFwiLi4vR2FtZVV0aWxzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYWtlQUlSYW5kb20gZXh0ZW5kcyBTbmFrZUFJIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9haUxldmVsVGV4dCA9IFwicmFuZG9tXCI7XG4gIH1cblxuICBhaShzbmFrZSkge1xuICAgIHN1cGVyLmFpKHNuYWtlKTtcblxuICAgIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHNuYWtlLmdldEhlYWRQb3NpdGlvbigpO1xuICAgIGNvbnN0IHRvcCA9IHNuYWtlLmdyaWQuaXNEZWFkUG9zaXRpb24oc25ha2UuZ2V0TmV4dFBvc2l0aW9uKGN1cnJlbnRQb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5LZXkuVVApKTtcbiAgICBjb25zdCBsZWZ0ID0gc25ha2UuZ3JpZC5pc0RlYWRQb3NpdGlvbihzbmFrZS5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvc2l0aW9uLCBHYW1lQ29uc3RhbnRzLktleS5MRUZUKSk7XG4gICAgY29uc3QgYm90dG9tID0gc25ha2UuZ3JpZC5pc0RlYWRQb3NpdGlvbihzbmFrZS5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvc2l0aW9uLCBHYW1lQ29uc3RhbnRzLktleS5CT1RUT00pKTtcbiAgICBjb25zdCByaWdodCA9IHNuYWtlLmdyaWQuaXNEZWFkUG9zaXRpb24oc25ha2UuZ2V0TmV4dFBvc2l0aW9uKGN1cnJlbnRQb3NpdGlvbiwgR2FtZUNvbnN0YW50cy5LZXkuUklHSFQpKTtcblxuICAgIGlmKHRvcCAmJiBsZWZ0ICYmIGJvdHRvbSAmJiByaWdodCkge1xuICAgICAgcmV0dXJuIEdhbWVDb25zdGFudHMuS2V5LlVQO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZGlyZWN0aW9uID0gbnVsbDtcblxuICAgICAgd2hpbGUoZGlyZWN0aW9uID09IG51bGwgfHwgc25ha2UuZ3JpZC5pc0RlYWRQb3NpdGlvbihzbmFrZS5nZXROZXh0UG9zaXRpb24oY3VycmVudFBvc2l0aW9uLCBkaXJlY3Rpb24pKSkge1xuICAgICAgICBjb25zdCByID0gR2FtZVV0aWxzLnJhbmRSYW5nZSgxLCA0LCBzbmFrZS5ncmlkID8gc25ha2UuZ3JpZC5ybmdHYW1lIDogbnVsbCk7XG5cbiAgICAgICAgc3dpdGNoKHIpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLktleS5VUDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IEdhbWVDb25zdGFudHMuS2V5LkxFRlQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLktleS5CT1RUT007XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBHYW1lQ29uc3RhbnRzLktleS5SSUdIVDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaXJlY3Rpb247XG4gICAgfVxuICB9XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5pbXBvcnQgU25ha2VBSSBmcm9tIFwiLi9TbmFrZUFJXCI7XG5pbXBvcnQgU25ha2VBSVJhbmRvbSBmcm9tIFwiLi9TbmFrZUFJUmFuZG9tXCI7XG5pbXBvcnQgU25ha2VBSUxvdyBmcm9tIFwiLi9TbmFrZUFJTG93XCI7XG5pbXBvcnQgU25ha2VBSU5vcm1hbCBmcm9tIFwiLi9TbmFrZUFJTm9ybWFsXCI7XG5pbXBvcnQgU25ha2VBSUhpZ2ggZnJvbSBcIi4vU25ha2VBSUhpZ2hcIjtcbmltcG9ydCBTbmFrZUFJTW9jayBmcm9tIFwiLi9TbmFrZUFJTW9ja1wiO1xuXG5leHBvcnQgeyBTbmFrZUFJLCBTbmFrZUFJUmFuZG9tLCBTbmFrZUFJTG93LCBTbmFrZUFJTm9ybWFsLCBTbmFrZUFJSGlnaCwgU25ha2VBSU1vY2sgfSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuLy8gRXhwb3J0cyBlbmdpbmUgY2xhc3Nlc1xuaW1wb3J0IFwiLi4vYXNzZXRzL2xvY2FsZXMvaW5pdC5qc1wiO1xuaW1wb3J0IFwiLi4vYXNzZXRzL2xvY2FsZXMvbWVudS5qc1wiO1xuaW1wb3J0IFwiLi4vYXNzZXRzL2xvY2FsZXMvZW5naW5lLmpzXCI7XG5pbXBvcnQgXCIuLi9tYWluLmpzXCI7XG5pbXBvcnQgR2FtZUNvbnN0YW50cyBmcm9tIFwiLi9lbmdpbmUvQ29uc3RhbnRzXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vZW5naW5lL0V2ZW50XCI7XG5pbXBvcnQgUmVhY3RvciBmcm9tIFwiLi9lbmdpbmUvUmVhY3RvclwiO1xuaW1wb3J0IEdyaWQgZnJvbSBcIi4vZW5naW5lL0dyaWRcIjtcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi9lbmdpbmUvU25ha2VcIjtcbmltcG9ydCBHYW1lR3JvdXAgZnJvbSBcIi4vZW5naW5lL0dhbWVHcm91cFwiO1xuaW1wb3J0IEdhbWVVdGlscyBmcm9tIFwiLi9lbmdpbmUvR2FtZVV0aWxzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4vZW5naW5lL1Bvc2l0aW9uXCI7XG5pbXBvcnQgR2FtZUVuZ2luZSBmcm9tICcuL2VuZ2luZS9HYW1lRW5naW5lJztcbmltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi9TaGltXCI7XG5pbXBvcnQgR2FtZUNvbnRyb2xsZXIgZnJvbSBcIi4vZW5naW5lL0dhbWVDb250cm9sbGVyXCI7XG5pbXBvcnQgR2FtZUNvbnRyb2xsZXJXb3JrZXIgZnJvbSBcIi4vZW5naW5lL0dhbWVDb250cm9sbGVyV29ya2VyXCI7XG5pbXBvcnQgR2FtZUNvbnRyb2xsZXJTb2NrZXQgZnJvbSBcIi4vZW5naW5lL0dhbWVDb250cm9sbGVyU29ja2V0XCI7XG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3VpL0dhbWVVSVwiO1xuaW1wb3J0IE9ubGluZUNsaWVudCBmcm9tIFwiLi9lbmdpbmUvT25saW5lQ2xpZW50XCI7XG5cbmV4cG9ydCB7IEdhbWVDb25zdGFudHMsIEV2ZW50LCBSZWFjdG9yLCBHcmlkLCBTbmFrZSwgR2FtZUdyb3VwLCBHYW1lVXRpbHMsIFBvc2l0aW9uLCBHYW1lRW5naW5lLCBHYW1lLCBHYW1lQ29udHJvbGxlciwgR2FtZUNvbnRyb2xsZXJXb3JrZXIsIEdhbWVDb250cm9sbGVyU29ja2V0LCBHYW1lVUksIE9ubGluZUNsaWVudCB9OyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IEdhbWVDb25zdGFudHMgZnJvbSBcIi4uL2VuZ2luZS9Db25zdGFudHNcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgVXRpbHMsIEVhc2luZ0Z1bmN0aW9ucyB9IGZyb20gXCJqc2dhbWV0b29sc1wiO1xuaW1wb3J0IGkxOG5leHQgZnJvbSBcImkxOG5leHRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVJhbmtpbmcgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihzbmFrZXMsIGN1cnJlbnRQbGF5ZXIsIGZvbnRTaXplLCBmb250RmFtaWx5LCBoZWFkZXJIZWlnaHQsIGJhY2tncm91bmRDb2xvciwgc2Nyb2xsQmFyQ29sb3IsIGRpc2FibGVBbmltYXRpb24sIGltYWdlTG9hZGVyLCBzcGVjdGF0b3JNb2RlKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc25ha2VzID0gc25ha2VzO1xuICAgIHRoaXMuZm9udFNpemUgPSBmb250U2l6ZSB8fCBNYXRoLmZsb29yKEdhbWVDb25zdGFudHMuU2V0dGluZy5GT05UX1NJWkUgLyAxLjI1KTtcbiAgICB0aGlzLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5IHx8IEdhbWVDb25zdGFudHMuU2V0dGluZy5GT05UX0ZBTUlMWTtcbiAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRDb2xvciB8fCBcInJnYmEoNDQsIDYyLCA4MCwgMC43NSlcIjtcbiAgICB0aGlzLnNjcm9sbEJhckNvbG9yID0gc2Nyb2xsQmFyQ29sb3IgfHwgXCJyZ2JhKDQ0LCA2MiwgODAsIDAuOClcIjtcbiAgICB0aGlzLmhlYWRlckhlaWdodCA9IGhlYWRlckhlaWdodCB8fCBHYW1lQ29uc3RhbnRzLlNldHRpbmcuSEVBREVSX0hFSUdIVF9ERUZBVUxUO1xuICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgdGhpcy5jbG9zaW5nID0gZmFsc2U7XG4gICAgdGhpcy5vcGVuaW5nID0gZmFsc2U7XG4gICAgdGhpcy5mb3JjZUNsb3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLm92ZXJmbG93ID0gZmFsc2U7XG4gICAgdGhpcy5iYWNrID0gZmFsc2U7XG4gICAgdGhpcy5sYXN0TGluZSA9IGZhbHNlO1xuICAgIHRoaXMudGltZUxhc3RGcmFtZSA9IDA7XG4gICAgdGhpcy5vZmZzZXRYID0gMDtcbiAgICB0aGlzLnRvdGFsVGltZVggPSAwO1xuICAgIHRoaXMudG90YWxUaW1lID0gMDtcbiAgICB0aGlzLmNhbnZhc1RtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgdGhpcy5kaXNhYmxlQW5pbWF0aW9uID0gZGlzYWJsZUFuaW1hdGlvbjtcbiAgICB0aGlzLmltYWdlTG9hZGVyID0gaW1hZ2VMb2FkZXI7XG4gICAgdGhpcy5jdXJyZW50UGxheWVyID0gY3VycmVudFBsYXllcjtcbiAgICB0aGlzLnNwZWN0YXRvck1vZGUgPSBzcGVjdGF0b3JNb2RlO1xuXG4gICAgdGhpcy5hZGRTY3JvbGxBY3Rpb24oKGRlbHRhWCwgZGVsdGFZKSA9PiB7XG4gICAgICBpZigodGhpcy5sYXN0TGluZSAmJiBkZWx0YVkgPiAwKSkge1xuICAgICAgICB0aGlzLm9mZnNldFNjcm9sbFkgLT0gZGVsdGFZO1xuICAgICAgICB0aGlzLmJhY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vdmVyZmxvdyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRvdGFsVGltZSA9IDA7XG4gICAgICB0aGlzLnRpbWVMYXN0RnJhbWUgPSAwO1xuICAgIH0pO1xuICB9XG5cbiAgZHJhdyhjb250ZXh0KSB7XG4gICAgaWYodGhpcy5zbmFrZXMgIT0gbnVsbCAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgIHN1cGVyLmRyYXcoY29udGV4dCk7XG4gIFxuICAgICAgdGhpcy5jYW52YXNUbXAud2lkdGggPSBjb250ZXh0LmNhbnZhcy53aWR0aDtcbiAgICAgIHRoaXMuY2FudmFzVG1wLmhlaWdodCA9IGNvbnRleHQuY2FudmFzLmhlaWdodDtcblxuICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXNUbXA7XG4gICAgICBjb25zdCBjdHggPSB0aGlzLmNhbnZhc1RtcC5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG5cbiAgICAgIGNvbnN0IHRpdGxlID0gaTE4bmV4dC50KFwiZW5naW5lLnJhbmtpbmdcIik7XG4gICAgICBsZXQgbWF4U2l6ZU5hbWUgPSBjdHgubWVhc3VyZVRleHQodGl0bGUpLndpZHRoO1xuXG4gICAgICBjb25zdCBzY29yZXMgPSBbXTtcbiAgICAgIGxldCBudW1QbGF5ZXIgPSAwO1xuICAgICAgbGV0IG51bUFJID0gMDtcblxuICAgICAgY3R4LmZvbnQgPSAodGhpcy5mb250U2l6ZSAvIDEuNSkgKyBcInB4IFwiICsgdGhpcy5mb250RmFtaWx5O1xuICAgICAgY29uc3Qgc2l6ZU51bWJlciA9IGN0eC5tZWFzdXJlVGV4dChcIlwiICsgdGhpcy5zbmFrZXMubGVuZ3RoKS53aWR0aCArIDE1O1xuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5zbmFrZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc25ha2UgPSB0aGlzLnNuYWtlc1tpXTtcblxuICAgICAgICBpZihzbmFrZS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOIHx8IHNuYWtlLnBsYXllciA9PSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSB7XG4gICAgICAgICAgbnVtUGxheWVyKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtQUkrKztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRleHQgPSBzbmFrZS5uYW1lICsgXCIgw5cgXCIgKyBzbmFrZS5zY29yZSArIFwiIChcIiArICgodGhpcy5jdXJyZW50UGxheWVyID09IGkgJiYgIXRoaXMuc3BlY3RhdG9yTW9kZSA/IGkxOG5leHQudChcImVuZ2luZS5wbGF5ZXJIdW1hblwiKSA6ICh0aGlzLnNuYWtlc1tpXS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOIHx8IHRoaXMuc25ha2VzW2ldLnBsYXllciA9PSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSA/IGkxOG5leHQudChcImVuZ2luZS5wbGF5ZXJNaW5cIikgKyBudW1QbGF5ZXIgOiBpMThuZXh0LnQoXCJlbmdpbmUuYWlNaW5cIikgKyBudW1BSSkpICsgXCIpXCI7XG4gICAgICAgIGNvbnN0IHNpemVUZXh0ID0gY3R4Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoICsgMzA7XG5cbiAgICAgICAgaWYoc2l6ZVRleHQgPiBtYXhTaXplTmFtZSkgbWF4U2l6ZU5hbWUgPSBzaXplVGV4dDtcblxuICAgICAgICBzY29yZXNbaV0gPSB7XG4gICAgICAgICAgdXNlcm5hbWU6IHNuYWtlLm5hbWUsXG4gICAgICAgICAgc2NvcmU6IHNuYWtlLnNjb3JlLFxuICAgICAgICAgIGdhbWVPdmVyOiBzbmFrZS5nYW1lT3ZlcixcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIHJhbms6IDAsXG4gICAgICAgICAgaWQ6IGlcbiAgICAgICAgfTtcblxuICAgICAgICBsYXN0U2NvcmUgPSBzbmFrZS5zY29yZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhpcy54ID0gLShFYXNpbmdGdW5jdGlvbnMuZWFzZUluT3V0Q3ViaWModGhpcy5vZmZzZXRYIC8gdGhpcy53aWR0aCkgKiB0aGlzLndpZHRoKTtcbiAgICAgIHRoaXMueSA9IHRoaXMuaGVhZGVySGVpZ2h0O1xuICAgICAgdGhpcy53aWR0aCA9IG1heFNpemVOYW1lICsgc2l6ZU51bWJlciArIDE1O1xuICAgICAgdGhpcy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC0gdGhpcy5oZWFkZXJIZWlnaHQ7XG5cbiAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoNzUsIDc1LCA3NSwgMC4zNSlcIjtcbiAgICAgIGN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMuaGVhZGVySGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG4gICAgICBjdHguZm9udCA9IHRoaXMuZm9udFNpemUgKyBcInB4IFwiICsgdGhpcy5mb250RmFtaWx5O1xuXG4gICAgICBsZXQgeVRpdGxlID0gdGhpcy5oZWFkZXJIZWlnaHQgKyB0aGlzLmZvbnRTaXplIC0gdGhpcy5vZmZzZXRTY3JvbGxZICsgMTA7XG5cbiAgICAgIC8vIFNjcm9sbCB2YXJpYWJsZXNcbiAgICAgIGNvbnN0IG1heEhlaWdodCA9IHRoaXMuc25ha2VzLmxlbmd0aCAqICh0aGlzLmZvbnRTaXplICsgNSkgKyB0aGlzLmZvbnRTaXplICsgMTAgKyAodGhpcy5mb250U2l6ZSAvIDEuNSk7XG4gICAgICBjb25zdCBjbGllbnRIZWlnaHQgPSB0aGlzLmhlaWdodCAqICh0aGlzLmhlaWdodCAvIG1heEhlaWdodCk7XG4gICAgICBjb25zdCBzY3JvbGxBcmVhU2l6ZSA9IHRoaXMuaGVpZ2h0IC0gY2xpZW50SGVpZ2h0O1xuICAgICAgbGV0IHBlcmNlbnRTY3JvbGxiYXIgPSB0aGlzLm9mZnNldFNjcm9sbFkgLyAobWF4SGVpZ2h0IC0gdGhpcy5oZWlnaHQpO1xuXG4gICAgICBpZihzY3JvbGxBcmVhU2l6ZSAqIHBlcmNlbnRTY3JvbGxiYXIgKyBjbGllbnRIZWlnaHQgPiB0aGlzLmhlaWdodCkgeyAvLyBMaW1pdCBtYXggc2Nyb2xsXG4gICAgICAgIHRoaXMub2Zmc2V0U2Nyb2xsWSArPSAodGhpcy5oZWlnaHQgLSAoc2Nyb2xsQXJlYVNpemUgKiBwZXJjZW50U2Nyb2xsYmFyICsgY2xpZW50SGVpZ2h0KSk7XG4gICAgICB9XG5cbiAgICAgIGlmKHlUaXRsZSA+IHRoaXMuaGVhZGVySGVpZ2h0ICsgdGhpcy5mb250U2l6ZSArIDEwKSB7IC8vIExpbWl0IG1pbiBzY3JvbGxcbiAgICAgICAgeVRpdGxlID0gdGhpcy5oZWFkZXJIZWlnaHQgKyB0aGlzLmZvbnRTaXplICsgMTA7XG4gICAgICAgIHRoaXMub2Zmc2V0U2Nyb2xsWSA9IDA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHBlcmNlbnRTY3JvbGxiYXIgPSB0aGlzLm9mZnNldFNjcm9sbFkgLyAobWF4SGVpZ2h0IC0gdGhpcy5oZWlnaHQpO1xuXG4gICAgICBpZih5VGl0bGUgKyB0aGlzLmZvbnRTaXplIC0gMTAgPj0gdGhpcy5oZWFkZXJIZWlnaHQpIHtcbiAgICAgICAgVXRpbHMuZHJhd1RleHQoY3R4LCBpMThuZXh0LnQoXCJlbmdpbmUucmFua2luZ1wiKSwgXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSlcIiwgTWF0aC5yb3VuZCh0aGlzLmZvbnRTaXplKSwgdGhpcy5mb250RmFtaWx5LCBcImRlZmF1bHRcIiwgbnVsbCwgTWF0aC5yb3VuZCgodGhpcy53aWR0aCAvIDIpIC0gKGN0eC5tZWFzdXJlVGV4dCh0aXRsZSkud2lkdGggLyAyKSArIHRoaXMueCksIE1hdGgucm91bmQoeVRpdGxlKSwgZmFsc2UsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByYW5raW5nID0gc2NvcmVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGIuc2NvcmUgLSBhLnNjb3JlO1xuICAgICAgfSk7XG5cbiAgICAgIGxldCByYW5rID0gMDtcbiAgICAgIGxldCBsYXN0U2NvcmUgPSAwO1xuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcmFua2luZy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZihyYW5raW5nW2ldLnNjb3JlIDwgbGFzdFNjb3JlKSB7XG4gICAgICAgICAgcmFuaysrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmFua2luZ1tpXS5yYW5rID0gcmFuaztcblxuICAgICAgICBsYXN0U2NvcmUgPSByYW5raW5nW2ldLnNjb3JlO1xuICAgICAgfVxuICAgICAgXG4gICAgICBsZXQgY3VycmVudFkgPSB5VGl0bGUgKyB0aGlzLmZvbnRTaXplIC8gMS41O1xuICAgICAgdGhpcy5vdmVyZmxvdyA9IGZhbHNlO1xuXG4gICAgICBpZih0aGlzLnRpbWVMYXN0RnJhbWUgPD0gMCkgdGhpcy50aW1lTGFzdEZyYW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBsZXQgb2Zmc2V0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gdGhpcy50aW1lTGFzdEZyYW1lO1xuICAgICAgdGhpcy50aW1lTGFzdEZyYW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICAgIGxldCBudW1iZXJSYW5rRHJhd24gPSAwO1xuXG4gICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcmFua2luZy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZihjdXJyZW50WSArIHRoaXMuZm9udFNpemUgPiB0aGlzLmhlYWRlckhlaWdodCkge1xuICAgICAgICAgIGlmKHJhbmtpbmdbaV0ucmFuayA+PSAwICYmIHJhbmtpbmdbaV0ucmFuayA8IDMgJiYgcmFua2luZ1tpXS5zY29yZSA+IDApIHtcbiAgICAgICAgICAgIHN3aXRjaChyYW5raW5nW2ldLnJhbmspIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIFV0aWxzLmRyYXdJbWFnZShjdHgsIHRoaXMuaW1hZ2VMb2FkZXIgPyB0aGlzLmltYWdlTG9hZGVyLmdldChcImFzc2V0cy9pbWFnZXMvdHJvcGh5LnBuZ1wiLCBNYXRoLnJvdW5kKHRoaXMuZm9udFNpemUpLCBNYXRoLnJvdW5kKHRoaXMuZm9udFNpemUpKSA6IG51bGwsIDUgKyB0aGlzLngsIGN1cnJlbnRZLCBNYXRoLnJvdW5kKHRoaXMuZm9udFNpemUpLCBNYXRoLnJvdW5kKHRoaXMuZm9udFNpemUpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIFV0aWxzLmRyYXdJbWFnZShjdHgsIHRoaXMuaW1hZ2VMb2FkZXIgPyB0aGlzLmltYWdlTG9hZGVyLmdldChcImFzc2V0cy9pbWFnZXMvdHJvcGh5X3NpbHZlci5wbmdcIiwgTWF0aC5yb3VuZCh0aGlzLmZvbnRTaXplKSwgTWF0aC5yb3VuZCh0aGlzLmZvbnRTaXplKSkgOiBudWxsLCA1ICsgdGhpcy54LCBjdXJyZW50WSwgTWF0aC5yb3VuZCh0aGlzLmZvbnRTaXplKSwgTWF0aC5yb3VuZCh0aGlzLmZvbnRTaXplKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBVdGlscy5kcmF3SW1hZ2UoY3R4LCB0aGlzLmltYWdlTG9hZGVyID8gdGhpcy5pbWFnZUxvYWRlci5nZXQoXCJhc3NldHMvaW1hZ2VzL3Ryb3BoeV9icm9uemUucG5nXCIsIE1hdGgucm91bmQodGhpcy5mb250U2l6ZSksIE1hdGgucm91bmQodGhpcy5mb250U2l6ZSkpIDogbnVsbCwgNSArIHRoaXMueCwgY3VycmVudFksIE1hdGgucm91bmQodGhpcy5mb250U2l6ZSksIE1hdGgucm91bmQodGhpcy5mb250U2l6ZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBVdGlscy5kcmF3VGV4dChjdHgsIFwiXCIgKyAocmFua2luZ1tpXS5yYW5rICsgMSksIFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpXCIsIE1hdGgucm91bmQodGhpcy5mb250U2l6ZSAvIDEuNSksIHRoaXMuZm9udEZhbWlseSwgbnVsbCwgbnVsbCwgTWF0aC5yb3VuZCgodGhpcy5mb250U2l6ZSAvIDEuNSkgLyAyICsgNSArIHRoaXMueCksIE1hdGgucm91bmQoY3VycmVudFkgKyAodGhpcy5mb250U2l6ZSAvIDEuNSkpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBVdGlscy5kcmF3VGV4dChjdHgsIHJhbmtpbmdbaV0udGV4dCwgKHJhbmtpbmdbaV0uZ2FtZU92ZXIgPyBcInJnYmEoMjMxLCA3NiwgNjAsIDAuNSlcIiA6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpXCIpLCBNYXRoLnJvdW5kKHRoaXMuZm9udFNpemUgLyAxLjUpLCB0aGlzLmZvbnRGYW1pbHksIG51bGwsIG51bGwsIE1hdGgucm91bmQoNSArIHNpemVOdW1iZXIgKyB0aGlzLmZvbnRTaXplIC8gMS41ICsgdGhpcy54KSwgTWF0aC5yb3VuZChjdXJyZW50WSArICh0aGlzLmZvbnRTaXplIC8gMS41KSkpO1xuXG4gICAgICAgICAgbnVtYmVyUmFua0RyYXduKys7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50WSArPSBNYXRoLnJvdW5kKHRoaXMuZm9udFNpemUpICsgNTtcblxuICAgICAgICBpZihjdXJyZW50WSA+IGNhbnZhcy5oZWlnaHQgJiYgIXRoaXMuYmFjaykge1xuICAgICAgICAgIHRoaXMubGFzdExpbmUgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnRvdGFsVGltZSArPSBvZmZzZXRUaW1lO1xuXG4gICAgICAgICAgaWYodGhpcy50b3RhbFRpbWUgPiA1MDAwKSB7XG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmKGkgPT0gdGhpcy5zbmFrZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGlmKCF0aGlzLmJhY2spIHRoaXMudG90YWxUaW1lID0gMDtcbiAgICAgICAgICB0aGlzLmJhY2sgPSB0cnVlO1xuICAgICAgICAgIHRoaXMubGFzdExpbmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKG51bWJlclJhbmtEcmF3biA8PSAwKSB7XG4gICAgICAgIHRoaXMub2Zmc2V0U2Nyb2xsWSA9IDA7XG4gICAgICAgIHRoaXMudGltZUxhc3RGcmFtZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBvZmZzZXRUaW1lID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5iYWNrKSB7XG4gICAgICAgIHRoaXMudG90YWxUaW1lICs9IG9mZnNldFRpbWU7XG5cbiAgICAgICAgaWYodGhpcy50b3RhbFRpbWUgPiA1MDAwKSB7XG4gICAgICAgICAgaWYodGhpcy5vZmZzZXRTY3JvbGxZID4gMCkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRTY3JvbGxZIC09IG9mZnNldFRpbWUgLyAyMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYWNrID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRvdGFsVGltZSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYodGhpcy5vdmVyZmxvdykge1xuICAgICAgICB0aGlzLm9mZnNldFNjcm9sbFkgKz0gb2Zmc2V0VGltZSAvIDIwO1xuICAgICAgfVxuXG4gICAgICBpZih0aGlzLmRpc2FibGVBbmltYXRpb24gJiYgdGhpcy5jbG9zaW5nKSB7XG4gICAgICAgIHRoaXMuY2xvc2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYodGhpcy5kaXNhYmxlQW5pbWF0aW9uICYmIHRoaXMuY2xvc2luZykge1xuICAgICAgICB0aGlzLm9wZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmKHRoaXMuY2xvc2luZykge1xuICAgICAgICAgIGlmKHRoaXMuZm9yY2VDbG9zaW5nKSB7XG4gICAgICAgICAgICB0aGlzLm9mZnNldFggPSB0aGlzLndpZHRoO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9mZnNldFggKz0gb2Zmc2V0VGltZSAvIDM7XG4gICAgICAgICAgfVxuICAgIFxuICAgICAgICAgIGlmKHRoaXMub2Zmc2V0WCA+PSB0aGlzLndpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZm9yY2VDbG9zaW5nID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYodGhpcy5vcGVuaW5nKSB7XG4gICAgICAgICAgdGhpcy5vZmZzZXRYIC09IG9mZnNldFRpbWUgLyAzO1xuICAgIFxuICAgICAgICAgIGlmKHRoaXMub2Zmc2V0WCA8PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm9mZnNldFggPSAwO1xuICAgICAgICAgICAgdGhpcy5vcGVuaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTY3JvbGxiYXIgZHJhd2luZ1xuICAgICAgaWYoY2xpZW50SGVpZ2h0IDw9IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnNjcm9sbEJhckNvbG9yO1xuICAgICAgICBjdHguZmlsbFJlY3QodGhpcy54ICsgdGhpcy53aWR0aCAtIDE1LCB0aGlzLmhlYWRlckhlaWdodCArIHNjcm9sbEFyZWFTaXplICogcGVyY2VudFNjcm9sbGJhciwgMTUsIGNsaWVudEhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIFV0aWxzLmRyYXdJbWFnZURhdGEoY29udGV4dCwgdGhpcy5jYW52YXNUbXAsIDAsIHRoaXMuaGVhZGVySGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgMCwgdGhpcy5oZWFkZXJIZWlnaHQsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3ZlcmZsb3cgPSBmYWxzZTtcbiAgICAgIHRoaXMuYmFjayA9IGZhbHNlO1xuICAgICAgdGhpcy50aW1lTGFzdEZyYW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB0aGlzLm9mZnNldFNjcm9sbFkgPSAwO1xuICAgICAgdGhpcy50b3RhbFRpbWUgPSAwO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuY2xvc2luZyA9IHRydWU7XG4gICAgdGhpcy5vcGVuaW5nID0gZmFsc2U7XG4gICAgdGhpcy5mb3JjZUNsb3NpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGZvcmNlQ2xvc2UoKSB7XG4gICAgdGhpcy5jbG9zaW5nID0gdHJ1ZTtcbiAgICB0aGlzLm9wZW5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLmZvcmNlQ2xvc2luZyA9IHRydWU7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuY2xvc2luZyA9IGZhbHNlO1xuICAgIHRoaXMub3BlbmluZyA9IHRydWU7XG4gICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICB0aGlzLmZvcmNlQ2xvc2luZyA9IGZhbHNlO1xuICB9XG5cbiAgc2V0KHNuYWtlcywgZm9udFNpemUsIGhlYWRlckhlaWdodCwgY3VycmVudFBsYXllciwgaW1hZ2VMb2FkZXIsIHNwZWN0YXRvck1vZGUpIHtcbiAgICB0aGlzLnNuYWtlcyA9IHNuYWtlcztcbiAgICB0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG4gICAgdGhpcy5oZWFkZXJIZWlnaHQgPSBoZWFkZXJIZWlnaHQ7XG4gICAgdGhpcy5jdXJyZW50UGxheWVyID0gY3VycmVudFBsYXllcjtcbiAgICB0aGlzLmltYWdlTG9hZGVyID0gaW1hZ2VMb2FkZXI7XG4gICAgdGhpcy5zcGVjdGF0b3JNb2RlID0gc3BlY3RhdG9yTW9kZTtcbiAgfVxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IGkxOG5leHQgZnJvbSBcImkxOG5leHRcIjtcbmltcG9ydCBHYW1lVXRpbHMgZnJvbSBcIi4uL2VuZ2luZS9HYW1lVXRpbHNcIjtcbmltcG9ydCBHcmFwaGljc1V0aWxzIGZyb20gXCIuL0dyYXBoaWNzVXRpbHNcIjtcbmltcG9ydCBHYW1lQ29uc3RhbnRzIGZyb20gXCIuLi9lbmdpbmUvQ29uc3RhbnRzXCI7XG5pbXBvcnQgR2FtZVJhbmtpbmcgZnJvbSBcIi4vR2FtZVJhbmtpbmdcIjtcbmltcG9ydCB7IEltYWdlTG9hZGVyLCBCdXR0b24sIEJ1dHRvbkltYWdlLCBOb3RpZmljYXRpb25NZXNzYWdlLCBVdGlscywgTWVudSwgTGFiZWwsIFByb2dyZXNzQmFyLCBDb25zdGFudHMsIEVhc2luZ0Z1bmN0aW9ucywgU2NlbmUsIENhbnZhcywgU3R5bGUsIEJveCB9IGZyb20gXCJqc2dhbWV0b29sc1wiO1xuaW1wb3J0IEdyaWRVSSBmcm9tIFwiLi9HcmlkVUlcIjtcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4vSGVhZGVyXCI7XG5cbkNvbnN0YW50cy5TZXR0aW5nLkZPTlRfRkFNSUxZID0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkZPTlRfRkFNSUxZO1xuQ29uc3RhbnRzLlNldHRpbmcuRElTQUJMRV9FWFBFUklNRU5UQUxfT1BUSU1JWkFUSU9OUyA9IGZhbHNlO1xuQ29uc3RhbnRzLlNldHRpbmcuRk9OVF9TSVpFID0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkZPTlRfU0laRTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIHtcbiAgY29uc3RydWN0b3IoY29udHJvbGxlciwgYXBwZW5kVG8sIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIGRpc3BsYXlGUFMsIG91dHB1dFR5cGUsIHNldHRpbmdzKSB7XG4gICAgLy8gQXNzZXRzIGxvYWRlclxuICAgIHRoaXMuaW1hZ2VMb2FkZXIgPSBuZXcgSW1hZ2VMb2FkZXIoKTtcbiAgICB0aGlzLmFzc2V0c0xvYWRlZCA9IGZhbHNlO1xuICAgIC8vIEdhbWUgc2V0dGluZ3NcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgIHRoaXMuYXBwZW5kVG8gPSBhcHBlbmRUbztcbiAgICB0aGlzLmRpc3BsYXlGUFMgPSBkaXNwbGF5RlBTID09IHVuZGVmaW5lZCA/IGZhbHNlIDogZGlzcGxheUZQUztcbiAgICB0aGlzLm91dHB1dFR5cGUgPSBvdXRwdXRUeXBlID09IHVuZGVmaW5lZCA/IEdhbWVDb25zdGFudHMuT3V0cHV0VHlwZS5HUkFQSElDQUwgOiBvdXRwdXRUeXBlO1xuICAgIHRoaXMub3V0cHV0VHlwZSA9IHNldHRpbmdzICYmIHNldHRpbmdzLnRleHRPdXRwdXQgPyBHYW1lQ29uc3RhbnRzLk91dHB1dFR5cGUuVEVYVCA6IHRoaXMub3V0cHV0VHlwZTtcbiAgICB0aGlzLmRpc2FibGVBbmltYXRpb24gPSBzZXR0aW5ncyAmJiAhc2V0dGluZ3MuZW5hYmxlQW5pbWF0aW9ucztcbiAgICB0aGlzLnJlbmRlckJsdXIgPSBzZXR0aW5ncyAmJiBzZXR0aW5ncy5yZW5kZXJCbHVyO1xuICAgIHRoaXMuZ3JhcGhpY1NraW4gPSAoc2V0dGluZ3MgJiYgc2V0dGluZ3MuZ3JhcGhpY1NraW4pIHx8IFwiZmxhdFwiO1xuICAgIHRoaXMubWF4RlBTID0gKHNldHRpbmdzICYmIHNldHRpbmdzLm1heEZQUykgfHwgLTE7XG4gICAgLy8gVUkgdmFyaWFibGVzXG4gICAgdGhpcy5sYXN0S2V5ID0gLTE7XG4gICAgdGhpcy5mcmFtZSA9IDA7XG4gICAgdGhpcy5sYXN0RnJhbWUgPSAwO1xuICAgIHRoaXMub2Zmc2V0RnJhbWUgPSAwO1xuICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IDA7XG4gICAgdGhpcy5jdXJyZW50RlBTID0gMDtcbiAgICB0aGlzLmVuZ2luZUxvYWRpbmcgPSBmYWxzZTtcbiAgICAvLyBTd2lwZSBkZXRlY3Rpb24gdmFyaWFibGVzXG4gICAgdGhpcy50b3VjaEV2ZW50U3RhcnRYO1xuICAgIHRoaXMudG91Y2hFdmVudFN0YXJ0WTtcbiAgICB0aGlzLnRvdWNoRXZlbnRTdGFydFRpbWVzdGFtcDtcbiAgICB0aGlzLnRvdWNoRXZlbnRPZmZzZXRYID0gMDtcbiAgICB0aGlzLnRvdWNoRXZlbnRPZmZzZXRZID0gMDtcbiAgICAvLyBDb3B5IG9mIGVuZ2luZSB2YXJpYWJsZXNcbiAgICB0aGlzLmdyaWQgPSBudWxsO1xuICAgIHRoaXMuc25ha2VzID0gbnVsbDtcbiAgICB0aGlzLnNwZWVkID0gODtcbiAgICB0aGlzLmluaXRpYWxTcGVlZCA9IDg7XG4gICAgdGhpcy50aWNrcyA9IDA7XG4gICAgdGhpcy5jb3VudEJlZm9yZVBsYXkgPSAtMTtcbiAgICB0aGlzLm51bUZydWl0ID0gMDtcbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgdGhpcy5leGl0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmtpbGxlZCA9IGZhbHNlO1xuICAgIHRoaXMuaXNSZXNldGVkID0gdHJ1ZTtcbiAgICB0aGlzLmdhbWVPdmVyID0gZmFsc2U7XG4gICAgdGhpcy5nYW1lRmluaXNoZWQgPSBmYWxzZTtcbiAgICB0aGlzLmdhbWVNYXplV2luID0gZmFsc2U7XG4gICAgdGhpcy5zY29yZU1heCA9IGZhbHNlO1xuICAgIHRoaXMuZW5hYmxlUGF1c2UgPSBmYWxzZTtcbiAgICB0aGlzLmVuYWJsZVJldHJ5ID0gZmFsc2U7XG4gICAgdGhpcy5wcm9ncmVzc2l2ZVNwZWVkID0gZmFsc2U7XG4gICAgdGhpcy5haVN0dWNrID0gZmFsc2U7XG4gICAgdGhpcy5wcmVjQWlTdHVjayA9IGZhbHNlO1xuICAgIC8vIEdhbWUgc3RhdGUgdmFyaWFibGVzXG4gICAgdGhpcy5lcnJvck9jY3VycmVkID0gZmFsc2U7XG4gICAgdGhpcy5mdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgLy8gT25saW5lIHZhcmlhYmxlc1xuICAgIHRoaXMub25saW5lTW9kZSA9IGZhbHNlO1xuICAgIHRoaXMuZW5hYmxlUmV0cnlQYXVzZU1lbnUgPSB0cnVlO1xuICAgIHRoaXMuc2VhcmNoaW5nUGxheWVycyA9IGZhbHNlO1xuICAgIHRoaXMucGxheWVyTnVtYmVyID0gMDtcbiAgICB0aGlzLm1heFBsYXllcnMgPSAwO1xuICAgIHRoaXMudGltZVN0YXJ0ID0gMDtcbiAgICB0aGlzLmxhc3RUaW1lID0gMDtcbiAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSBudWxsO1xuICAgIHRoaXMuc3BlY3RhdG9yTW9kZSA9IG51bGw7XG4gICAgdGhpcy5vbmxpbmVNYXN0ZXIgPSBmYWxzZTtcbiAgICB0aGlzLnBpbmdMYXRlbmN5ID0gLTE7XG4gICAgLy8gTWVudXMgc3RhdGUgdmFyaWFibGVzXG4gICAgdGhpcy5tZW51ID0gbmV3IE1lbnUobmV3IFN0eWxlKHsgXCJibHVyXCI6IHRoaXMucmVuZGVyQmx1ciB9KSk7XG4gICAgdGhpcy5jb25maXJtUmVzZXQgPSBmYWxzZTtcbiAgICB0aGlzLmNvbmZpcm1FeGl0ID0gZmFsc2U7XG4gICAgdGhpcy5nZXRJbmZvcyA9IGZhbHNlO1xuICAgIHRoaXMuZ2V0SW5mb3NHYW1lID0gZmFsc2U7XG4gICAgdGhpcy5nZXRBZHZhbmNlZEluZm9zR2FtZSA9IGZhbHNlO1xuICAgIHRoaXMudGltZW91dEF1dG9SZXRyeSA9IG51bGw7XG4gICAgLy8gQ29tcG9uZW50c1xuICAgIHRoaXMuaXNGaWx0ZXJIdWVBdmFpbGFibGUgPSBVdGlscy5pc0ZpbHRlckh1ZUF2YWlsYWJsZSgpO1xuICAgIHRoaXMuZ2FtZVJhbmtpbmcgPSBuZXcgR2FtZVJhbmtpbmcodGhpcy5zbmFrZXMsIG51bGwsIG51bGwsIG51bGwsIEdhbWVDb25zdGFudHMuU2V0dGluZy5IRUFERVJfSEVJR0hUX0RFRkFVTFQsIG51bGwsIG51bGwsIHRoaXMuZGlzYWJsZUFuaW1hdGlvbiwgdGhpcy5pbWFnZUxvYWRlcik7XG4gICAgdGhpcy5oZWFkZXIgPSBuZXcgSGVhZGVyKEdhbWVDb25zdGFudHMuU2V0dGluZy5IRUFERVJfSEVJR0hUX0RFRkFVTFQsIG51bGwsIHRoaXMuc25ha2VzLCB0aGlzLmVuYWJsZVBhdXNlLCBudWxsLCBudWxsLCBudWxsLCB0aGlzLmdhbWVSYW5raW5nLCB0aGlzLmJlc3RTY29yZVRvRGlzcGxheSwgdGhpcy5udW1GcnVpdCwgdGhpcy5pbWFnZUxvYWRlcik7XG4gICAgdGhpcy5ncmlkVUkgPSBuZXcgR3JpZFVJKHRoaXMuc25ha2VzLCB0aGlzLmdyaWQsIHRoaXMuc3BlZWQsIHRoaXMuZGlzYWJsZUFuaW1hdGlvbiwgdGhpcy5ncmFwaGljU2tpbiwgdGhpcy5pc0ZpbHRlckh1ZUF2YWlsYWJsZSwgdGhpcy5oZWFkZXIuaGVpZ2h0LCB0aGlzLmltYWdlTG9hZGVyKTtcbiAgICB0aGlzLnByb2dyZXNzQmFyTG9hZGluZyA9IG5ldyBQcm9ncmVzc0JhcihudWxsLCBudWxsLCB0aGlzLmNhbnZhc1dpZHRoIC8gNCwgMjUsIG5ldyBTdHlsZSh7IFwiYWxpZ25lbWVudFwiOiBcImNlbnRlclwiLCBcImRpc2FibGVBbmltYXRpb25cIjogdGhpcy5kaXNhYmxlQW5pbWF0aW9uIH0pLCAwLjUpO1xuICAgIHRoaXMuYm94ID0gbmV3IEJveCgwLCAwLCBudWxsLCBudWxsLCBuZXcgU3R5bGUoeyBcImJhY2tncm91bmRDb2xvclwiOiBcInJnYmEoMjA0LCAyMDcsIDIxMSwgMSlcIiB9KSk7XG4gICAgdGhpcy5zY2VuZSA9IG5ldyBTY2VuZSh0aGlzLmJveCwgdGhpcy5ncmlkVUksIHRoaXMuZ2FtZVJhbmtpbmcsIHRoaXMuaGVhZGVyLCB0aGlzLm1lbnUpO1xuICAgIHRoaXMuY2FudmFzO1xuICAgIHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZTtcbiAgICB0aGlzLmxhYmVsTWVudXM7XG4gICAgLy8gRE9NIGVsZW1lbnRzIGFuZCBvdGhlcnMgc2V0dGluZ3NcbiAgICB0aGlzLnRleHRhcmVhO1xuICAgIHRoaXMuY2FudmFzO1xuICAgIHRoaXMuY2FudmFzQ3R4O1xuICAgIHRoaXMuY2FudmFzV2lkdGggPSBjYW52YXNXaWR0aCA9PSB1bmRlZmluZWQgPyBHYW1lQ29uc3RhbnRzLlNldHRpbmcuQ0FOVkFTX1dJRFRIIDogY2FudmFzV2lkdGg7XG4gICAgdGhpcy5jYW52YXNIZWlnaHQgPSBjYW52YXNIZWlnaHQgPT0gdW5kZWZpbmVkID8gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkNBTlZBU19IRUlHSFQgOiBjYW52YXNIZWlnaHQ7XG4gICAgdGhpcy5mb250U2l6ZSA9IEdhbWVDb25zdGFudHMuU2V0dGluZy5GT05UX1NJWkU7XG4gICAgdGhpcy50aW1lclRvRGlzcGxheSA9IG51bGw7XG4gICAgdGhpcy5iZXN0U2NvcmVUb0Rpc3BsYXkgPSBudWxsO1xuICAgIC8vIEludGVydmFscywgdGltZW91dHMsIGZyYW1lc1xuICAgIHRoaXMuaW50ZXJ2YWxDb3VudEZQUztcbiAgICAvLyBCdXR0b25zXG4gICAgdGhpcy5idG5GdWxsU2NyZWVuO1xuICAgIHRoaXMuYnRuUGF1c2U7XG4gICAgdGhpcy5idG5Db250aW51ZTtcbiAgICB0aGlzLmJ0blJldHJ5O1xuICAgIHRoaXMuYnRuUXVpdDtcbiAgICB0aGlzLmJ0blllcztcbiAgICB0aGlzLmJ0bk5vO1xuICAgIHRoaXMuYnRuT0s7XG4gICAgdGhpcy5idG5BYm91dDtcbiAgICB0aGlzLmJ0bkFkdmFuY2VkO1xuICAgIHRoaXMuYnRuSW5mb3NHYW1lO1xuICAgIHRoaXMuYnRuVG9wQXJyb3c7XG4gICAgdGhpcy5idG5SaWdodEFycm93O1xuICAgIHRoaXMuYnRuTGVmdEFycm93O1xuICAgIHRoaXMuYnRuQm90dG9tQXJyb3c7XG4gICAgdGhpcy5idG5FeGl0RnVsbFNjcmVlbjtcbiAgICB0aGlzLmJ0bkVudGVyRnVsbFNjcmVlbjtcbiAgICB0aGlzLmJ0blN0YXJ0R2FtZTtcbiAgICB0aGlzLmJ0blJhbms7XG5cbiAgICB0aGlzLmluaXQoKTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgaWYodGhpcy5vdXRwdXRUeXBlID09IEdhbWVDb25zdGFudHMuT3V0cHV0VHlwZS5URVhUKSB7XG4gICAgICB0aGlzLnRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgICAgdGhpcy5hcHBlbmRUby5hcHBlbmRDaGlsZCh0aGlzLnRleHRhcmVhKTtcbiAgICAgIHRoaXMuYXNzZXRzTG9hZGVkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYodGhpcy5vdXRwdXRUeXBlID09IEdhbWVDb25zdGFudHMuT3V0cHV0VHlwZS5HUkFQSElDQUwpIHtcbiAgICAgIENvbnN0YW50cy5TdHJpbmcuRVJST1JfTUVTU0FHRV9DQU5WQVMgPSBpMThuZXh0LnQoXCJlbmdpbmUuZXJyb3JKU0dhbWVUb29sc0NvbnNvbGVcIik7XG4gICAgICBDb25zdGFudHMuU3RyaW5nLkVSUk9SX01FU1NBR0VfQ0FOVkFTX0xBQkVMID0gaTE4bmV4dC50KFwiZW5naW5lLmVycm9ySlNHYW1lVG9vbHNcIik7XG4gICAgICBDb25zdGFudHMuU3RyaW5nLlJFVFJZID0gaTE4bmV4dC50KFwiZW5naW5lLnJldHJ5SW5pdFwiKTtcbiAgICAgIFxuICAgICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKHRoaXMuc2NlbmUsIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIiksIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCB0cnVlLCB0aGlzLm1heEZQUyk7XG4gICAgICB0aGlzLmNhbnZhcy5hcHBlbmRUbyh0aGlzLmFwcGVuZFRvKTtcbiAgICAgIHRoaXMuYnRuRnVsbFNjcmVlbiA9IG5ldyBCdXR0b25JbWFnZShcImFzc2V0cy9pbWFnZXMvZnVsbHNjcmVlbi5wbmdcIiwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgNjQsIDY0KTtcbiAgICAgIHRoaXMuYnRuUGF1c2UgPSBuZXcgQnV0dG9uSW1hZ2UoXCJhc3NldHMvaW1hZ2VzL3BhdXNlLnBuZ1wiLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCA2NCwgNjQpO1xuICAgICAgdGhpcy5idG5SYW5rID0gbmV3IEJ1dHRvbkltYWdlKFwiYXNzZXRzL2ltYWdlcy9yYW5raW5nLnBuZ1wiLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCA2NCwgNjQpO1xuXG4gICAgICBjb25zdCBidXR0b25TdHlsZSA9IG5ldyBTdHlsZSh7IFwiYWxpZ25lbWVudFwiOiBcImNlbnRlclwiLCBcImJhY2tncm91bmRDb2xvclwiOiBcIiMzNDk4ZGJcIiwgXCJiYWNrZ3JvdW5kQ29sb3JIb3ZlclwiOiBcIiMyNDZBOTlcIiwgXCJiYWNrZ3JvdW5kQ29sb3JDbGlja1wiOiBcIiMxODQ3NjZcIiwgXCJwYWRkaW5nXCI6IDEwIH0pXG4gICAgICBjb25zdCBsYWJlbFN0eWxlID0gbmV3IFN0eWxlKHsgXCJmb250Q29sb3JcIjogXCJ3aGl0ZVwiLCBcImZvbnRTaXplXCI6IEdhbWVDb25zdGFudHMuU2V0dGluZy5GT05UX1NJWkUsIFwiZm9udEZhbWlseVwiOiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuRk9OVF9GQU1JTFksIFwiYWxpZ25lbWVudFwiOiBcImNlbnRlclwiIH0pO1xuXG4gICAgICB0aGlzLmJ0bkNvbnRpbnVlID0gbmV3IEJ1dHRvbihudWxsLCBudWxsLCBudWxsLCBudWxsLCBidXR0b25TdHlsZSwgbmV3IExhYmVsKGkxOG5leHQudChcImVuZ2luZS5jb250aW51ZVwiKSwgbnVsbCwgbnVsbCwgbGFiZWxTdHlsZSkpO1xuICAgICAgdGhpcy5idG5SZXRyeSA9IG5ldyBCdXR0b24obnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgYnV0dG9uU3R5bGUsIG5ldyBMYWJlbChpMThuZXh0LnQoXCJlbmdpbmUucmVzZXRcIiksIG51bGwsIG51bGwsIGxhYmVsU3R5bGUpKTtcbiAgICAgIHRoaXMuYnRuUXVpdCA9IG5ldyBCdXR0b24obnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgYnV0dG9uU3R5bGUsIG5ldyBMYWJlbChpMThuZXh0LnQoXCJlbmdpbmUuZXhpdFwiKSwgbnVsbCwgbnVsbCwgbGFiZWxTdHlsZSkpO1xuICAgICAgdGhpcy5idG5ZZXMgPSBuZXcgQnV0dG9uKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGJ1dHRvblN0eWxlLCBuZXcgTGFiZWwoaTE4bmV4dC50KFwiZW5naW5lLnllc1wiKSwgbnVsbCwgbnVsbCwgbGFiZWxTdHlsZSkpO1xuICAgICAgdGhpcy5idG5ObyA9IG5ldyBCdXR0b24obnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgYnV0dG9uU3R5bGUsIG5ldyBMYWJlbChpMThuZXh0LnQoXCJlbmdpbmUubm9cIiksIG51bGwsIG51bGwsIGxhYmVsU3R5bGUpKTtcbiAgICAgIHRoaXMuYnRuT0sgPSBuZXcgQnV0dG9uKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGJ1dHRvblN0eWxlLCBuZXcgTGFiZWwoaTE4bmV4dC50KFwiZW5naW5lLm9rXCIpLCBudWxsLCBudWxsLCBsYWJlbFN0eWxlKSk7XG4gICAgICB0aGlzLmJ0bkFib3V0ID0gbmV3IEJ1dHRvbihudWxsLCBudWxsLCBudWxsLCBudWxsLCBidXR0b25TdHlsZSwgbmV3IExhYmVsKGkxOG5leHQudChcImVuZ2luZS5hYm91dFwiKSwgbnVsbCwgbnVsbCwgbGFiZWxTdHlsZSkpO1xuICAgICAgdGhpcy5idG5JbmZvc0dhbWUgPSBuZXcgQnV0dG9uKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGJ1dHRvblN0eWxlLCBuZXcgTGFiZWwoaTE4bmV4dC50KFwiZW5naW5lLmluZm9zR2FtZVwiKSwgbnVsbCwgbnVsbCwgbGFiZWxTdHlsZSkpO1xuICAgICAgdGhpcy5idG5BZHZhbmNlZCA9IG5ldyBCdXR0b24obnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgYnV0dG9uU3R5bGUsIG5ldyBMYWJlbChpMThuZXh0LnQoXCJlbmdpbmUuaW5mb3NHYW1lQWR2YW5jZWRcIiksIG51bGwsIG51bGwsIGxhYmVsU3R5bGUpKTtcbiAgICAgIHRoaXMuYnRuVG9wQXJyb3cgPSBuZXcgQnV0dG9uSW1hZ2UoXCJhc3NldHMvaW1hZ2VzL3VwLnBuZ1wiLCA2NCwgOTIsIFwicmlnaHRcIiwgXCJib3R0b21cIiwgNjQsIDY0LCBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSlcIiwgXCJyZ2JhKDE0OSwgMTY1LCAxNjYsIDAuMjUpXCIpO1xuICAgICAgdGhpcy5idG5SaWdodEFycm93ID0gbmV3IEJ1dHRvbkltYWdlKFwiYXNzZXRzL2ltYWdlcy9yaWdodC5wbmdcIiwgMCwgNDYsIFwicmlnaHRcIiwgXCJib3R0b21cIiwgNjQsIDY0LCBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSlcIiwgXCJyZ2JhKDE0OSwgMTY1LCAxNjYsIDAuMjUpXCIpO1xuICAgICAgdGhpcy5idG5MZWZ0QXJyb3cgPSBuZXcgQnV0dG9uSW1hZ2UoXCJhc3NldHMvaW1hZ2VzL2xlZnQucG5nXCIsIDEyOCwgNDYsIFwicmlnaHRcIiwgXCJib3R0b21cIiwgNjQsIDY0LCBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSlcIiwgXCJyZ2JhKDE0OSwgMTY1LCAxNjYsIDAuMjUpXCIpO1xuICAgICAgdGhpcy5idG5Cb3R0b21BcnJvdyA9IG5ldyBCdXR0b25JbWFnZShcImFzc2V0cy9pbWFnZXMvYm90dG9tLnBuZ1wiLCA2NCwgMCwgXCJyaWdodFwiLCBcImJvdHRvbVwiLCA2NCwgNjQsIFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KVwiLCBcInJnYmEoMTQ5LCAxNjUsIDE2NiwgMC4yNSlcIik7XG4gICAgICB0aGlzLmJ0bkV4aXRGdWxsU2NyZWVuID0gbmV3IEJ1dHRvbihudWxsLCBudWxsLCBudWxsLCBudWxsLCBidXR0b25TdHlsZSwgbmV3IExhYmVsKGkxOG5leHQudChcImVuZ2luZS5leGl0RnVsbFNjcmVlblwiKSwgbnVsbCwgbnVsbCwgbGFiZWxTdHlsZSkpO1xuICAgICAgdGhpcy5idG5FbnRlckZ1bGxTY3JlZW4gPSBuZXcgQnV0dG9uKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGJ1dHRvblN0eWxlLCBuZXcgTGFiZWwoaTE4bmV4dC50KFwiZW5naW5lLmVudGVyRnVsbFNjcmVlblwiKSwgbnVsbCwgbnVsbCwgbGFiZWxTdHlsZSkpO1xuICAgICAgdGhpcy5idG5TdGFydEdhbWUgPSBuZXcgQnV0dG9uKG51bGwsIG51bGwsIG51bGwsIG51bGwsIGJ1dHRvblN0eWxlLCBuZXcgTGFiZWwoaTE4bmV4dC50KFwiZW5naW5lLnNlcnZlcnMuc3RhcnRHYW1lXCIpLCBudWxsLCBudWxsLCBsYWJlbFN0eWxlKSk7XG4gICAgICB0aGlzLmxhYmVsTWVudXMgPSBuZXcgTGFiZWwoXCJcIiwgbnVsbCwgbnVsbCwgbGFiZWxTdHlsZSk7XG5cbiAgICAgIHRoaXMuaGVhZGVyLnNldEJ1dHRvbnModGhpcy5idG5GdWxsU2NyZWVuLCB0aGlzLmJ0blBhdXNlLCB0aGlzLmJ0blJhbmspO1xuXG4gICAgICB0aGlzLmJ0bkZ1bGxTY3JlZW4uc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuYnRuUGF1c2Uuc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5idG5SYW5rLnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgaWYodGhpcy5nYW1lUmFua2luZy5jbG9zaW5nIHx8IHRoaXMuZ2FtZVJhbmtpbmcuY2xvc2VkKSB7XG4gICAgICAgICAgdGhpcy5nYW1lUmFua2luZy5vcGVuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5nYW1lUmFua2luZy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5idG5Ub3BBcnJvdy5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5rZXkoR2FtZUNvbnN0YW50cy5LZXkuVVApO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuYnRuQm90dG9tQXJyb3cuc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIua2V5KEdhbWVDb25zdGFudHMuS2V5LkJPVFRPTSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5idG5MZWZ0QXJyb3cuc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIua2V5KEdhbWVDb25zdGFudHMuS2V5LkxFRlQpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuYnRuUmlnaHRBcnJvdy5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5rZXkoR2FtZUNvbnN0YW50cy5LZXkuUklHSFQpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIGV2ZW50ID0+IHtcbiAgICAgICAgICBjb25zdCBjaGFuZ2VkVG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5nZXRUb3VjaFBvcyh0aGlzLmNhbnZhcywgY2hhbmdlZFRvdWNoZXMpO1xuXG4gICAgICAgICAgaWYoIXRoaXMuZ2FtZVJhbmtpbmcuaG92ZXJlZCkge1xuICAgICAgICAgICAgdGhpcy50b3VjaEV2ZW50U3RhcnRYID0gcG9zaXRpb24ueDtcbiAgICAgICAgICAgIHRoaXMudG91Y2hFdmVudFN0YXJ0WSA9IHBvc2l0aW9uLnk7XG4gICAgICAgICAgICB0aGlzLnRvdWNoRXZlbnRTdGFydFRpbWVzdGFtcCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgdG91Y2hTd2lwZUV2ZW50ID0gIGV2ZW50ID0+IHtcbiAgICAgICAgICBjb25zdCBjaGFuZ2VkVG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5nZXRUb3VjaFBvcyh0aGlzLmNhbnZhcywgY2hhbmdlZFRvdWNoZXMpO1xuXG4gICAgICAgICAgaWYoIXRoaXMuZ2FtZVJhbmtpbmcuaG92ZXJlZCkge1xuICAgICAgICAgICAgdGhpcy50b3VjaEV2ZW50T2Zmc2V0WCArPSAocG9zaXRpb24ueCAtIHRoaXMudG91Y2hFdmVudFN0YXJ0WCk7XG4gICAgICAgICAgICB0aGlzLnRvdWNoRXZlbnRPZmZzZXRZICs9IChwb3NpdGlvbi55IC0gdGhpcy50b3VjaEV2ZW50U3RhcnRZKTtcblxuICAgICAgICAgICAgaWYocGVyZm9ybWFuY2Uubm93KCkgLSB0aGlzLnRvdWNoRXZlbnRTdGFydFRpbWVzdGFtcCA+PSAyNTApIHtcbiAgICAgICAgICAgICAgdGhpcy50b3VjaEV2ZW50T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICAgIHRoaXMudG91Y2hFdmVudE9mZnNldFkgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLnRvdWNoRXZlbnRPZmZzZXRYIDwgMCAmJiBNYXRoLmFicyh0aGlzLnRvdWNoRXZlbnRPZmZzZXRYKSA+IDUwKSB7XG4gICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5rZXkoR2FtZUNvbnN0YW50cy5LZXkuTEVGVCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYodGhpcy50b3VjaEV2ZW50T2Zmc2V0WCA+IDAgJiYgTWF0aC5hYnModGhpcy50b3VjaEV2ZW50T2Zmc2V0WCkgPiA1MCkge1xuICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIua2V5KEdhbWVDb25zdGFudHMuS2V5LlJJR0hUKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLnRvdWNoRXZlbnRPZmZzZXRZIDwgMCAmJiBNYXRoLmFicyh0aGlzLnRvdWNoRXZlbnRPZmZzZXRZKSA+IDUwKSB7XG4gICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5rZXkoR2FtZUNvbnN0YW50cy5LZXkuVVApO1xuICAgICAgICAgICAgfSBlbHNlIGlmKHRoaXMudG91Y2hFdmVudE9mZnNldFkgPiAwICYmIE1hdGguYWJzKHRoaXMudG91Y2hFdmVudE9mZnNldFkpID4gNTApIHtcbiAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmtleShHYW1lQ29uc3RhbnRzLktleS5CT1RUT00pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnRvdWNoRXZlbnRTdGFydFggPSBwb3NpdGlvbi54O1xuICAgICAgICAgICAgdGhpcy50b3VjaEV2ZW50U3RhcnRZID0gcG9zaXRpb24ueTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnRvdWNoRXZlbnRPZmZzZXRYID0gMDtcbiAgICAgICAgICB0aGlzLnRvdWNoRXZlbnRPZmZzZXRZID0gMDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBldmVudCA9PiB7XG4gICAgICAgICAgdG91Y2hTd2lwZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdGhpcy5zZXRJbnRlcnZhbENvdW50RlBTKCk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZighdGhpcy5raWxsZWQpIHtcbiAgICAgICAgbGV0IGtleUNvZGUgPSBldnQua2V5Q29kZTtcbiAgICBcbiAgICAgICAgaWYoa2V5Q29kZSA9PSA5MCB8fCBrZXlDb2RlID09IDg3KSBrZXlDb2RlID0gR2FtZUNvbnN0YW50cy5LZXkuVVA7IC8vIFcgb3IgWlxuICAgICAgICBpZihrZXlDb2RlID09IDY1IHx8IGtleUNvZGUgPT0gODEpIGtleUNvZGUgPSBHYW1lQ29uc3RhbnRzLktleS5MRUZUOyAvLyBBIG9yIFFcbiAgICAgICAgaWYoa2V5Q29kZSA9PSA4Mykga2V5Q29kZSA9IEdhbWVDb25zdGFudHMuS2V5LkJPVFRPTTsgLy8gU1xuICAgICAgICBpZihrZXlDb2RlID09IDY4KSBrZXlDb2RlID0gR2FtZUNvbnN0YW50cy5LZXkuUklHSFQ7IC8vIERcbiAgICBcbiAgICAgICAgaWYoIXRoaXMucGF1c2VkKSB7XG4gICAgICAgICAgaWYoa2V5Q29kZSA9PSBHYW1lQ29uc3RhbnRzLktleS5FTlRFUikge1xuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIua2V5KGtleUNvZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuY291bnRCZWZvcmVQbGF5IDwgMCkge1xuICAgICAgICAgIHRoaXMubGFzdEtleU1lbnUgPSBrZXlDb2RlO1xuICAgICAgICB9XG4gICAgICBcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmF1dG9SZXNpemVDYW52YXMoKTtcbiAgICB9LCB0cnVlKTtcblxuICAgIHRoaXMuYXV0b1Jlc2l6ZUNhbnZhcygpO1xuICAgIHRoaXMubG9hZEFzc2V0cygpO1xuICAgIHRoaXMuc3RhcnREcmF3KCk7XG4gIH1cbiAgXG4gIGdldFRvdWNoUG9zKGNhbnZhcywgZXZlbnQpIHtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB4OiBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgeTogZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wXG4gICAgfTtcbiAgfVxuXG4gIGF1dG9SZXNpemVDYW52YXMoKSB7XG4gICAgaWYodGhpcy5vdXRwdXRUeXBlID09IEdhbWVDb25zdGFudHMuT3V0cHV0VHlwZS5HUkFQSElDQUwgJiYgIXRoaXMua2lsbGVkKSB7XG4gICAgICBVdGlscy5hdXRvUmVzaXplQ2FudmFzKHRoaXMuY2FudmFzLCB0aGlzLmNhbnZhc1dpZHRoLCB0aGlzLmNhbnZhc0hlaWdodCk7XG4gICAgfVxuICB9XG5cbiAgc2V0SW50ZXJ2YWxDb3VudEZQUygpIHtcbiAgICB0aGlzLmNsZWFySW50ZXJ2YWxDb3VudEZQUygpO1xuXG4gICAgdGhpcy5pbnRlcnZhbENvdW50RlBTID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuY291bnRGUFMoKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxuXG4gIGNvdW50RlBTKCkge1xuICAgIGlmKHRoaXMubGFzdEZyYW1lID4gMCkgdGhpcy5jdXJyZW50RlBTID0gdGhpcy5mcmFtZSAtIHRoaXMubGFzdEZyYW1lO1xuICAgIHRoaXMubGFzdEZyYW1lID0gdGhpcy5mcmFtZTtcbiAgfVxuXG4gIGNsZWFySW50ZXJ2YWxDb3VudEZQUygpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudEZQUyk7XG4gIH1cblxuICBnZXROQlBsYXllcih0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5nZXROQlBsYXllcih0eXBlKTtcbiAgfVxuXG4gIGdldFBsYXllcihudW0sIHR5cGUpIHtcbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmdldFBsYXllcihudW0sIHR5cGUpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyICYmIHRoaXMuY29udHJvbGxlci5yZXNldCgpO1xuICB9XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyICYmIHRoaXMuY29udHJvbGxlci5zdGFydCgpO1xuICB9XG5cbiAgZm9yY2VTdGFydCgpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgJiYgdGhpcy5jb250cm9sbGVyLmZvcmNlU3RhcnQoKTtcbiAgfVxuXG4gIHN0b3AoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyICYmIHRoaXMuY29udHJvbGxlci5zdG9wKCk7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgJiYgdGhpcy5jb250cm9sbGVyLnBhdXNlKCk7XG4gIH1cblxuICBraWxsKCkge1xuICAgIHRoaXMuY29udHJvbGxlciAmJiB0aGlzLmNvbnRyb2xsZXIua2lsbCgpO1xuICB9XG5cbiAgZXhpdCgpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgJiYgdGhpcy5jb250cm9sbGVyLmV4aXQoKTtcbiAgfVxuXG4gIHRpY2soKSB7XG4gICAgdGhpcy5jb250cm9sbGVyICYmIHRoaXMuY29udHJvbGxlci50aWNrKCk7XG4gIH1cblxuICBzZXRLaWxsKCkge1xuICAgIHRoaXMua2lsbGVkID0gdHJ1ZTtcbiAgICB0aGlzLmNsZWFySW50ZXJ2YWxDb3VudEZQUygpO1xuXG4gICAgdGhpcy5ncmlkID0gbnVsbDtcbiAgICB0aGlzLnNuYWtlcyA9IG51bGw7XG5cbiAgICBpZih0aGlzLmFwcGVuZFRvICE9IG51bGwpIHtcbiAgICAgIGlmKHRoaXMub3V0cHV0VHlwZSA9PSBHYW1lQ29uc3RhbnRzLk91dHB1dFR5cGUuVEVYVCAmJiB0aGlzLnRleHRhcmVhICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5hcHBlbmRUby5yZW1vdmVDaGlsZCh0aGlzLnRleHRhcmVhKTtcbiAgICAgICAgdGhpcy50ZXh0YXJlYSA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYodGhpcy5vdXRwdXRUeXBlID09IEdhbWVDb25zdGFudHMuT3V0cHV0VHlwZS5HUkFQSElDQUwgJiYgdGhpcy5jYW52YXMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmFwcGVuZFRvKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhc0N0eCA9IG51bGw7XG4gICAgICAgIHRoaXMuaW1hZ2VMb2FkZXIuY2xlYXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0b2dnbGVGdWxsc2NyZWVuKCkge1xuICAgIGlmKHRoaXMub3V0cHV0VHlwZSA9PSBHYW1lQ29uc3RhbnRzLk91dHB1dFR5cGUuR1JBUEhJQ0FMICYmICF0aGlzLmtpbGxlZCkge1xuICAgICAgdGhpcy5jYW52YXMudG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgIFxuICAgICAgY29uc3Qgb25mdWxsc2NyZWVuY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICBpZih0aGlzLm91dHB1dFR5cGUgPT0gR2FtZUNvbnN0YW50cy5PdXRwdXRUeXBlLkdSQVBISUNBTCAmJiAhdGhpcy5raWxsZWQpIHtcbiAgICAgICAgICBpZihkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA9PSB0aGlzLmNhbnZhcykge1xuICAgICAgICAgICAgdGhpcy5mdWxsc2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mdWxsc2NyZWVuID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgPT0gdGhpcy5jYW52YXMgJiYgdHlwZW9mKHNjcmVlbi5vcmllbnRhdGlvbikgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mKHNjcmVlbi5vcmllbnRhdGlvbi5sb2NrKSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgc2NyZWVuLm9yaWVudGF0aW9uLmxvY2soXCJsYW5kc2NhcGVcIikuY2F0Y2goKCkgPT4ge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYodHlwZW9mKGRvY3VtZW50Lm9uZnVsbHNjcmVlbmNoYW5nZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZG9jdW1lbnQub25mdWxsc2NyZWVuY2hhbmdlID0gb25mdWxsc2NyZWVuY2hhbmdlO1xuICAgICAgfSBlbHNlIGlmKHR5cGVvZihkb2N1bWVudC5vbm1zZnVsbHNjcmVlbmNoYW5nZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZG9jdW1lbnQub25tc2Z1bGxzY3JlZW5jaGFuZ2UgPSBvbmZ1bGxzY3JlZW5jaGFuZ2U7XG4gICAgICB9IGVsc2UgaWYodHlwZW9mKGRvY3VtZW50Lm9ubW96ZnVsbHNjcmVlbmNoYW5nZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZG9jdW1lbnQub25tb3pmdWxsc2NyZWVuY2hhbmdlID0gb25mdWxsc2NyZWVuY2hhbmdlO1xuICAgICAgfSBlbHNlIGlmKHR5cGVvZihkb2N1bWVudC5vbndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UpICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGRvY3VtZW50Lm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZSA9IG9uZnVsbHNjcmVlbmNoYW5nZTtcbiAgICAgIH0gZWxzZSBpZih0eXBlb2YoZG9jdW1lbnQub25va2l0ZnVsbHNjcmVlbmNoYW5nZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZG9jdW1lbnQub25vZnVsbHNjcmVlbmNoYW5nZSA9IG9uZnVsbHNjcmVlbmNoYW5nZTtcbiAgICAgIH1cblxuICAgICAgb25mdWxsc2NyZWVuY2hhbmdlKCk7XG4gICAgfVxuICB9XG5cbiAgbG9hZEFzc2V0cygpIHtcbiAgICBpZighdGhpcy5lcnJvck9jY3VycmVkICYmIHRoaXMub3V0cHV0VHlwZSAhPSBHYW1lQ29uc3RhbnRzLk91dHB1dFR5cGUuVEVYVCkge1xuICAgICAgdGhpcy5pbWFnZUxvYWRlci5sb2FkKFtcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9zbmFrZV80LnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9zbmFrZV8zLnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9zbmFrZV8yLnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9zbmFrZS5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvYm9keV80X2VuZC5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvYm9keV8zX2VuZC5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvYm9keV8yX2VuZC5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvYm9keV9lbmQucG5nXCIsIFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL2JvZHlfMi5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvYm9keS5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvd2FsbC5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvZnJ1aXQucG5nXCIsIFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL2JvZHlfYW5nbGVfMS5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvYm9keV9hbmdsZV8yLnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9ib2R5X2FuZ2xlXzMucG5nXCIsIFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL2JvZHlfYW5nbGVfNC5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3BhdXNlLnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvZnVsbHNjcmVlbi5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvc25ha2VfZGVhZF80LnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9zbmFrZV9kZWFkXzMucG5nXCIsIFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL3NuYWtlX2RlYWRfMi5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvc25ha2VfZGVhZC5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3VwLnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvbGVmdC5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3JpZ2h0LnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvYm90dG9tLnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvdHJvcGh5LnBuZ1wiLCBcImFzc2V0cy9pbWFnZXMvdHJvcGh5X3NpbHZlci5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3Ryb3BoeV9icm9uemUucG5nXCIsIFwiYXNzZXRzL2ltYWdlcy9jbG9jay5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvZnJ1aXRfZ29sZC5wbmdcIiwgXCJhc3NldHMvaW1hZ2VzL3JhbmtpbmcucG5nXCIsIFwiYXNzZXRzL2ltYWdlcy9za2luL2ZsYXQvZnJ1aXQucG5nXCIsIFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL3Vua25vd24ucG5nXCJdLCAoKSA9PiB7XG4gICAgICAgIGlmKHRoaXMuaW1hZ2VMb2FkZXIuaGFzRXJyb3IpIHtcbiAgICAgICAgICB0aGlzLmVycm9yT2NjdXJyZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYXNzZXRzTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmJ0bkZ1bGxTY3JlZW4ubG9hZEltYWdlKHRoaXMuaW1hZ2VMb2FkZXIpO1xuICAgICAgICAgIHRoaXMuYnRuUGF1c2UubG9hZEltYWdlKHRoaXMuaW1hZ2VMb2FkZXIpO1xuICAgICAgICAgIHRoaXMuYnRuUmFuay5sb2FkSW1hZ2UodGhpcy5pbWFnZUxvYWRlcik7XG4gICAgICAgICAgdGhpcy5idG5Ub3BBcnJvdy5sb2FkSW1hZ2UodGhpcy5pbWFnZUxvYWRlcik7XG4gICAgICAgICAgdGhpcy5idG5Cb3R0b21BcnJvdy5sb2FkSW1hZ2UodGhpcy5pbWFnZUxvYWRlcik7XG4gICAgICAgICAgdGhpcy5idG5MZWZ0QXJyb3cubG9hZEltYWdlKHRoaXMuaW1hZ2VMb2FkZXIpO1xuICAgICAgICAgIHRoaXMuYnRuUmlnaHRBcnJvdy5sb2FkSW1hZ2UodGhpcy5pbWFnZUxvYWRlcik7XG4gICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2UgaWYoIXRoaXMuZXJyb3JPY2N1cnJlZCAmJiB0aGlzLm91dHB1dFR5cGUgPT0gR2FtZUNvbnN0YW50cy5PdXRwdXRUeXBlLlRFWFQpIHtcbiAgICAgIHRoaXMuYXNzZXRzTG9hZGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gIH1cblxuICBzdGFydERyYXcoKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpbWUgPT4gdGhpcy5iZWZvcmVEcmF3KHRpbWUpKTtcbiAgfVxuXG4gIGJlZm9yZURyYXcodGltZSkge1xuICAgIGlmKCF0aGlzLmtpbGxlZCkge1xuICAgICAgaWYoIWRvY3VtZW50Lmhhc0ZvY3VzKCkgJiYgIXRoaXMucGF1c2VkICYmIHRoaXMub3V0cHV0VHlwZSAhPSBHYW1lQ29uc3RhbnRzLk91dHB1dFR5cGUuVEVYVCkge1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIucGF1c2UoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2Zmc2V0RnJhbWUgPSB0aW1lIC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xuICAgICAgaWYodGhpcy5tYXhGUFMgPCAxIHx8IG9mZnNldEZyYW1lID4gMTAwMCAvIHRoaXMubWF4RlBTKSB7XG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMuZnJhbWUrKztcbiAgXG4gICAgICAgIGlmKCghdGhpcy5wYXVzZWQgJiYgIXRoaXMub25saW5lTW9kZSkgfHwgdGhpcy5vbmxpbmVNb2RlIHx8IHRoaXMuZ2FtZU92ZXIgfHwgdGhpcy5nYW1lRmluaXNoZWQpIHtcbiAgICAgICAgICB0aGlzLm9mZnNldEZyYW1lICs9IG9mZnNldEZyYW1lO1xuICAgICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldEZyYW1lIC8gKHRoaXMuc3BlZWQgKiBHYW1lQ29uc3RhbnRzLlNldHRpbmcuVElNRV9NVUxUSVBMSUVSKTtcblxuICAgICAgICAgIGlmKCh0aGlzLmdhbWVPdmVyIHx8IHRoaXMuZ2FtZUZpbmlzaGVkKSAmJiBvZmZzZXQgPj0gMC45NSkge1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRGcmFtZSA9IDA7XG4gICAgICAgICAgICB0aGlzLnRpY2tzKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gIFxuICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IERhdGUubm93KCk7ICBcbiAgICAgIH1cblxuICAgICAgdGhpcy5zdGFydERyYXcoKTtcbiAgICB9XG4gIH1cblxuICBkcmF3KCkge1xuICAgIGlmKHRoaXMub3V0cHV0VHlwZSA9PSBHYW1lQ29uc3RhbnRzLk91dHB1dFR5cGUuVEVYVCAmJiAhdGhpcy5raWxsZWQpIHtcbiAgICAgIGlmKHRoaXMuZ3JpZCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGggPSB0aGlzLmdyaWQud2lkdGggKiAxNi41ICsgXCJweFwiO1xuICAgICAgICB0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodCA9IHRoaXMuZ3JpZC5oZWlnaHQgKiAxNiArIDEwMCArIFwicHhcIjtcbiAgICAgIH1cblxuICAgICAgdGhpcy50ZXh0YXJlYS5pbm5lckhUTUwgPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmKHRoaXMub3V0cHV0VHlwZSA9PSBHYW1lQ29uc3RhbnRzLk91dHB1dFR5cGUuR1JBUEhJQ0FMICYmICF0aGlzLmtpbGxlZCkge1xuICAgICAgY29uc3QgY3R4ID0gdGhpcy5jYW52YXNDdHg7XG4gICAgICB0aGlzLmN1cnJlbnRQbGF5ZXIgPSB0aGlzLmNvbnRyb2xsZXIuZ2V0Q3VycmVudFBsYXllcigpO1xuXG4gICAgICB0aGlzLmZvbnRTaXplID0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkZPTlRfU0laRTtcbiAgICAgIHRoaXMuaGVhZGVyLm1pbkhlaWdodCA9IEdhbWVDb25zdGFudHMuU2V0dGluZy5IRUFERVJfSEVJR0hUX0RFRkFVTFQ7XG5cbiAgICAgIGlmKHRoaXMuY2FudmFzLndpZHRoIDw9IEdhbWVDb25zdGFudHMuU2V0dGluZy5DQU5WQVNfV0lEVEggLyAxLjI1KSB7XG4gICAgICAgIHRoaXMuZm9udFNpemUgLz0gMS4yNTtcbiAgICAgICAgdGhpcy5oZWFkZXIubWluSGVpZ2h0ID0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkhFQURFUl9IRUlHSFRfREVGQVVMVCAvIDEuMjU7XG4gICAgICB9IGVsc2UgaWYodGhpcy5jYW52YXMud2lkdGggPj0gR2FtZUNvbnN0YW50cy5TZXR0aW5nLkNBTlZBU19XSURUSCAqIDEuNSkge1xuICAgICAgICB0aGlzLmZvbnRTaXplICo9IDEuMjU7XG4gICAgICAgIHRoaXMuaGVhZGVyLm1pbkhlaWdodCA9IEdhbWVDb25zdGFudHMuU2V0dGluZy5IRUFERVJfSEVJR0hUX0RFRkFVTFQgKiAxLjI1O1xuICAgICAgfVxuXG4gICAgICBDb25zdGFudHMuU2V0dGluZy5GT05UX1NJWkUgPSB0aGlzLmZvbnRTaXplO1xuICAgICAgdGhpcy5sYWJlbE1lbnVzLnNpemUgPSB0aGlzLmZvbnRTaXplO1xuICAgICAgXG4gICAgICBpZih0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25NZXNzYWdlLmZvbnRTaXplID0gdGhpcy5mb250U2l6ZTtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25NZXNzYWdlLmZvbnRTaXplSW5pdGlhbCA9IHRoaXMuZm9udFNpemU7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZS5lYXNpbmdGdW5jdGlvbiA9IEVhc2luZ0Z1bmN0aW9ucy5lYXNlSW5PdXRDdWJpYztcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5nYW1lUmFua2luZykge1xuICAgICAgICB0aGlzLmdhbWVSYW5raW5nLmZvbnRTaXplID0gdGhpcy5mb250U2l6ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tZW51LmRpc2FibGUoKTtcblxuICAgICAgdGhpcy5ib3gud2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aDtcbiAgICAgIHRoaXMuYm94LmhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodDtcblxuICAgICAgaWYodGhpcy5hc3NldHNMb2FkZWQgJiYgIXRoaXMuZXJyb3JPY2N1cnJlZCkge1xuICAgICAgICB0aGlzLmhlYWRlci5zZXQodGhpcy5zbmFrZXMsIHRoaXMuaW1hZ2VMb2FkZXIsIHRoaXMuYmVzdFNjb3JlVG9EaXNwbGF5LCB0aGlzLmhlYWRlci5oZWlnaHQsIHRoaXMubnVtRnJ1aXQsIHRoaXMuZW5hYmxlUGF1c2UpO1xuXG4gICAgICAgIGlmKHRoaXMuZ3JpZCAhPSBudWxsICYmICghdGhpcy5ncmlkLm1hemUgfHwgKHRoaXMuZ3JpZC5tYXplICYmICghdGhpcy5wYXVzZWQgfHwgdGhpcy5nYW1lT3ZlciB8fCB0aGlzLmdhbWVGaW5pc2hlZCkpKSkge1xuICAgICAgICAgIHRoaXMuZ3JpZFVJLnNldCh0aGlzLnNuYWtlcywgdGhpcy5ncmlkLCB0aGlzLnNwZWVkLCB0aGlzLm9mZnNldEZyYW1lLCB0aGlzLmhlYWRlci5oZWlnaHQsIHRoaXMuaW1hZ2VMb2FkZXIsIHRoaXMuY3VycmVudFBsYXllciwgdGhpcy5nYW1lRmluaXNoZWQsIHRoaXMuY291bnRCZWZvcmVQbGF5LCB0aGlzLnNwZWN0YXRvck1vZGUsIHRoaXMudGlja3MsIHRoaXMuZ2FtZU92ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy50aW1lclRvRGlzcGxheSAhPSB1bmRlZmluZWQgJiYgdGhpcy50aW1lclRvRGlzcGxheSAhPSBudWxsICYmICFpc05hTih0aGlzLnRpbWVyVG9EaXNwbGF5KSAmJiB0aGlzLnRpbWVyVG9EaXNwbGF5ID49IDApIHtcbiAgICAgICAgICBjb25zdCBzaXplc1RpbWVyID0gVXRpbHMuZHJhd1RleHQoY3R4LCBcIlwiICsgR2FtZVV0aWxzLnNlY29uZHNGb3JtYXQodGhpcy50aW1lclRvRGlzcGxheSksIFwicmdiYSgwLCAwLCAwLCAwLjUpXCIsIE1hdGgucm91bmQodGhpcy5mb250U2l6ZSksIEdhbWVDb25zdGFudHMuU2V0dGluZy5GT05UX0ZBTUlMWSwgXCJyaWdodFwiLCBcImRlZmF1bHRcIiwgbnVsbCwgTWF0aC5yb3VuZCh0aGlzLmhlYWRlci5oZWlnaHQgKyAxNSArIHRoaXMuaGVhZGVyLmhlaWdodCAqIDAuNDc1KSk7XG4gICAgICAgICAgVXRpbHMuZHJhd0ltYWdlKGN0eCwgdGhpcy5pbWFnZUxvYWRlci5nZXQoXCJhc3NldHMvaW1hZ2VzL2Nsb2NrLnBuZ1wiLCBNYXRoLnJvdW5kKHRoaXMuaGVhZGVyLmhlaWdodCAqIDAuNjQpLCBNYXRoLnJvdW5kKHRoaXMuaGVhZGVyLmhlaWdodCAqIDAuNjQpKSwgTWF0aC5yb3VuZChzaXplc1RpbWVyW1wieFwiXSAtIHRoaXMuaGVhZGVyLmhlaWdodCAqIDAuNjQgLSAxMCksIE1hdGgucm91bmQodGhpcy5oZWFkZXIuaGVpZ2h0ICsgMTUpLCBNYXRoLnJvdW5kKHRoaXMuaGVhZGVyLmhlaWdodCAqIDAuNjQpLCBNYXRoLnJvdW5kKHRoaXMuaGVhZGVyLmhlaWdodCAqIDAuNjQpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmKCF0aGlzLmFzc2V0c0xvYWRlZCkge1xuICAgICAgICBjb25zdCBwZXJjZW50TG9hZGVkID0gTWF0aC5mbG9vcigoMTAwICogT2JqZWN0LmtleXModGhpcy5pbWFnZUxvYWRlci5pbWFnZXMpLmxlbmd0aCkgLyB0aGlzLmltYWdlTG9hZGVyLm5iSW1hZ2VzVG9Mb2FkKTtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLnRleHQgPSBpMThuZXh0LnQoXCJlbmdpbmUubG9hZGluZ1wiKSArIFwiXFxuXCIgKyBwZXJjZW50TG9hZGVkICsgXCIlXCI7XG4gICAgICAgIHRoaXMubGFiZWxNZW51cy5jb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgdGhpcy5wcm9ncmVzc0JhckxvYWRpbmcucGVyY2VudCA9IHBlcmNlbnRMb2FkZWQgLyAxMDA7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXJMb2FkaW5nLndpZHRoID0gdGhpcy5jYW52YXMud2lkdGggLyA0O1xuICAgICAgICB0aGlzLm1lbnUuc2V0KHRoaXMubGFiZWxNZW51cywgdGhpcy5wcm9ncmVzc0JhckxvYWRpbmcpO1xuICAgICAgfVxuXG4gICAgICBpZih0aGlzLmFpU3R1Y2sgJiYgIXRoaXMucHJlY0FpU3R1Y2spIHtcbiAgICAgICAgdGhpcy5wcmVjQWlTdHVjayA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0Tm90aWZpY2F0aW9uKG5ldyBOb3RpZmljYXRpb25NZXNzYWdlKGkxOG5leHQudChcImVuZ2luZS5haVN0dWNrXCIpLCBudWxsLCBHYW1lQ29uc3RhbnRzLlNldHRpbmcuRVJST1JfTk9USUZfQ09MT1IsIDEwKSk7XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5ub3RpZmljYXRpb25NZXNzYWdlICE9IG51bGwgJiYgdGhpcy5ub3RpZmljYXRpb25NZXNzYWdlIGluc3RhbmNlb2YgTm90aWZpY2F0aW9uTWVzc2FnZSAmJiAhdGhpcy5ub3RpZmljYXRpb25NZXNzYWdlLmZvcmVHcm91bmQpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25NZXNzYWdlLmRyYXcodGhpcyk7XG4gICAgICB9XG5cbiAgICAgIC8qaWYodGhpcy5zbmFrZXMgIT0gbnVsbCAmJiAodGhpcy5nZXROQlBsYXllcihHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFVNQU4pID4gMCB8fCB0aGlzLmdldE5CUGxheWVyKEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IWUJSSURfSFVNQU5fQUkpID4gMCkgJiYgKHRoaXMuZ2V0TkJQbGF5ZXIoR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOKSA8PSAxIHx8IHRoaXMuZ2V0TkJQbGF5ZXIoR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSkgPD0gMSB8fCB0aGlzLmN1cnJlbnRQbGF5ZXIgIT0gbnVsbCkgJiYgIXRoaXMuc3BlY3RhdG9yTW9kZSkge1xuICAgICAgICB0aGlzLmJ0blRvcEFycm93LmRyYXcodGhpcy5jYW52YXNDdHgpO1xuICAgICAgICB0aGlzLmJ0bkJvdHRvbUFycm93LmRyYXcodGhpcy5jYW52YXNDdHgpO1xuICAgICAgICB0aGlzLmJ0blJpZ2h0QXJyb3cuZHJhdyh0aGlzLmNhbnZhc0N0eCk7XG4gICAgICAgIHRoaXMuYnRuTGVmdEFycm93LmRyYXcodGhpcy5jYW52YXNDdHgpO1xuICAgICAgfSovXG5cbiAgICAgIGlmKHRoaXMuc25ha2VzICE9IG51bGwgJiYgdGhpcy5zbmFrZXMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgdGhpcy5nYW1lUmFua2luZy5mb3JjZUNsb3NlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmKCF0aGlzLmdhbWVGaW5pc2hlZCAmJiAhdGhpcy5nYW1lT3ZlciAmJiB0aGlzLmFzc2V0c0xvYWRlZCAmJiAhdGhpcy5lcnJvck9jY3VycmVkKSB7XG4gICAgICAgIHRoaXMuZ2FtZVJhbmtpbmcuc2V0KHRoaXMuc25ha2VzLCB0aGlzLmZvbnRTaXplLCB0aGlzLmhlYWRlci5oZWlnaHQsIHRoaXMuY3VycmVudFBsYXllciwgdGhpcy5pbWFnZUxvYWRlciwgdGhpcy5zcGVjdGF0b3JNb2RlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kaXNhYmxlQWxsQnV0dG9ucygpO1xuXG4gICAgICBpZih0aGlzLnNlYXJjaGluZ1BsYXllcnMgJiYgdGhpcy5sYXN0VGltZSA+IDApIHtcbiAgICAgICAgdGhpcy50aW1lU3RhcnQgLT0gTWF0aC5tYXgoMCwgRGF0ZS5ub3coKSAtIHRoaXMubGFzdFRpbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy50aW1lU3RhcnQgPSAwO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXh0R2FtZVRleHQgPSAodGhpcy50aW1lU3RhcnQgPiAwID8gKFwiXFxuXFxuXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUuc2VydmVycy5uZXh0R2FtZVN0YXJ0XCIpICsgXCIgXCIgKyBHYW1lVXRpbHMubWlsbGlzZWNvbmRzRm9ybWF0KHRoaXMudGltZVN0YXJ0KSkgOiBcIlwiKTtcblxuICAgICAgaWYodGhpcy5leGl0ZWQpIHtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLnRleHQgPSBpMThuZXh0LnQoXCJlbmdpbmUuZXhpdGVkXCIpO1xuICAgICAgICB0aGlzLmxhYmVsTWVudXMuY29sb3IgPSBcIndoaXRlXCI7XG4gICAgICAgIHRoaXMuZnVsbHNjcmVlbiA/IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0bkV4aXRGdWxsU2NyZWVuKSA6IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYnRuRXhpdEZ1bGxTY3JlZW4uc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIHRoaXMudG9nZ2xlRnVsbHNjcmVlbigpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmVycm9yT2NjdXJyZWQpIHtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLnRleHQgPSB0aGlzLmltYWdlTG9hZGVyLmhhc0Vycm9yID8gaTE4bmV4dC50KFwiZW5naW5lLmVycm9yTG9hZGluZ1wiKSA6IGkxOG5leHQudChcImVuZ2luZS5lcnJvclwiKTtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLmNvbG9yID0gXCIjRTc0QzNDXCI7XG4gICAgICAgIHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0blF1aXQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5idG5RdWl0LnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbmZpcm1FeGl0ID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZ2V0SW5mb3NHYW1lKSB7XG4gICAgICAgIGlmKHRoaXMuZ2V0QWR2YW5jZWRJbmZvc0dhbWUgJiYgKHRoaXMuZ3JpZCAmJiAodGhpcy5ncmlkLnNlZWRHcmlkIHx8IHRoaXMuZ3JpZC5zZWVkR2FtZSkpKSB7XG4gICAgICAgICAgdGhpcy5sYWJlbE1lbnVzLnRleHQgPSAodGhpcy5ncmlkLnNlZWRHcmlkID8gaTE4bmV4dC50KFwiZW5naW5lLnNlZWRHcmlkXCIpICsgXCJcXG5cIiArIHRoaXMuZ3JpZC5zZWVkR3JpZCA6IFwiXCIpICsgKHRoaXMuZ3JpZC5zZWVkR2FtZSA/IFwiXFxuXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUuc2VlZEdhbWVcIikgKyBcIlxcblwiICsgdGhpcy5ncmlkLnNlZWRHYW1lIDogXCJcIik7XG4gICAgICAgICAgdGhpcy5tZW51LnNldCh0aGlzLmxhYmVsTWVudXMsIHRoaXMuYnRuT0spO1xuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMuYnRuT0suc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZXRBZHZhbmNlZEluZm9zR2FtZSA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubGFiZWxNZW51cy50ZXh0ID0gKHRoaXMuc25ha2VzICE9IG51bGwgJiYgdGhpcy5zbmFrZXMubGVuZ3RoIDw9IDEgJiYgIXRoaXMuc3BlY3RhdG9yTW9kZSA/IGkxOG5leHQudChcImVuZ2luZS5wbGF5ZXJcIikgKyBcIiBcIiArICgoKHRoaXMuc25ha2VzICE9IG51bGwgJiYgdGhpcy5zbmFrZXNbMF0ucGxheWVyID09IEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IVU1BTiAmJiAhdGhpcy5zcGVjdGF0b3JNb2RlKSB8fCAodGhpcy5zbmFrZXMgIT0gbnVsbCAmJiB0aGlzLnNuYWtlc1swXS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSkpID8gaTE4bmV4dC50KFwiZW5naW5lLnBsYXllckh1bWFuXCIpIDogaTE4bmV4dC50KFwiZW5naW5lLnBsYXllckFJXCIpKSA6IFwiXCIpICsgKHRoaXMuZ2V0TkJQbGF5ZXIoR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkFJKSA+IDAgPyBcIlxcblwiICsgIGkxOG5leHQudChcImVuZ2luZS5haUxldmVsXCIpICsgXCIgXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUuYWlMZXZlbExpc3QuXCIgKyB0aGlzLmdldFBsYXllcigxLCBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuQUkpLmdldEFJTGV2ZWxUZXh0KCkpIDogXCJcIikgKyBcIlxcblwiICsgaTE4bmV4dC50KFwiZW5naW5lLnNpemVHcmlkXCIpICsgXCIgXCIgKyAodGhpcy5ncmlkICE9IG51bGwgJiYgdGhpcy5ncmlkLndpZHRoID8gdGhpcy5ncmlkLndpZHRoIDogXCI/Pz9cIikgKyBcIsOXXCIgKyAodGhpcy5ncmlkICE9IG51bGwgJiYgdGhpcy5ncmlkLmhlaWdodCA/IHRoaXMuZ3JpZC5oZWlnaHQgOiBcIj8/P1wiKSArIFwiXFxuXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUuY3VycmVudFNwZWVkXCIpICsgXCIgXCIgKyAodGhpcy5pbml0aWFsU3BlZWQgIT0gbnVsbCA/IHRoaXMuaW5pdGlhbFNwZWVkIDogXCI/Pz9cIikgKyAodGhpcy5zbmFrZXMgIT0gbnVsbCAmJiB0aGlzLnNuYWtlcy5sZW5ndGggPD0gMSAmJiB0aGlzLnByb2dyZXNzaXZlU3BlZWQgPyBcIlxcblwiICsgaTE4bmV4dC50KFwiZW5naW5lLnByb2dyZXNzaXZlU3BlZWRcIikgOiBcIlwiKSArICh0aGlzLmdyaWQgIT0gbnVsbCAmJiAhdGhpcy5ncmlkLm1hemUgJiYgdGhpcy5zbmFrZXMgIT0gbnVsbCAmJiB0aGlzLnNuYWtlc1swXS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSA/IFwiXFxuXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUuYXNzaXN0QUlcIikgOiBcIlwiKSArICh0aGlzLmdyaWQgIT0gbnVsbCAmJiB0aGlzLmdyaWQubWF6ZSA/IFwiXFxuXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUubWF6ZU1vZGVNaW5cIikgOiBcIlwiKSArICh0aGlzLm9ubGluZU1vZGUgPyBcIlxcblwiICsgaTE4bmV4dC50KFwiZW5naW5lLm9ubGluZU1vZGVcIikgOiBcIlwiKSArICh0aGlzLnBpbmdMYXRlbmN5ID4gLTEgPyBcIlxcblwiICsgaTE4bmV4dC50KFwiZW5naW5lLnBpbmdcIikgKyBcIiBcIiArIHRoaXMucGluZ0xhdGVuY3kgKyBcIiBtc1wiIDogXCJcIik7XG5cbiAgICAgICAgICAodGhpcy5ncmlkICYmICh0aGlzLmdyaWQuc2VlZEdyaWQgfHwgdGhpcy5ncmlkLnNlZWRHYW1lKSkgPyB0aGlzLm1lbnUuc2V0KHRoaXMubGFiZWxNZW51cywgdGhpcy5idG5BZHZhbmNlZCwgdGhpcy5idG5PSykgOiB0aGlzLm1lbnUuc2V0KHRoaXMubGFiZWxNZW51cywgdGhpcy5idG5PSyk7XG4gICAgICAgICAgXG4gICAgICAgICAgdGhpcy5idG5PSy5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldEluZm9zR2FtZSA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgIFxuICAgICAgICAgIHRoaXMuYnRuQWR2YW5jZWQuc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZXRBZHZhbmNlZEluZm9zR2FtZSA9IHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMubGFiZWxNZW51cy5jb2xvciA9IFwid2hpdGVcIjtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmdldEluZm9zKSB7XG4gICAgICAgIHRoaXMubGFiZWxNZW51cy50ZXh0ID0gaTE4bmV4dC50KFwiZW5naW5lLmFib3V0U2NyZWVuLnRpdGxlXCIpICsgXCJcXG53d3cuZWxpYXN0aWtzb2Z0cy5jb21cXG5cXG5cIiArIGkxOG5leHQudChcImVuZ2luZS5hYm91dFNjcmVlbi52ZXJzaW9uQW5kRGF0ZVwiLCB7IHZlcnNpb246IEdhbWVDb25zdGFudHMuU2V0dGluZy5BUFBfVkVSU0lPTiwgZGF0ZTogbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoaTE4bmV4dC5sYW5ndWFnZSkuZm9ybWF0KG5ldyBEYXRlKEdhbWVDb25zdGFudHMuU2V0dGluZy5EQVRFX1ZFUlNJT04pKSwgaW50ZXJwb2xhdGlvbjogeyBlc2NhcGVWYWx1ZTogZmFsc2UgfSB9KTtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLmNvbG9yID0gXCJ3aGl0ZVwiO1xuICAgICAgICB0aGlzLm1lbnUuc2V0KHRoaXMubGFiZWxNZW51cywgdGhpcy5idG5JbmZvc0dhbWUsIHRoaXMuYnRuT0spO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5idG5JbmZvc0dhbWUuc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZ2V0SW5mb3NHYW1lID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5idG5PSy5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5nZXRJbmZvcyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmNvbmZpcm1FeGl0KSB7XG4gICAgICAgIHRoaXMubGFiZWxNZW51cy50ZXh0ID0gaTE4bmV4dC50KFwiZW5naW5lLmV4aXRDb25maXJtXCIpO1xuICAgICAgICB0aGlzLmxhYmVsTWVudXMuY29sb3IgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgdGhpcy5tZW51LnNldCh0aGlzLmxhYmVsTWVudXMsIHRoaXMuYnRuTm8sIHRoaXMuYnRuWWVzKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYnRuWWVzLnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbmZpcm1FeGl0ID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5leGl0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5idG5Oby5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jb25maXJtRXhpdCA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZih0aGlzLmFzc2V0c0xvYWRlZCAmJiB0aGlzLmNvdW50QmVmb3JlUGxheSA+PSAwKSB7XG4gICAgICAgIGlmKHRoaXMuc25ha2VzICE9IG51bGwgJiYgKCh0aGlzLnNuYWtlcy5sZW5ndGggPiAxICYmIHRoaXMuZ2V0TkJQbGF5ZXIoR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOKSA8PSAxICYmIHRoaXMuZ2V0UGxheWVyKDEsIEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IVU1BTikgIT0gbnVsbCkgfHwgKHRoaXMuc25ha2VzLmxlbmd0aCA+IDEgJiYgdGhpcy5nZXROQlBsYXllcihHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSA8PSAxICYmIHRoaXMuZ2V0UGxheWVyKDEsIEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IWUJSSURfSFVNQU5fQUkpICE9IG51bGwpIHx8ICh0aGlzLmN1cnJlbnRQbGF5ZXIgIT0gbnVsbCAmJiB0aGlzLnNuYWtlcy5sZW5ndGggPiAxKSkpIHtcbiAgICAgICAgICBsZXQgcGxheWVySHVtYW4sIGNvbG9yTmFtZSwgY29sb3JSZ2I7XG5cbiAgICAgICAgICBpZighdGhpcy5zcGVjdGF0b3JNb2RlKSB7XG4gICAgICAgICAgICBpZih0aGlzLmN1cnJlbnRQbGF5ZXIgIT0gbnVsbCAmJiB0aGlzLmN1cnJlbnRQbGF5ZXIgPiAtMSkge1xuICAgICAgICAgICAgICBwbGF5ZXJIdW1hbiA9IHRoaXMuZ2V0UGxheWVyKHRoaXMuY3VycmVudFBsYXllciArIDEsIEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IVU1BTikgfHwgdGhpcy5nZXRQbGF5ZXIodGhpcy5jdXJyZW50UGxheWVyICsgMSwgR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYodGhpcy5nZXRQbGF5ZXIoMSwgR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHBsYXllckh1bWFuID0gdGhpcy5nZXRQbGF5ZXIoMSwgR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBsYXllckh1bWFuID0gdGhpcy5nZXRQbGF5ZXIoMSwgR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYocGxheWVySHVtYW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29sb3JOYW1lID0gR3JhcGhpY3NVdGlscy5oc2xUb05hbWUoR2FtZVV0aWxzLmFkZEh1ZShHYW1lQ29uc3RhbnRzLlNldHRpbmcuSU1BR0VfU05BS0VfSFVFLCBwbGF5ZXJIdW1hbi5jb2xvciksIEdhbWVDb25zdGFudHMuU2V0dGluZy5JTUFHRV9TTkFLRV9TQVRVUkFUSU9OLCBHYW1lQ29uc3RhbnRzLlNldHRpbmcuSU1BR0VfU05BS0VfVkFMVUUpO1xuICAgICAgICAgICAgY29sb3JSZ2IgPSBHcmFwaGljc1V0aWxzLmhzdlRvUmdiKEdhbWVVdGlscy5hZGRIdWUoR2FtZUNvbnN0YW50cy5TZXR0aW5nLklNQUdFX1NOQUtFX0hVRSwgcGxheWVySHVtYW4uY29sb3IpIC8gMzYwLCBHYW1lQ29uc3RhbnRzLlNldHRpbmcuSU1BR0VfU05BS0VfU0FUVVJBVElPTiAvIDEwMCwgR2FtZUNvbnN0YW50cy5TZXR0aW5nLklNQUdFX1NOQUtFX1ZBTFVFIC8gMTAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZih0aGlzLmNvdW50QmVmb3JlUGxheSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWxNZW51cy50ZXh0ID0gXCJcIiArIHRoaXMuY291bnRCZWZvcmVQbGF5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsTWVudXMudGV4dCA9IGkxOG5leHQudChcImVuZ2luZS5yZWFkeVwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmxhYmVsTWVudXMudGV4dCArPSAocGxheWVySHVtYW4gIT0gbnVsbCA/IChcIlxcblwiICsgKHRoaXMuaXNGaWx0ZXJIdWVBdmFpbGFibGUgJiYgY29sb3JOYW1lICE9IFwiPz8/XCIgJiYgKHRoaXMuZ3JhcGhpY1NraW4gPT0gXCJmbGF0XCIgfHwgdGhpcy5ncmFwaGljU2tpbiA9PSBcInBpeGVsXCIpID8gaTE4bmV4dC50KFwiZW5naW5lLmNvbG9yUGxheWVyXCIsIHsgY29sb3I6IGNvbG9yTmFtZSB9KSA6IGkxOG5leHQudChcImVuZ2luZS5hcnJvd1BsYXllclwiKSkpIDogXCJcIik7XG5cbiAgICAgICAgICBpZihjb2xvclJnYiAmJiBjb2xvclJnYi5sZW5ndGggPj0gMykge1xuICAgICAgICAgICAgdGhpcy5sYWJlbE1lbnVzLmNvbG9yID0gKHRoaXMuaXNGaWx0ZXJIdWVBdmFpbGFibGUgJiYgY29sb3JOYW1lICE9IFwiPz8/XCIgJiYgKHRoaXMuZ3JhcGhpY1NraW4gPT0gXCJmbGF0XCIgfHwgdGhpcy5ncmFwaGljU2tpbiA9PSBcInBpeGVsXCIpID8gW1wid2hpdGVcIiwgXCJyZ2IoXCIgKyBjb2xvclJnYlswXSArIFwiLCBcIiArIGNvbG9yUmdiWzFdICsgXCIsIFwiICsgY29sb3JSZ2JbMl0gKyBcIilcIl0gOiBbXCJ3aGl0ZVwiLCBcIiMzNDk4ZGJcIl0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsTWVudXMuY29sb3IgPSBcIndoaXRlXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmKHRoaXMuY291bnRCZWZvcmVQbGF5ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbE1lbnVzLnRleHQgPSBcIlwiICsgdGhpcy5jb3VudEJlZm9yZVBsYXk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWxNZW51cy50ZXh0ID0gaTE4bmV4dC50KFwiZW5naW5lLnJlYWR5XCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubGFiZWxNZW51cy5jb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgICF0aGlzLmZ1bGxzY3JlZW4gPyB0aGlzLm1lbnUuc2V0KHRoaXMubGFiZWxNZW51cywgdGhpcy5idG5FbnRlckZ1bGxTY3JlZW4pIDogdGhpcy5tZW51LnNldCh0aGlzLmxhYmVsTWVudXMpO1xuICAgICAgICAgIFxuICAgICAgICB0aGlzLmJ0bkVudGVyRnVsbFNjcmVlbi5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy50b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuY29uZmlybVJlc2V0ICYmICF0aGlzLmdhbWVPdmVyKSB7XG4gICAgICAgIHRoaXMubGFiZWxNZW51cy50ZXh0ID0gaTE4bmV4dC50KFwiZW5naW5lLnJlc2V0Q29uZmlybVwiKTtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLmNvbG9yID0gXCIjRTc0QzNDXCI7XG4gICAgICAgIHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0bk5vLCB0aGlzLmJ0blllcyk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmJ0blllcy5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jb25maXJtUmVzZXQgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYnRuTm8uc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29uZmlybVJlc2V0ID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuZ2FtZUZpbmlzaGVkKSB7XG4gICAgICAgIHRoaXMubGFiZWxNZW51cy50ZXh0ID0gKHRoaXMuZ3JpZC5tYXplICYmIHRoaXMuZ2FtZU1hemVXaW4pID8gaTE4bmV4dC50KFwiZW5naW5lLm1hemVXaW5cIikgOiBpMThuZXh0LnQoXCJlbmdpbmUuZ2FtZUZpbmlzaGVkXCIpICsgbmV4dEdhbWVUZXh0O1xuICAgICAgICB0aGlzLmxhYmVsTWVudXMuY29sb3IgPSAodGhpcy5ncmlkLm1hemUgJiYgdGhpcy5nYW1lTWF6ZVdpbikgPyBcIiMyZWNjNzFcIiA6IFwid2hpdGVcIjtcbiAgICAgICAgdGhpcy5lbmFibGVSZXRyeSA/IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0blJldHJ5LCB0aGlzLmJ0blF1aXQpIDogdGhpcy5tZW51LnNldCh0aGlzLmxhYmVsTWVudXMsIHRoaXMuYnRuUXVpdCk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmJ0blJldHJ5LnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYnRuUXVpdC5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jb25maXJtRXhpdCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuc2NvcmVNYXggJiYgdGhpcy5zbmFrZXMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLnRleHQgPSBpMThuZXh0LnQoXCJlbmdpbmUuc2NvcmVNYXhcIikgKyBuZXh0R2FtZVRleHQ7XG4gICAgICAgIHRoaXMubGFiZWxNZW51cy5jb2xvciA9IFwiIzJlY2M3MVwiO1xuICAgICAgICB0aGlzLmVuYWJsZVJldHJ5ID8gdGhpcy5tZW51LnNldCh0aGlzLmxhYmVsTWVudXMsIHRoaXMuYnRuUmV0cnksIHRoaXMuYnRuUXVpdCkgOiAodGhpcy5mdWxsc2NyZWVuID8gdGhpcy5tZW51LnNldCh0aGlzLmxhYmVsTWVudXMsIHRoaXMuYnRuRXhpdEZ1bGxTY3JlZW4pIDogdGhpcy5tZW51LnNldCh0aGlzLmxhYmVsTWVudXMsIHRoaXMuYnRuUXVpdCkpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5idG5SZXRyeS5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJ0blF1aXQuc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29uZmlybUV4aXQgPSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJ0bkV4aXRGdWxsU2NyZWVuLnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYodGhpcy5nYW1lT3ZlciAmJiB0aGlzLnNuYWtlcy5sZW5ndGggPD0gMSkge1xuICAgICAgICB0aGlzLmxhYmVsTWVudXMudGV4dCA9IGkxOG5leHQudChcImVuZ2luZS5nYW1lT3ZlclwiKSArIG5leHRHYW1lVGV4dDtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLmNvbG9yID0gXCIjRTc0QzNDXCI7XG4gICAgICAgIHRoaXMuZW5hYmxlUmV0cnkgJiYgdGhpcy5zbmFrZXNbMF0gJiYgIXRoaXMuc25ha2VzWzBdLmF1dG9SZXRyeSA/IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0blJldHJ5LCB0aGlzLmJ0blF1aXQpIDogKHRoaXMuZnVsbHNjcmVlbiA/IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0bkV4aXRGdWxsU2NyZWVuKSA6IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0blF1aXQpKTtcblxuICAgICAgICBpZih0aGlzLnNuYWtlc1swXSAmJiB0aGlzLnNuYWtlc1swXS5hdXRvUmV0cnkgJiYgdGhpcy50aW1lb3V0QXV0b1JldHJ5ID09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnRpbWVvdXRBdXRvUmV0cnkgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMudGltZW91dEF1dG9SZXRyeSA9IG51bGw7XG4gICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmJ0blJldHJ5LnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuYnRuUXVpdC5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpcm1FeGl0ID0gdHJ1ZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRoaXMuYnRuRXhpdEZ1bGxTY3JlZW4uc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZih0aGlzLmFzc2V0c0xvYWRlZCAmJiB0aGlzLnNlYXJjaGluZ1BsYXllcnMpIHtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLnRleHQgPSBpMThuZXh0LnQoXCJlbmdpbmUuc2VydmVycy53YWl0aW5nUGxheWVyc1wiKSArIFwiXFxuXCIgKyB0aGlzLnBsYXllck51bWJlciArIFwiL1wiICsgdGhpcy5tYXhQbGF5ZXJzICsgKHRoaXMudGltZVN0YXJ0ID4gMCA/IChcIlxcblxcblwiICsgaTE4bmV4dC50KFwiZW5naW5lLnNlcnZlcnMuZ2FtZVN0YXJ0XCIpICsgXCIgXCIgKyBHYW1lVXRpbHMubWlsbGlzZWNvbmRzRm9ybWF0KHRoaXMudGltZVN0YXJ0KSkgOiBcIlwiKTtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLmNvbG9yID0gXCJ3aGl0ZVwiO1xuICAgICAgICB0aGlzLm9ubGluZU1hc3RlciA/IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0blN0YXJ0R2FtZSwgdGhpcy5idG5RdWl0KSA6IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0blF1aXQpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5idG5RdWl0LnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbmZpcm1FeGl0ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5idG5TdGFydEdhbWUuc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZm9yY2VTdGFydCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZih0aGlzLnBhdXNlZCAmJiAhdGhpcy5nYW1lT3ZlciAmJiB0aGlzLmFzc2V0c0xvYWRlZCkge1xuICAgICAgICB0aGlzLmxhYmVsTWVudXMudGV4dCA9IGkxOG5leHQudChcImVuZ2luZS5wYXVzZVwiKTtcbiAgICAgICAgdGhpcy5sYWJlbE1lbnVzLmNvbG9yID0gXCJ3aGl0ZVwiO1xuICAgICAgICB0aGlzLmVuYWJsZVBhdXNlID8gKHRoaXMuZW5hYmxlUmV0cnkgJiYgdGhpcy5lbmFibGVSZXRyeVBhdXNlTWVudSA/IHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0bkNvbnRpbnVlLCB0aGlzLmJ0blJldHJ5LCB0aGlzLmJ0bkFib3V0LCB0aGlzLmJ0blF1aXQpIDogdGhpcy5tZW51LnNldCh0aGlzLmxhYmVsTWVudXMsIHRoaXMuYnRuQ29udGludWUsIHRoaXMuYnRuQWJvdXQsIHRoaXMuYnRuUXVpdCkpIDogKHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzLCB0aGlzLmJ0bkNvbnRpbnVlLCB0aGlzLmJ0bkFib3V0KSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmJ0bkNvbnRpbnVlLnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYnRuUmV0cnkuc2V0Q2xpY2tBY3Rpb24oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29uZmlybVJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5idG5RdWl0LnNldENsaWNrQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbmZpcm1FeGl0ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5idG5BYm91dC5zZXRDbGlja0FjdGlvbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5nZXRJbmZvcyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmKHRoaXMuYXNzZXRzTG9hZGVkKSB7XG4gICAgICAgIHRoaXMuYnRuRnVsbFNjcmVlbi5lbmFibGUoKTtcbiAgICAgICAgdGhpcy5nYW1lUmFua2luZy5lbmFibGUoKTtcblxuICAgICAgICBpZih0aGlzLnNuYWtlcyAhPSBudWxsKSB7XG4gICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuc25ha2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0aGlzLnNuYWtlc1tpXS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhVTUFOIHx8IHRoaXMuc25ha2VzW2ldLnBsYXllciA9PSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFlCUklEX0hVTUFOX0FJKSB7XG4gICAgICAgICAgICAgIHRoaXMuYnRuVG9wQXJyb3cuZW5hYmxlKCk7XG4gICAgICAgICAgICAgIHRoaXMuYnRuQm90dG9tQXJyb3cuZW5hYmxlKCk7XG4gICAgICAgICAgICAgIHRoaXMuYnRuTGVmdEFycm93LmVuYWJsZSgpO1xuICAgICAgICAgICAgICB0aGlzLmJ0blJpZ2h0QXJyb3cuZW5hYmxlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuZW5hYmxlUGF1c2UpIHtcbiAgICAgICAgICB0aGlzLmJ0blBhdXNlLmVuYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5zbmFrZXMgIT0gbnVsbCAmJiB0aGlzLnNuYWtlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhpcy5idG5SYW5rLmVuYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5ub3RpZmljYXRpb25NZXNzYWdlICE9IHVuZGVmaW5lZCAmJiB0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UgIT0gbnVsbCAmJiB0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UgaW5zdGFuY2VvZiBOb3RpZmljYXRpb25NZXNzYWdlICYmICF0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UuZm9yZUdyb3VuZCkge1xuICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZS5lbmFibGVDbG9zZUJ1dHRvbigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKHRoaXMuYXNzZXRzTG9hZGVkICYmIHRoaXMuZW5naW5lTG9hZGluZykge1xuICAgICAgICB0aGlzLmxhYmVsTWVudXMudGV4dCA9IGkxOG5leHQudChcImVuZ2luZS5sb2FkaW5nV29ya2VyXCIpO1xuICAgICAgICB0aGlzLmxhYmVsTWVudXMuY29sb3IgPSBcIndoaXRlXCI7XG4gICAgICAgIHRoaXMubWVudS5zZXQodGhpcy5sYWJlbE1lbnVzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sYWJlbE1lbnVzLmZvbnRTaXplID0gdGhpcy5mb250U2l6ZTtcblxuICAgICAgaWYoKHRoaXMuZ2FtZUZpbmlzaGVkIHx8IHRoaXMuZ2FtZU92ZXIpICYmIHRoaXMuc25ha2VzICE9IG51bGwgJiYgdGhpcy5zbmFrZXMubGVuZ3RoID4gMSAmJiAhdGhpcy5lcnJvck9jY3VycmVkKSB7XG4gICAgICAgIHRoaXMuZ2FtZVJhbmtpbmcub3BlbigpO1xuICAgICAgICB0aGlzLmdhbWVSYW5raW5nLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIFxuICAgICAgaWYodGhpcy5ub3RpZmljYXRpb25NZXNzYWdlICE9IHVuZGVmaW5lZCAmJiB0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UgIT0gbnVsbCAmJiB0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UgaW5zdGFuY2VvZiBOb3RpZmljYXRpb25NZXNzYWdlICYmIHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZS5mb3JlR3JvdW5kKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZS5lbmFibGVDbG9zZUJ1dHRvbigpO1xuICAgICAgfVxuXG4gICAgICBpZih0aGlzLmRpc3BsYXlGUFMpIHtcbiAgICAgICAgVXRpbHMuZHJhd1RleHQoY3R4LCB0aGlzLmdldERlYnVnVGV4dCgpLCBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC44NSlcIiwgTWF0aC5yb3VuZCh0aGlzLmZvbnRTaXplIC8gMS41KSwgR2FtZUNvbnN0YW50cy5TZXR0aW5nLkZPTlRfRkFNSUxZLCBcInJpZ2h0XCIsIFwiYm90dG9tXCIsIG51bGwsIG51bGwsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZih0aGlzLnNwZWN0YXRvck1vZGUpIHtcbiAgICAgICAgVXRpbHMuZHJhd1RleHQoY3R4LCBpMThuZXh0LnQoXCJlbmdpbmUuc2VydmVycy5zcGVjdGF0b3JNb2RlXCIpLCBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KVwiLCBNYXRoLnJvdW5kKHRoaXMuZm9udFNpemUpLCBHYW1lQ29uc3RhbnRzLlNldHRpbmcuRk9OVF9GQU1JTFksIFwibGVmdFwiLCBcImJvdHRvbVwiLCBudWxsLCBudWxsLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jYW52YXMuZHJhdygpO1xuICAgIH1cbiAgfVxuXG4gIHNldERpc3BsYXlGUFMoZGlzcGxheSkge1xuICAgIHRoaXMuZGlzcGxheUZQUyA9IGRpc3BsYXk7XG4gIH1cblxuICBkaXNhYmxlQWxsQnV0dG9ucygpIHtcbiAgICBpZih0aGlzLm91dHB1dFR5cGUgPT0gR2FtZUNvbnN0YW50cy5PdXRwdXRUeXBlLkdSQVBISUNBTCkge1xuICAgICAgdGhpcy5idG5Db250aW51ZS5kaXNhYmxlKCk7XG4gICAgICB0aGlzLmJ0blJldHJ5LmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuUXVpdC5kaXNhYmxlKCk7XG4gICAgICB0aGlzLmJ0blllcy5kaXNhYmxlKCk7XG4gICAgICB0aGlzLmJ0bk5vLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuT0suZGlzYWJsZSgpO1xuICAgICAgdGhpcy5idG5PSy5kaXNhYmxlKCk7XG4gICAgICB0aGlzLmJ0bkFib3V0LmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuSW5mb3NHYW1lLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuRnVsbFNjcmVlbi5kaXNhYmxlKCk7XG4gICAgICB0aGlzLmJ0blBhdXNlLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuUmFuay5kaXNhYmxlKCk7XG4gICAgICB0aGlzLmJ0bkV4aXRGdWxsU2NyZWVuLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuRW50ZXJGdWxsU2NyZWVuLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuU3RhcnRHYW1lLmRpc2FibGUoKTtcbiAgICAgIHRoaXMuZ2FtZVJhbmtpbmcuZGlzYWJsZSgpO1xuXG4gICAgICBpZih0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UgIT0gdW5kZWZpbmVkICYmIHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZSAhPSBudWxsICYmIHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZSBpbnN0YW5jZW9mIE5vdGlmaWNhdGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25NZXNzYWdlLmRpc2FibGVDbG9zZUJ1dHRvbigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmJ0blRvcEFycm93LmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuQm90dG9tQXJyb3cuZGlzYWJsZSgpO1xuICAgICAgdGhpcy5idG5SaWdodEFycm93LmRpc2FibGUoKTtcbiAgICAgIHRoaXMuYnRuTGVmdEFycm93LmRpc2FibGUoKTtcbiAgICB9XG4gIH1cblxuICBzZXROb3RpZmljYXRpb24obm90aWZpY2F0aW9uKSB7XG4gICAgaWYodGhpcy5ub3RpZmljYXRpb25NZXNzYWdlICE9IHVuZGVmaW5lZCAmJiB0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UgIT0gbnVsbCAmJiB0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UgaW5zdGFuY2VvZiBOb3RpZmljYXRpb25NZXNzYWdlKSB7XG4gICAgICB0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UuY2xvc2UoKTtcbiAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdGhpcy5ub3RpZmljYXRpb25NZXNzYWdlID0gbm90aWZpY2F0aW9uO1xuXG4gICAgaWYodGhpcy5ub3RpZmljYXRpb25NZXNzYWdlIGluc3RhbmNlb2YgTm90aWZpY2F0aW9uTWVzc2FnZSAmJiB0aGlzLmRpc2FibGVBbmltYXRpb24pIHtcbiAgICAgIHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZS5kaXNhYmxlQW5pbWF0aW9uID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZih0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMubm90aWZpY2F0aW9uTWVzc2FnZSk7XG4gICAgICB0aGlzLm5vdGlmaWNhdGlvbk1lc3NhZ2Uub3BlbigpO1xuICAgIH1cbiAgfVxuXG4gIHNldFRpbWVUb0Rpc3BsYXkodGltZSkge1xuICAgIHRoaXMudGltZXJUb0Rpc3BsYXkgPSB0aW1lO1xuICB9XG5cbiAgc2V0QmVzdFNjb3JlKHNjb3JlKSB7XG4gICAgaWYoc2NvcmUgIT0gdW5kZWZpbmVkICYmIHNjb3JlICE9IG51bGwgJiYgc2NvcmUudHJpbSgpICE9IFwiXCIpIHtcbiAgICAgIHRoaXMuYmVzdFNjb3JlVG9EaXNwbGF5ID0gc2NvcmU7XG4gICAgfVxuICB9XG5cbiAgZ2V0RGVidWdUZXh0KCkge1xuICAgIHJldHVybiBpMThuZXh0LnQoXCJlbmdpbmUuZGVidWcuZnBzXCIpICsgXCIgXCIgKyB0aGlzLmN1cnJlbnRGUFMgKyBcIiAvIFwiICsgaTE4bmV4dC50KFwiZW5naW5lLmRlYnVnLmZyYW1lc1wiKSArIFwiIFwiICsgdGhpcy5mcmFtZSArIFwiIC8gXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUuZGVidWcudGlja3NcIikgKyBcIiBcIiArIHRoaXMudGlja3MgKyBcIiAvIFwiICsgaTE4bmV4dC50KFwiZW5naW5lLmRlYnVnLnNwZWVkXCIpICsgXCIgXCIgKyB0aGlzLnNwZWVkICsgKHRoaXMucGluZ0xhdGVuY3kgPiAtMSA/IFwiIC8gXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUucGluZ1wiKSArIFwiIFwiICsgdGhpcy5waW5nTGF0ZW5jeSArIFwiIG1zXCIgOiBcIlwiKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAodGhpcy5ncmlkICE9IG51bGwgPyB0aGlzLmdyaWQudG9TdHJpbmcoKSA6IFwiXCIpICsgXCJcXG5cIiArICh0aGlzLnNuYWtlcyAhPSBudWxsICYmIHRoaXMuc25ha2VzLmxlbmd0aCA8PSAxID8gaTE4bmV4dC50KFwiZW5naW5lLnNjb3JlXCIpICsgXCIgOiBcIiArICh0aGlzLnNuYWtlcyAhPSBudWxsID8gdGhpcy5zbmFrZXNbMF0uc2NvcmUgOiBcIlwiKSA6IFwiXCIpICsgKHRoaXMuZGlzcGxheUZQUyA/IFwiXFxuXCIgKyB0aGlzLmdldERlYnVnVGV4dCgpIDogXCJcIikgKyAodGhpcy5nYW1lT3ZlciAmJiAhdGhpcy5zY29yZU1heCA/IFwiXFxuXCIgKyBpMThuZXh0LnQoXCJlbmdpbmUuZ2FtZU92ZXJcIikgOiBcIlwiKSArICh0aGlzLnNjb3JlTWF4ID8gXCJcXG5cIiArIGkxOG5leHQudChcImVuZ2luZS5zY29yZU1heFwiKSA6IFwiXCIpICsgKCF0aGlzLmdhbWVPdmVyICYmIHRoaXMucGF1c2VkID8gXCJcXG5cIiArIGkxOG5leHQudChcImVuZ2luZS5kZWJ1Zy5wYXVzZWRcIikgOiBcIlwiKSArICh0aGlzLmNvdW50QmVmb3JlUGxheSA+IDAgPyBcIlxcblwiICsgdGhpcy5jb3VudEJlZm9yZVBsYXkgOiBcIlwiKTtcbiAgfVxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IGkxOG5leHQgZnJvbSBcImkxOG5leHRcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBoc3ZUb1JnYjogZnVuY3Rpb24oaCwgcywgdikge1xuICAgIGxldCByLCBnLCBiLCBpLCBmLCBwLCBxLCB0O1xuICBcbiAgICBpID0gTWF0aC5mbG9vcihoICogNik7XG4gICAgZiA9IGggKiA2IC0gaTtcbiAgICBwID0gdiAqICgxIC0gcyk7XG4gICAgcSA9IHYgKiAoMSAtIGYgKiBzKTtcbiAgICB0ID0gdiAqICgxIC0gKDEgLSBmKSAqIHMpO1xuICBcbiAgICBzd2l0Y2goaSAlIDYpIHtcbiAgICAgIGNhc2UgMDogciA9IHYsIGcgPSB0LCBiID0gcDsgYnJlYWs7XG4gICAgICBjYXNlIDE6IHIgPSBxLCBnID0gdiwgYiA9IHA7IGJyZWFrO1xuICAgICAgY2FzZSAyOiByID0gcCwgZyA9IHYsIGIgPSB0OyBicmVhaztcbiAgICAgIGNhc2UgMzogciA9IHAsIGcgPSBxLCBiID0gdjsgYnJlYWs7XG4gICAgICBjYXNlIDQ6IHIgPSB0LCBnID0gcCwgYiA9IHY7IGJyZWFrO1xuICAgICAgY2FzZSA1OiByID0gdiwgZyA9IHAsIGIgPSBxOyBicmVhaztcbiAgICB9XG4gIFxuICAgIHJldHVybiBbTWF0aC5yb3VuZChyICogMjU1KSwgTWF0aC5yb3VuZChnICogMjU1KSwgTWF0aC5yb3VuZChiICogMjU1KV07XG4gIH0sXG4gIGhzbFRvTmFtZTogZnVuY3Rpb24oaCwgcywgbCkge1xuICAgIGlmKHMgPD0gMTAgJiYgbCA+PSA5MCkge1xuICAgICAgcmV0dXJuIGkxOG5leHQudChcImVuZ2luZS5jb2xvcnMud2hpdGVcIik7XG4gICAgfSBlbHNlIGlmKChzIDw9IDEwICYmIGwgPD0gNzApIHx8IHMgPT0gMCkge1xuICAgICAgcmV0dXJuIGkxOG5leHQudChcImVuZ2luZS5jb2xvcnMuZ3JheVwiKTtcbiAgICB9IGVsc2UgaWYobCA8PSAxNSkge1xuICAgICAgcmV0dXJuIGkxOG5leHQudChcImVuZ2luZS5jb2xvcnMuYmxhY2tcIik7XG4gICAgfSBlbHNlIGlmKChoID49IDAgJiYgaCA8PSA2KSB8fCBoID49IDM1MCkge1xuICAgICAgcmV0dXJuIGkxOG5leHQudChcImVuZ2luZS5jb2xvcnMucmVkXCIpO1xuICAgIH0gZWxzZSBpZihoID49IDcgJiYgaCA8PSA0Mikge1xuICAgICAgcmV0dXJuIGkxOG5leHQudChcImVuZ2luZS5jb2xvcnMub3JhbmdlXCIpO1xuICAgIH0gZWxzZSBpZihoID49IDQzICYmIGggPD0gNzApIHtcbiAgICAgIHJldHVybiBpMThuZXh0LnQoXCJlbmdpbmUuY29sb3JzLnllbGxvd1wiKTtcbiAgICB9IGVsc2UgaWYoaCA+PSA3MSAmJiBoIDw9IDE1Nikge1xuICAgICAgcmV0dXJuIGkxOG5leHQudChcImVuZ2luZS5jb2xvcnMuZ3JlZW5cIik7XG4gICAgfSBlbHNlIGlmKGggPj0gMTU3ICYmIGggPD0gMjIxKSB7XG4gICAgICByZXR1cm4gaTE4bmV4dC50KFwiZW5naW5lLmNvbG9ycy5ibHVlXCIpO1xuICAgIH0gZWxzZSBpZihoID49IDIyMiAmJiBoIDw9IDI5MCkge1xuICAgICAgcmV0dXJuIGkxOG5leHQudChcImVuZ2luZS5jb2xvcnMucHVycGxlXCIpO1xuICAgIH0gZWxzZSBpZihoID49IDI5MSAmJiBoIDw9IDM0OSkge1xuICAgICAgcmV0dXJuIGkxOG5leHQudChcImVuZ2luZS5jb2xvcnMucGlua1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiPz8/XCI7XG4gICAgfVxuICB9XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxOS0yMDIwIEVsaWFzdGlrIChlbGlhc3Rpa3NvZnRzLmNvbSlcbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBcIlNuYWtlSUFcIi5cbiAqXG4gKiBcIlNuYWtlSUFcIiBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFwiU25ha2VJQVwiLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5pbXBvcnQgR2FtZUNvbnN0YW50cyBmcm9tIFwiLi4vZW5naW5lL0NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBVdGlscywgRWFzaW5nRnVuY3Rpb25zIH0gZnJvbSBcImpzZ2FtZXRvb2xzXCI7XG5pbXBvcnQgaTE4bmV4dCBmcm9tIFwiaTE4bmV4dFwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi9lbmdpbmUvUG9zaXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR3JpZFVJIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3Ioc25ha2VzLCBncmlkLCBzcGVlZCwgZGlzYWJsZUFuaW1hdGlvbiwgZ3JhcGhpY1NraW4sIGlzRmlsdGVySHVlQXZhaWxhYmxlLCBoZWFkZXJIZWlnaHQsIGltYWdlTG9hZGVyLCBjdXJyZW50UGxheWVyLCBnYW1lRmluaXNoZWQsIGNvdW50QmVmb3JlUGxheSwgc3BlY3RhdG9yTW9kZSwgdGlja3MsIGdhbWVPdmVyKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuc25ha2VzID0gc25ha2VzO1xuICAgIHRoaXMuZ3JpZCA9IGdyaWQ7XG4gICAgdGhpcy5zcGVlZCA9IHNwZWVkO1xuICAgIHRoaXMuZGlzYWJsZUFuaW1hdGlvbiA9IGRpc2FibGVBbmltYXRpb247XG4gICAgdGhpcy5pc0ZpbHRlckh1ZUF2YWlsYWJsZSA9IGlzRmlsdGVySHVlQXZhaWxhYmxlO1xuICAgIHRoaXMuaGVhZGVySGVpZ2h0ID0gaGVhZGVySGVpZ2h0O1xuICAgIHRoaXMuaW1hZ2VMb2FkZXIgPSBpbWFnZUxvYWRlcjtcbiAgICB0aGlzLmdyYXBoaWNTa2luID0gZ3JhcGhpY1NraW47XG4gICAgdGhpcy5jdXJyZW50UGxheWVyID0gY3VycmVudFBsYXllcjtcbiAgICB0aGlzLmdhbWVGaW5pc2hlZCA9IGdhbWVGaW5pc2hlZDtcbiAgICB0aGlzLm9mZnNldEZyYW1lID0gMDtcbiAgICB0aGlzLmNvdW50QmVmb3JlUGxheSA9IGNvdW50QmVmb3JlUGxheTtcbiAgICB0aGlzLnNwZWN0YXRvck1vZGUgPSBzcGVjdGF0b3JNb2RlO1xuICAgIHRoaXMudGlja3MgPSB0aWNrcztcbiAgICB0aGlzLmdhbWVPdmVyID0gZ2FtZU92ZXI7XG5cbiAgICB0aGlzLmNhbnZhc1RtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gIH1cblxuICBkcmF3KGNvbnRleHQpIHtcbiAgICBpZih0aGlzLmdyaWQgJiYgdGhpcy5ncmlkLmdyaWQpIHtcbiAgICAgIHN1cGVyLmRyYXcoY29udGV4dCk7XG5cbiAgICAgIGNvbnN0IGNhbnZhcyA9IGNvbnRleHQuY2FudmFzO1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgXG4gICAgICB0aGlzLmNhbnZhc1RtcC53aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgIHRoaXMuY2FudmFzVG1wLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XG4gIFxuICAgICAgY3R4LnNhdmUoKTtcbiAgXG4gICAgICBsZXQgY2FzZUhlaWdodCA9IE1hdGguZmxvb3IoKGNhbnZhcy5oZWlnaHQgLSB0aGlzLmhlYWRlckhlaWdodCkgLyB0aGlzLmdyaWQuaGVpZ2h0KTtcbiAgICAgIGxldCBjYXNlV2lkdGggPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIHRoaXMuZ3JpZC53aWR0aCk7XG4gICAgICBjYXNlSGVpZ2h0ID0gY2FzZUhlaWdodCA+IGNhc2VXaWR0aCA/IGNhc2VXaWR0aCA6IGNhc2VIZWlnaHQ7XG4gICAgICBjYXNlV2lkdGggPSBjYXNlV2lkdGggPiBjYXNlSGVpZ2h0ID8gY2FzZUhlaWdodCA6IGNhc2VXaWR0aDtcbiAgXG4gICAgICBjb25zdCB0b3RhbFdpZHRoID0gY2FzZVdpZHRoICogdGhpcy5ncmlkLndpZHRoO1xuICAgICAgY29uc3QgdG90YWxIZWlnaHQgPSBjYXNlSGVpZ2h0ICogdGhpcy5ncmlkLmhlaWdodDtcbiAgXG4gICAgICB0aGlzLndpZHRoID0gdG90YWxXaWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdG90YWxIZWlnaHQ7XG4gIFxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JpZC5oZWlnaHQ7IGkrKykge1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgdGhpcy5ncmlkLndpZHRoOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBjYXNlWCA9IE1hdGguZmxvb3IoaiAqIGNhc2VXaWR0aCArICgoY2FudmFzLndpZHRoIC0gdG90YWxXaWR0aCkgLyAyKSk7XG4gICAgICAgICAgY29uc3QgY2FzZVkgPSB0aGlzLmhlYWRlckhlaWdodCArIGkgKiBjYXNlSGVpZ2h0O1xuICBcbiAgICAgICAgICBpZihpID09IDAgJiYgaiA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnggPSBjYXNlWDtcbiAgICAgICAgICAgIHRoaXMueSA9IGNhc2VZO1xuICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgaWYoKGkgJSAyID09IDAgJiYgaiAlIDIgPT0gMCkgfHwgKGkgJSAyID09IDEgJiYgaiAlIDIgPT0gMSkpIHtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMTI3LCAxNDAsIDE0MSwgMC43NSlcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSg0NCwgNjIsIDgwLCAwLjc1KVwiO1xuICAgICAgICAgIH1cbiAgXG4gICAgICAgICAgY3R4LmZpbGxSZWN0KGNhc2VYLCBjYXNlWSwgY2FzZVdpZHRoLCBjYXNlSGVpZ2h0KTtcbiAgICAgICAgICBVdGlscy5kcmF3SW1hZ2UoY3R4LCB0aGlzLmltYWdlTG9hZGVyLmdldChcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9cIiArIHRoaXMuZ3JpZC5nZXRJbWFnZUNhc2UobmV3IFBvc2l0aW9uKGosIGkpKSwgTWF0aC5yb3VuZChjYXNlV2lkdGgpLCBNYXRoLnJvdW5kKGNhc2VIZWlnaHQpKSwgTWF0aC5yb3VuZChjYXNlWCksIE1hdGgucm91bmQoY2FzZVkpLCBNYXRoLnJvdW5kKGNhc2VXaWR0aCksIE1hdGgucm91bmQoY2FzZUhlaWdodCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gIFxuICAgICAgdGhpcy5kcmF3U25ha2UoY3R4LCBjYXNlV2lkdGgsIGNhc2VIZWlnaHQsIHRvdGFsV2lkdGgsIHRoaXMuY3VycmVudFBsYXllcik7XG4gIFxuICAgICAgdGhpcy5jYW52YXNUbXAud2lkdGggPSAwO1xuICAgICAgdGhpcy5jYW52YXNUbXAuaGVpZ2h0ID0gMDtcbiAgXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgfVxuICBcbiAgZHJhd1NuYWtlKGN0eCwgY2FzZVdpZHRoLCBjYXNlSGVpZ2h0LCB0b3RhbFdpZHRoLCBjdXJyZW50UGxheWVyKSB7XG4gICAgaWYodGhpcy5zbmFrZXMgIT0gbnVsbCkge1xuICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXNUbXA7XG4gICAgICBjb25zdCBjdHhUbXAgPSB0aGlzLmNhbnZhc1RtcC5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgXG4gICAgICBmb3IobGV0IGogPSAwOyBqIDwgdGhpcy5zbmFrZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgY3R4VG1wLmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhc1RtcC53aWR0aCwgdGhpcy5jYW52YXNUbXAuaGVpZ2h0KTtcblxuICAgICAgICBpZih0aGlzLnNuYWtlc1tqXS5jb2xvciAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBjdHhUbXAuZmlsdGVyID0gXCJodWUtcm90YXRlKFwiICsgdGhpcy5zbmFrZXNbal0uY29sb3IgKyBcImRlZylcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcihsZXQgaSA9IHRoaXMuc25ha2VzW2pdLmxlbmd0aCgpIC0gMTsgKGkgPj0gLTEgJiYgdGhpcy5zbmFrZXNbal0ubGVuZ3RoKCkgPiAxKSB8fCBpID49IDA7IGktLSkgeyAvLyAtMSA9PSB0YWlsXG4gICAgICAgICAgbGV0IHBvc2l0aW9uO1xuXG4gICAgICAgICAgaWYoaSA9PSAtMSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLnNuYWtlc1tqXS5nZXQodGhpcy5zbmFrZXNbal0ubGVuZ3RoKCkgLSAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLnNuYWtlc1tqXS5nZXQoaSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IGNhc2VYID0gMDtcbiAgICAgICAgICBsZXQgY2FzZVkgPSAwO1xuICAgICAgICAgIGxldCBkaXJlY3Rpb24gPSBwb3NpdGlvbi5kaXJlY3Rpb247XG4gICAgICAgICAgbGV0IGFuZ2xlID0gMDtcbiAgICAgICAgICBsZXQgaW1hZ2VMb2MgPSBcIlwiO1xuICAgICAgICAgIGxldCBlcmFzZUJlbG93ID0gdHJ1ZTtcblxuICAgICAgICAgIGlmKGkgPT0gMCkge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gdGhpcy5zbmFrZXNbal0uZ2V0SGVhZFBvc2l0aW9uKCkuZGlyZWN0aW9uO1xuICAgICAgICAgIH0gZWxzZSBpZihpID09IC0xKSB7XG4gICAgICAgICAgICBpZighdGhpcy5kaXNhYmxlQW5pbWF0aW9uICYmICF0aGlzLnNuYWtlc1tqXS5nYW1lT3ZlciAmJiAhdGhpcy5zbmFrZXNbal0uc2NvcmVNYXggJiYgIXRoaXMuZ2FtZUZpbmlzaGVkICYmIHRoaXMuc25ha2VzW2pdLmxhc3RUYWlsTW92ZWQpIHtcbiAgICAgICAgICAgICAgZGlyZWN0aW9uID0gdGhpcy5zbmFrZXNbal0uZ2V0VGFpbFBvc2l0aW9uKCkuZGlyZWN0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGlyZWN0aW9uID0gdGhpcy5zbmFrZXNbal0uZ2V0KHRoaXMuc25ha2VzW2pdLmxlbmd0aCgpIC0gMikuZGlyZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSB0aGlzLnNuYWtlc1tqXS5nZXRHcmFwaGljRGlyZWN0aW9uKGkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEFuaW1hdGlvblxuICAgICAgICAgIGlmKCF0aGlzLmRpc2FibGVBbmltYXRpb24gJiYgKGkgPT0gMCB8fCAoaSA9PSAtMSAmJiB0aGlzLnNuYWtlc1tqXS5sYXN0VGFpbE1vdmVkKSkgJiYgIXRoaXMuc25ha2VzW2pdLnNjb3JlTWF4ICYmICgoIXRoaXMuZ2FtZUZpbmlzaGVkICYmICF0aGlzLmdhbWVPdmVyKSB8fCB0aGlzLnNuYWtlc1tqXS5nYW1lT3ZlcikgJiYgKCF0aGlzLnNuYWtlc1tqXS5nYW1lT3ZlciB8fCAodGhpcy5zbmFrZXNbal0uZ2FtZU92ZXIgJiYgdGhpcy50aWNrcyA8IHRoaXMuc25ha2VzW2pdLnRpY2tzRGVhZCArIDIpKSkge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMub2Zmc2V0RnJhbWUgLyAodGhpcy5zcGVlZCAqIEdhbWVDb25zdGFudHMuU2V0dGluZy5USU1FX01VTFRJUExJRVIpOyAvLyBQZXJjZW50YWdlIG9mIHRoZSBhbmltYXRpb25cblxuICAgICAgICAgICAgaWYodGhpcy5zbmFrZXNbal0uZ2FtZU92ZXIgJiYgdGhpcy5zbmFrZXNbal0udGlja3NEZWFkKSB7XG4gICAgICAgICAgICAgIGlmKHRoaXMudGlja3MgPD0gdGhpcy5zbmFrZXNbal0udGlja3NEZWFkKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gMSAtIG9mZnNldDsgLy8gRGVhZCBhbmltYXRpb25cbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBFYXNpbmdGdW5jdGlvbnMuZWFzZUluQ3ViaWMob2Zmc2V0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBFYXNpbmdGdW5jdGlvbnMuZWFzZU91dEJvdW5jZShvZmZzZXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9mZnNldCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG9mZnNldCkpO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IChjYXNlV2lkdGggKiBvZmZzZXQpIC0gY2FzZVdpZHRoO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IChjYXNlSGVpZ2h0ICogb2Zmc2V0KSAtIGNhc2VIZWlnaHQ7XG5cbiAgICAgICAgICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIGxldCBncmFwaGljRGlyZWN0aW9uO1xuXG4gICAgICAgICAgICBpZihpID09IDApIHtcbiAgICAgICAgICAgICAgaWYodGhpcy5zbmFrZXNbal0ubGVuZ3RoKCkgPiAxKSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhpY0RpcmVjdGlvbiA9IHRoaXMuc25ha2VzW2pdLmdldEdyYXBoaWNEaXJlY3Rpb24oMSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JhcGhpY0RpcmVjdGlvbiA9IHRoaXMuc25ha2VzW2pdLmdldEdyYXBoaWNEaXJlY3Rpb24oMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZihpID09IC0xKSB7XG4gICAgICAgICAgICAgIGdyYXBoaWNEaXJlY3Rpb24gPSB0aGlzLnNuYWtlc1tqXS5nZXRHcmFwaGljRGlyZWN0aW9uRm9yKHRoaXMuc25ha2VzW2pdLmdldFRhaWxQb3NpdGlvbigpLCB0aGlzLnNuYWtlc1tqXS5sYXN0VGFpbCwgdGhpcy5zbmFrZXNbal0uZ2V0KHRoaXMuc25ha2VzW2pdLmxlbmd0aCgpIC0gMikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihpID09IC0xICYmIHRoaXMuc25ha2VzW2pdLmxlbmd0aCgpID4gMSkge1xuICAgICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gPSB0aGlzLnNuYWtlc1tqXS5nZXQodGhpcy5zbmFrZXNbal0ubGVuZ3RoKCkgLSAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoKGkgPT0gMCB8fCBpID09IC0xKSAmJiAoZ3JhcGhpY0RpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV8xIHx8IGdyYXBoaWNEaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMiB8fCBncmFwaGljRGlyZWN0aW9uID09IEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkFOR0xFXzMgfHwgZ3JhcGhpY0RpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV80KSkge1xuICAgICAgICAgICAgICBpZihpID09IDApIHtcbiAgICAgICAgICAgICAgICBhbmdsZSA9IC05MDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmKGkgPT0gMCkge1xuICAgICAgICAgICAgICAgIGFuZ2xlICs9IC0xMjguMDczICogTWF0aC5wb3cob2Zmc2V0LCAyKSArIDIyMi4zMzIgKiBvZmZzZXQgLSA1LjQ3MDY2OyAvLyBJbnRlcnBvbGF0ZWQgcm90YXRpb24gYW5pbWF0aW9uXG4gICAgICAgICAgICAgIH0gZWxzZSBpZihpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgKz0gMTI2Ljg5NiAqIE1hdGgucG93KG9mZnNldCwgMikgKyAtMzMuNjQ3MSAqIG9mZnNldCArIDEuNjU5NDI7IC8vIEludGVycG9sYXRlZCByb3RhdGlvbiBhbmltYXRpb24gdGFpbFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYoaSA9PSAwICYmICgoZ3JhcGhpY0RpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV80ICYmIGRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUCkgfHwgKGdyYXBoaWNEaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMSAmJiBkaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVCkgfHwgKGdyYXBoaWNEaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMiAmJiBkaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKSB8fCAoZ3JhcGhpY0RpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV8zICYmIGRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCkpKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAtYW5nbGU7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZihpID09IC0xICYmICgoZ3JhcGhpY0RpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV80ICYmIGRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVCkgfHwgKGdyYXBoaWNEaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMyAmJiBkaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQk9UVE9NKSB8fCAoZ3JhcGhpY0RpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV8xICYmIGRpcmVjdGlvbiA9PSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUCkgfHwgKGdyYXBoaWNEaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMiAmJiBkaXJlY3Rpb24gPT0gR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVCkpKSB7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAtYW5nbGU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBlcmFzZUJlbG93ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaChjdXJyZW50UG9zaXRpb24uZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA6XG4gICAgICAgICAgICAgICAgY2FzZVkgLT0gb2Zmc2V0WTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT006XG4gICAgICAgICAgICAgICAgY2FzZVkgKz0gb2Zmc2V0WTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVDpcbiAgICAgICAgICAgICAgICBjYXNlWCArPSBvZmZzZXRYO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQ6XG4gICAgICAgICAgICAgICAgY2FzZVggLT0gb2Zmc2V0WDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZihpID09IHRoaXMuc25ha2VzW2pdLmxlbmd0aCgpIC0gMSkge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gdGhpcy5zbmFrZXNbal0uZ2V0R3JhcGhpY0RpcmVjdGlvbkZvcihwb3NpdGlvbiwgdGhpcy5zbmFrZXNbal0uZ2V0KGkgLSAxKSwgdGhpcy5zbmFrZXNbal0ubGFzdFRhaWwpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHBvc1ggPSBwb3NpdGlvbi54O1xuICAgICAgICAgIGNvbnN0IHBvc1kgPSBwb3NpdGlvbi55O1xuICAgICAgICAgIGNhc2VYICs9IE1hdGguZmxvb3IocG9zWCAqIGNhc2VXaWR0aCArICgoY2FudmFzLndpZHRoIC0gdG90YWxXaWR0aCkgLyAyKSk7XG4gICAgICAgICAgY2FzZVkgKz0gdGhpcy5oZWFkZXJIZWlnaHQgKyBwb3NZICogY2FzZUhlaWdodDtcblxuICAgICAgICAgIGlmKGkgPT0gMCkge1xuICAgICAgICAgICAgaWYodGhpcy5zbmFrZXNbal0uZ2FtZU92ZXIgJiYgIXRoaXMuc25ha2VzW2pdLnNjb3JlTWF4KSB7XG4gICAgICAgICAgICAgIHN3aXRjaChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTTpcbiAgICAgICAgICAgICAgICAgIGltYWdlTG9jID0gXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvc25ha2VfZGVhZC5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQ6XG4gICAgICAgICAgICAgICAgICBpbWFnZUxvYyA9IFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL3NuYWtlX2RlYWRfMi5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA6XG4gICAgICAgICAgICAgICAgICBpbWFnZUxvYyA9IFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL3NuYWtlX2RlYWRfMy5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVDpcbiAgICAgICAgICAgICAgICAgIGltYWdlTG9jID0gXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvc25ha2VfZGVhZF80LnBuZ1wiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN3aXRjaChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTTpcbiAgICAgICAgICAgICAgICAgIGltYWdlTG9jID0gXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvc25ha2UucG5nXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLlJJR0hUOlxuICAgICAgICAgICAgICAgICAgaW1hZ2VMb2MgPSBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9zbmFrZV8yLnBuZ1wiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5VUDpcbiAgICAgICAgICAgICAgICAgIGltYWdlTG9jID0gXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvc25ha2VfMy5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVDpcbiAgICAgICAgICAgICAgICAgIGltYWdlTG9jID0gXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvc25ha2VfNC5wbmdcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmKGkgPT0gLTEpIHtcbiAgICAgICAgICAgIHN3aXRjaChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT006XG4gICAgICAgICAgICAgICAgaW1hZ2VMb2MgPSBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9ib2R5X2VuZC5wbmdcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVDpcbiAgICAgICAgICAgICAgICBpbWFnZUxvYyA9IFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL2JvZHlfMl9lbmQucG5nXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA6XG4gICAgICAgICAgICAgICAgaW1hZ2VMb2MgPSBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9ib2R5XzNfZW5kLnBuZ1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQ6XG4gICAgICAgICAgICAgICAgaW1hZ2VMb2MgPSBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9ib2R5XzRfZW5kLnBuZ1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2goZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA6XG4gICAgICAgICAgICAgICAgaW1hZ2VMb2MgPSBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9ib2R5LnBuZ1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkJPVFRPTTpcbiAgICAgICAgICAgICAgICBpbWFnZUxvYyA9IFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL2JvZHkucG5nXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uUklHSFQ6XG4gICAgICAgICAgICAgICAgaW1hZ2VMb2MgPSBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9ib2R5XzIucG5nXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uTEVGVDpcbiAgICAgICAgICAgICAgICBpbWFnZUxvYyA9IFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL2JvZHlfMi5wbmdcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV8xOlxuICAgICAgICAgICAgICAgIGltYWdlTG9jID0gXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvYm9keV9hbmdsZV8xLnBuZ1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkFOR0xFXzI6XG4gICAgICAgICAgICAgICAgaW1hZ2VMb2MgPSBcImFzc2V0cy9pbWFnZXMvc2tpbi9cIiArIHRoaXMuZ3JhcGhpY1NraW4gKyBcIi9ib2R5X2FuZ2xlXzIucG5nXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uQU5HTEVfMzpcbiAgICAgICAgICAgICAgICBpbWFnZUxvYyA9IFwiYXNzZXRzL2ltYWdlcy9za2luL1wiICsgdGhpcy5ncmFwaGljU2tpbiArIFwiL2JvZHlfYW5nbGVfMy5wbmdcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5BTkdMRV80OlxuICAgICAgICAgICAgICAgIGltYWdlTG9jID0gXCJhc3NldHMvaW1hZ2VzL3NraW4vXCIgKyB0aGlzLmdyYXBoaWNTa2luICsgXCIvYm9keV9hbmdsZV80LnBuZ1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIFV0aWxzLmRyYXdJbWFnZShjdHhUbXAsIHRoaXMuaW1hZ2VMb2FkZXIuZ2V0KGltYWdlTG9jLCBNYXRoLnJvdW5kKGNhc2VXaWR0aCksIE1hdGgucm91bmQoY2FzZUhlaWdodCkpLCBNYXRoLnJvdW5kKGNhc2VYKSwgTWF0aC5yb3VuZChjYXNlWSksIE1hdGgucm91bmQoY2FzZVdpZHRoKSwgTWF0aC5yb3VuZChjYXNlSGVpZ2h0KSwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgZXJhc2VCZWxvdywgTWF0aC5yb3VuZChhbmdsZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgVXRpbHMuZHJhd0ltYWdlRGF0YShjdHgsIHRoaXMuY2FudmFzVG1wLCBNYXRoLnJvdW5kKChjYW52YXMud2lkdGggLSB0b3RhbFdpZHRoKSAvIDIpLCB0aGlzLmhlYWRlckhlaWdodCwgdG90YWxXaWR0aCwgTWF0aC5yb3VuZChjYXNlSGVpZ2h0ICogdGhpcy5ncmlkLmhlaWdodCksIE1hdGguZmxvb3IoKGNhbnZhcy53aWR0aCAtIHRvdGFsV2lkdGgpIC8gMiksIHRoaXMuaGVhZGVySGVpZ2h0LCB0b3RhbFdpZHRoLCBNYXRoLnJvdW5kKGNhc2VIZWlnaHQgKiB0aGlzLmdyaWQuaGVpZ2h0KSk7XG4gICAgICAgIGN0eFRtcC5maWx0ZXIgPSBcIm5vbmVcIjtcbiAgICAgIH1cblxuICAgICAgaWYodGhpcy5zbmFrZXMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aGlzLmRyYXdTbmFrZUluZm9zKGN0eCwgdG90YWxXaWR0aCwgY2FzZVdpZHRoLCBjYXNlSGVpZ2h0LCBjdXJyZW50UGxheWVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkcmF3U25ha2VJbmZvcyhjdHgsIHRvdGFsV2lkdGgsIGNhc2VXaWR0aCwgY2FzZUhlaWdodCwgY3VycmVudFBsYXllcikge1xuICAgIGxldCBudW1QbGF5ZXIgPSAwO1xuICAgIGxldCBudW1BSSA9IDA7XG5cbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5zbmFrZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKHRoaXMuc25ha2VzW2ldLnBsYXllciA9PSBHYW1lQ29uc3RhbnRzLlBsYXllclR5cGUuSFVNQU4gfHwgdGhpcy5zbmFrZXNbaV0ucGxheWVyID09IEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IWUJSSURfSFVNQU5fQUkpIHtcbiAgICAgICAgbnVtUGxheWVyKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1BSSsrO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuc25ha2VzW2ldLmdldCgwKTtcblxuICAgICAgaWYocG9zaXRpb24gIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBwb3NYID0gcG9zaXRpb24ueDtcbiAgICAgICAgY29uc3QgcG9zWSA9IHBvc2l0aW9uLnk7XG4gICAgICAgIGxldCBjYXNlWCA9IE1hdGguZmxvb3IocG9zWCAqIGNhc2VXaWR0aCArICgodGhpcy5jYW52YXNUbXAud2lkdGggLSB0b3RhbFdpZHRoKSAvIDIpKTtcbiAgICAgICAgbGV0IGNhc2VZID0gdGhpcy5oZWFkZXJIZWlnaHQgKyBwb3NZICogY2FzZUhlaWdodDtcbiAgICBcbiAgICAgICAgaWYoIXRoaXMuZGlzYWJsZUFuaW1hdGlvbiAmJiAhdGhpcy5zbmFrZXNbaV0uZ2FtZU92ZXIgJiYgIXRoaXMuZ2FtZUZpbmlzaGVkICYmICF0aGlzLmdhbWVPdmVyKSB7XG4gICAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMub2Zmc2V0RnJhbWUgLyAodGhpcy5zcGVlZCAqIEdhbWVDb25zdGFudHMuU2V0dGluZy5USU1FX01VTFRJUExJRVIpO1xuICAgICAgICAgIG9mZnNldCA9IChvZmZzZXQgPiAxID8gMSA6IG9mZnNldCk7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IChjYXNlV2lkdGggKiBvZmZzZXQpIC0gY2FzZVdpZHRoO1xuICAgICAgICAgIGNvbnN0IG9mZnNldFkgPSAoY2FzZUhlaWdodCAqIG9mZnNldCkgLSBjYXNlSGVpZ2h0O1xuICAgIFxuICAgICAgICAgIHN3aXRjaChwb3NpdGlvbi5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgR2FtZUNvbnN0YW50cy5EaXJlY3Rpb24uVVA6XG4gICAgICAgICAgICAgIGNhc2VZIC09IG9mZnNldFk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5CT1RUT006XG4gICAgICAgICAgICAgIGNhc2VZICs9IG9mZnNldFk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBHYW1lQ29uc3RhbnRzLkRpcmVjdGlvbi5SSUdIVDpcbiAgICAgICAgICAgICAgY2FzZVggKz0gb2Zmc2V0WDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEdhbWVDb25zdGFudHMuRGlyZWN0aW9uLkxFRlQ6XG4gICAgICAgICAgICAgIGNhc2VYIC09IG9mZnNldFg7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIFxuICAgICAgICBVdGlscy5kcmF3VGV4dChjdHgsICgodGhpcy5zbmFrZXNbaV0ucGxheWVyID09IEdhbWVDb25zdGFudHMuUGxheWVyVHlwZS5IVU1BTiB8fCB0aGlzLnNuYWtlc1tpXS5wbGF5ZXIgPT0gR2FtZUNvbnN0YW50cy5QbGF5ZXJUeXBlLkhZQlJJRF9IVU1BTl9BSSkgPyBpMThuZXh0LnQoXCJlbmdpbmUucGxheWVyTWluXCIpICsgbnVtUGxheWVyIDogaTE4bmV4dC50KFwiZW5naW5lLmFpTWluXCIpICsgbnVtQUkpICsgXCJcXG7DlyBcIiArIHRoaXMuc25ha2VzW2ldLnNjb3JlLCBcInJnYigyNTUsIDI1NSwgMjU1KVwiLCBNYXRoLnJvdW5kKGNhc2VIZWlnaHQgLyAyKSwgR2FtZUNvbnN0YW50cy5TZXR0aW5nLkZPTlRfRkFNSUxZLCBudWxsLCBudWxsLCBjYXNlWCwgY2FzZVkgLSBNYXRoLnJvdW5kKGNhc2VIZWlnaHQgLyAxLjc1KSwgZmFsc2UsIHRydWUpO1xuICAgIFxuICAgICAgICBpZighdGhpcy5zcGVjdGF0b3JNb2RlICYmIChjdXJyZW50UGxheWVyID09IGkgJiYgdGhpcy5jb3VudEJlZm9yZVBsYXkgPj0gMCAmJiAoY3VycmVudFBsYXllciAhPSBudWxsIHx8ICh0aGlzLmlzRmlsdGVySHVlQXZhaWxhYmxlICYmIHRoaXMuc25ha2VzLmxlbmd0aCA+IDIpIHx8ICghdGhpcy5pc0ZpbHRlckh1ZUF2YWlsYWJsZSAmJiB0aGlzLnNuYWtlcy5sZW5ndGggPiAxKSkpKSB7XG4gICAgICAgICAgVXRpbHMuZHJhd0Fycm93KGN0eCwgTWF0aC5yb3VuZChjYXNlWCArIChjYXNlV2lkdGggLyAyKSksIE1hdGgucm91bmQoY2FzZVkgLSBjYXNlSGVpZ2h0ICogMiksIE1hdGgucm91bmQoY2FzZVggKyAoY2FzZVdpZHRoIC8gMikpLCBNYXRoLnJvdW5kKGNhc2VZIC0gNSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0KHNuYWtlcywgZ3JpZCwgc3BlZWQsIG9mZnNldEZyYW1lLCBoZWFkZXJIZWlnaHQsIGltYWdlTG9hZGVyLCBjdXJyZW50UGxheWVyLCBnYW1lRmluaXNoZWQsIGNvdW50QmVmb3JlUGxheSwgc3BlY3RhdG9yTW9kZSwgdGlja3MsIGdhbWVPdmVyKSB7XG4gICAgdGhpcy5zbmFrZXMgPSBzbmFrZXM7XG4gICAgdGhpcy5ncmlkID0gZ3JpZDtcbiAgICB0aGlzLnNwZWVkID0gc3BlZWQ7XG4gICAgdGhpcy5oZWFkZXJIZWlnaHQgPSBoZWFkZXJIZWlnaHQ7XG4gICAgdGhpcy5pbWFnZUxvYWRlciA9IGltYWdlTG9hZGVyO1xuICAgIHRoaXMuY3VycmVudFBsYXllciA9IGN1cnJlbnRQbGF5ZXI7XG4gICAgdGhpcy5nYW1lRmluaXNoZWQgPSBnYW1lRmluaXNoZWQ7XG4gICAgdGhpcy5vZmZzZXRGcmFtZSA9IG9mZnNldEZyYW1lO1xuICAgIHRoaXMuY291bnRCZWZvcmVQbGF5ID0gY291bnRCZWZvcmVQbGF5O1xuICAgIHRoaXMuc3BlY3RhdG9yTW9kZSA9IHNwZWN0YXRvck1vZGU7XG4gICAgdGhpcy50aWNrcyA9IHRpY2tzO1xuICAgIHRoaXMuZ2FtZU92ZXIgPSBnYW1lT3ZlcjtcbiAgfVxufSIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTktMjAyMCBFbGlhc3RpayAoZWxpYXN0aWtzb2Z0cy5jb20pXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgXCJTbmFrZUlBXCIuXG4gKlxuICogXCJTbmFrZUlBXCIgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFwiU25ha2VJQVwiIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBcIlNuYWtlSUFcIi4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuaW1wb3J0IHsgUm93LCBVdGlscywgU3R5bGUsIEltYWdlQ29udGFpbmVyLCBMYWJlbCB9IGZyb20gXCJqc2dhbWV0b29sc1wiO1xuaW1wb3J0IEdhbWVDb25zdGFudHMgZnJvbSBcIi4uL2VuZ2luZS9Db25zdGFudHNcIjtcbmltcG9ydCBpMThuZXh0IGZyb20gXCJpMThuZXh0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYWRlciBleHRlbmRzIFJvdyB7XG4gIGNvbnN0cnVjdG9yKGhlaWdodCwgYmFja2dyb3VuZENvbG9yLCBzbmFrZXMsIGVuYWJsZVBhdXNlLCBidG5GdWxsU2NyZWVuLCBidG5QYXVzZSwgYnRuUmFuaywgZ2FtZVJhbmtpbmcsIGJlc3RTY29yZVRvRGlzcGxheSwgbnVtRnJ1aXQsIGltYWdlTG9hZGVyKSB7XG4gICAgc3VwZXIoMCwgMCwgbnVsbCwgbnVsbCwgbmV3IFN0eWxlKHsgXCJiYWNrZ3JvdW5kQ29sb3JcIjogYmFja2dyb3VuZENvbG9yIHx8IFwiIzI3QUU2MFwiIH0pKTtcblxuICAgIHRoaXMucm93QnV0dG9ucyA9IG5ldyBSb3cobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbmV3IFN0eWxlKHsgXCJhbGlnbmVtZW50XCI6IFwicmlnaHRcIiwgXCJzcGFjZUJldHdlZW5Db21wb25lbnRzXCI6IDUsIFwidmVydGljYWxBbGlnbmVtZW50XCI6IFwiY2VudGVyXCIgfSkpO1xuICAgIHRoaXMuZnJ1aXRJbWFnZSA9IG5ldyBJbWFnZUNvbnRhaW5lcihcImFzc2V0cy9pbWFnZXMvc2tpbi9mbGF0L2ZydWl0LnBuZ1wiLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBuZXcgU3R5bGUoeyBcImFsaWduZW1lbnRcIjogXCJsZWZ0XCIsIFwidmVydGljYWxBbGlnbmVtZW50XCI6IFwiY2VudGVyXCIgfSksIGltYWdlTG9hZGVyKTtcbiAgICB0aGlzLmxhYmVsU2NvcmUgPSBuZXcgTGFiZWwoXCJcIiwgbnVsbCwgbnVsbCwgbmV3IFN0eWxlKHsgXCJ2ZXJ0aWNhbEFsaWduZW1lbnRcIjogXCJjZW50ZXJcIiB9KSk7XG5cbiAgICB0aGlzLnNldEJ1dHRvbnMoYnRuRnVsbFNjcmVlbiwgYnRuUGF1c2UsIGJ0blJhbmspO1xuICAgIHN1cGVyLmFkZEFsbCh0aGlzLmZydWl0SW1hZ2UsIHRoaXMubGFiZWxTY29yZSwgdGhpcy5yb3dCdXR0b25zKTtcblxuICAgIHRoaXMubWluSGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuc25ha2VzID0gc25ha2VzO1xuICAgIHRoaXMuYnRuRnVsbFNjcmVlbiA9IGJ0bkZ1bGxTY3JlZW47XG4gICAgdGhpcy5idG5QYXVzZSA9IGJ0blBhdXNlO1xuICAgIHRoaXMuYnRuUmFuayA9IGJ0blJhbms7XG4gICAgdGhpcy5lbmFibGVQYXVzZSA9IGVuYWJsZVBhdXNlO1xuICAgIHRoaXMuZ2FtZVJhbmtpbmcgPSBnYW1lUmFua2luZztcbiAgICB0aGlzLmJlc3RTY29yZVRvRGlzcGxheSA9IGJlc3RTY29yZVRvRGlzcGxheTtcbiAgICB0aGlzLm51bUZydWl0ID0gbnVtRnJ1aXQ7XG4gICAgdGhpcy5pbWFnZUxvYWRlciA9IGltYWdlTG9hZGVyO1xuICB9XG5cbiAgZHJhdyhjb250ZXh0KSB7XG4gICAgY29uc3QgY2FudmFzID0gY29udGV4dC5jYW52YXM7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGN0eC5zYXZlKCk7XG5cbiAgICB0aGlzLm1pbldpZHRoID0gY2FudmFzLndpZHRoO1xuXG4gICAgaWYodGhpcy5mcnVpdEltYWdlKSB7XG4gICAgICB0aGlzLmZydWl0SW1hZ2Uud2lkdGggPSB0aGlzLmhlaWdodDtcbiAgICB9XG5cbiAgICBpZih0aGlzLmJ0blBhdXNlKSB7XG4gICAgICB0aGlzLmJ0blBhdXNlLndpZHRoID0gdGhpcy5oZWlnaHQgKiAwLjg1O1xuICAgICAgdGhpcy5idG5QYXVzZS5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIDAuODU7XG4gICAgICB0aGlzLmJ0blBhdXNlLnN0eWxlLnNldChcInZlcnRpY2FsQWxpZ25lbWVudFwiLCBcImNlbnRlclwiKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmJ0bkZ1bGxTY3JlZW4pIHtcbiAgICAgIHRoaXMuYnRuRnVsbFNjcmVlbi53aWR0aCA9IHRoaXMuaGVpZ2h0ICogMC44NTtcbiAgICAgIHRoaXMuYnRuRnVsbFNjcmVlbi5oZWlnaHQgPSB0aGlzLmhlaWdodCAqIDAuODU7XG4gICAgICB0aGlzLmJ0bkZ1bGxTY3JlZW4uc3R5bGUuc2V0KFwidmVydGljYWxBbGlnbmVtZW50XCIsIFwiY2VudGVyXCIpO1xuICAgIH1cblxuICAgIGlmKHRoaXMuYnRuUmFuaykge1xuICAgICAgdGhpcy5idG5SYW5rLndpZHRoID0gdGhpcy5oZWlnaHQgKiAwLjg1O1xuICAgICAgdGhpcy5idG5SYW5rLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogMC44NTtcbiAgICAgIHRoaXMuYnRuUmFuay5zdHlsZS5zZXQoXCJ2ZXJ0aWNhbEFsaWduZW1lbnRcIiwgXCJjZW50ZXJcIik7XG4gICAgfVxuXG4gICAgaWYodGhpcy5nYW1lUmFua2luZyAmJiAodGhpcy5nYW1lUmFua2luZy5jbG9zaW5nIHx8IHRoaXMuZ2FtZVJhbmtpbmcuY2xvc2VkKSkge1xuICAgICAgdGhpcy5idG5SYW5rLnN0eWxlLnNldChcImJhY2tncm91bmRDb2xvclwiLCBcInJnYmEoMCwgMCwgMCwgMClcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYnRuUmFuay5zdHlsZS5zZXQoXCJiYWNrZ3JvdW5kQ29sb3JcIiwgdGhpcy5idG5SYW5rLnN0eWxlLmJhY2tncm91bmRDb2xvckRvd24pO1xuICAgIH1cblxuICAgIHRoaXMuZnJ1aXRJbWFnZS5sb2FkSW1hZ2UodGhpcy5pbWFnZUxvYWRlcik7XG5cbiAgICAvKlV0aWxzLmRyYXdJbWFnZShjdHgsIHRoaXMuaW1hZ2VMb2FkZXIuZ2V0KFwiYXNzZXRzL2ltYWdlcy9za2luL2ZsYXQvZnJ1aXQucG5nXCIsIE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiAwLjg1ICogKHRoaXMuYmVzdFNjb3JlVG9EaXNwbGF5ID8gMC41IDogMSkpLCBNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0ICogMC44NSAqICh0aGlzLmJlc3RTY29yZVRvRGlzcGxheSA/IDAuNSA6IDEpKSksIDUsIDUsIE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiAwLjg1ICogKHRoaXMuYmVzdFNjb3JlVG9EaXNwbGF5ID8gMC41IDogMSkpLCBNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0ICogMC44NSAqICh0aGlzLmJlc3RTY29yZVRvRGlzcGxheSA/IDAuNSA6IDEpKSk7Ki9cblxuICAgIGlmKHRoaXMuc25ha2VzICE9IG51bGwgJiYgdGhpcy5zbmFrZXMubGVuZ3RoID09IDEpIHtcbiAgICAgIHRoaXMubGFiZWxTY29yZS50ZXh0ID0gXCLDlyBcIiArIHRoaXMuc25ha2VzWzBdLnNjb3JlO1xuICAgICAgdGhpcy5sYWJlbFNjb3JlLnN0eWxlLnNldChcImZvbnRTaXplXCIsIE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiAwLjQzICogKHRoaXMuYmVzdFNjb3JlVG9EaXNwbGF5ID8gMC43NSA6IDEpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGFiZWxTY29yZS50ZXh0ID0gaTE4bmV4dC50KFwiZW5naW5lLm51bVwiKSArICh0aGlzLm51bUZydWl0ICE9IG51bGwgPyB0aGlzLm51bUZydWl0IDogXCI/Pz9cIik7XG4gICAgICB0aGlzLmxhYmVsU2NvcmUuc3R5bGUuc2V0KFwiZm9udFNpemVcIiwgTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIDAuNDMgKiAodGhpcy5iZXN0U2NvcmVUb0Rpc3BsYXkgPyAwLjc1IDogMSkpKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLmJlc3RTY29yZVRvRGlzcGxheSkge1xuICAgICAgVXRpbHMuZHJhd0ltYWdlKGN0eCwgdGhpcy5pbWFnZUxvYWRlci5nZXQoXCJhc3NldHMvaW1hZ2VzL3Ryb3BoeS5wbmdcIiwgTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIDAuNDI1KSwgTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIDAuNDI1KSksIDUsIE1hdGgucm91bmQoOCArIHRoaXMuaGVpZ2h0ICogMC40MjUpLCBNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0ICogMC40MjUpLCBNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0ICogMC40MjUpKTtcbiAgICAgIFV0aWxzLmRyYXdUZXh0KGN0eCwgdGhpcy5iZXN0U2NvcmVUb0Rpc3BsYXksIFwiYmxhY2tcIiwgTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIDAuNDMgKiAodGhpcy5iZXN0U2NvcmVUb0Rpc3BsYXkgPyAwLjc1IDogMSkpLCBHYW1lQ29uc3RhbnRzLlNldHRpbmcuRk9OVF9GQU1JTFksIFwiZGVmYXVsdFwiLCBcImRlZmF1bHRcIiwgTWF0aC5yb3VuZCh0aGlzLmhlaWdodCAqIDAuOSAqICh0aGlzLmJlc3RTY29yZVRvRGlzcGxheSA/IDAuNTggOiAxKSksIE1hdGgucm91bmQodGhpcy5oZWlnaHQgKiAwLjQyNSArIHRoaXMuaGVpZ2h0ICogMC42NyAqICh0aGlzLmJlc3RTY29yZVRvRGlzcGxheSA/IDAuNjMgOiAxKSkpO1xuICAgIH1cblxuICAgIHN1cGVyLmRyYXcoY29udGV4dCk7XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIHNldChzbmFrZXMsIGltYWdlTG9hZGVyLCBiZXN0U2NvcmVUb0Rpc3BsYXksIGhlaWdodCwgbnVtRnJ1aXQsIGVuYWJsZVBhdXNlKSB7XG4gICAgdGhpcy5lbmFibGVQYXVzZSA9IGVuYWJsZVBhdXNlO1xuICAgIHRoaXMuc25ha2VzID0gc25ha2VzO1xuICAgIHRoaXMuaW1hZ2VMb2FkZXIgPSBpbWFnZUxvYWRlcjtcbiAgICB0aGlzLmJlc3RTY29yZVRvRGlzcGxheSA9IGJlc3RTY29yZVRvRGlzcGxheTtcbiAgICB0aGlzLm1pbkhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLm51bUZydWl0ID0gbnVtRnJ1aXQ7XG4gIH1cblxuICBzZXRCdXR0b25zKGJ0bkZ1bGxTY3JlZW4sIGJ0blBhdXNlLCBidG5SYW5rKSB7XG4gICAgdGhpcy5yb3dCdXR0b25zLmNsZWFyKCk7XG4gICAgdGhpcy5idG5GdWxsU2NyZWVuID0gYnRuRnVsbFNjcmVlbjtcbiAgICB0aGlzLmJ0blBhdXNlID0gYnRuUGF1c2U7XG4gICAgdGhpcy5idG5SYW5rID0gYnRuUmFuaztcbiAgICBcbiAgICBpZihidG5SYW5rKSB0aGlzLnJvd0J1dHRvbnMuYWRkKGJ0blJhbmspO1xuICAgIGlmKGJ0blBhdXNlKSB0aGlzLnJvd0J1dHRvbnMuYWRkKGJ0blBhdXNlKTtcbiAgICBpZihidG5GdWxsU2NyZWVuKSB0aGlzLnJvd0J1dHRvbnMuYWRkKGJ0bkZ1bGxTY3JlZW4pO1xuICB9XG5cbiAgc2V0IG1pbkhlaWdodChtaW5IZWlnaHQpIHtcbiAgICBzdXBlci5taW5IZWlnaHQgPSBtaW5IZWlnaHQ7XG4gICAgc3VwZXIubWF4SGVpZ2h0ID0gbWluSGVpZ2h0O1xuICB9XG5cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5taW5IZWlnaHQgfHwgdGhpcy5tYXhIZWlnaHQgfHwgc3VwZXIuaGVpZ2h0IHx8IDA7XG4gIH1cbn0iLCIvKiAoaWdub3JlZCkgKi8iLCIvKiAoaWdub3JlZCkgKi8iXSwic291cmNlUm9vdCI6IiJ9